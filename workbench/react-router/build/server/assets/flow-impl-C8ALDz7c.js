import { w as workflowEntrypoint } from "./server-build-CffYREgn.js";
import "react/jsx-runtime";
import "node:stream";
import "@react-router/node";
import "react-router";
import "isbot";
import "react-dom/server";
import "node:fs/promises";
import "node:util";
import "node:child_process";
import "zod";
import "zod/v4";
import "tty";
import "util";
import "os";
import "node:module";
import "node:path";
import "node:timers/promises";
import "events";
import "node:crypto";
import "node:assert";
import "node:net";
import "node:http";
import "node:buffer";
import "node:querystring";
import "node:events";
import "node:diagnostics_channel";
import "node:tls";
import "node:zlib";
import "node:perf_hooks";
import "node:util/types";
import "node:url";
import "node:async_hooks";
import "node:console";
import "string_decoder";
import "node:worker_threads";
import "node:fs";
import "node:os";
import "node:vm";
import "react";
const workflowCode = `var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name16 in all)
    __defProp(target, name16, { get: all[name16], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// ../../node_modules/.pnpm/lodash.chunk@4.2.0/node_modules/lodash.chunk/index.js
var require_lodash = __commonJS({
  "../../node_modules/.pnpm/lodash.chunk@4.2.0/node_modules/lodash.chunk/index.js"(exports, module2) {
    var INFINITY = 1 / 0;
    var MAX_SAFE_INTEGER = 9007199254740991;
    var MAX_INTEGER = 17976931348623157e292;
    var NAN = 0 / 0;
    var funcTag = "[object Function]";
    var genTag = "[object GeneratorFunction]";
    var symbolTag = "[object Symbol]";
    var reTrim = /^\\s+|\\s+$/g;
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
    var reIsBinary = /^0b[01]+$/i;
    var reIsOctal = /^0o[0-7]+$/i;
    var reIsUint = /^(?:0|[1-9]\\d*)$/;
    var freeParseInt = parseInt;
    var objectProto = Object.prototype;
    var objectToString = objectProto.toString;
    var nativeCeil = Math.ceil;
    var nativeMax = Math.max;
    function baseSlice(array2, start, end) {
      var index = -1, length = array2.length;
      if (start < 0) {
        start = -start > length ? 0 : length + start;
      }
      end = end > length ? length : end;
      if (end < 0) {
        end += length;
      }
      length = start > end ? 0 : end - start >>> 0;
      start >>>= 0;
      var result = Array(length);
      while (++index < length) {
        result[index] = array2[index + start];
      }
      return result;
    }
    __name(baseSlice, "baseSlice");
    function isIndex(value, length) {
      length = length == null ? MAX_SAFE_INTEGER : length;
      return !!length && (typeof value == "number" || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;
    }
    __name(isIndex, "isIndex");
    function isIterateeCall(value, index, object3) {
      if (!isObject2(object3)) {
        return false;
      }
      var type = typeof index;
      if (type == "number" ? isArrayLike(object3) && isIndex(index, object3.length) : type == "string" && index in object3) {
        return eq(object3[index], value);
      }
      return false;
    }
    __name(isIterateeCall, "isIterateeCall");
    function chunk2(array2, size, guard) {
      if (guard ? isIterateeCall(array2, size, guard) : size === void 0) {
        size = 1;
      } else {
        size = nativeMax(toInteger(size), 0);
      }
      var length = array2 ? array2.length : 0;
      if (!length || size < 1) {
        return [];
      }
      var index = 0, resIndex = 0, result = Array(nativeCeil(length / size));
      while (index < length) {
        result[resIndex++] = baseSlice(array2, index, index += size);
      }
      return result;
    }
    __name(chunk2, "chunk");
    function eq(value, other) {
      return value === other || value !== value && other !== other;
    }
    __name(eq, "eq");
    function isArrayLike(value) {
      return value != null && isLength(value.length) && !isFunction(value);
    }
    __name(isArrayLike, "isArrayLike");
    function isFunction(value) {
      var tag = isObject2(value) ? objectToString.call(value) : "";
      return tag == funcTag || tag == genTag;
    }
    __name(isFunction, "isFunction");
    function isLength(value) {
      return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    }
    __name(isLength, "isLength");
    function isObject2(value) {
      var type = typeof value;
      return !!value && (type == "object" || type == "function");
    }
    __name(isObject2, "isObject");
    function isObjectLike(value) {
      return !!value && typeof value == "object";
    }
    __name(isObjectLike, "isObjectLike");
    function isSymbol(value) {
      return typeof value == "symbol" || isObjectLike(value) && objectToString.call(value) == symbolTag;
    }
    __name(isSymbol, "isSymbol");
    function toFinite(value) {
      if (!value) {
        return value === 0 ? value : 0;
      }
      value = toNumber(value);
      if (value === INFINITY || value === -INFINITY) {
        var sign = value < 0 ? -1 : 1;
        return sign * MAX_INTEGER;
      }
      return value === value ? value : 0;
    }
    __name(toFinite, "toFinite");
    function toInteger(value) {
      var result = toFinite(value), remainder = result % 1;
      return result === result ? remainder ? result - remainder : result : 0;
    }
    __name(toInteger, "toInteger");
    function toNumber(value) {
      if (typeof value == "number") {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject2(value)) {
        var other = typeof value.valueOf == "function" ? value.valueOf() : value;
        value = isObject2(other) ? other + "" : other;
      }
      if (typeof value != "string") {
        return value === 0 ? value : +value;
      }
      value = value.replace(reTrim, "");
      var isBinary = reIsBinary.test(value);
      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
    }
    __name(toNumber, "toNumber");
    module2.exports = chunk2;
  }
});

// ../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js
var require_ms = __commonJS({
  "../../node_modules/.pnpm/ms@2.1.3/node_modules/ms/index.js"(exports, module2) {
    var s = 1e3;
    var m = s * 60;
    var h = m * 60;
    var d = h * 24;
    var w = d * 7;
    var y = d * 365.25;
    module2.exports = function(val, options) {
      options = options || {};
      var type = typeof val;
      if (type === "string" && val.length > 0) {
        return parse3(val);
      } else if (type === "number" && isFinite(val)) {
        return options.long ? fmtLong(val) : fmtShort(val);
      }
      throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(val));
    };
    function parse3(str) {
      str = String(str);
      if (str.length > 100) {
        return;
      }
      var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);
      if (!match) {
        return;
      }
      var n = parseFloat(match[1]);
      var type = (match[2] || "ms").toLowerCase();
      switch (type) {
        case "years":
        case "year":
        case "yrs":
        case "yr":
        case "y":
          return n * y;
        case "weeks":
        case "week":
        case "w":
          return n * w;
        case "days":
        case "day":
        case "d":
          return n * d;
        case "hours":
        case "hour":
        case "hrs":
        case "hr":
        case "h":
          return n * h;
        case "minutes":
        case "minute":
        case "mins":
        case "min":
        case "m":
          return n * m;
        case "seconds":
        case "second":
        case "secs":
        case "sec":
        case "s":
          return n * s;
        case "milliseconds":
        case "millisecond":
        case "msecs":
        case "msec":
        case "ms":
          return n;
        default:
          return void 0;
      }
    }
    __name(parse3, "parse");
    function fmtShort(ms2) {
      var msAbs = Math.abs(ms2);
      if (msAbs >= d) {
        return Math.round(ms2 / d) + "d";
      }
      if (msAbs >= h) {
        return Math.round(ms2 / h) + "h";
      }
      if (msAbs >= m) {
        return Math.round(ms2 / m) + "m";
      }
      if (msAbs >= s) {
        return Math.round(ms2 / s) + "s";
      }
      return ms2 + "ms";
    }
    __name(fmtShort, "fmtShort");
    function fmtLong(ms2) {
      var msAbs = Math.abs(ms2);
      if (msAbs >= d) {
        return plural(ms2, msAbs, d, "day");
      }
      if (msAbs >= h) {
        return plural(ms2, msAbs, h, "hour");
      }
      if (msAbs >= m) {
        return plural(ms2, msAbs, m, "minute");
      }
      if (msAbs >= s) {
        return plural(ms2, msAbs, s, "second");
      }
      return ms2 + " ms";
    }
    __name(fmtLong, "fmtLong");
    function plural(ms2, msAbs, n, name16) {
      var isPlural = msAbs >= n * 1.5;
      return Math.round(ms2 / n) + " " + name16 + (isPlural ? "s" : "");
    }
    __name(plural, "plural");
  }
});

// ../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/get-context.js
var require_get_context = __commonJS({
  "../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/get-context.js"(exports, module2) {
    "use strict";
    var __defProp3 = Object.defineProperty;
    var __getOwnPropDesc2 = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames2 = Object.getOwnPropertyNames;
    var __hasOwnProp2 = Object.prototype.hasOwnProperty;
    var __export3 = /* @__PURE__ */ __name((target, all) => {
      for (var name16 in all) __defProp3(target, name16, {
        get: all[name16],
        enumerable: true
      });
    }, "__export");
    var __copyProps2 = /* @__PURE__ */ __name((to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames2(from)) if (!__hasOwnProp2.call(to, key) && key !== except) __defProp3(to, key, {
          get: /* @__PURE__ */ __name(() => from[key], "get"),
          enumerable: !(desc = __getOwnPropDesc2(from, key)) || desc.enumerable
        });
      }
      return to;
    }, "__copyProps");
    var __toCommonJS = /* @__PURE__ */ __name((mod) => __copyProps2(__defProp3({}, "__esModule", {
      value: true
    }), mod), "__toCommonJS");
    var get_context_exports = {};
    __export3(get_context_exports, {
      SYMBOL_FOR_REQ_CONTEXT: /* @__PURE__ */ __name(() => SYMBOL_FOR_REQ_CONTEXT, "SYMBOL_FOR_REQ_CONTEXT"),
      getContext: /* @__PURE__ */ __name(() => getContext3, "getContext")
    });
    module2.exports = __toCommonJS(get_context_exports);
    var SYMBOL_FOR_REQ_CONTEXT = Symbol.for("@vercel/request-context");
    function getContext3() {
      const fromSymbol = globalThis;
      return fromSymbol[SYMBOL_FOR_REQ_CONTEXT]?.get?.() ?? {};
    }
    __name(getContext3, "getContext");
  }
});

// ../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/index-browser.js
var require_index_browser = __commonJS({
  "../../node_modules/.pnpm/@vercel+oidc@3.0.5/node_modules/@vercel/oidc/dist/index-browser.js"(exports, module2) {
    "use strict";
    var __defProp3 = Object.defineProperty;
    var __getOwnPropDesc2 = Object.getOwnPropertyDescriptor;
    var __getOwnPropNames2 = Object.getOwnPropertyNames;
    var __hasOwnProp2 = Object.prototype.hasOwnProperty;
    var __export3 = /* @__PURE__ */ __name((target, all) => {
      for (var name16 in all) __defProp3(target, name16, {
        get: all[name16],
        enumerable: true
      });
    }, "__export");
    var __copyProps2 = /* @__PURE__ */ __name((to, from, except, desc) => {
      if (from && typeof from === "object" || typeof from === "function") {
        for (let key of __getOwnPropNames2(from)) if (!__hasOwnProp2.call(to, key) && key !== except) __defProp3(to, key, {
          get: /* @__PURE__ */ __name(() => from[key], "get"),
          enumerable: !(desc = __getOwnPropDesc2(from, key)) || desc.enumerable
        });
      }
      return to;
    }, "__copyProps");
    var __toCommonJS = /* @__PURE__ */ __name((mod) => __copyProps2(__defProp3({}, "__esModule", {
      value: true
    }), mod), "__toCommonJS");
    var index_browser_exports = {};
    __export3(index_browser_exports, {
      getContext: /* @__PURE__ */ __name(() => import_get_context.getContext, "getContext"),
      getVercelOidcToken: /* @__PURE__ */ __name(() => getVercelOidcToken2, "getVercelOidcToken"),
      getVercelOidcTokenSync: /* @__PURE__ */ __name(() => getVercelOidcTokenSync, "getVercelOidcTokenSync")
    });
    module2.exports = __toCommonJS(index_browser_exports);
    var import_get_context = require_get_context();
    async function getVercelOidcToken2() {
      return "";
    }
    __name(getVercelOidcToken2, "getVercelOidcToken");
    function getVercelOidcTokenSync() {
      return "";
    }
    __name(getVercelOidcTokenSync, "getVercelOidcTokenSync");
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/platform/node/globalThis.js
var require_globalThis = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/platform/node/globalThis.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports._globalThis = void 0;
    exports._globalThis = typeof globalThis === "object" ? globalThis : global;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/platform/node/index.js
var require_node = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/platform/node/index.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      Object.defineProperty(o, k2, {
        enumerable: true,
        get: /* @__PURE__ */ __name(function() {
          return m[k];
        }, "get")
      });
    } : function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports1) {
      for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports1, p)) __createBinding(exports1, m, p);
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    __exportStar(require_globalThis(), exports);
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/platform/index.js
var require_platform = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/platform/index.js"(exports) {
    "use strict";
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      Object.defineProperty(o, k2, {
        enumerable: true,
        get: /* @__PURE__ */ __name(function() {
          return m[k];
        }, "get")
      });
    } : function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports1) {
      for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports1, p)) __createBinding(exports1, m, p);
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    __exportStar(require_node(), exports);
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/version.js
var require_version = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/version.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.VERSION = void 0;
    exports.VERSION = "1.9.0";
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/internal/semver.js
var require_semver = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/internal/semver.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.isCompatible = exports._makeCompatibilityCheck = void 0;
    var version_1 = require_version();
    var re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;
    function _makeCompatibilityCheck(ownVersion) {
      const acceptedVersions = /* @__PURE__ */ new Set([
        ownVersion
      ]);
      const rejectedVersions = /* @__PURE__ */ new Set();
      const myVersionMatch = ownVersion.match(re);
      if (!myVersionMatch) {
        return () => false;
      }
      const ownVersionParsed = {
        major: +myVersionMatch[1],
        minor: +myVersionMatch[2],
        patch: +myVersionMatch[3],
        prerelease: myVersionMatch[4]
      };
      if (ownVersionParsed.prerelease != null) {
        return /* @__PURE__ */ __name(function isExactmatch(globalVersion) {
          return globalVersion === ownVersion;
        }, "isExactmatch");
      }
      function _reject(v) {
        rejectedVersions.add(v);
        return false;
      }
      __name(_reject, "_reject");
      function _accept(v) {
        acceptedVersions.add(v);
        return true;
      }
      __name(_accept, "_accept");
      return /* @__PURE__ */ __name(function isCompatible(globalVersion) {
        if (acceptedVersions.has(globalVersion)) {
          return true;
        }
        if (rejectedVersions.has(globalVersion)) {
          return false;
        }
        const globalVersionMatch = globalVersion.match(re);
        if (!globalVersionMatch) {
          return _reject(globalVersion);
        }
        const globalVersionParsed = {
          major: +globalVersionMatch[1],
          minor: +globalVersionMatch[2],
          patch: +globalVersionMatch[3],
          prerelease: globalVersionMatch[4]
        };
        if (globalVersionParsed.prerelease != null) {
          return _reject(globalVersion);
        }
        if (ownVersionParsed.major !== globalVersionParsed.major) {
          return _reject(globalVersion);
        }
        if (ownVersionParsed.major === 0) {
          if (ownVersionParsed.minor === globalVersionParsed.minor && ownVersionParsed.patch <= globalVersionParsed.patch) {
            return _accept(globalVersion);
          }
          return _reject(globalVersion);
        }
        if (ownVersionParsed.minor <= globalVersionParsed.minor) {
          return _accept(globalVersion);
        }
        return _reject(globalVersion);
      }, "isCompatible");
    }
    __name(_makeCompatibilityCheck, "_makeCompatibilityCheck");
    exports._makeCompatibilityCheck = _makeCompatibilityCheck;
    exports.isCompatible = _makeCompatibilityCheck(version_1.VERSION);
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/internal/global-utils.js
var require_global_utils = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/internal/global-utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.unregisterGlobal = exports.getGlobal = exports.registerGlobal = void 0;
    var platform_1 = require_platform();
    var version_1 = require_version();
    var semver_1 = require_semver();
    var major = version_1.VERSION.split(".")[0];
    var GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\`opentelemetry.js.api.\${major}\`);
    var _global = platform_1._globalThis;
    function registerGlobal(type, instance, diag, allowOverride = false) {
      var _a17;
      const api = _global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a17 !== void 0 ? _a17 : {
        version: version_1.VERSION
      };
      if (!allowOverride && api[type]) {
        const err = new Error(\`@opentelemetry/api: Attempted duplicate registration of API: \${type}\`);
        diag.error(err.stack || err.message);
        return false;
      }
      if (api.version !== version_1.VERSION) {
        const err = new Error(\`@opentelemetry/api: Registration of version v\${api.version} for \${type} does not match previously registered API v\${version_1.VERSION}\`);
        diag.error(err.stack || err.message);
        return false;
      }
      api[type] = instance;
      diag.debug(\`@opentelemetry/api: Registered a global for \${type} v\${version_1.VERSION}.\`);
      return true;
    }
    __name(registerGlobal, "registerGlobal");
    exports.registerGlobal = registerGlobal;
    function getGlobal(type) {
      var _a17, _b8;
      const globalVersion = (_a17 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a17 === void 0 ? void 0 : _a17.version;
      if (!globalVersion || !(0, semver_1.isCompatible)(globalVersion)) {
        return;
      }
      return (_b8 = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b8 === void 0 ? void 0 : _b8[type];
    }
    __name(getGlobal, "getGlobal");
    exports.getGlobal = getGlobal;
    function unregisterGlobal(type, diag) {
      diag.debug(\`@opentelemetry/api: Unregistering a global for \${type} v\${version_1.VERSION}.\`);
      const api = _global[GLOBAL_OPENTELEMETRY_API_KEY];
      if (api) {
        delete api[type];
      }
    }
    __name(unregisterGlobal, "unregisterGlobal");
    exports.unregisterGlobal = unregisterGlobal;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/ComponentLogger.js
var require_ComponentLogger = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/ComponentLogger.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.DiagComponentLogger = void 0;
    var global_utils_1 = require_global_utils();
    var DiagComponentLogger = class {
      static {
        __name(this, "DiagComponentLogger");
      }
      constructor(props) {
        this._namespace = props.namespace || "DiagComponentLogger";
      }
      debug(...args) {
        return logProxy("debug", this._namespace, args);
      }
      error(...args) {
        return logProxy("error", this._namespace, args);
      }
      info(...args) {
        return logProxy("info", this._namespace, args);
      }
      warn(...args) {
        return logProxy("warn", this._namespace, args);
      }
      verbose(...args) {
        return logProxy("verbose", this._namespace, args);
      }
    };
    exports.DiagComponentLogger = DiagComponentLogger;
    function logProxy(funcName, namespace, args) {
      const logger = (0, global_utils_1.getGlobal)("diag");
      if (!logger) {
        return;
      }
      args.unshift(namespace);
      return logger[funcName](...args);
    }
    __name(logProxy, "logProxy");
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/types.js
var require_types = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/types.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.DiagLogLevel = void 0;
    var DiagLogLevel;
    (function(DiagLogLevel2) {
      DiagLogLevel2[DiagLogLevel2["NONE"] = 0] = "NONE";
      DiagLogLevel2[DiagLogLevel2["ERROR"] = 30] = "ERROR";
      DiagLogLevel2[DiagLogLevel2["WARN"] = 50] = "WARN";
      DiagLogLevel2[DiagLogLevel2["INFO"] = 60] = "INFO";
      DiagLogLevel2[DiagLogLevel2["DEBUG"] = 70] = "DEBUG";
      DiagLogLevel2[DiagLogLevel2["VERBOSE"] = 80] = "VERBOSE";
      DiagLogLevel2[DiagLogLevel2["ALL"] = 9999] = "ALL";
    })(DiagLogLevel = exports.DiagLogLevel || (exports.DiagLogLevel = {}));
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/internal/logLevelLogger.js
var require_logLevelLogger = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/internal/logLevelLogger.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.createLogLevelDiagLogger = void 0;
    var types_1 = require_types();
    function createLogLevelDiagLogger(maxLevel, logger) {
      if (maxLevel < types_1.DiagLogLevel.NONE) {
        maxLevel = types_1.DiagLogLevel.NONE;
      } else if (maxLevel > types_1.DiagLogLevel.ALL) {
        maxLevel = types_1.DiagLogLevel.ALL;
      }
      logger = logger || {};
      function _filterFunc(funcName, theLevel) {
        const theFunc = logger[funcName];
        if (typeof theFunc === "function" && maxLevel >= theLevel) {
          return theFunc.bind(logger);
        }
        return function() {
        };
      }
      __name(_filterFunc, "_filterFunc");
      return {
        error: _filterFunc("error", types_1.DiagLogLevel.ERROR),
        warn: _filterFunc("warn", types_1.DiagLogLevel.WARN),
        info: _filterFunc("info", types_1.DiagLogLevel.INFO),
        debug: _filterFunc("debug", types_1.DiagLogLevel.DEBUG),
        verbose: _filterFunc("verbose", types_1.DiagLogLevel.VERBOSE)
      };
    }
    __name(createLogLevelDiagLogger, "createLogLevelDiagLogger");
    exports.createLogLevelDiagLogger = createLogLevelDiagLogger;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/diag.js
var require_diag = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/diag.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.DiagAPI = void 0;
    var ComponentLogger_1 = require_ComponentLogger();
    var logLevelLogger_1 = require_logLevelLogger();
    var types_1 = require_types();
    var global_utils_1 = require_global_utils();
    var API_NAME = "diag";
    var DiagAPI = class _DiagAPI {
      static {
        __name(this, "DiagAPI");
      }
      /**
       * Private internal constructor
       * @private
       */
      constructor() {
        function _logProxy(funcName) {
          return function(...args) {
            const logger = (0, global_utils_1.getGlobal)("diag");
            if (!logger) return;
            return logger[funcName](...args);
          };
        }
        __name(_logProxy, "_logProxy");
        const self = this;
        const setLogger = /* @__PURE__ */ __name((logger, optionsOrLogLevel = {
          logLevel: types_1.DiagLogLevel.INFO
        }) => {
          var _a17, _b8, _c;
          if (logger === self) {
            const err = new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");
            self.error((_a17 = err.stack) !== null && _a17 !== void 0 ? _a17 : err.message);
            return false;
          }
          if (typeof optionsOrLogLevel === "number") {
            optionsOrLogLevel = {
              logLevel: optionsOrLogLevel
            };
          }
          const oldLogger = (0, global_utils_1.getGlobal)("diag");
          const newLogger = (0, logLevelLogger_1.createLogLevelDiagLogger)((_b8 = optionsOrLogLevel.logLevel) !== null && _b8 !== void 0 ? _b8 : types_1.DiagLogLevel.INFO, logger);
          if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {
            const stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : "<failed to generate stacktrace>";
            oldLogger.warn(\`Current logger will be overwritten from \${stack}\`);
            newLogger.warn(\`Current logger will overwrite one already registered from \${stack}\`);
          }
          return (0, global_utils_1.registerGlobal)("diag", newLogger, self, true);
        }, "setLogger");
        self.setLogger = setLogger;
        self.disable = () => {
          (0, global_utils_1.unregisterGlobal)(API_NAME, self);
        };
        self.createComponentLogger = (options) => {
          return new ComponentLogger_1.DiagComponentLogger(options);
        };
        self.verbose = _logProxy("verbose");
        self.debug = _logProxy("debug");
        self.info = _logProxy("info");
        self.warn = _logProxy("warn");
        self.error = _logProxy("error");
      }
      /** Get the singleton instance of the DiagAPI API */
      static instance() {
        if (!this._instance) {
          this._instance = new _DiagAPI();
        }
        return this._instance;
      }
    };
    exports.DiagAPI = DiagAPI;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/internal/baggage-impl.js
var require_baggage_impl = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/internal/baggage-impl.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.BaggageImpl = void 0;
    var BaggageImpl = class _BaggageImpl {
      static {
        __name(this, "BaggageImpl");
      }
      constructor(entries) {
        this._entries = entries ? new Map(entries) : /* @__PURE__ */ new Map();
      }
      getEntry(key) {
        const entry = this._entries.get(key);
        if (!entry) {
          return void 0;
        }
        return Object.assign({}, entry);
      }
      getAllEntries() {
        return Array.from(this._entries.entries()).map(([k, v]) => [
          k,
          v
        ]);
      }
      setEntry(key, entry) {
        const newBaggage = new _BaggageImpl(this._entries);
        newBaggage._entries.set(key, entry);
        return newBaggage;
      }
      removeEntry(key) {
        const newBaggage = new _BaggageImpl(this._entries);
        newBaggage._entries.delete(key);
        return newBaggage;
      }
      removeEntries(...keys) {
        const newBaggage = new _BaggageImpl(this._entries);
        for (const key of keys) {
          newBaggage._entries.delete(key);
        }
        return newBaggage;
      }
      clear() {
        return new _BaggageImpl();
      }
    };
    exports.BaggageImpl = BaggageImpl;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/internal/symbol.js
var require_symbol = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/internal/symbol.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.baggageEntryMetadataSymbol = void 0;
    exports.baggageEntryMetadataSymbol = Symbol("BaggageEntryMetadata");
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/utils.js
var require_utils = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.baggageEntryMetadataFromString = exports.createBaggage = void 0;
    var diag_1 = require_diag();
    var baggage_impl_1 = require_baggage_impl();
    var symbol_1 = require_symbol();
    var diag = diag_1.DiagAPI.instance();
    function createBaggage(entries = {}) {
      return new baggage_impl_1.BaggageImpl(new Map(Object.entries(entries)));
    }
    __name(createBaggage, "createBaggage");
    exports.createBaggage = createBaggage;
    function baggageEntryMetadataFromString(str) {
      if (typeof str !== "string") {
        diag.error(\`Cannot create baggage metadata from unknown type: \${typeof str}\`);
        str = "";
      }
      return {
        __TYPE__: symbol_1.baggageEntryMetadataSymbol,
        toString() {
          return str;
        }
      };
    }
    __name(baggageEntryMetadataFromString, "baggageEntryMetadataFromString");
    exports.baggageEntryMetadataFromString = baggageEntryMetadataFromString;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context/context.js
var require_context = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context/context.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ROOT_CONTEXT = exports.createContextKey = void 0;
    function createContextKey(description) {
      return Symbol.for(description);
    }
    __name(createContextKey, "createContextKey");
    exports.createContextKey = createContextKey;
    var BaseContext = class _BaseContext {
      static {
        __name(this, "BaseContext");
      }
      /**
       * Construct a new context which inherits values from an optional parent context.
       *
       * @param parentContext a context from which to inherit values
       */
      constructor(parentContext) {
        const self = this;
        self._currentContext = parentContext ? new Map(parentContext) : /* @__PURE__ */ new Map();
        self.getValue = (key) => self._currentContext.get(key);
        self.setValue = (key, value) => {
          const context = new _BaseContext(self._currentContext);
          context._currentContext.set(key, value);
          return context;
        };
        self.deleteValue = (key) => {
          const context = new _BaseContext(self._currentContext);
          context._currentContext.delete(key);
          return context;
        };
      }
    };
    exports.ROOT_CONTEXT = new BaseContext();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/consoleLogger.js
var require_consoleLogger = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag/consoleLogger.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.DiagConsoleLogger = void 0;
    var consoleMap = [
      {
        n: "error",
        c: "error"
      },
      {
        n: "warn",
        c: "warn"
      },
      {
        n: "info",
        c: "info"
      },
      {
        n: "debug",
        c: "debug"
      },
      {
        n: "verbose",
        c: "trace"
      }
    ];
    var DiagConsoleLogger = class {
      static {
        __name(this, "DiagConsoleLogger");
      }
      constructor() {
        function _consoleFunc(funcName) {
          return function(...args) {
            if (console) {
              let theFunc = console[funcName];
              if (typeof theFunc !== "function") {
                theFunc = console.log;
              }
              if (typeof theFunc === "function") {
                return theFunc.apply(console, args);
              }
            }
          };
        }
        __name(_consoleFunc, "_consoleFunc");
        for (let i = 0; i < consoleMap.length; i++) {
          this[consoleMap[i].n] = _consoleFunc(consoleMap[i].c);
        }
      }
    };
    exports.DiagConsoleLogger = DiagConsoleLogger;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics/NoopMeter.js
var require_NoopMeter = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics/NoopMeter.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.createNoopMeter = exports.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC = exports.NOOP_OBSERVABLE_GAUGE_METRIC = exports.NOOP_OBSERVABLE_COUNTER_METRIC = exports.NOOP_UP_DOWN_COUNTER_METRIC = exports.NOOP_HISTOGRAM_METRIC = exports.NOOP_GAUGE_METRIC = exports.NOOP_COUNTER_METRIC = exports.NOOP_METER = exports.NoopObservableUpDownCounterMetric = exports.NoopObservableGaugeMetric = exports.NoopObservableCounterMetric = exports.NoopObservableMetric = exports.NoopHistogramMetric = exports.NoopGaugeMetric = exports.NoopUpDownCounterMetric = exports.NoopCounterMetric = exports.NoopMetric = exports.NoopMeter = void 0;
    var NoopMeter = class {
      static {
        __name(this, "NoopMeter");
      }
      constructor() {
      }
      /**
       * @see {@link Meter.createGauge}
       */
      createGauge(_name, _options) {
        return exports.NOOP_GAUGE_METRIC;
      }
      /**
       * @see {@link Meter.createHistogram}
       */
      createHistogram(_name, _options) {
        return exports.NOOP_HISTOGRAM_METRIC;
      }
      /**
       * @see {@link Meter.createCounter}
       */
      createCounter(_name, _options) {
        return exports.NOOP_COUNTER_METRIC;
      }
      /**
       * @see {@link Meter.createUpDownCounter}
       */
      createUpDownCounter(_name, _options) {
        return exports.NOOP_UP_DOWN_COUNTER_METRIC;
      }
      /**
       * @see {@link Meter.createObservableGauge}
       */
      createObservableGauge(_name, _options) {
        return exports.NOOP_OBSERVABLE_GAUGE_METRIC;
      }
      /**
       * @see {@link Meter.createObservableCounter}
       */
      createObservableCounter(_name, _options) {
        return exports.NOOP_OBSERVABLE_COUNTER_METRIC;
      }
      /**
       * @see {@link Meter.createObservableUpDownCounter}
       */
      createObservableUpDownCounter(_name, _options) {
        return exports.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC;
      }
      /**
       * @see {@link Meter.addBatchObservableCallback}
       */
      addBatchObservableCallback(_callback, _observables) {
      }
      /**
       * @see {@link Meter.removeBatchObservableCallback}
       */
      removeBatchObservableCallback(_callback) {
      }
    };
    exports.NoopMeter = NoopMeter;
    var NoopMetric = class {
      static {
        __name(this, "NoopMetric");
      }
    };
    exports.NoopMetric = NoopMetric;
    var NoopCounterMetric = class extends NoopMetric {
      static {
        __name(this, "NoopCounterMetric");
      }
      add(_value, _attributes) {
      }
    };
    exports.NoopCounterMetric = NoopCounterMetric;
    var NoopUpDownCounterMetric = class extends NoopMetric {
      static {
        __name(this, "NoopUpDownCounterMetric");
      }
      add(_value, _attributes) {
      }
    };
    exports.NoopUpDownCounterMetric = NoopUpDownCounterMetric;
    var NoopGaugeMetric = class extends NoopMetric {
      static {
        __name(this, "NoopGaugeMetric");
      }
      record(_value, _attributes) {
      }
    };
    exports.NoopGaugeMetric = NoopGaugeMetric;
    var NoopHistogramMetric = class extends NoopMetric {
      static {
        __name(this, "NoopHistogramMetric");
      }
      record(_value, _attributes) {
      }
    };
    exports.NoopHistogramMetric = NoopHistogramMetric;
    var NoopObservableMetric = class {
      static {
        __name(this, "NoopObservableMetric");
      }
      addCallback(_callback) {
      }
      removeCallback(_callback) {
      }
    };
    exports.NoopObservableMetric = NoopObservableMetric;
    var NoopObservableCounterMetric = class extends NoopObservableMetric {
      static {
        __name(this, "NoopObservableCounterMetric");
      }
    };
    exports.NoopObservableCounterMetric = NoopObservableCounterMetric;
    var NoopObservableGaugeMetric = class extends NoopObservableMetric {
      static {
        __name(this, "NoopObservableGaugeMetric");
      }
    };
    exports.NoopObservableGaugeMetric = NoopObservableGaugeMetric;
    var NoopObservableUpDownCounterMetric = class extends NoopObservableMetric {
      static {
        __name(this, "NoopObservableUpDownCounterMetric");
      }
    };
    exports.NoopObservableUpDownCounterMetric = NoopObservableUpDownCounterMetric;
    exports.NOOP_METER = new NoopMeter();
    exports.NOOP_COUNTER_METRIC = new NoopCounterMetric();
    exports.NOOP_GAUGE_METRIC = new NoopGaugeMetric();
    exports.NOOP_HISTOGRAM_METRIC = new NoopHistogramMetric();
    exports.NOOP_UP_DOWN_COUNTER_METRIC = new NoopUpDownCounterMetric();
    exports.NOOP_OBSERVABLE_COUNTER_METRIC = new NoopObservableCounterMetric();
    exports.NOOP_OBSERVABLE_GAUGE_METRIC = new NoopObservableGaugeMetric();
    exports.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC = new NoopObservableUpDownCounterMetric();
    function createNoopMeter() {
      return exports.NOOP_METER;
    }
    __name(createNoopMeter, "createNoopMeter");
    exports.createNoopMeter = createNoopMeter;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics/Metric.js
var require_Metric = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics/Metric.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ValueType = void 0;
    var ValueType;
    (function(ValueType2) {
      ValueType2[ValueType2["INT"] = 0] = "INT";
      ValueType2[ValueType2["DOUBLE"] = 1] = "DOUBLE";
    })(ValueType = exports.ValueType || (exports.ValueType = {}));
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/propagation/TextMapPropagator.js
var require_TextMapPropagator = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/propagation/TextMapPropagator.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.defaultTextMapSetter = exports.defaultTextMapGetter = void 0;
    exports.defaultTextMapGetter = {
      get(carrier, key) {
        if (carrier == null) {
          return void 0;
        }
        return carrier[key];
      },
      keys(carrier) {
        if (carrier == null) {
          return [];
        }
        return Object.keys(carrier);
      }
    };
    exports.defaultTextMapSetter = {
      set(carrier, key, value) {
        if (carrier == null) {
          return;
        }
        carrier[key] = value;
      }
    };
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js
var require_NoopContextManager = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NoopContextManager = void 0;
    var context_1 = require_context();
    var NoopContextManager = class {
      static {
        __name(this, "NoopContextManager");
      }
      active() {
        return context_1.ROOT_CONTEXT;
      }
      with(_context, fn, thisArg, ...args) {
        return fn.call(thisArg, ...args);
      }
      bind(_context, target) {
        return target;
      }
      enable() {
        return this;
      }
      disable() {
        return this;
      }
    };
    exports.NoopContextManager = NoopContextManager;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/context.js
var require_context2 = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/context.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ContextAPI = void 0;
    var NoopContextManager_1 = require_NoopContextManager();
    var global_utils_1 = require_global_utils();
    var diag_1 = require_diag();
    var API_NAME = "context";
    var NOOP_CONTEXT_MANAGER = new NoopContextManager_1.NoopContextManager();
    var ContextAPI = class _ContextAPI {
      static {
        __name(this, "ContextAPI");
      }
      /** Empty private constructor prevents end users from constructing a new instance of the API */
      constructor() {
      }
      /** Get the singleton instance of the Context API */
      static getInstance() {
        if (!this._instance) {
          this._instance = new _ContextAPI();
        }
        return this._instance;
      }
      /**
       * Set the current context manager.
       *
       * @returns true if the context manager was successfully registered, else false
       */
      setGlobalContextManager(contextManager) {
        return (0, global_utils_1.registerGlobal)(API_NAME, contextManager, diag_1.DiagAPI.instance());
      }
      /**
       * Get the currently active context
       */
      active() {
        return this._getContextManager().active();
      }
      /**
       * Execute a function with an active context
       *
       * @param context context to be active during function execution
       * @param fn function to execute in a context
       * @param thisArg optional receiver to be used for calling fn
       * @param args optional arguments forwarded to fn
       */
      with(context, fn, thisArg, ...args) {
        return this._getContextManager().with(context, fn, thisArg, ...args);
      }
      /**
       * Bind a context to a target function or event emitter
       *
       * @param context context to bind to the event emitter or function. Defaults to the currently active context
       * @param target function or event emitter to bind
       */
      bind(context, target) {
        return this._getContextManager().bind(context, target);
      }
      _getContextManager() {
        return (0, global_utils_1.getGlobal)(API_NAME) || NOOP_CONTEXT_MANAGER;
      }
      /** Disable and remove the global context manager */
      disable() {
        this._getContextManager().disable();
        (0, global_utils_1.unregisterGlobal)(API_NAME, diag_1.DiagAPI.instance());
      }
    };
    exports.ContextAPI = ContextAPI;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/trace_flags.js
var require_trace_flags = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/trace_flags.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TraceFlags = void 0;
    var TraceFlags;
    (function(TraceFlags2) {
      TraceFlags2[TraceFlags2["NONE"] = 0] = "NONE";
      TraceFlags2[TraceFlags2["SAMPLED"] = 1] = "SAMPLED";
    })(TraceFlags = exports.TraceFlags || (exports.TraceFlags = {}));
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/invalid-span-constants.js
var require_invalid_span_constants = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/invalid-span-constants.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.INVALID_SPAN_CONTEXT = exports.INVALID_TRACEID = exports.INVALID_SPANID = void 0;
    var trace_flags_1 = require_trace_flags();
    exports.INVALID_SPANID = "0000000000000000";
    exports.INVALID_TRACEID = "00000000000000000000000000000000";
    exports.INVALID_SPAN_CONTEXT = {
      traceId: exports.INVALID_TRACEID,
      spanId: exports.INVALID_SPANID,
      traceFlags: trace_flags_1.TraceFlags.NONE
    };
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NonRecordingSpan.js
var require_NonRecordingSpan = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NonRecordingSpan.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NonRecordingSpan = void 0;
    var invalid_span_constants_1 = require_invalid_span_constants();
    var NonRecordingSpan = class {
      static {
        __name(this, "NonRecordingSpan");
      }
      constructor(_spanContext = invalid_span_constants_1.INVALID_SPAN_CONTEXT) {
        this._spanContext = _spanContext;
      }
      // Returns a SpanContext.
      spanContext() {
        return this._spanContext;
      }
      // By default does nothing
      setAttribute(_key, _value) {
        return this;
      }
      // By default does nothing
      setAttributes(_attributes) {
        return this;
      }
      // By default does nothing
      addEvent(_name, _attributes) {
        return this;
      }
      addLink(_link) {
        return this;
      }
      addLinks(_links) {
        return this;
      }
      // By default does nothing
      setStatus(_status) {
        return this;
      }
      // By default does nothing
      updateName(_name) {
        return this;
      }
      // By default does nothing
      end(_endTime) {
      }
      // isRecording always returns false for NonRecordingSpan.
      isRecording() {
        return false;
      }
      // By default does nothing
      recordException(_exception, _time) {
      }
    };
    exports.NonRecordingSpan = NonRecordingSpan;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/context-utils.js
var require_context_utils = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/context-utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.getSpanContext = exports.setSpanContext = exports.deleteSpan = exports.setSpan = exports.getActiveSpan = exports.getSpan = void 0;
    var context_1 = require_context();
    var NonRecordingSpan_1 = require_NonRecordingSpan();
    var context_2 = require_context2();
    var SPAN_KEY = (0, context_1.createContextKey)("OpenTelemetry Context Key SPAN");
    function getSpan(context) {
      return context.getValue(SPAN_KEY) || void 0;
    }
    __name(getSpan, "getSpan");
    exports.getSpan = getSpan;
    function getActiveSpan() {
      return getSpan(context_2.ContextAPI.getInstance().active());
    }
    __name(getActiveSpan, "getActiveSpan");
    exports.getActiveSpan = getActiveSpan;
    function setSpan(context, span) {
      return context.setValue(SPAN_KEY, span);
    }
    __name(setSpan, "setSpan");
    exports.setSpan = setSpan;
    function deleteSpan(context) {
      return context.deleteValue(SPAN_KEY);
    }
    __name(deleteSpan, "deleteSpan");
    exports.deleteSpan = deleteSpan;
    function setSpanContext(context, spanContext) {
      return setSpan(context, new NonRecordingSpan_1.NonRecordingSpan(spanContext));
    }
    __name(setSpanContext, "setSpanContext");
    exports.setSpanContext = setSpanContext;
    function getSpanContext(context) {
      var _a17;
      return (_a17 = getSpan(context)) === null || _a17 === void 0 ? void 0 : _a17.spanContext();
    }
    __name(getSpanContext, "getSpanContext");
    exports.getSpanContext = getSpanContext;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/spancontext-utils.js
var require_spancontext_utils = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/spancontext-utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.wrapSpanContext = exports.isSpanContextValid = exports.isValidSpanId = exports.isValidTraceId = void 0;
    var invalid_span_constants_1 = require_invalid_span_constants();
    var NonRecordingSpan_1 = require_NonRecordingSpan();
    var VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;
    var VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;
    function isValidTraceId(traceId) {
      return VALID_TRACEID_REGEX.test(traceId) && traceId !== invalid_span_constants_1.INVALID_TRACEID;
    }
    __name(isValidTraceId, "isValidTraceId");
    exports.isValidTraceId = isValidTraceId;
    function isValidSpanId(spanId) {
      return VALID_SPANID_REGEX.test(spanId) && spanId !== invalid_span_constants_1.INVALID_SPANID;
    }
    __name(isValidSpanId, "isValidSpanId");
    exports.isValidSpanId = isValidSpanId;
    function isSpanContextValid(spanContext) {
      return isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId);
    }
    __name(isSpanContextValid, "isSpanContextValid");
    exports.isSpanContextValid = isSpanContextValid;
    function wrapSpanContext(spanContext) {
      return new NonRecordingSpan_1.NonRecordingSpan(spanContext);
    }
    __name(wrapSpanContext, "wrapSpanContext");
    exports.wrapSpanContext = wrapSpanContext;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js
var require_NoopTracer = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NoopTracer = void 0;
    var context_1 = require_context2();
    var context_utils_1 = require_context_utils();
    var NonRecordingSpan_1 = require_NonRecordingSpan();
    var spancontext_utils_1 = require_spancontext_utils();
    var contextApi = context_1.ContextAPI.getInstance();
    var NoopTracer = class {
      static {
        __name(this, "NoopTracer");
      }
      // startSpan starts a noop span.
      startSpan(name16, options, context = contextApi.active()) {
        const root = Boolean(options === null || options === void 0 ? void 0 : options.root);
        if (root) {
          return new NonRecordingSpan_1.NonRecordingSpan();
        }
        const parentFromContext = context && (0, context_utils_1.getSpanContext)(context);
        if (isSpanContext(parentFromContext) && (0, spancontext_utils_1.isSpanContextValid)(parentFromContext)) {
          return new NonRecordingSpan_1.NonRecordingSpan(parentFromContext);
        } else {
          return new NonRecordingSpan_1.NonRecordingSpan();
        }
      }
      startActiveSpan(name16, arg2, arg3, arg4) {
        let opts;
        let ctx;
        let fn;
        if (arguments.length < 2) {
          return;
        } else if (arguments.length === 2) {
          fn = arg2;
        } else if (arguments.length === 3) {
          opts = arg2;
          fn = arg3;
        } else {
          opts = arg2;
          ctx = arg3;
          fn = arg4;
        }
        const parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();
        const span = this.startSpan(name16, opts, parentContext);
        const contextWithSpanSet = (0, context_utils_1.setSpan)(parentContext, span);
        return contextApi.with(contextWithSpanSet, fn, void 0, span);
      }
    };
    exports.NoopTracer = NoopTracer;
    function isSpanContext(spanContext) {
      return typeof spanContext === "object" && typeof spanContext["spanId"] === "string" && typeof spanContext["traceId"] === "string" && typeof spanContext["traceFlags"] === "number";
    }
    __name(isSpanContext, "isSpanContext");
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js
var require_ProxyTracer = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ProxyTracer = void 0;
    var NoopTracer_1 = require_NoopTracer();
    var NOOP_TRACER = new NoopTracer_1.NoopTracer();
    var ProxyTracer = class {
      static {
        __name(this, "ProxyTracer");
      }
      constructor(_provider, name16, version2, options) {
        this._provider = _provider;
        this.name = name16;
        this.version = version2;
        this.options = options;
      }
      startSpan(name16, options, context) {
        return this._getTracer().startSpan(name16, options, context);
      }
      startActiveSpan(_name, _options, _context, _fn) {
        const tracer = this._getTracer();
        return Reflect.apply(tracer.startActiveSpan, tracer, arguments);
      }
      /**
       * Try to get a tracer from the proxy tracer provider.
       * If the proxy tracer provider has no delegate, return a noop tracer.
       */
      _getTracer() {
        if (this._delegate) {
          return this._delegate;
        }
        const tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);
        if (!tracer) {
          return NOOP_TRACER;
        }
        this._delegate = tracer;
        return this._delegate;
      }
    };
    exports.ProxyTracer = ProxyTracer;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NoopTracerProvider.js
var require_NoopTracerProvider = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NoopTracerProvider.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NoopTracerProvider = void 0;
    var NoopTracer_1 = require_NoopTracer();
    var NoopTracerProvider = class {
      static {
        __name(this, "NoopTracerProvider");
      }
      getTracer(_name, _version, _options) {
        return new NoopTracer_1.NoopTracer();
      }
    };
    exports.NoopTracerProvider = NoopTracerProvider;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/ProxyTracerProvider.js
var require_ProxyTracerProvider = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/ProxyTracerProvider.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.ProxyTracerProvider = void 0;
    var ProxyTracer_1 = require_ProxyTracer();
    var NoopTracerProvider_1 = require_NoopTracerProvider();
    var NOOP_TRACER_PROVIDER = new NoopTracerProvider_1.NoopTracerProvider();
    var ProxyTracerProvider = class {
      static {
        __name(this, "ProxyTracerProvider");
      }
      /**
       * Get a {@link ProxyTracer}
       */
      getTracer(name16, version2, options) {
        var _a17;
        return (_a17 = this.getDelegateTracer(name16, version2, options)) !== null && _a17 !== void 0 ? _a17 : new ProxyTracer_1.ProxyTracer(this, name16, version2, options);
      }
      getDelegate() {
        var _a17;
        return (_a17 = this._delegate) !== null && _a17 !== void 0 ? _a17 : NOOP_TRACER_PROVIDER;
      }
      /**
       * Set the delegate tracer provider
       */
      setDelegate(delegate) {
        this._delegate = delegate;
      }
      getDelegateTracer(name16, version2, options) {
        var _a17;
        return (_a17 = this._delegate) === null || _a17 === void 0 ? void 0 : _a17.getTracer(name16, version2, options);
      }
    };
    exports.ProxyTracerProvider = ProxyTracerProvider;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/SamplingResult.js
var require_SamplingResult = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/SamplingResult.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.SamplingDecision = void 0;
    var SamplingDecision;
    (function(SamplingDecision2) {
      SamplingDecision2[SamplingDecision2["NOT_RECORD"] = 0] = "NOT_RECORD";
      SamplingDecision2[SamplingDecision2["RECORD"] = 1] = "RECORD";
      SamplingDecision2[SamplingDecision2["RECORD_AND_SAMPLED"] = 2] = "RECORD_AND_SAMPLED";
    })(SamplingDecision = exports.SamplingDecision || (exports.SamplingDecision = {}));
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/span_kind.js
var require_span_kind = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/span_kind.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.SpanKind = void 0;
    var SpanKind;
    (function(SpanKind2) {
      SpanKind2[SpanKind2["INTERNAL"] = 0] = "INTERNAL";
      SpanKind2[SpanKind2["SERVER"] = 1] = "SERVER";
      SpanKind2[SpanKind2["CLIENT"] = 2] = "CLIENT";
      SpanKind2[SpanKind2["PRODUCER"] = 3] = "PRODUCER";
      SpanKind2[SpanKind2["CONSUMER"] = 4] = "CONSUMER";
    })(SpanKind = exports.SpanKind || (exports.SpanKind = {}));
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/status.js
var require_status = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/status.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.SpanStatusCode = void 0;
    var SpanStatusCode2;
    (function(SpanStatusCode3) {
      SpanStatusCode3[SpanStatusCode3["UNSET"] = 0] = "UNSET";
      SpanStatusCode3[SpanStatusCode3["OK"] = 1] = "OK";
      SpanStatusCode3[SpanStatusCode3["ERROR"] = 2] = "ERROR";
    })(SpanStatusCode2 = exports.SpanStatusCode || (exports.SpanStatusCode = {}));
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/internal/tracestate-validators.js
var require_tracestate_validators = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/internal/tracestate-validators.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.validateValue = exports.validateKey = void 0;
    var VALID_KEY_CHAR_RANGE = "[_0-9a-z-*/]";
    var VALID_KEY = \`[a-z]\${VALID_KEY_CHAR_RANGE}{0,255}\`;
    var VALID_VENDOR_KEY = \`[a-z0-9]\${VALID_KEY_CHAR_RANGE}{0,240}@[a-z]\${VALID_KEY_CHAR_RANGE}{0,13}\`;
    var VALID_KEY_REGEX = new RegExp(\`^(?:\${VALID_KEY}|\${VALID_VENDOR_KEY})$\`);
    var VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;
    var INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;
    function validateKey(key) {
      return VALID_KEY_REGEX.test(key);
    }
    __name(validateKey, "validateKey");
    exports.validateKey = validateKey;
    function validateValue(value) {
      return VALID_VALUE_BASE_REGEX.test(value) && !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value);
    }
    __name(validateValue, "validateValue");
    exports.validateValue = validateValue;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/internal/tracestate-impl.js
var require_tracestate_impl = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/internal/tracestate-impl.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TraceStateImpl = void 0;
    var tracestate_validators_1 = require_tracestate_validators();
    var MAX_TRACE_STATE_ITEMS = 32;
    var MAX_TRACE_STATE_LEN = 512;
    var LIST_MEMBERS_SEPARATOR = ",";
    var LIST_MEMBER_KEY_VALUE_SPLITTER = "=";
    var TraceStateImpl = class _TraceStateImpl {
      static {
        __name(this, "TraceStateImpl");
      }
      constructor(rawTraceState) {
        this._internalState = /* @__PURE__ */ new Map();
        if (rawTraceState) this._parse(rawTraceState);
      }
      set(key, value) {
        const traceState = this._clone();
        if (traceState._internalState.has(key)) {
          traceState._internalState.delete(key);
        }
        traceState._internalState.set(key, value);
        return traceState;
      }
      unset(key) {
        const traceState = this._clone();
        traceState._internalState.delete(key);
        return traceState;
      }
      get(key) {
        return this._internalState.get(key);
      }
      serialize() {
        return this._keys().reduce((agg, key) => {
          agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + this.get(key));
          return agg;
        }, []).join(LIST_MEMBERS_SEPARATOR);
      }
      _parse(rawTraceState) {
        if (rawTraceState.length > MAX_TRACE_STATE_LEN) return;
        this._internalState = rawTraceState.split(LIST_MEMBERS_SEPARATOR).reverse().reduce((agg, part) => {
          const listMember = part.trim();
          const i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);
          if (i !== -1) {
            const key = listMember.slice(0, i);
            const value = listMember.slice(i + 1, part.length);
            if ((0, tracestate_validators_1.validateKey)(key) && (0, tracestate_validators_1.validateValue)(value)) {
              agg.set(key, value);
            } else {
            }
          }
          return agg;
        }, /* @__PURE__ */ new Map());
        if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {
          this._internalState = new Map(Array.from(this._internalState.entries()).reverse().slice(0, MAX_TRACE_STATE_ITEMS));
        }
      }
      _keys() {
        return Array.from(this._internalState.keys()).reverse();
      }
      _clone() {
        const traceState = new _TraceStateImpl();
        traceState._internalState = new Map(this._internalState);
        return traceState;
      }
    };
    exports.TraceStateImpl = TraceStateImpl;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/internal/utils.js
var require_utils2 = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/internal/utils.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.createTraceState = void 0;
    var tracestate_impl_1 = require_tracestate_impl();
    function createTraceState(rawTraceState) {
      return new tracestate_impl_1.TraceStateImpl(rawTraceState);
    }
    __name(createTraceState, "createTraceState");
    exports.createTraceState = createTraceState;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context-api.js
var require_context_api = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context-api.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.context = void 0;
    var context_1 = require_context2();
    exports.context = context_1.ContextAPI.getInstance();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag-api.js
var require_diag_api = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/diag-api.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.diag = void 0;
    var diag_1 = require_diag();
    exports.diag = diag_1.DiagAPI.instance();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics/NoopMeterProvider.js
var require_NoopMeterProvider = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics/NoopMeterProvider.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NOOP_METER_PROVIDER = exports.NoopMeterProvider = void 0;
    var NoopMeter_1 = require_NoopMeter();
    var NoopMeterProvider = class {
      static {
        __name(this, "NoopMeterProvider");
      }
      getMeter(_name, _version, _options) {
        return NoopMeter_1.NOOP_METER;
      }
    };
    exports.NoopMeterProvider = NoopMeterProvider;
    exports.NOOP_METER_PROVIDER = new NoopMeterProvider();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/metrics.js
var require_metrics = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/metrics.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.MetricsAPI = void 0;
    var NoopMeterProvider_1 = require_NoopMeterProvider();
    var global_utils_1 = require_global_utils();
    var diag_1 = require_diag();
    var API_NAME = "metrics";
    var MetricsAPI = class _MetricsAPI {
      static {
        __name(this, "MetricsAPI");
      }
      /** Empty private constructor prevents end users from constructing a new instance of the API */
      constructor() {
      }
      /** Get the singleton instance of the Metrics API */
      static getInstance() {
        if (!this._instance) {
          this._instance = new _MetricsAPI();
        }
        return this._instance;
      }
      /**
       * Set the current global meter provider.
       * Returns true if the meter provider was successfully registered, else false.
       */
      setGlobalMeterProvider(provider) {
        return (0, global_utils_1.registerGlobal)(API_NAME, provider, diag_1.DiagAPI.instance());
      }
      /**
       * Returns the global meter provider.
       */
      getMeterProvider() {
        return (0, global_utils_1.getGlobal)(API_NAME) || NoopMeterProvider_1.NOOP_METER_PROVIDER;
      }
      /**
       * Returns a meter from the global meter provider.
       */
      getMeter(name16, version2, options) {
        return this.getMeterProvider().getMeter(name16, version2, options);
      }
      /** Remove the global meter provider */
      disable() {
        (0, global_utils_1.unregisterGlobal)(API_NAME, diag_1.DiagAPI.instance());
      }
    };
    exports.MetricsAPI = MetricsAPI;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics-api.js
var require_metrics_api = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/metrics-api.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.metrics = void 0;
    var metrics_1 = require_metrics();
    exports.metrics = metrics_1.MetricsAPI.getInstance();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/propagation/NoopTextMapPropagator.js
var require_NoopTextMapPropagator = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/propagation/NoopTextMapPropagator.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.NoopTextMapPropagator = void 0;
    var NoopTextMapPropagator = class {
      static {
        __name(this, "NoopTextMapPropagator");
      }
      /** Noop inject function does nothing */
      inject(_context, _carrier) {
      }
      /** Noop extract function does nothing and returns the input context */
      extract(context, _carrier) {
        return context;
      }
      fields() {
        return [];
      }
    };
    exports.NoopTextMapPropagator = NoopTextMapPropagator;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/context-helpers.js
var require_context_helpers = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/baggage/context-helpers.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.deleteBaggage = exports.setBaggage = exports.getActiveBaggage = exports.getBaggage = void 0;
    var context_1 = require_context2();
    var context_2 = require_context();
    var BAGGAGE_KEY = (0, context_2.createContextKey)("OpenTelemetry Baggage Key");
    function getBaggage(context) {
      return context.getValue(BAGGAGE_KEY) || void 0;
    }
    __name(getBaggage, "getBaggage");
    exports.getBaggage = getBaggage;
    function getActiveBaggage() {
      return getBaggage(context_1.ContextAPI.getInstance().active());
    }
    __name(getActiveBaggage, "getActiveBaggage");
    exports.getActiveBaggage = getActiveBaggage;
    function setBaggage(context, baggage) {
      return context.setValue(BAGGAGE_KEY, baggage);
    }
    __name(setBaggage, "setBaggage");
    exports.setBaggage = setBaggage;
    function deleteBaggage(context) {
      return context.deleteValue(BAGGAGE_KEY);
    }
    __name(deleteBaggage, "deleteBaggage");
    exports.deleteBaggage = deleteBaggage;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/propagation.js
var require_propagation = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/propagation.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.PropagationAPI = void 0;
    var global_utils_1 = require_global_utils();
    var NoopTextMapPropagator_1 = require_NoopTextMapPropagator();
    var TextMapPropagator_1 = require_TextMapPropagator();
    var context_helpers_1 = require_context_helpers();
    var utils_1 = require_utils();
    var diag_1 = require_diag();
    var API_NAME = "propagation";
    var NOOP_TEXT_MAP_PROPAGATOR = new NoopTextMapPropagator_1.NoopTextMapPropagator();
    var PropagationAPI = class _PropagationAPI {
      static {
        __name(this, "PropagationAPI");
      }
      /** Empty private constructor prevents end users from constructing a new instance of the API */
      constructor() {
        this.createBaggage = utils_1.createBaggage;
        this.getBaggage = context_helpers_1.getBaggage;
        this.getActiveBaggage = context_helpers_1.getActiveBaggage;
        this.setBaggage = context_helpers_1.setBaggage;
        this.deleteBaggage = context_helpers_1.deleteBaggage;
      }
      /** Get the singleton instance of the Propagator API */
      static getInstance() {
        if (!this._instance) {
          this._instance = new _PropagationAPI();
        }
        return this._instance;
      }
      /**
       * Set the current propagator.
       *
       * @returns true if the propagator was successfully registered, else false
       */
      setGlobalPropagator(propagator) {
        return (0, global_utils_1.registerGlobal)(API_NAME, propagator, diag_1.DiagAPI.instance());
      }
      /**
       * Inject context into a carrier to be propagated inter-process
       *
       * @param context Context carrying tracing data to inject
       * @param carrier carrier to inject context into
       * @param setter Function used to set values on the carrier
       */
      inject(context, carrier, setter = TextMapPropagator_1.defaultTextMapSetter) {
        return this._getGlobalPropagator().inject(context, carrier, setter);
      }
      /**
       * Extract context from a carrier
       *
       * @param context Context which the newly created context will inherit from
       * @param carrier Carrier to extract context from
       * @param getter Function used to extract keys from a carrier
       */
      extract(context, carrier, getter = TextMapPropagator_1.defaultTextMapGetter) {
        return this._getGlobalPropagator().extract(context, carrier, getter);
      }
      /**
       * Return a list of all fields which may be used by the propagator.
       */
      fields() {
        return this._getGlobalPropagator().fields();
      }
      /** Remove the global propagator */
      disable() {
        (0, global_utils_1.unregisterGlobal)(API_NAME, diag_1.DiagAPI.instance());
      }
      _getGlobalPropagator() {
        return (0, global_utils_1.getGlobal)(API_NAME) || NOOP_TEXT_MAP_PROPAGATOR;
      }
    };
    exports.PropagationAPI = PropagationAPI;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/propagation-api.js
var require_propagation_api = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/propagation-api.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.propagation = void 0;
    var propagation_1 = require_propagation();
    exports.propagation = propagation_1.PropagationAPI.getInstance();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/trace.js
var require_trace = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/trace.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TraceAPI = void 0;
    var global_utils_1 = require_global_utils();
    var ProxyTracerProvider_1 = require_ProxyTracerProvider();
    var spancontext_utils_1 = require_spancontext_utils();
    var context_utils_1 = require_context_utils();
    var diag_1 = require_diag();
    var API_NAME = "trace";
    var TraceAPI = class _TraceAPI {
      static {
        __name(this, "TraceAPI");
      }
      /** Empty private constructor prevents end users from constructing a new instance of the API */
      constructor() {
        this._proxyTracerProvider = new ProxyTracerProvider_1.ProxyTracerProvider();
        this.wrapSpanContext = spancontext_utils_1.wrapSpanContext;
        this.isSpanContextValid = spancontext_utils_1.isSpanContextValid;
        this.deleteSpan = context_utils_1.deleteSpan;
        this.getSpan = context_utils_1.getSpan;
        this.getActiveSpan = context_utils_1.getActiveSpan;
        this.getSpanContext = context_utils_1.getSpanContext;
        this.setSpan = context_utils_1.setSpan;
        this.setSpanContext = context_utils_1.setSpanContext;
      }
      /** Get the singleton instance of the Trace API */
      static getInstance() {
        if (!this._instance) {
          this._instance = new _TraceAPI();
        }
        return this._instance;
      }
      /**
       * Set the current global tracer.
       *
       * @returns true if the tracer provider was successfully registered, else false
       */
      setGlobalTracerProvider(provider) {
        const success2 = (0, global_utils_1.registerGlobal)(API_NAME, this._proxyTracerProvider, diag_1.DiagAPI.instance());
        if (success2) {
          this._proxyTracerProvider.setDelegate(provider);
        }
        return success2;
      }
      /**
       * Returns the global tracer provider.
       */
      getTracerProvider() {
        return (0, global_utils_1.getGlobal)(API_NAME) || this._proxyTracerProvider;
      }
      /**
       * Returns a tracer from the global tracer provider.
       */
      getTracer(name16, version2) {
        return this.getTracerProvider().getTracer(name16, version2);
      }
      /** Remove the global tracer provider */
      disable() {
        (0, global_utils_1.unregisterGlobal)(API_NAME, diag_1.DiagAPI.instance());
        this._proxyTracerProvider = new ProxyTracerProvider_1.ProxyTracerProvider();
      }
    };
    exports.TraceAPI = TraceAPI;
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace-api.js
var require_trace_api = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace-api.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.trace = void 0;
    var trace_1 = require_trace();
    exports.trace = trace_1.TraceAPI.getInstance();
  }
});

// ../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/index.js
var require_src = __commonJS({
  "../../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.trace = exports.propagation = exports.metrics = exports.diag = exports.context = exports.INVALID_SPAN_CONTEXT = exports.INVALID_TRACEID = exports.INVALID_SPANID = exports.isValidSpanId = exports.isValidTraceId = exports.isSpanContextValid = exports.createTraceState = exports.TraceFlags = exports.SpanStatusCode = exports.SpanKind = exports.SamplingDecision = exports.ProxyTracerProvider = exports.ProxyTracer = exports.defaultTextMapSetter = exports.defaultTextMapGetter = exports.ValueType = exports.createNoopMeter = exports.DiagLogLevel = exports.DiagConsoleLogger = exports.ROOT_CONTEXT = exports.createContextKey = exports.baggageEntryMetadataFromString = void 0;
    var utils_1 = require_utils();
    Object.defineProperty(exports, "baggageEntryMetadataFromString", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return utils_1.baggageEntryMetadataFromString;
      }, "get")
    });
    var context_1 = require_context();
    Object.defineProperty(exports, "createContextKey", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return context_1.createContextKey;
      }, "get")
    });
    Object.defineProperty(exports, "ROOT_CONTEXT", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return context_1.ROOT_CONTEXT;
      }, "get")
    });
    var consoleLogger_1 = require_consoleLogger();
    Object.defineProperty(exports, "DiagConsoleLogger", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return consoleLogger_1.DiagConsoleLogger;
      }, "get")
    });
    var types_1 = require_types();
    Object.defineProperty(exports, "DiagLogLevel", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return types_1.DiagLogLevel;
      }, "get")
    });
    var NoopMeter_1 = require_NoopMeter();
    Object.defineProperty(exports, "createNoopMeter", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return NoopMeter_1.createNoopMeter;
      }, "get")
    });
    var Metric_1 = require_Metric();
    Object.defineProperty(exports, "ValueType", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return Metric_1.ValueType;
      }, "get")
    });
    var TextMapPropagator_1 = require_TextMapPropagator();
    Object.defineProperty(exports, "defaultTextMapGetter", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return TextMapPropagator_1.defaultTextMapGetter;
      }, "get")
    });
    Object.defineProperty(exports, "defaultTextMapSetter", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return TextMapPropagator_1.defaultTextMapSetter;
      }, "get")
    });
    var ProxyTracer_1 = require_ProxyTracer();
    Object.defineProperty(exports, "ProxyTracer", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return ProxyTracer_1.ProxyTracer;
      }, "get")
    });
    var ProxyTracerProvider_1 = require_ProxyTracerProvider();
    Object.defineProperty(exports, "ProxyTracerProvider", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return ProxyTracerProvider_1.ProxyTracerProvider;
      }, "get")
    });
    var SamplingResult_1 = require_SamplingResult();
    Object.defineProperty(exports, "SamplingDecision", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return SamplingResult_1.SamplingDecision;
      }, "get")
    });
    var span_kind_1 = require_span_kind();
    Object.defineProperty(exports, "SpanKind", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return span_kind_1.SpanKind;
      }, "get")
    });
    var status_1 = require_status();
    Object.defineProperty(exports, "SpanStatusCode", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return status_1.SpanStatusCode;
      }, "get")
    });
    var trace_flags_1 = require_trace_flags();
    Object.defineProperty(exports, "TraceFlags", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return trace_flags_1.TraceFlags;
      }, "get")
    });
    var utils_2 = require_utils2();
    Object.defineProperty(exports, "createTraceState", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return utils_2.createTraceState;
      }, "get")
    });
    var spancontext_utils_1 = require_spancontext_utils();
    Object.defineProperty(exports, "isSpanContextValid", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return spancontext_utils_1.isSpanContextValid;
      }, "get")
    });
    Object.defineProperty(exports, "isValidTraceId", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return spancontext_utils_1.isValidTraceId;
      }, "get")
    });
    Object.defineProperty(exports, "isValidSpanId", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return spancontext_utils_1.isValidSpanId;
      }, "get")
    });
    var invalid_span_constants_1 = require_invalid_span_constants();
    Object.defineProperty(exports, "INVALID_SPANID", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return invalid_span_constants_1.INVALID_SPANID;
      }, "get")
    });
    Object.defineProperty(exports, "INVALID_TRACEID", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return invalid_span_constants_1.INVALID_TRACEID;
      }, "get")
    });
    Object.defineProperty(exports, "INVALID_SPAN_CONTEXT", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return invalid_span_constants_1.INVALID_SPAN_CONTEXT;
      }, "get")
    });
    var context_api_1 = require_context_api();
    Object.defineProperty(exports, "context", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return context_api_1.context;
      }, "get")
    });
    var diag_api_1 = require_diag_api();
    Object.defineProperty(exports, "diag", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return diag_api_1.diag;
      }, "get")
    });
    var metrics_api_1 = require_metrics_api();
    Object.defineProperty(exports, "metrics", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return metrics_api_1.metrics;
      }, "get")
    });
    var propagation_api_1 = require_propagation_api();
    Object.defineProperty(exports, "propagation", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return propagation_api_1.propagation;
      }, "get")
    });
    var trace_api_1 = require_trace_api();
    Object.defineProperty(exports, "trace", {
      enumerable: true,
      get: /* @__PURE__ */ __name(function() {
        return trace_api_1.trace;
      }, "get")
    });
    exports.default = {
      context: context_api_1.context,
      diag: diag_api_1.diag,
      metrics: metrics_api_1.metrics,
      propagation: propagation_api_1.propagation,
      trace: trace_api_1.trace
    };
  }
});

// ../example/workflows/2_control_flow.ts
var control_flow_exports = {};
__export(control_flow_exports, {
  control_flow: () => control_flow
});
var delayedMessage = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/2_control_flow.ts//delayedMessage");
var add = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/2_control_flow.ts//add");
var failingStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/2_control_flow.ts//failingStep");
var retryableStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/2_control_flow.ts//retryableStep");
async function control_flow() {
  console.log("Control flow workflow started");
  const raceResult = await Promise.race([
    delayedMessage(2e3, "I won the race!"),
    delayedMessage(1e4, "I lost the race")
  ]);
  console.log("Race result:", raceResult);
  const allResults = await Promise.all([
    delayedMessage(1e3, "First task"),
    delayedMessage(2e3, "Second task"),
    add(10, 20)
  ]);
  console.log("All results:", allResults);
  const backgroundPromise = delayedMessage(5e3, "Background task completed");
  const foregroundResults = await Promise.all([
    delayedMessage(1e3, "First task"),
    delayedMessage(2e3, "Second task")
  ]);
  console.log("Foreground response:", foregroundResults);
  const backgroundResult = await backgroundPromise;
  console.log("Background response:", backgroundResult);
  try {
    await failingStep();
  } catch (error45) {
    console.log("Caught error:", String(error45));
  }
  await retryableStep();
  console.log("Control flow workflow completed. See logs for results.");
  return {
    raceResult,
    allResults,
    foregroundResults,
    backgroundResult
  };
}
__name(control_flow, "control_flow");
control_flow.workflowId = "workflow//example/workflows/2_control_flow.ts//control_flow";

// ../example/workflows/1_simple.ts
var simple_exports = {};
__export(simple_exports, {
  simple: () => simple
});
var add2 = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/1_simple.ts//add");
async function simple(i) {
  console.log("Simple workflow started");
  const a = await add2(i, 7);
  console.log("Workflow step 1 completed - Result:", a);
  const b = await add2(a, 8);
  console.log("Simple workflow completed. Result:", b);
  return b;
}
__name(simple, "simple");
simple.workflowId = "workflow//example/workflows/1_simple.ts//simple";

// ../example/workflows/6_batching.ts
var batching_exports = {};
__export(batching_exports, {
  batchInStep: () => batchInStep,
  batchOverSteps: () => batchOverSteps
});
var import_lodash = __toESM(require_lodash(), 1);
var ARRAY_LENGTH = 250;
var CHUNK_SIZE = 50;
async function batchOverSteps() {
  console.log("Workflow started");
  const arr = Array.from({
    length: ARRAY_LENGTH
  }, (_, i) => i + 1);
  const chunkSize = CHUNK_SIZE;
  console.log(\`Chunking array with size: \${arr.length} and chunk size: \${chunkSize}\`);
  const chunks = (0, import_lodash.default)(arr, chunkSize);
  console.log(\`Created \${chunks.length} chunks (\${chunks[0].length} items each)\`);
  console.log("Starting batch processing");
  for (const [index, batch] of chunks.entries()) {
    console.log(\`Batch \${index + 1}/\${chunks.length}\`);
    await Promise.all(batch.map(logItem));
  }
  console.log("Batch processing completed");
  console.log("Workflow completed");
}
__name(batchOverSteps, "batchOverSteps");
var logItem = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/6_batching.ts//logItem");
async function batchInStep() {
  console.log("Workflow started");
  const arr = Array.from({
    length: ARRAY_LENGTH
  }, (_, i) => i + 1);
  const chunkSize = CHUNK_SIZE;
  console.log(\`Chunking array with size: \${arr.length} and chunk size: \${chunkSize}\`);
  const chunks = (0, import_lodash.default)(arr, chunkSize);
  console.log(\`Created \${chunks.length} chunks (\${chunks[0].length} items each)\`);
  console.log("Starting batch processing");
  for (const [index, batch] of chunks.entries()) {
    console.log(\`Batch \${index + 1}/\${chunks.length}\`);
    await processItems(batch);
  }
  console.log("Batch processing completed");
  console.log("Workflow completed");
}
__name(batchInStep, "batchInStep");
var processItems = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/6_batching.ts//processItems");
batchOverSteps.workflowId = "workflow//example/workflows/6_batching.ts//batchOverSteps";
batchInStep.workflowId = "workflow//example/workflows/6_batching.ts//batchInStep";

// ../example/workflows/7_full.ts
var full_exports = {};
__export(full_exports, {
  handleUserSignup: () => handleUserSignup
});

// ../../packages/utils/dist/index.js
var import_ms = __toESM(require_ms(), 1);

// ../../packages/errors/dist/index.js
function isError(value) {
  return typeof value === "object" && value !== null && "name" in value && "message" in value;
}
__name(isError, "isError");
var FatalError = class extends Error {
  static {
    __name(this, "FatalError");
  }
  fatal = true;
  constructor(message) {
    super(message);
    this.name = "FatalError";
  }
  static is(value) {
    return isError(value) && value.name === "FatalError";
  }
};

// ../../packages/core/dist/symbols.js
var WORKFLOW_USE_STEP = Symbol.for("WORKFLOW_USE_STEP");
var WORKFLOW_CREATE_HOOK = Symbol.for("WORKFLOW_CREATE_HOOK");
var WORKFLOW_SLEEP = Symbol.for("WORKFLOW_SLEEP");
var WORKFLOW_CONTEXT = Symbol.for("WORKFLOW_CONTEXT");
var WORKFLOW_GET_STREAM_ID = Symbol.for("WORKFLOW_GET_STREAM_ID");
var STREAM_NAME_SYMBOL = Symbol.for("WORKFLOW_STREAM_NAME");
var STREAM_TYPE_SYMBOL = Symbol.for("WORKFLOW_STREAM_TYPE");
var BODY_INIT_SYMBOL = Symbol.for("BODY_INIT");
var WEBHOOK_RESPONSE_WRITABLE = Symbol.for("WEBHOOK_RESPONSE_WRITABLE");

// ../../packages/core/dist/workflow/get-workflow-metadata.js
var WORKFLOW_CONTEXT_SYMBOL = /* @__PURE__ */ Symbol.for("WORKFLOW_CONTEXT");
function getWorkflowMetadata() {
  const ctx = globalThis[WORKFLOW_CONTEXT_SYMBOL];
  if (!ctx) {
    throw new Error("\`getWorkflowMetadata()\` can only be called inside a workflow or step function");
  }
  return ctx;
}
__name(getWorkflowMetadata, "getWorkflowMetadata");

// ../../packages/core/dist/workflow/create-hook.js
function createHook(options) {
  const createHookFn = globalThis[WORKFLOW_CREATE_HOOK];
  if (!createHookFn) {
    throw new Error("\`createHook()\` can only be called inside a workflow function");
  }
  return createHookFn(options);
}
__name(createHook, "createHook");
function createWebhook(options) {
  const { respondWith, ...rest } = options ?? {};
  let metadata;
  if (typeof respondWith !== "undefined") {
    metadata = {
      respondWith
    };
  }
  const hook = createHook({
    ...rest,
    metadata
  });
  const { url: url2 } = getWorkflowMetadata();
  hook.url = \`\${url2}/.well-known/workflow/v1/webhook/\${encodeURIComponent(hook.token)}\`;
  return hook;
}
__name(createWebhook, "createWebhook");

// ../../packages/core/dist/sleep.js
async function sleep(param) {
  const sleepFn = globalThis[WORKFLOW_SLEEP];
  if (!sleepFn) {
    throw new Error("\`sleep()\` can only be called inside a workflow function");
  }
  return sleepFn(param);
}
__name(sleep, "sleep");

// ../../packages/core/dist/workflow/writable-stream.js
function getWritable(options = {}) {
  const { namespace } = options;
  const name16 = globalThis[WORKFLOW_GET_STREAM_ID](namespace);
  return Object.create(globalThis.WritableStream.prototype, {
    [STREAM_NAME_SYMBOL]: {
      value: name16,
      writable: false
    }
  });
}
__name(getWritable, "getWritable");

// ../../packages/workflow/dist/stdlib.js
var fetch2 = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//packages/workflow/dist/stdlib.js//fetch");

// ../example/workflows/7_full.ts
async function handleUserSignup(email3) {
  const user = await createUser(email3);
  await sendWelcomeEmail(user);
  await sleep("5s");
  const webhook = createWebhook();
  await sendOnboardingEmail(user, webhook.url);
  await webhook;
  console.log("Webhook Resolved");
  return {
    userId: user.id,
    status: "onboarded"
  };
}
__name(handleUserSignup, "handleUserSignup");
var createUser = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/7_full.ts//createUser");
var sendWelcomeEmail = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/7_full.ts//sendWelcomeEmail");
var sendOnboardingEmail = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/7_full.ts//sendOnboardingEmail");
handleUserSignup.workflowId = "workflow//example/workflows/7_full.ts//handleUserSignup";

// ../example/workflows/3_streams.ts
var streams_exports = {};
__export(streams_exports, {
  consumeStreams: () => consumeStreams,
  genStream: () => genStream,
  streams: () => streams
});
var genStream = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/3_streams.ts//genStream");
var consumeStreams = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/3_streams.ts//consumeStreams");
async function streams() {
  console.log("Streams workflow started");
  const [s1, s2] = await Promise.all([
    genStream(),
    genStream()
  ]);
  const result = await consumeStreams(s1, s2);
  console.log(\`Streams workflow completed. Result: \${result.slice(0, 100)}\`);
  return {
    message: "Streams processed successfully",
    dataLength: result.length,
    preview: result.slice(0, 100)
  };
}
__name(streams, "streams");
streams.workflowId = "workflow//example/workflows/3_streams.ts//streams";

// ../example/workflows/4_ai.ts
var ai_exports = {};
__export(ai_exports, {
  agent: () => agent,
  ai: () => ai
});

// ../../node_modules/.pnpm/@ai-sdk+provider@2.0.0/node_modules/@ai-sdk/provider/dist/index.mjs
var marker = "vercel.ai.error";
var symbol = Symbol.for(marker);
var _a;
var _AISDKError = class _AISDKError2 extends Error {
  static {
    __name(this, "_AISDKError");
  }
  /**
  * Creates an AI SDK Error.
  *
  * @param {Object} params - The parameters for creating the error.
  * @param {string} params.name - The name of the error.
  * @param {string} params.message - The error message.
  * @param {unknown} [params.cause] - The underlying cause of the error.
  */
  constructor({ name: name143, message, cause }) {
    super(message);
    this[_a] = true;
    this.name = name143;
    this.cause = cause;
  }
  /**
  * Checks if the given error is an AI SDK Error.
  * @param {unknown} error - The error to check.
  * @returns {boolean} True if the error is an AI SDK Error, false otherwise.
  */
  static isInstance(error45) {
    return _AISDKError2.hasMarker(error45, marker);
  }
  static hasMarker(error45, marker153) {
    const markerSymbol = Symbol.for(marker153);
    return error45 != null && typeof error45 === "object" && markerSymbol in error45 && typeof error45[markerSymbol] === "boolean" && error45[markerSymbol] === true;
  }
};
_a = symbol;
var AISDKError = _AISDKError;
var name = "AI_APICallError";
var marker2 = \`vercel.ai.error.\${name}\`;
var symbol2 = Symbol.for(marker2);
var _a2;
var APICallError = class extends AISDKError {
  static {
    __name(this, "APICallError");
  }
  constructor({
    message,
    url: url2,
    requestBodyValues,
    statusCode,
    responseHeaders,
    responseBody,
    cause,
    isRetryable = statusCode != null && (statusCode === 408 || // request timeout
    statusCode === 409 || // conflict
    statusCode === 429 || // too many requests
    statusCode >= 500),
    // server error
    data
  }) {
    super({
      name,
      message,
      cause
    });
    this[_a2] = true;
    this.url = url2;
    this.requestBodyValues = requestBodyValues;
    this.statusCode = statusCode;
    this.responseHeaders = responseHeaders;
    this.responseBody = responseBody;
    this.isRetryable = isRetryable;
    this.data = data;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker2);
  }
};
_a2 = symbol2;
var name2 = "AI_EmptyResponseBodyError";
var marker3 = \`vercel.ai.error.\${name2}\`;
var symbol3 = Symbol.for(marker3);
var _a3;
var EmptyResponseBodyError = class extends AISDKError {
  static {
    __name(this, "EmptyResponseBodyError");
  }
  // used in isInstance
  constructor({ message = "Empty response body" } = {}) {
    super({
      name: name2,
      message
    });
    this[_a3] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker3);
  }
};
_a3 = symbol3;
function getErrorMessage(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
__name(getErrorMessage, "getErrorMessage");
var name3 = "AI_InvalidArgumentError";
var marker4 = \`vercel.ai.error.\${name3}\`;
var symbol4 = Symbol.for(marker4);
var _a4;
var InvalidArgumentError = class extends AISDKError {
  static {
    __name(this, "InvalidArgumentError");
  }
  constructor({ message, cause, argument }) {
    super({
      name: name3,
      message,
      cause
    });
    this[_a4] = true;
    this.argument = argument;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker4);
  }
};
_a4 = symbol4;
var name4 = "AI_InvalidPromptError";
var marker5 = \`vercel.ai.error.\${name4}\`;
var symbol5 = Symbol.for(marker5);
var _a5;
var InvalidPromptError = class extends AISDKError {
  static {
    __name(this, "InvalidPromptError");
  }
  constructor({ prompt, message, cause }) {
    super({
      name: name4,
      message: \`Invalid prompt: \${message}\`,
      cause
    });
    this[_a5] = true;
    this.prompt = prompt;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker5);
  }
};
_a5 = symbol5;
var name5 = "AI_InvalidResponseDataError";
var marker6 = \`vercel.ai.error.\${name5}\`;
var symbol6 = Symbol.for(marker6);
var _a6;
_a6 = symbol6;
var name6 = "AI_JSONParseError";
var marker7 = \`vercel.ai.error.\${name6}\`;
var symbol7 = Symbol.for(marker7);
var _a7;
var JSONParseError = class extends AISDKError {
  static {
    __name(this, "JSONParseError");
  }
  constructor({ text: text2, cause }) {
    super({
      name: name6,
      message: \`JSON parsing failed: Text: \${text2}.
Error message: \${getErrorMessage(cause)}\`,
      cause
    });
    this[_a7] = true;
    this.text = text2;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker7);
  }
};
_a7 = symbol7;
var name7 = "AI_LoadAPIKeyError";
var marker8 = \`vercel.ai.error.\${name7}\`;
var symbol8 = Symbol.for(marker8);
var _a8;
_a8 = symbol8;
var name8 = "AI_LoadSettingError";
var marker9 = \`vercel.ai.error.\${name8}\`;
var symbol9 = Symbol.for(marker9);
var _a9;
_a9 = symbol9;
var name9 = "AI_NoContentGeneratedError";
var marker10 = \`vercel.ai.error.\${name9}\`;
var symbol10 = Symbol.for(marker10);
var _a10;
_a10 = symbol10;
var name10 = "AI_NoSuchModelError";
var marker11 = \`vercel.ai.error.\${name10}\`;
var symbol11 = Symbol.for(marker11);
var _a11;
_a11 = symbol11;
var name11 = "AI_TooManyEmbeddingValuesForCallError";
var marker12 = \`vercel.ai.error.\${name11}\`;
var symbol12 = Symbol.for(marker12);
var _a12;
_a12 = symbol12;
var name12 = "AI_TypeValidationError";
var marker13 = \`vercel.ai.error.\${name12}\`;
var symbol13 = Symbol.for(marker13);
var _a13;
var _TypeValidationError = class _TypeValidationError2 extends AISDKError {
  static {
    __name(this, "_TypeValidationError");
  }
  constructor({ value, cause }) {
    super({
      name: name12,
      message: \`Type validation failed: Value: \${JSON.stringify(value)}.
Error message: \${getErrorMessage(cause)}\`,
      cause
    });
    this[_a13] = true;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker13);
  }
  /**
  * Wraps an error into a TypeValidationError.
  * If the cause is already a TypeValidationError with the same value, it returns the cause.
  * Otherwise, it creates a new TypeValidationError.
  *
  * @param {Object} params - The parameters for wrapping the error.
  * @param {unknown} params.value - The value that failed validation.
  * @param {unknown} params.cause - The original error or cause of the validation failure.
  * @returns {TypeValidationError} A TypeValidationError instance.
  */
  static wrap({ value, cause }) {
    return _TypeValidationError2.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError2({
      value,
      cause
    });
  }
};
_a13 = symbol13;
var TypeValidationError = _TypeValidationError;
var name13 = "AI_UnsupportedFunctionalityError";
var marker14 = \`vercel.ai.error.\${name13}\`;
var symbol14 = Symbol.for(marker14);
var _a14;
_a14 = symbol14;

// ../../node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/index.js
var ParseError = class extends Error {
  static {
    __name(this, "ParseError");
  }
  constructor(message, options) {
    super(message), this.name = "ParseError", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;
  }
};
function createParser(callbacks) {
  if (typeof callbacks == "function") throw new TypeError("\`callbacks\` must be an object, got a function instead. Did you mean \`{onEvent: fn}\`?");
  const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;
  let incompleteLine = "", isFirstChunk = true, id, data = "", eventType = "";
  function feed(newChunk) {
    const chunk2 = isFirstChunk ? newChunk.replace(/^\\xEF\\xBB\\xBF/, "") : newChunk, [complete, incomplete] = splitLines(\`\${incompleteLine}\${chunk2}\`);
    for (const line of complete) parseLine(line);
    incompleteLine = incomplete, isFirstChunk = false;
  }
  __name(feed, "feed");
  function parseLine(line) {
    if (line === "") {
      dispatchEvent();
      return;
    }
    if (line.startsWith(":")) {
      onComment && onComment(line.slice(line.startsWith(": ") ? 2 : 1));
      return;
    }
    const fieldSeparatorIndex = line.indexOf(":");
    if (fieldSeparatorIndex !== -1) {
      const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === " " ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);
      processField(field, value, line);
      return;
    }
    processField(line, "", line);
  }
  __name(parseLine, "parseLine");
  function processField(field, value, line) {
    switch (field) {
      case "event":
        eventType = value;
        break;
      case "data":
        data = \`\${data}\${value}
\`;
        break;
      case "id":
        id = value.includes("\\0") ? void 0 : value;
        break;
      case "retry":
        /^\\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(new ParseError(\`Invalid \\\`retry\\\` value: "\${value}"\`, {
          type: "invalid-retry",
          value,
          line
        }));
        break;
      default:
        onError(new ParseError(\`Unknown field "\${field.length > 20 ? \`\${field.slice(0, 20)}\\u2026\` : field}"\`, {
          type: "unknown-field",
          field,
          value,
          line
        }));
        break;
    }
  }
  __name(processField, "processField");
  function dispatchEvent() {
    data.length > 0 && onEvent({
      id,
      event: eventType || void 0,
      // If the data buffer's last character is a U+000A LINE FEED (LF) character,
      // then remove the last character from the data buffer.
      data: data.endsWith(\`
\`) ? data.slice(0, -1) : data
    }), id = void 0, data = "", eventType = "";
  }
  __name(dispatchEvent, "dispatchEvent");
  function reset(options = {}) {
    incompleteLine && options.consume && parseLine(incompleteLine), isFirstChunk = true, id = void 0, data = "", eventType = "", incompleteLine = "";
  }
  __name(reset, "reset");
  return {
    feed,
    reset
  };
}
__name(createParser, "createParser");
function splitLines(chunk2) {
  const lines = [];
  let incompleteLine = "", searchIndex = 0;
  for (; searchIndex < chunk2.length; ) {
    const crIndex = chunk2.indexOf("\\r", searchIndex), lfIndex = chunk2.indexOf(\`
\`, searchIndex);
    let lineEnd = -1;
    if (crIndex !== -1 && lfIndex !== -1 ? lineEnd = Math.min(crIndex, lfIndex) : crIndex !== -1 ? crIndex === chunk2.length - 1 ? lineEnd = -1 : lineEnd = crIndex : lfIndex !== -1 && (lineEnd = lfIndex), lineEnd === -1) {
      incompleteLine = chunk2.slice(searchIndex);
      break;
    } else {
      const line = chunk2.slice(searchIndex, lineEnd);
      lines.push(line), searchIndex = lineEnd + 1, chunk2[searchIndex - 1] === "\\r" && chunk2[searchIndex] === \`
\` && searchIndex++;
    }
  }
  return [
    lines,
    incompleteLine
  ];
}
__name(splitLines, "splitLines");

// ../../node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/stream.js
var EventSourceParserStream = class extends TransformStream {
  static {
    __name(this, "EventSourceParserStream");
  }
  constructor({ onError, onRetry, onComment } = {}) {
    let parser;
    super({
      start(controller) {
        parser = createParser({
          onEvent: /* @__PURE__ */ __name((event) => {
            controller.enqueue(event);
          }, "onEvent"),
          onError(error45) {
            onError === "terminate" ? controller.error(error45) : typeof onError == "function" && onError(error45);
          },
          onRetry,
          onComment
        });
      },
      transform(chunk2) {
        parser.feed(chunk2);
      }
    });
  }
};

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/external.js
var external_exports = {};
__export(external_exports, {
  $brand: () => $brand,
  $input: () => $input,
  $output: () => $output,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  ZodAny: () => ZodAny,
  ZodArray: () => ZodArray,
  ZodBase64: () => ZodBase64,
  ZodBase64URL: () => ZodBase64URL,
  ZodBigInt: () => ZodBigInt,
  ZodBigIntFormat: () => ZodBigIntFormat,
  ZodBoolean: () => ZodBoolean,
  ZodCIDRv4: () => ZodCIDRv4,
  ZodCIDRv6: () => ZodCIDRv6,
  ZodCUID: () => ZodCUID,
  ZodCUID2: () => ZodCUID2,
  ZodCatch: () => ZodCatch,
  ZodCodec: () => ZodCodec,
  ZodCustom: () => ZodCustom,
  ZodCustomStringFormat: () => ZodCustomStringFormat,
  ZodDate: () => ZodDate,
  ZodDefault: () => ZodDefault,
  ZodDiscriminatedUnion: () => ZodDiscriminatedUnion,
  ZodE164: () => ZodE164,
  ZodEmail: () => ZodEmail,
  ZodEmoji: () => ZodEmoji,
  ZodEnum: () => ZodEnum,
  ZodError: () => ZodError,
  ZodFile: () => ZodFile,
  ZodFirstPartyTypeKind: () => ZodFirstPartyTypeKind,
  ZodFunction: () => ZodFunction,
  ZodGUID: () => ZodGUID,
  ZodIPv4: () => ZodIPv4,
  ZodIPv6: () => ZodIPv6,
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  ZodIntersection: () => ZodIntersection,
  ZodIssueCode: () => ZodIssueCode,
  ZodJWT: () => ZodJWT,
  ZodKSUID: () => ZodKSUID,
  ZodLazy: () => ZodLazy,
  ZodLiteral: () => ZodLiteral,
  ZodMap: () => ZodMap,
  ZodNaN: () => ZodNaN,
  ZodNanoID: () => ZodNanoID,
  ZodNever: () => ZodNever,
  ZodNonOptional: () => ZodNonOptional,
  ZodNull: () => ZodNull,
  ZodNullable: () => ZodNullable,
  ZodNumber: () => ZodNumber,
  ZodNumberFormat: () => ZodNumberFormat,
  ZodObject: () => ZodObject,
  ZodOptional: () => ZodOptional,
  ZodPipe: () => ZodPipe,
  ZodPrefault: () => ZodPrefault,
  ZodPromise: () => ZodPromise,
  ZodReadonly: () => ZodReadonly,
  ZodRealError: () => ZodRealError,
  ZodRecord: () => ZodRecord,
  ZodSet: () => ZodSet,
  ZodString: () => ZodString,
  ZodStringFormat: () => ZodStringFormat,
  ZodSuccess: () => ZodSuccess,
  ZodSymbol: () => ZodSymbol,
  ZodTemplateLiteral: () => ZodTemplateLiteral,
  ZodTransform: () => ZodTransform,
  ZodTuple: () => ZodTuple,
  ZodType: () => ZodType,
  ZodULID: () => ZodULID,
  ZodURL: () => ZodURL,
  ZodUUID: () => ZodUUID,
  ZodUndefined: () => ZodUndefined,
  ZodUnion: () => ZodUnion,
  ZodUnknown: () => ZodUnknown,
  ZodVoid: () => ZodVoid,
  ZodXID: () => ZodXID,
  _ZodString: () => _ZodString,
  _default: () => _default2,
  _function: () => _function,
  any: () => any,
  array: () => array,
  base64: () => base642,
  base64url: () => base64url2,
  bigint: () => bigint2,
  boolean: () => boolean2,
  catch: () => _catch2,
  check: () => check,
  cidrv4: () => cidrv42,
  cidrv6: () => cidrv62,
  clone: () => clone,
  codec: () => codec,
  coerce: () => coerce_exports,
  config: () => config,
  core: () => core_exports2,
  cuid: () => cuid3,
  cuid2: () => cuid22,
  custom: () => custom,
  date: () => date3,
  decode: () => decode2,
  decodeAsync: () => decodeAsync2,
  discriminatedUnion: () => discriminatedUnion,
  e164: () => e1642,
  email: () => email2,
  emoji: () => emoji2,
  encode: () => encode2,
  encodeAsync: () => encodeAsync2,
  endsWith: () => _endsWith,
  enum: () => _enum2,
  file: () => file,
  flattenError: () => flattenError,
  float32: () => float32,
  float64: () => float64,
  formatError: () => formatError,
  function: () => _function,
  getErrorMap: () => getErrorMap,
  globalRegistry: () => globalRegistry,
  gt: () => _gt,
  gte: () => _gte,
  guid: () => guid2,
  hash: () => hash,
  hex: () => hex2,
  hostname: () => hostname2,
  httpUrl: () => httpUrl,
  includes: () => _includes,
  instanceof: () => _instanceof,
  int: () => int,
  int32: () => int32,
  int64: () => int64,
  intersection: () => intersection,
  ipv4: () => ipv42,
  ipv6: () => ipv62,
  iso: () => iso_exports,
  json: () => json,
  jwt: () => jwt,
  keyof: () => keyof,
  ksuid: () => ksuid2,
  lazy: () => lazy,
  length: () => _length,
  literal: () => literal,
  locales: () => locales_exports,
  looseObject: () => looseObject,
  lowercase: () => _lowercase,
  lt: () => _lt,
  lte: () => _lte,
  map: () => map,
  maxLength: () => _maxLength,
  maxSize: () => _maxSize,
  mime: () => _mime,
  minLength: () => _minLength,
  minSize: () => _minSize,
  multipleOf: () => _multipleOf,
  nan: () => nan,
  nanoid: () => nanoid2,
  nativeEnum: () => nativeEnum,
  negative: () => _negative,
  never: () => never,
  nonnegative: () => _nonnegative,
  nonoptional: () => nonoptional,
  nonpositive: () => _nonpositive,
  normalize: () => _normalize,
  null: () => _null3,
  nullable: () => nullable,
  nullish: () => nullish2,
  number: () => number2,
  object: () => object,
  optional: () => optional,
  overwrite: () => _overwrite,
  parse: () => parse2,
  parseAsync: () => parseAsync2,
  partialRecord: () => partialRecord,
  pipe: () => pipe,
  positive: () => _positive,
  prefault: () => prefault,
  preprocess: () => preprocess,
  prettifyError: () => prettifyError,
  promise: () => promise,
  property: () => _property,
  readonly: () => readonly,
  record: () => record,
  refine: () => refine,
  regex: () => _regex,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode2,
  safeDecodeAsync: () => safeDecodeAsync2,
  safeEncode: () => safeEncode2,
  safeEncodeAsync: () => safeEncodeAsync2,
  safeParse: () => safeParse2,
  safeParseAsync: () => safeParseAsync2,
  set: () => set,
  setErrorMap: () => setErrorMap,
  size: () => _size,
  startsWith: () => _startsWith,
  strictObject: () => strictObject,
  string: () => string2,
  stringFormat: () => stringFormat,
  stringbool: () => stringbool,
  success: () => success,
  superRefine: () => superRefine,
  symbol: () => symbol15,
  templateLiteral: () => templateLiteral,
  toJSONSchema: () => toJSONSchema,
  toLowerCase: () => _toLowerCase,
  toUpperCase: () => _toUpperCase,
  transform: () => transform,
  treeifyError: () => treeifyError,
  trim: () => _trim,
  tuple: () => tuple,
  uint32: () => uint32,
  uint64: () => uint64,
  ulid: () => ulid2,
  undefined: () => _undefined3,
  union: () => union,
  unknown: () => unknown,
  uppercase: () => _uppercase,
  url: () => url,
  util: () => util_exports,
  uuid: () => uuid2,
  uuidv4: () => uuidv4,
  uuidv6: () => uuidv6,
  uuidv7: () => uuidv7,
  void: () => _void2,
  xid: () => xid2
});

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/index.js
var core_exports2 = {};
__export(core_exports2, {
  $ZodAny: () => $ZodAny,
  $ZodArray: () => $ZodArray,
  $ZodAsyncError: () => $ZodAsyncError,
  $ZodBase64: () => $ZodBase64,
  $ZodBase64URL: () => $ZodBase64URL,
  $ZodBigInt: () => $ZodBigInt,
  $ZodBigIntFormat: () => $ZodBigIntFormat,
  $ZodBoolean: () => $ZodBoolean,
  $ZodCIDRv4: () => $ZodCIDRv4,
  $ZodCIDRv6: () => $ZodCIDRv6,
  $ZodCUID: () => $ZodCUID,
  $ZodCUID2: () => $ZodCUID2,
  $ZodCatch: () => $ZodCatch,
  $ZodCheck: () => $ZodCheck,
  $ZodCheckBigIntFormat: () => $ZodCheckBigIntFormat,
  $ZodCheckEndsWith: () => $ZodCheckEndsWith,
  $ZodCheckGreaterThan: () => $ZodCheckGreaterThan,
  $ZodCheckIncludes: () => $ZodCheckIncludes,
  $ZodCheckLengthEquals: () => $ZodCheckLengthEquals,
  $ZodCheckLessThan: () => $ZodCheckLessThan,
  $ZodCheckLowerCase: () => $ZodCheckLowerCase,
  $ZodCheckMaxLength: () => $ZodCheckMaxLength,
  $ZodCheckMaxSize: () => $ZodCheckMaxSize,
  $ZodCheckMimeType: () => $ZodCheckMimeType,
  $ZodCheckMinLength: () => $ZodCheckMinLength,
  $ZodCheckMinSize: () => $ZodCheckMinSize,
  $ZodCheckMultipleOf: () => $ZodCheckMultipleOf,
  $ZodCheckNumberFormat: () => $ZodCheckNumberFormat,
  $ZodCheckOverwrite: () => $ZodCheckOverwrite,
  $ZodCheckProperty: () => $ZodCheckProperty,
  $ZodCheckRegex: () => $ZodCheckRegex,
  $ZodCheckSizeEquals: () => $ZodCheckSizeEquals,
  $ZodCheckStartsWith: () => $ZodCheckStartsWith,
  $ZodCheckStringFormat: () => $ZodCheckStringFormat,
  $ZodCheckUpperCase: () => $ZodCheckUpperCase,
  $ZodCodec: () => $ZodCodec,
  $ZodCustom: () => $ZodCustom,
  $ZodCustomStringFormat: () => $ZodCustomStringFormat,
  $ZodDate: () => $ZodDate,
  $ZodDefault: () => $ZodDefault,
  $ZodDiscriminatedUnion: () => $ZodDiscriminatedUnion,
  $ZodE164: () => $ZodE164,
  $ZodEmail: () => $ZodEmail,
  $ZodEmoji: () => $ZodEmoji,
  $ZodEncodeError: () => $ZodEncodeError,
  $ZodEnum: () => $ZodEnum,
  $ZodError: () => $ZodError,
  $ZodFile: () => $ZodFile,
  $ZodFunction: () => $ZodFunction,
  $ZodGUID: () => $ZodGUID,
  $ZodIPv4: () => $ZodIPv4,
  $ZodIPv6: () => $ZodIPv6,
  $ZodISODate: () => $ZodISODate,
  $ZodISODateTime: () => $ZodISODateTime,
  $ZodISODuration: () => $ZodISODuration,
  $ZodISOTime: () => $ZodISOTime,
  $ZodIntersection: () => $ZodIntersection,
  $ZodJWT: () => $ZodJWT,
  $ZodKSUID: () => $ZodKSUID,
  $ZodLazy: () => $ZodLazy,
  $ZodLiteral: () => $ZodLiteral,
  $ZodMap: () => $ZodMap,
  $ZodNaN: () => $ZodNaN,
  $ZodNanoID: () => $ZodNanoID,
  $ZodNever: () => $ZodNever,
  $ZodNonOptional: () => $ZodNonOptional,
  $ZodNull: () => $ZodNull,
  $ZodNullable: () => $ZodNullable,
  $ZodNumber: () => $ZodNumber,
  $ZodNumberFormat: () => $ZodNumberFormat,
  $ZodObject: () => $ZodObject,
  $ZodObjectJIT: () => $ZodObjectJIT,
  $ZodOptional: () => $ZodOptional,
  $ZodPipe: () => $ZodPipe,
  $ZodPrefault: () => $ZodPrefault,
  $ZodPromise: () => $ZodPromise,
  $ZodReadonly: () => $ZodReadonly,
  $ZodRealError: () => $ZodRealError,
  $ZodRecord: () => $ZodRecord,
  $ZodRegistry: () => $ZodRegistry,
  $ZodSet: () => $ZodSet,
  $ZodString: () => $ZodString,
  $ZodStringFormat: () => $ZodStringFormat,
  $ZodSuccess: () => $ZodSuccess,
  $ZodSymbol: () => $ZodSymbol,
  $ZodTemplateLiteral: () => $ZodTemplateLiteral,
  $ZodTransform: () => $ZodTransform,
  $ZodTuple: () => $ZodTuple,
  $ZodType: () => $ZodType,
  $ZodULID: () => $ZodULID,
  $ZodURL: () => $ZodURL,
  $ZodUUID: () => $ZodUUID,
  $ZodUndefined: () => $ZodUndefined,
  $ZodUnion: () => $ZodUnion,
  $ZodUnknown: () => $ZodUnknown,
  $ZodVoid: () => $ZodVoid,
  $ZodXID: () => $ZodXID,
  $brand: () => $brand,
  $constructor: () => $constructor,
  $input: () => $input,
  $output: () => $output,
  Doc: () => Doc,
  JSONSchema: () => json_schema_exports,
  JSONSchemaGenerator: () => JSONSchemaGenerator,
  NEVER: () => NEVER,
  TimePrecision: () => TimePrecision,
  _any: () => _any,
  _array: () => _array,
  _base64: () => _base64,
  _base64url: () => _base64url,
  _bigint: () => _bigint,
  _boolean: () => _boolean,
  _catch: () => _catch,
  _check: () => _check,
  _cidrv4: () => _cidrv4,
  _cidrv6: () => _cidrv6,
  _coercedBigint: () => _coercedBigint,
  _coercedBoolean: () => _coercedBoolean,
  _coercedDate: () => _coercedDate,
  _coercedNumber: () => _coercedNumber,
  _coercedString: () => _coercedString,
  _cuid: () => _cuid,
  _cuid2: () => _cuid2,
  _custom: () => _custom,
  _date: () => _date,
  _decode: () => _decode,
  _decodeAsync: () => _decodeAsync,
  _default: () => _default,
  _discriminatedUnion: () => _discriminatedUnion,
  _e164: () => _e164,
  _email: () => _email,
  _emoji: () => _emoji2,
  _encode: () => _encode,
  _encodeAsync: () => _encodeAsync,
  _endsWith: () => _endsWith,
  _enum: () => _enum,
  _file: () => _file,
  _float32: () => _float32,
  _float64: () => _float64,
  _gt: () => _gt,
  _gte: () => _gte,
  _guid: () => _guid,
  _includes: () => _includes,
  _int: () => _int,
  _int32: () => _int32,
  _int64: () => _int64,
  _intersection: () => _intersection,
  _ipv4: () => _ipv4,
  _ipv6: () => _ipv6,
  _isoDate: () => _isoDate,
  _isoDateTime: () => _isoDateTime,
  _isoDuration: () => _isoDuration,
  _isoTime: () => _isoTime,
  _jwt: () => _jwt,
  _ksuid: () => _ksuid,
  _lazy: () => _lazy,
  _length: () => _length,
  _literal: () => _literal,
  _lowercase: () => _lowercase,
  _lt: () => _lt,
  _lte: () => _lte,
  _map: () => _map,
  _max: () => _lte,
  _maxLength: () => _maxLength,
  _maxSize: () => _maxSize,
  _mime: () => _mime,
  _min: () => _gte,
  _minLength: () => _minLength,
  _minSize: () => _minSize,
  _multipleOf: () => _multipleOf,
  _nan: () => _nan,
  _nanoid: () => _nanoid,
  _nativeEnum: () => _nativeEnum,
  _negative: () => _negative,
  _never: () => _never,
  _nonnegative: () => _nonnegative,
  _nonoptional: () => _nonoptional,
  _nonpositive: () => _nonpositive,
  _normalize: () => _normalize,
  _null: () => _null2,
  _nullable: () => _nullable,
  _number: () => _number,
  _optional: () => _optional,
  _overwrite: () => _overwrite,
  _parse: () => _parse,
  _parseAsync: () => _parseAsync,
  _pipe: () => _pipe,
  _positive: () => _positive,
  _promise: () => _promise,
  _property: () => _property,
  _readonly: () => _readonly,
  _record: () => _record,
  _refine: () => _refine,
  _regex: () => _regex,
  _safeDecode: () => _safeDecode,
  _safeDecodeAsync: () => _safeDecodeAsync,
  _safeEncode: () => _safeEncode,
  _safeEncodeAsync: () => _safeEncodeAsync,
  _safeParse: () => _safeParse,
  _safeParseAsync: () => _safeParseAsync,
  _set: () => _set,
  _size: () => _size,
  _startsWith: () => _startsWith,
  _string: () => _string,
  _stringFormat: () => _stringFormat,
  _stringbool: () => _stringbool,
  _success: () => _success,
  _superRefine: () => _superRefine,
  _symbol: () => _symbol,
  _templateLiteral: () => _templateLiteral,
  _toLowerCase: () => _toLowerCase,
  _toUpperCase: () => _toUpperCase,
  _transform: () => _transform,
  _trim: () => _trim,
  _tuple: () => _tuple,
  _uint32: () => _uint32,
  _uint64: () => _uint64,
  _ulid: () => _ulid,
  _undefined: () => _undefined2,
  _union: () => _union,
  _unknown: () => _unknown,
  _uppercase: () => _uppercase,
  _url: () => _url,
  _uuid: () => _uuid,
  _uuidv4: () => _uuidv4,
  _uuidv6: () => _uuidv6,
  _uuidv7: () => _uuidv7,
  _void: () => _void,
  _xid: () => _xid,
  clone: () => clone,
  config: () => config,
  decode: () => decode,
  decodeAsync: () => decodeAsync,
  encode: () => encode,
  encodeAsync: () => encodeAsync,
  flattenError: () => flattenError,
  formatError: () => formatError,
  globalConfig: () => globalConfig,
  globalRegistry: () => globalRegistry,
  isValidBase64: () => isValidBase64,
  isValidBase64URL: () => isValidBase64URL,
  isValidJWT: () => isValidJWT,
  locales: () => locales_exports,
  parse: () => parse,
  parseAsync: () => parseAsync,
  prettifyError: () => prettifyError,
  regexes: () => regexes_exports,
  registry: () => registry,
  safeDecode: () => safeDecode,
  safeDecodeAsync: () => safeDecodeAsync,
  safeEncode: () => safeEncode,
  safeEncodeAsync: () => safeEncodeAsync,
  safeParse: () => safeParse,
  safeParseAsync: () => safeParseAsync,
  toDotPath: () => toDotPath,
  toJSONSchema: () => toJSONSchema,
  treeifyError: () => treeifyError,
  util: () => util_exports,
  version: () => version
});

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/core.js
var NEVER = Object.freeze({
  status: "aborted"
});
// @__NO_SIDE_EFFECTS__
function $constructor(name16, initializer3, params) {
  function init(inst, def) {
    var _a17;
    Object.defineProperty(inst, "_zod", {
      value: inst._zod ?? {},
      enumerable: false
    });
    (_a17 = inst._zod).traits ?? (_a17.traits = /* @__PURE__ */ new Set());
    inst._zod.traits.add(name16);
    initializer3(inst, def);
    for (const k in _.prototype) {
      if (!(k in inst)) Object.defineProperty(inst, k, {
        value: _.prototype[k].bind(inst)
      });
    }
    inst._zod.constr = _;
    inst._zod.def = def;
  }
  __name(init, "init");
  const Parent = params?.Parent ?? Object;
  class Definition extends Parent {
    static {
      __name(this, "Definition");
    }
  }
  Object.defineProperty(Definition, "name", {
    value: name16
  });
  function _(def) {
    var _a17;
    const inst = params?.Parent ? new Definition() : this;
    init(inst, def);
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    for (const fn of inst._zod.deferred) {
      fn();
    }
    return inst;
  }
  __name(_, "_");
  Object.defineProperty(_, "init", {
    value: init
  });
  Object.defineProperty(_, Symbol.hasInstance, {
    value: /* @__PURE__ */ __name((inst) => {
      if (params?.Parent && inst instanceof params.Parent) return true;
      return inst?._zod?.traits?.has(name16);
    }, "value")
  });
  Object.defineProperty(_, "name", {
    value: name16
  });
  return _;
}
__name($constructor, "$constructor");
var $brand = Symbol("zod_brand");
var $ZodAsyncError = class extends Error {
  static {
    __name(this, "$ZodAsyncError");
  }
  constructor() {
    super(\`Encountered Promise during synchronous parse. Use .parseAsync() instead.\`);
  }
};
var $ZodEncodeError = class extends Error {
  static {
    __name(this, "$ZodEncodeError");
  }
  constructor(name16) {
    super(\`Encountered unidirectional transform during encode: \${name16}\`);
    this.name = "ZodEncodeError";
  }
};
var globalConfig = {};
function config(newConfig) {
  if (newConfig) Object.assign(globalConfig, newConfig);
  return globalConfig;
}
__name(config, "config");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/util.js
var util_exports = {};
__export(util_exports, {
  BIGINT_FORMAT_RANGES: () => BIGINT_FORMAT_RANGES,
  Class: () => Class,
  NUMBER_FORMAT_RANGES: () => NUMBER_FORMAT_RANGES,
  aborted: () => aborted,
  allowsEval: () => allowsEval,
  assert: () => assert,
  assertEqual: () => assertEqual,
  assertIs: () => assertIs,
  assertNever: () => assertNever,
  assertNotEqual: () => assertNotEqual,
  assignProp: () => assignProp,
  base64ToUint8Array: () => base64ToUint8Array,
  base64urlToUint8Array: () => base64urlToUint8Array,
  cached: () => cached,
  captureStackTrace: () => captureStackTrace,
  cleanEnum: () => cleanEnum,
  cleanRegex: () => cleanRegex,
  clone: () => clone,
  cloneDef: () => cloneDef,
  createTransparentProxy: () => createTransparentProxy,
  defineLazy: () => defineLazy,
  esc: () => esc,
  escapeRegex: () => escapeRegex,
  extend: () => extend,
  finalizeIssue: () => finalizeIssue,
  floatSafeRemainder: () => floatSafeRemainder,
  getElementAtPath: () => getElementAtPath,
  getEnumValues: () => getEnumValues,
  getLengthableOrigin: () => getLengthableOrigin,
  getParsedType: () => getParsedType,
  getSizableOrigin: () => getSizableOrigin,
  hexToUint8Array: () => hexToUint8Array,
  isObject: () => isObject,
  isPlainObject: () => isPlainObject,
  issue: () => issue,
  joinValues: () => joinValues,
  jsonStringifyReplacer: () => jsonStringifyReplacer,
  merge: () => merge,
  mergeDefs: () => mergeDefs,
  normalizeParams: () => normalizeParams,
  nullish: () => nullish,
  numKeys: () => numKeys,
  objectClone: () => objectClone,
  omit: () => omit,
  optionalKeys: () => optionalKeys,
  partial: () => partial,
  pick: () => pick,
  prefixIssues: () => prefixIssues,
  primitiveTypes: () => primitiveTypes,
  promiseAllObject: () => promiseAllObject,
  propertyKeyTypes: () => propertyKeyTypes,
  randomString: () => randomString,
  required: () => required,
  safeExtend: () => safeExtend,
  shallowClone: () => shallowClone,
  stringifyPrimitive: () => stringifyPrimitive,
  uint8ArrayToBase64: () => uint8ArrayToBase64,
  uint8ArrayToBase64url: () => uint8ArrayToBase64url,
  uint8ArrayToHex: () => uint8ArrayToHex,
  unwrapMessage: () => unwrapMessage
});
function assertEqual(val) {
  return val;
}
__name(assertEqual, "assertEqual");
function assertNotEqual(val) {
  return val;
}
__name(assertNotEqual, "assertNotEqual");
function assertIs(_arg) {
}
__name(assertIs, "assertIs");
function assertNever(_x) {
  throw new Error();
}
__name(assertNever, "assertNever");
function assert(_) {
}
__name(assert, "assert");
function getEnumValues(entries) {
  const numericValues = Object.values(entries).filter((v) => typeof v === "number");
  const values = Object.entries(entries).filter(([k, _]) => numericValues.indexOf(+k) === -1).map(([_, v]) => v);
  return values;
}
__name(getEnumValues, "getEnumValues");
function joinValues(array2, separator = "|") {
  return array2.map((val) => stringifyPrimitive(val)).join(separator);
}
__name(joinValues, "joinValues");
function jsonStringifyReplacer(_, value) {
  if (typeof value === "bigint") return value.toString();
  return value;
}
__name(jsonStringifyReplacer, "jsonStringifyReplacer");
function cached(getter) {
  const set2 = false;
  return {
    get value() {
      if (!set2) {
        const value = getter();
        Object.defineProperty(this, "value", {
          value
        });
        return value;
      }
      throw new Error("cached value already set");
    }
  };
}
__name(cached, "cached");
function nullish(input) {
  return input === null || input === void 0;
}
__name(nullish, "nullish");
function cleanRegex(source) {
  const start = source.startsWith("^") ? 1 : 0;
  const end = source.endsWith("$") ? source.length - 1 : source.length;
  return source.slice(start, end);
}
__name(cleanRegex, "cleanRegex");
function floatSafeRemainder(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepString = step.toString();
  let stepDecCount = (stepString.split(".")[1] || "").length;
  if (stepDecCount === 0 && /\\d?e-\\d?/.test(stepString)) {
    const match = stepString.match(/\\d?e-(\\d?)/);
    if (match?.[1]) {
      stepDecCount = Number.parseInt(match[1]);
    }
  }
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
__name(floatSafeRemainder, "floatSafeRemainder");
var EVALUATING = Symbol("evaluating");
function defineLazy(object3, key, getter) {
  let value = void 0;
  Object.defineProperty(object3, key, {
    get() {
      if (value === EVALUATING) {
        return void 0;
      }
      if (value === void 0) {
        value = EVALUATING;
        value = getter();
      }
      return value;
    },
    set(v) {
      Object.defineProperty(object3, key, {
        value: v
      });
    },
    configurable: true
  });
}
__name(defineLazy, "defineLazy");
function objectClone(obj) {
  return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));
}
__name(objectClone, "objectClone");
function assignProp(target, prop, value) {
  Object.defineProperty(target, prop, {
    value,
    writable: true,
    enumerable: true,
    configurable: true
  });
}
__name(assignProp, "assignProp");
function mergeDefs(...defs) {
  const mergedDescriptors = {};
  for (const def of defs) {
    const descriptors = Object.getOwnPropertyDescriptors(def);
    Object.assign(mergedDescriptors, descriptors);
  }
  return Object.defineProperties({}, mergedDescriptors);
}
__name(mergeDefs, "mergeDefs");
function cloneDef(schema) {
  return mergeDefs(schema._zod.def);
}
__name(cloneDef, "cloneDef");
function getElementAtPath(obj, path) {
  if (!path) return obj;
  return path.reduce((acc, key) => acc?.[key], obj);
}
__name(getElementAtPath, "getElementAtPath");
function promiseAllObject(promisesObj) {
  const keys = Object.keys(promisesObj);
  const promises = keys.map((key) => promisesObj[key]);
  return Promise.all(promises).then((results) => {
    const resolvedObj = {};
    for (let i = 0; i < keys.length; i++) {
      resolvedObj[keys[i]] = results[i];
    }
    return resolvedObj;
  });
}
__name(promiseAllObject, "promiseAllObject");
function randomString(length = 10) {
  const chars = "abcdefghijklmnopqrstuvwxyz";
  let str = "";
  for (let i = 0; i < length; i++) {
    str += chars[Math.floor(Math.random() * chars.length)];
  }
  return str;
}
__name(randomString, "randomString");
function esc(str) {
  return JSON.stringify(str);
}
__name(esc, "esc");
var captureStackTrace = "captureStackTrace" in Error ? Error.captureStackTrace : (..._args) => {
};
function isObject(data) {
  return typeof data === "object" && data !== null && !Array.isArray(data);
}
__name(isObject, "isObject");
var allowsEval = cached(() => {
  if (typeof navigator !== "undefined" && navigator?.userAgent?.includes("Cloudflare")) {
    return false;
  }
  try {
    const F = Function;
    new F("");
    return true;
  } catch (_) {
    return false;
  }
});
function isPlainObject(o) {
  if (isObject(o) === false) return false;
  const ctor = o.constructor;
  if (ctor === void 0) return true;
  const prot = ctor.prototype;
  if (isObject(prot) === false) return false;
  if (Object.prototype.hasOwnProperty.call(prot, "isPrototypeOf") === false) {
    return false;
  }
  return true;
}
__name(isPlainObject, "isPlainObject");
function shallowClone(o) {
  if (isPlainObject(o)) return {
    ...o
  };
  if (Array.isArray(o)) return [
    ...o
  ];
  return o;
}
__name(shallowClone, "shallowClone");
function numKeys(data) {
  let keyCount = 0;
  for (const key in data) {
    if (Object.prototype.hasOwnProperty.call(data, key)) {
      keyCount++;
    }
  }
  return keyCount;
}
__name(numKeys, "numKeys");
var getParsedType = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "undefined":
      return "undefined";
    case "string":
      return "string";
    case "number":
      return Number.isNaN(data) ? "nan" : "number";
    case "boolean":
      return "boolean";
    case "function":
      return "function";
    case "bigint":
      return "bigint";
    case "symbol":
      return "symbol";
    case "object":
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return "promise";
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return "map";
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return "set";
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return "date";
      }
      if (typeof File !== "undefined" && data instanceof File) {
        return "file";
      }
      return "object";
    default:
      throw new Error(\`Unknown data type: \${t}\`);
  }
}, "getParsedType");
var propertyKeyTypes = /* @__PURE__ */ new Set([
  "string",
  "number",
  "symbol"
]);
var primitiveTypes = /* @__PURE__ */ new Set([
  "string",
  "number",
  "bigint",
  "boolean",
  "symbol",
  "undefined"
]);
function escapeRegex(str) {
  return str.replace(/[.*+?^\${}()|[\\]\\\\]/g, "\\\\$&");
}
__name(escapeRegex, "escapeRegex");
function clone(inst, def, params) {
  const cl = new inst._zod.constr(def ?? inst._zod.def);
  if (!def || params?.parent) cl._zod.parent = inst;
  return cl;
}
__name(clone, "clone");
function normalizeParams(_params) {
  const params = _params;
  if (!params) return {};
  if (typeof params === "string") return {
    error: /* @__PURE__ */ __name(() => params, "error")
  };
  if (params?.message !== void 0) {
    if (params?.error !== void 0) throw new Error("Cannot specify both \`message\` and \`error\` params");
    params.error = params.message;
  }
  delete params.message;
  if (typeof params.error === "string") return {
    ...params,
    error: /* @__PURE__ */ __name(() => params.error, "error")
  };
  return params;
}
__name(normalizeParams, "normalizeParams");
function createTransparentProxy(getter) {
  let target;
  return new Proxy({}, {
    get(_, prop, receiver) {
      target ?? (target = getter());
      return Reflect.get(target, prop, receiver);
    },
    set(_, prop, value, receiver) {
      target ?? (target = getter());
      return Reflect.set(target, prop, value, receiver);
    },
    has(_, prop) {
      target ?? (target = getter());
      return Reflect.has(target, prop);
    },
    deleteProperty(_, prop) {
      target ?? (target = getter());
      return Reflect.deleteProperty(target, prop);
    },
    ownKeys(_) {
      target ?? (target = getter());
      return Reflect.ownKeys(target);
    },
    getOwnPropertyDescriptor(_, prop) {
      target ?? (target = getter());
      return Reflect.getOwnPropertyDescriptor(target, prop);
    },
    defineProperty(_, prop, descriptor) {
      target ?? (target = getter());
      return Reflect.defineProperty(target, prop, descriptor);
    }
  });
}
__name(createTransparentProxy, "createTransparentProxy");
function stringifyPrimitive(value) {
  if (typeof value === "bigint") return value.toString() + "n";
  if (typeof value === "string") return \`"\${value}"\`;
  return \`\${value}\`;
}
__name(stringifyPrimitive, "stringifyPrimitive");
function optionalKeys(shape) {
  return Object.keys(shape).filter((k) => {
    return shape[k]._zod.optin === "optional" && shape[k]._zod.optout === "optional";
  });
}
__name(optionalKeys, "optionalKeys");
var NUMBER_FORMAT_RANGES = {
  safeint: [
    Number.MIN_SAFE_INTEGER,
    Number.MAX_SAFE_INTEGER
  ],
  int32: [
    -2147483648,
    2147483647
  ],
  uint32: [
    0,
    4294967295
  ],
  float32: [
    -34028234663852886e22,
    34028234663852886e22
  ],
  float64: [
    -Number.MAX_VALUE,
    Number.MAX_VALUE
  ]
};
var BIGINT_FORMAT_RANGES = {
  int64: [
    /* @__PURE__ */ BigInt("-9223372036854775808"),
    /* @__PURE__ */ BigInt("9223372036854775807")
  ],
  uint64: [
    /* @__PURE__ */ BigInt(0),
    /* @__PURE__ */ BigInt("18446744073709551615")
  ]
};
function pick(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = {};
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(\`Unrecognized key: "\${key}"\`);
        }
        if (!mask[key]) continue;
        newShape[key] = currDef.shape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
__name(pick, "pick");
function omit(schema, mask) {
  const currDef = schema._zod.def;
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const newShape = {
        ...schema._zod.def.shape
      };
      for (const key in mask) {
        if (!(key in currDef.shape)) {
          throw new Error(\`Unrecognized key: "\${key}"\`);
        }
        if (!mask[key]) continue;
        delete newShape[key];
      }
      assignProp(this, "shape", newShape);
      return newShape;
    },
    checks: []
  });
  return clone(schema, def);
}
__name(omit, "omit");
function extend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to extend: expected a plain object");
  }
  const checks = schema._zod.def.checks;
  const hasChecks = checks && checks.length > 0;
  if (hasChecks) {
    throw new Error("Object schemas containing refinements cannot be extended. Use \`.safeExtend()\` instead.");
  }
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const _shape = {
        ...schema._zod.def.shape,
        ...shape
      };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: []
  });
  return clone(schema, def);
}
__name(extend, "extend");
function safeExtend(schema, shape) {
  if (!isPlainObject(shape)) {
    throw new Error("Invalid input to safeExtend: expected a plain object");
  }
  const def = {
    ...schema._zod.def,
    get shape() {
      const _shape = {
        ...schema._zod.def.shape,
        ...shape
      };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    checks: schema._zod.def.checks
  };
  return clone(schema, def);
}
__name(safeExtend, "safeExtend");
function merge(a, b) {
  const def = mergeDefs(a._zod.def, {
    get shape() {
      const _shape = {
        ...a._zod.def.shape,
        ...b._zod.def.shape
      };
      assignProp(this, "shape", _shape);
      return _shape;
    },
    get catchall() {
      return b._zod.def.catchall;
    },
    checks: []
  });
  return clone(a, def);
}
__name(merge, "merge");
function partial(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = {
        ...oldShape
      };
      if (mask) {
        for (const key in mask) {
          if (!(key in oldShape)) {
            throw new Error(\`Unrecognized key: "\${key}"\`);
          }
          if (!mask[key]) continue;
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      } else {
        for (const key in oldShape) {
          shape[key] = Class2 ? new Class2({
            type: "optional",
            innerType: oldShape[key]
          }) : oldShape[key];
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
__name(partial, "partial");
function required(Class2, schema, mask) {
  const def = mergeDefs(schema._zod.def, {
    get shape() {
      const oldShape = schema._zod.def.shape;
      const shape = {
        ...oldShape
      };
      if (mask) {
        for (const key in mask) {
          if (!(key in shape)) {
            throw new Error(\`Unrecognized key: "\${key}"\`);
          }
          if (!mask[key]) continue;
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      } else {
        for (const key in oldShape) {
          shape[key] = new Class2({
            type: "nonoptional",
            innerType: oldShape[key]
          });
        }
      }
      assignProp(this, "shape", shape);
      return shape;
    },
    checks: []
  });
  return clone(schema, def);
}
__name(required, "required");
function aborted(x, startIndex = 0) {
  if (x.aborted === true) return true;
  for (let i = startIndex; i < x.issues.length; i++) {
    if (x.issues[i]?.continue !== true) {
      return true;
    }
  }
  return false;
}
__name(aborted, "aborted");
function prefixIssues(path, issues) {
  return issues.map((iss) => {
    var _a17;
    (_a17 = iss).path ?? (_a17.path = []);
    iss.path.unshift(path);
    return iss;
  });
}
__name(prefixIssues, "prefixIssues");
function unwrapMessage(message) {
  return typeof message === "string" ? message : message?.message;
}
__name(unwrapMessage, "unwrapMessage");
function finalizeIssue(iss, ctx, config2) {
  const full = {
    ...iss,
    path: iss.path ?? []
  };
  if (!iss.message) {
    const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ?? unwrapMessage(ctx?.error?.(iss)) ?? unwrapMessage(config2.customError?.(iss)) ?? unwrapMessage(config2.localeError?.(iss)) ?? "Invalid input";
    full.message = message;
  }
  delete full.inst;
  delete full.continue;
  if (!ctx?.reportInput) {
    delete full.input;
  }
  return full;
}
__name(finalizeIssue, "finalizeIssue");
function getSizableOrigin(input) {
  if (input instanceof Set) return "set";
  if (input instanceof Map) return "map";
  if (input instanceof File) return "file";
  return "unknown";
}
__name(getSizableOrigin, "getSizableOrigin");
function getLengthableOrigin(input) {
  if (Array.isArray(input)) return "array";
  if (typeof input === "string") return "string";
  return "unknown";
}
__name(getLengthableOrigin, "getLengthableOrigin");
function issue(...args) {
  const [iss, input, inst] = args;
  if (typeof iss === "string") {
    return {
      message: iss,
      code: "custom",
      input,
      inst
    };
  }
  return {
    ...iss
  };
}
__name(issue, "issue");
function cleanEnum(obj) {
  return Object.entries(obj).filter(([k, _]) => {
    return Number.isNaN(Number.parseInt(k, 10));
  }).map((el) => el[1]);
}
__name(cleanEnum, "cleanEnum");
function base64ToUint8Array(base643) {
  const binaryString = atob(base643);
  const bytes = new Uint8Array(binaryString.length);
  for (let i = 0; i < binaryString.length; i++) {
    bytes[i] = binaryString.charCodeAt(i);
  }
  return bytes;
}
__name(base64ToUint8Array, "base64ToUint8Array");
function uint8ArrayToBase64(bytes) {
  let binaryString = "";
  for (let i = 0; i < bytes.length; i++) {
    binaryString += String.fromCharCode(bytes[i]);
  }
  return btoa(binaryString);
}
__name(uint8ArrayToBase64, "uint8ArrayToBase64");
function base64urlToUint8Array(base64url3) {
  const base643 = base64url3.replace(/-/g, "+").replace(/_/g, "/");
  const padding = "=".repeat((4 - base643.length % 4) % 4);
  return base64ToUint8Array(base643 + padding);
}
__name(base64urlToUint8Array, "base64urlToUint8Array");
function uint8ArrayToBase64url(bytes) {
  return uint8ArrayToBase64(bytes).replace(/\\+/g, "-").replace(/\\//g, "_").replace(/=/g, "");
}
__name(uint8ArrayToBase64url, "uint8ArrayToBase64url");
function hexToUint8Array(hex3) {
  const cleanHex = hex3.replace(/^0x/, "");
  if (cleanHex.length % 2 !== 0) {
    throw new Error("Invalid hex string length");
  }
  const bytes = new Uint8Array(cleanHex.length / 2);
  for (let i = 0; i < cleanHex.length; i += 2) {
    bytes[i / 2] = Number.parseInt(cleanHex.slice(i, i + 2), 16);
  }
  return bytes;
}
__name(hexToUint8Array, "hexToUint8Array");
function uint8ArrayToHex(bytes) {
  return Array.from(bytes).map((b) => b.toString(16).padStart(2, "0")).join("");
}
__name(uint8ArrayToHex, "uint8ArrayToHex");
var Class = class {
  static {
    __name(this, "Class");
  }
  constructor(..._args) {
  }
};

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/errors.js
var initializer = /* @__PURE__ */ __name((inst, def) => {
  inst.name = "$ZodError";
  Object.defineProperty(inst, "_zod", {
    value: inst._zod,
    enumerable: false
  });
  Object.defineProperty(inst, "issues", {
    value: def,
    enumerable: false
  });
  inst.message = JSON.stringify(def, jsonStringifyReplacer, 2);
  Object.defineProperty(inst, "toString", {
    value: /* @__PURE__ */ __name(() => inst.message, "value"),
    enumerable: false
  });
}, "initializer");
var $ZodError = $constructor("$ZodError", initializer);
var $ZodRealError = $constructor("$ZodError", initializer, {
  Parent: Error
});
function flattenError(error45, mapper = (issue2) => issue2.message) {
  const fieldErrors = {};
  const formErrors = [];
  for (const sub of error45.issues) {
    if (sub.path.length > 0) {
      fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];
      fieldErrors[sub.path[0]].push(mapper(sub));
    } else {
      formErrors.push(mapper(sub));
    }
  }
  return {
    formErrors,
    fieldErrors
  };
}
__name(flattenError, "flattenError");
function formatError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const fieldErrors = {
    _errors: []
  };
  const processError = /* @__PURE__ */ __name((error46) => {
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({
          issues
        }));
      } else if (issue2.code === "invalid_key") {
        processError({
          issues: issue2.issues
        });
      } else if (issue2.code === "invalid_element") {
        processError({
          issues: issue2.issues
        });
      } else if (issue2.path.length === 0) {
        fieldErrors._errors.push(mapper(issue2));
      } else {
        let curr = fieldErrors;
        let i = 0;
        while (i < issue2.path.length) {
          const el = issue2.path[i];
          const terminal = i === issue2.path.length - 1;
          if (!terminal) {
            curr[el] = curr[el] || {
              _errors: []
            };
          } else {
            curr[el] = curr[el] || {
              _errors: []
            };
            curr[el]._errors.push(mapper(issue2));
          }
          curr = curr[el];
          i++;
        }
      }
    }
  }, "processError");
  processError(error45);
  return fieldErrors;
}
__name(formatError, "formatError");
function treeifyError(error45, _mapper) {
  const mapper = _mapper || function(issue2) {
    return issue2.message;
  };
  const result = {
    errors: []
  };
  const processError = /* @__PURE__ */ __name((error46, path = []) => {
    var _a17, _b8;
    for (const issue2 of error46.issues) {
      if (issue2.code === "invalid_union" && issue2.errors.length) {
        issue2.errors.map((issues) => processError({
          issues
        }, issue2.path));
      } else if (issue2.code === "invalid_key") {
        processError({
          issues: issue2.issues
        }, issue2.path);
      } else if (issue2.code === "invalid_element") {
        processError({
          issues: issue2.issues
        }, issue2.path);
      } else {
        const fullpath = [
          ...path,
          ...issue2.path
        ];
        if (fullpath.length === 0) {
          result.errors.push(mapper(issue2));
          continue;
        }
        let curr = result;
        let i = 0;
        while (i < fullpath.length) {
          const el = fullpath[i];
          const terminal = i === fullpath.length - 1;
          if (typeof el === "string") {
            curr.properties ?? (curr.properties = {});
            (_a17 = curr.properties)[el] ?? (_a17[el] = {
              errors: []
            });
            curr = curr.properties[el];
          } else {
            curr.items ?? (curr.items = []);
            (_b8 = curr.items)[el] ?? (_b8[el] = {
              errors: []
            });
            curr = curr.items[el];
          }
          if (terminal) {
            curr.errors.push(mapper(issue2));
          }
          i++;
        }
      }
    }
  }, "processError");
  processError(error45);
  return result;
}
__name(treeifyError, "treeifyError");
function toDotPath(_path) {
  const segs = [];
  const path = _path.map((seg) => typeof seg === "object" ? seg.key : seg);
  for (const seg of path) {
    if (typeof seg === "number") segs.push(\`[\${seg}]\`);
    else if (typeof seg === "symbol") segs.push(\`[\${JSON.stringify(String(seg))}]\`);
    else if (/[^\\w$]/.test(seg)) segs.push(\`[\${JSON.stringify(seg)}]\`);
    else {
      if (segs.length) segs.push(".");
      segs.push(seg);
    }
  }
  return segs.join("");
}
__name(toDotPath, "toDotPath");
function prettifyError(error45) {
  const lines = [];
  const issues = [
    ...error45.issues
  ].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);
  for (const issue2 of issues) {
    lines.push(\`\\u2716 \${issue2.message}\`);
    if (issue2.path?.length) lines.push(\`  \\u2192 at \${toDotPath(issue2.path)}\`);
  }
  return lines.join("\\n");
}
__name(prettifyError, "prettifyError");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/parse.js
var _parse = /* @__PURE__ */ __name((_Err) => (schema, value, _ctx, _params) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    async: false
  }) : {
    async: false
  };
  const result = schema._zod.run({
    value,
    issues: []
  }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  if (result.issues.length) {
    const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e, _params?.callee);
    throw e;
  }
  return result.value;
}, "_parse");
var parse = /* @__PURE__ */ _parse($ZodRealError);
var _parseAsync = /* @__PURE__ */ __name((_Err) => async (schema, value, _ctx, params) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    async: true
  }) : {
    async: true
  };
  let result = schema._zod.run({
    value,
    issues: []
  }, ctx);
  if (result instanceof Promise) result = await result;
  if (result.issues.length) {
    const e = new (params?.Err ?? _Err)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())));
    captureStackTrace(e, params?.callee);
    throw e;
  }
  return result.value;
}, "_parseAsync");
var parseAsync = /* @__PURE__ */ _parseAsync($ZodRealError);
var _safeParse = /* @__PURE__ */ __name((_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? {
    ..._ctx,
    async: false
  } : {
    async: false
  };
  const result = schema._zod.run({
    value,
    issues: []
  }, ctx);
  if (result instanceof Promise) {
    throw new $ZodAsyncError();
  }
  return result.issues.length ? {
    success: false,
    error: new (_Err ?? $ZodError)(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : {
    success: true,
    data: result.value
  };
}, "_safeParse");
var safeParse = /* @__PURE__ */ _safeParse($ZodRealError);
var _safeParseAsync = /* @__PURE__ */ __name((_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    async: true
  }) : {
    async: true
  };
  let result = schema._zod.run({
    value,
    issues: []
  }, ctx);
  if (result instanceof Promise) result = await result;
  return result.issues.length ? {
    success: false,
    error: new _Err(result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  } : {
    success: true,
    data: result.value
  };
}, "_safeParseAsync");
var safeParseAsync = /* @__PURE__ */ _safeParseAsync($ZodRealError);
var _encode = /* @__PURE__ */ __name((_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    direction: "backward"
  }) : {
    direction: "backward"
  };
  return _parse(_Err)(schema, value, ctx);
}, "_encode");
var encode = /* @__PURE__ */ _encode($ZodRealError);
var _decode = /* @__PURE__ */ __name((_Err) => (schema, value, _ctx) => {
  return _parse(_Err)(schema, value, _ctx);
}, "_decode");
var decode = /* @__PURE__ */ _decode($ZodRealError);
var _encodeAsync = /* @__PURE__ */ __name((_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    direction: "backward"
  }) : {
    direction: "backward"
  };
  return _parseAsync(_Err)(schema, value, ctx);
}, "_encodeAsync");
var encodeAsync = /* @__PURE__ */ _encodeAsync($ZodRealError);
var _decodeAsync = /* @__PURE__ */ __name((_Err) => async (schema, value, _ctx) => {
  return _parseAsync(_Err)(schema, value, _ctx);
}, "_decodeAsync");
var decodeAsync = /* @__PURE__ */ _decodeAsync($ZodRealError);
var _safeEncode = /* @__PURE__ */ __name((_Err) => (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    direction: "backward"
  }) : {
    direction: "backward"
  };
  return _safeParse(_Err)(schema, value, ctx);
}, "_safeEncode");
var safeEncode = /* @__PURE__ */ _safeEncode($ZodRealError);
var _safeDecode = /* @__PURE__ */ __name((_Err) => (schema, value, _ctx) => {
  return _safeParse(_Err)(schema, value, _ctx);
}, "_safeDecode");
var safeDecode = /* @__PURE__ */ _safeDecode($ZodRealError);
var _safeEncodeAsync = /* @__PURE__ */ __name((_Err) => async (schema, value, _ctx) => {
  const ctx = _ctx ? Object.assign(_ctx, {
    direction: "backward"
  }) : {
    direction: "backward"
  };
  return _safeParseAsync(_Err)(schema, value, ctx);
}, "_safeEncodeAsync");
var safeEncodeAsync = /* @__PURE__ */ _safeEncodeAsync($ZodRealError);
var _safeDecodeAsync = /* @__PURE__ */ __name((_Err) => async (schema, value, _ctx) => {
  return _safeParseAsync(_Err)(schema, value, _ctx);
}, "_safeDecodeAsync");
var safeDecodeAsync = /* @__PURE__ */ _safeDecodeAsync($ZodRealError);

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/regexes.js
var regexes_exports = {};
__export(regexes_exports, {
  base64: () => base64,
  base64url: () => base64url,
  bigint: () => bigint,
  boolean: () => boolean,
  browserEmail: () => browserEmail,
  cidrv4: () => cidrv4,
  cidrv6: () => cidrv6,
  cuid: () => cuid,
  cuid2: () => cuid2,
  date: () => date,
  datetime: () => datetime,
  domain: () => domain,
  duration: () => duration,
  e164: () => e164,
  email: () => email,
  emoji: () => emoji,
  extendedDuration: () => extendedDuration,
  guid: () => guid,
  hex: () => hex,
  hostname: () => hostname,
  html5Email: () => html5Email,
  idnEmail: () => idnEmail,
  integer: () => integer,
  ipv4: () => ipv4,
  ipv6: () => ipv6,
  ksuid: () => ksuid,
  lowercase: () => lowercase,
  md5_base64: () => md5_base64,
  md5_base64url: () => md5_base64url,
  md5_hex: () => md5_hex,
  nanoid: () => nanoid,
  null: () => _null,
  number: () => number,
  rfc5322Email: () => rfc5322Email,
  sha1_base64: () => sha1_base64,
  sha1_base64url: () => sha1_base64url,
  sha1_hex: () => sha1_hex,
  sha256_base64: () => sha256_base64,
  sha256_base64url: () => sha256_base64url,
  sha256_hex: () => sha256_hex,
  sha384_base64: () => sha384_base64,
  sha384_base64url: () => sha384_base64url,
  sha384_hex: () => sha384_hex,
  sha512_base64: () => sha512_base64,
  sha512_base64url: () => sha512_base64url,
  sha512_hex: () => sha512_hex,
  string: () => string,
  time: () => time,
  ulid: () => ulid,
  undefined: () => _undefined,
  unicodeEmail: () => unicodeEmail,
  uppercase: () => uppercase,
  uuid: () => uuid,
  uuid4: () => uuid4,
  uuid6: () => uuid6,
  uuid7: () => uuid7,
  xid: () => xid
});
var cuid = /^[cC][^\\s-]{8,}$/;
var cuid2 = /^[0-9a-z]+$/;
var ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;
var xid = /^[0-9a-vA-V]{20}$/;
var ksuid = /^[A-Za-z0-9]{27}$/;
var nanoid = /^[a-zA-Z0-9_-]{21}$/;
var duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;
var extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;
var guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;
var uuid = /* @__PURE__ */ __name((version2) => {
  if (!version2) return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;
  return new RegExp(\`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-\${version2}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$\`);
}, "uuid");
var uuid4 = /* @__PURE__ */ uuid(4);
var uuid6 = /* @__PURE__ */ uuid(6);
var uuid7 = /* @__PURE__ */ uuid(7);
var email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;
var html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_\`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;
var unicodeEmail = /^[^\\s@"]{1,64}@[^\\s@]{1,255}$/u;
var idnEmail = unicodeEmail;
var browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_\`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
var _emoji = \`^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\`;
function emoji() {
  return new RegExp(_emoji, "u");
}
__name(emoji, "emoji");
var ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;
var cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;
var cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;
var base64url = /^[A-Za-z0-9_-]*$/;
var hostname = /^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/;
var domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;
var e164 = /^\\+(?:[0-9]){6,14}[0-9]$/;
var dateSource = \`(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))\`;
var date = /* @__PURE__ */ new RegExp(\`^\${dateSource}$\`);
function timeSource(args) {
  const hhmm = \`(?:[01]\\\\d|2[0-3]):[0-5]\\\\d\`;
  const regex = typeof args.precision === "number" ? args.precision === -1 ? \`\${hhmm}\` : args.precision === 0 ? \`\${hhmm}:[0-5]\\\\d\` : \`\${hhmm}:[0-5]\\\\d\\\\.\\\\d{\${args.precision}}\` : \`\${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?\`;
  return regex;
}
__name(timeSource, "timeSource");
function time(args) {
  return new RegExp(\`^\${timeSource(args)}$\`);
}
__name(time, "time");
function datetime(args) {
  const time3 = timeSource({
    precision: args.precision
  });
  const opts = [
    "Z"
  ];
  if (args.local) opts.push("");
  if (args.offset) opts.push(\`([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)\`);
  const timeRegex2 = \`\${time3}(?:\${opts.join("|")})\`;
  return new RegExp(\`^\${dateSource}T(?:\${timeRegex2})$\`);
}
__name(datetime, "datetime");
var string = /* @__PURE__ */ __name((params) => {
  const regex = params ? \`[\\\\s\\\\S]{\${params?.minimum ?? 0},\${params?.maximum ?? ""}}\` : \`[\\\\s\\\\S]*\`;
  return new RegExp(\`^\${regex}$\`);
}, "string");
var bigint = /^-?\\d+n?$/;
var integer = /^-?\\d+$/;
var number = /^-?\\d+(?:\\.\\d+)?/;
var boolean = /^(?:true|false)$/i;
var _null = /^null$/i;
var _undefined = /^undefined$/i;
var lowercase = /^[^A-Z]*$/;
var uppercase = /^[^a-z]*$/;
var hex = /^[0-9a-fA-F]*$/;
function fixedBase64(bodyLength, padding) {
  return new RegExp(\`^[A-Za-z0-9+/]{\${bodyLength}}\${padding}$\`);
}
__name(fixedBase64, "fixedBase64");
function fixedBase64url(length) {
  return new RegExp(\`^[A-Za-z0-9_-]{\${length}}$\`);
}
__name(fixedBase64url, "fixedBase64url");
var md5_hex = /^[0-9a-fA-F]{32}$/;
var md5_base64 = /* @__PURE__ */ fixedBase64(22, "==");
var md5_base64url = /* @__PURE__ */ fixedBase64url(22);
var sha1_hex = /^[0-9a-fA-F]{40}$/;
var sha1_base64 = /* @__PURE__ */ fixedBase64(27, "=");
var sha1_base64url = /* @__PURE__ */ fixedBase64url(27);
var sha256_hex = /^[0-9a-fA-F]{64}$/;
var sha256_base64 = /* @__PURE__ */ fixedBase64(43, "=");
var sha256_base64url = /* @__PURE__ */ fixedBase64url(43);
var sha384_hex = /^[0-9a-fA-F]{96}$/;
var sha384_base64 = /* @__PURE__ */ fixedBase64(64, "");
var sha384_base64url = /* @__PURE__ */ fixedBase64url(64);
var sha512_hex = /^[0-9a-fA-F]{128}$/;
var sha512_base64 = /* @__PURE__ */ fixedBase64(86, "==");
var sha512_base64url = /* @__PURE__ */ fixedBase64url(86);

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/checks.js
var $ZodCheck = /* @__PURE__ */ $constructor("$ZodCheck", (inst, def) => {
  var _a17;
  inst._zod ?? (inst._zod = {});
  inst._zod.def = def;
  (_a17 = inst._zod).onattach ?? (_a17.onattach = []);
});
var numericOriginMap = {
  number: "number",
  bigint: "bigint",
  object: "date"
};
var $ZodCheckLessThan = /* @__PURE__ */ $constructor("$ZodCheckLessThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;
    if (def.value < curr) {
      if (def.inclusive) bag.maximum = def.value;
      else bag.exclusiveMaximum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckGreaterThan = /* @__PURE__ */ $constructor("$ZodCheckGreaterThan", (inst, def) => {
  $ZodCheck.init(inst, def);
  const origin = numericOriginMap[typeof def.value];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;
    if (def.value > curr) {
      if (def.inclusive) bag.minimum = def.value;
      else bag.exclusiveMinimum = def.value;
    }
  });
  inst._zod.check = (payload) => {
    if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {
      return;
    }
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.value,
      input: payload.value,
      inclusive: def.inclusive,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMultipleOf = /* @__PURE__ */ $constructor("$ZodCheckMultipleOf", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    var _a17;
    (_a17 = inst2._zod.bag).multipleOf ?? (_a17.multipleOf = def.value);
  });
  inst._zod.check = (payload) => {
    if (typeof payload.value !== typeof def.value) throw new Error("Cannot mix number and bigint in multiple_of check.");
    const isMultiple = typeof payload.value === "bigint" ? payload.value % def.value === BigInt(0) : floatSafeRemainder(payload.value, def.value) === 0;
    if (isMultiple) return;
    payload.issues.push({
      origin: typeof payload.value,
      code: "not_multiple_of",
      divisor: def.value,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckNumberFormat = /* @__PURE__ */ $constructor("$ZodCheckNumberFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  def.format = def.format || "float64";
  const isInt = def.format?.includes("int");
  const origin = isInt ? "int" : "number";
  const [minimum, maximum] = NUMBER_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
    if (isInt) bag.pattern = integer;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (isInt) {
      if (!Number.isInteger(input)) {
        payload.issues.push({
          expected: origin,
          format: def.format,
          code: "invalid_type",
          continue: false,
          input,
          inst
        });
        return;
      }
      if (!Number.isSafeInteger(input)) {
        if (input > 0) {
          payload.issues.push({
            input,
            code: "too_big",
            maximum: Number.MAX_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        } else {
          payload.issues.push({
            input,
            code: "too_small",
            minimum: Number.MIN_SAFE_INTEGER,
            note: "Integers must be within the safe integer range.",
            inst,
            origin,
            continue: !def.abort
          });
        }
        return;
      }
    }
    if (input < minimum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "number",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckBigIntFormat = /* @__PURE__ */ $constructor("$ZodCheckBigIntFormat", (inst, def) => {
  $ZodCheck.init(inst, def);
  const [minimum, maximum] = BIGINT_FORMAT_RANGES[def.format];
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    bag.minimum = minimum;
    bag.maximum = maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    if (input < minimum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_small",
        minimum,
        inclusive: true,
        inst,
        continue: !def.abort
      });
    }
    if (input > maximum) {
      payload.issues.push({
        origin: "bigint",
        input,
        code: "too_big",
        maximum,
        inst
      });
    }
  };
});
var $ZodCheckMaxSize = /* @__PURE__ */ $constructor("$ZodCheckMaxSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr) inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size <= def.maximum) return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinSize = /* @__PURE__ */ $constructor("$ZodCheckMinSize", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr) inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size >= def.minimum) return;
    payload.issues.push({
      origin: getSizableOrigin(input),
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckSizeEquals = /* @__PURE__ */ $constructor("$ZodCheckSizeEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.size !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.size;
    bag.maximum = def.size;
    bag.size = def.size;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const size = input.size;
    if (size === def.size) return;
    const tooBig = size > def.size;
    payload.issues.push({
      origin: getSizableOrigin(input),
      ...tooBig ? {
        code: "too_big",
        maximum: def.size
      } : {
        code: "too_small",
        minimum: def.size
      },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMaxLength = /* @__PURE__ */ $constructor("$ZodCheckMaxLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    if (def.maximum < curr) inst2._zod.bag.maximum = def.maximum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length <= def.maximum) return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_big",
      maximum: def.maximum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckMinLength = /* @__PURE__ */ $constructor("$ZodCheckMinLength", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const curr = inst2._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    if (def.minimum > curr) inst2._zod.bag.minimum = def.minimum;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length >= def.minimum) return;
    const origin = getLengthableOrigin(input);
    payload.issues.push({
      origin,
      code: "too_small",
      minimum: def.minimum,
      inclusive: true,
      input,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLengthEquals = /* @__PURE__ */ $constructor("$ZodCheckLengthEquals", (inst, def) => {
  var _a17;
  $ZodCheck.init(inst, def);
  (_a17 = inst._zod.def).when ?? (_a17.when = (payload) => {
    const val = payload.value;
    return !nullish(val) && val.length !== void 0;
  });
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.minimum = def.length;
    bag.maximum = def.length;
    bag.length = def.length;
  });
  inst._zod.check = (payload) => {
    const input = payload.value;
    const length = input.length;
    if (length === def.length) return;
    const origin = getLengthableOrigin(input);
    const tooBig = length > def.length;
    payload.issues.push({
      origin,
      ...tooBig ? {
        code: "too_big",
        maximum: def.length
      } : {
        code: "too_small",
        minimum: def.length
      },
      inclusive: true,
      exact: true,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStringFormat = /* @__PURE__ */ $constructor("$ZodCheckStringFormat", (inst, def) => {
  var _a17, _b8;
  $ZodCheck.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = def.format;
    if (def.pattern) {
      bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
      bag.patterns.add(def.pattern);
    }
  });
  if (def.pattern) (_a17 = inst._zod).check ?? (_a17.check = (payload) => {
    def.pattern.lastIndex = 0;
    if (def.pattern.test(payload.value)) return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: def.format,
      input: payload.value,
      ...def.pattern ? {
        pattern: def.pattern.toString()
      } : {},
      inst,
      continue: !def.abort
    });
  });
  else (_b8 = inst._zod).check ?? (_b8.check = () => {
  });
});
var $ZodCheckRegex = /* @__PURE__ */ $constructor("$ZodCheckRegex", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    def.pattern.lastIndex = 0;
    if (def.pattern.test(payload.value)) return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "regex",
      input: payload.value,
      pattern: def.pattern.toString(),
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckLowerCase = /* @__PURE__ */ $constructor("$ZodCheckLowerCase", (inst, def) => {
  def.pattern ?? (def.pattern = lowercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckUpperCase = /* @__PURE__ */ $constructor("$ZodCheckUpperCase", (inst, def) => {
  def.pattern ?? (def.pattern = uppercase);
  $ZodCheckStringFormat.init(inst, def);
});
var $ZodCheckIncludes = /* @__PURE__ */ $constructor("$ZodCheckIncludes", (inst, def) => {
  $ZodCheck.init(inst, def);
  const escapedRegex = escapeRegex(def.includes);
  const pattern = new RegExp(typeof def.position === "number" ? \`^.{\${def.position}}\${escapedRegex}\` : escapedRegex);
  def.pattern = pattern;
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.includes(def.includes, def.position)) return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "includes",
      includes: def.includes,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckStartsWith = /* @__PURE__ */ $constructor("$ZodCheckStartsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(\`^\${escapeRegex(def.prefix)}.*\`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.startsWith(def.prefix)) return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "starts_with",
      prefix: def.prefix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckEndsWith = /* @__PURE__ */ $constructor("$ZodCheckEndsWith", (inst, def) => {
  $ZodCheck.init(inst, def);
  const pattern = new RegExp(\`.*\${escapeRegex(def.suffix)}$\`);
  def.pattern ?? (def.pattern = pattern);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.patterns ?? (bag.patterns = /* @__PURE__ */ new Set());
    bag.patterns.add(pattern);
  });
  inst._zod.check = (payload) => {
    if (payload.value.endsWith(def.suffix)) return;
    payload.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "ends_with",
      suffix: def.suffix,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function handleCheckPropertyResult(result, payload, property) {
  if (result.issues.length) {
    payload.issues.push(...prefixIssues(property, result.issues));
  }
}
__name(handleCheckPropertyResult, "handleCheckPropertyResult");
var $ZodCheckProperty = /* @__PURE__ */ $constructor("$ZodCheckProperty", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    const result = def.schema._zod.run({
      value: payload.value[def.property],
      issues: []
    }, {});
    if (result instanceof Promise) {
      return result.then((result2) => handleCheckPropertyResult(result2, payload, def.property));
    }
    handleCheckPropertyResult(result, payload, def.property);
    return;
  };
});
var $ZodCheckMimeType = /* @__PURE__ */ $constructor("$ZodCheckMimeType", (inst, def) => {
  $ZodCheck.init(inst, def);
  const mimeSet = new Set(def.mime);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.mime = def.mime;
  });
  inst._zod.check = (payload) => {
    if (mimeSet.has(payload.value.type)) return;
    payload.issues.push({
      code: "invalid_value",
      values: def.mime,
      input: payload.value.type,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCheckOverwrite = /* @__PURE__ */ $constructor("$ZodCheckOverwrite", (inst, def) => {
  $ZodCheck.init(inst, def);
  inst._zod.check = (payload) => {
    payload.value = def.tx(payload.value);
  };
});

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/doc.js
var Doc = class {
  static {
    __name(this, "Doc");
  }
  constructor(args = []) {
    this.content = [];
    this.indent = 0;
    if (this) this.args = args;
  }
  indented(fn) {
    this.indent += 1;
    fn(this);
    this.indent -= 1;
  }
  write(arg) {
    if (typeof arg === "function") {
      arg(this, {
        execution: "sync"
      });
      arg(this, {
        execution: "async"
      });
      return;
    }
    const content = arg;
    const lines = content.split("\\n").filter((x) => x);
    const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));
    const dedented = lines.map((x) => x.slice(minIndent)).map((x) => " ".repeat(this.indent * 2) + x);
    for (const line of dedented) {
      this.content.push(line);
    }
  }
  compile() {
    const F = Function;
    const args = this?.args;
    const content = this?.content ?? [
      \`\`
    ];
    const lines = [
      ...content.map((x) => \`  \${x}\`)
    ];
    return new F(...args, lines.join("\\n"));
  }
};

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/versions.js
var version = {
  major: 4,
  minor: 1,
  patch: 11
};

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/schemas.js
var $ZodType = /* @__PURE__ */ $constructor("$ZodType", (inst, def) => {
  var _a17;
  inst ?? (inst = {});
  inst._zod.def = def;
  inst._zod.bag = inst._zod.bag || {};
  inst._zod.version = version;
  const checks = [
    ...inst._zod.def.checks ?? []
  ];
  if (inst._zod.traits.has("$ZodCheck")) {
    checks.unshift(inst);
  }
  for (const ch of checks) {
    for (const fn of ch._zod.onattach) {
      fn(inst);
    }
  }
  if (checks.length === 0) {
    (_a17 = inst._zod).deferred ?? (_a17.deferred = []);
    inst._zod.deferred?.push(() => {
      inst._zod.run = inst._zod.parse;
    });
  } else {
    const runChecks = /* @__PURE__ */ __name((payload, checks2, ctx) => {
      let isAborted2 = aborted(payload);
      let asyncResult;
      for (const ch of checks2) {
        if (ch._zod.def.when) {
          const shouldRun = ch._zod.def.when(payload);
          if (!shouldRun) continue;
        } else if (isAborted2) {
          continue;
        }
        const currLen = payload.issues.length;
        const _ = ch._zod.check(payload);
        if (_ instanceof Promise && ctx?.async === false) {
          throw new $ZodAsyncError();
        }
        if (asyncResult || _ instanceof Promise) {
          asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {
            await _;
            const nextLen = payload.issues.length;
            if (nextLen === currLen) return;
            if (!isAborted2) isAborted2 = aborted(payload, currLen);
          });
        } else {
          const nextLen = payload.issues.length;
          if (nextLen === currLen) continue;
          if (!isAborted2) isAborted2 = aborted(payload, currLen);
        }
      }
      if (asyncResult) {
        return asyncResult.then(() => {
          return payload;
        });
      }
      return payload;
    }, "runChecks");
    const handleCanaryResult = /* @__PURE__ */ __name((canary, payload, ctx) => {
      if (aborted(canary)) {
        canary.aborted = true;
        return canary;
      }
      const checkResult = runChecks(payload, checks, ctx);
      if (checkResult instanceof Promise) {
        if (ctx.async === false) throw new $ZodAsyncError();
        return checkResult.then((checkResult2) => inst._zod.parse(checkResult2, ctx));
      }
      return inst._zod.parse(checkResult, ctx);
    }, "handleCanaryResult");
    inst._zod.run = (payload, ctx) => {
      if (ctx.skipChecks) {
        return inst._zod.parse(payload, ctx);
      }
      if (ctx.direction === "backward") {
        const canary = inst._zod.parse({
          value: payload.value,
          issues: []
        }, {
          ...ctx,
          skipChecks: true
        });
        if (canary instanceof Promise) {
          return canary.then((canary2) => {
            return handleCanaryResult(canary2, payload, ctx);
          });
        }
        return handleCanaryResult(canary, payload, ctx);
      }
      const result = inst._zod.parse(payload, ctx);
      if (result instanceof Promise) {
        if (ctx.async === false) throw new $ZodAsyncError();
        return result.then((result2) => runChecks(result2, checks, ctx));
      }
      return runChecks(result, checks, ctx);
    };
  }
  inst["~standard"] = {
    validate: /* @__PURE__ */ __name((value) => {
      try {
        const r = safeParse(inst, value);
        return r.success ? {
          value: r.data
        } : {
          issues: r.error?.issues
        };
      } catch (_) {
        return safeParseAsync(inst, value).then((r) => r.success ? {
          value: r.data
        } : {
          issues: r.error?.issues
        });
      }
    }, "validate"),
    vendor: "zod",
    version: 1
  };
});
var $ZodString = /* @__PURE__ */ $constructor("$ZodString", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = [
    ...inst?._zod.bag?.patterns ?? []
  ].pop() ?? string(inst._zod.bag);
  inst._zod.parse = (payload, _) => {
    if (def.coerce) try {
      payload.value = String(payload.value);
    } catch (_2) {
    }
    if (typeof payload.value === "string") return payload;
    payload.issues.push({
      expected: "string",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodStringFormat = /* @__PURE__ */ $constructor("$ZodStringFormat", (inst, def) => {
  $ZodCheckStringFormat.init(inst, def);
  $ZodString.init(inst, def);
});
var $ZodGUID = /* @__PURE__ */ $constructor("$ZodGUID", (inst, def) => {
  def.pattern ?? (def.pattern = guid);
  $ZodStringFormat.init(inst, def);
});
var $ZodUUID = /* @__PURE__ */ $constructor("$ZodUUID", (inst, def) => {
  if (def.version) {
    const versionMap = {
      v1: 1,
      v2: 2,
      v3: 3,
      v4: 4,
      v5: 5,
      v6: 6,
      v7: 7,
      v8: 8
    };
    const v = versionMap[def.version];
    if (v === void 0) throw new Error(\`Invalid UUID version: "\${def.version}"\`);
    def.pattern ?? (def.pattern = uuid(v));
  } else def.pattern ?? (def.pattern = uuid());
  $ZodStringFormat.init(inst, def);
});
var $ZodEmail = /* @__PURE__ */ $constructor("$ZodEmail", (inst, def) => {
  def.pattern ?? (def.pattern = email);
  $ZodStringFormat.init(inst, def);
});
var $ZodURL = /* @__PURE__ */ $constructor("$ZodURL", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    try {
      const trimmed = payload.value.trim();
      const url2 = new URL(trimmed);
      if (def.hostname) {
        def.hostname.lastIndex = 0;
        if (!def.hostname.test(url2.hostname)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid hostname",
            pattern: hostname.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.protocol) {
        def.protocol.lastIndex = 0;
        if (!def.protocol.test(url2.protocol.endsWith(":") ? url2.protocol.slice(0, -1) : url2.protocol)) {
          payload.issues.push({
            code: "invalid_format",
            format: "url",
            note: "Invalid protocol",
            pattern: def.protocol.source,
            input: payload.value,
            inst,
            continue: !def.abort
          });
        }
      }
      if (def.normalize) {
        payload.value = url2.href;
      } else {
        payload.value = trimmed;
      }
      return;
    } catch (_) {
      payload.issues.push({
        code: "invalid_format",
        format: "url",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodEmoji = /* @__PURE__ */ $constructor("$ZodEmoji", (inst, def) => {
  def.pattern ?? (def.pattern = emoji());
  $ZodStringFormat.init(inst, def);
});
var $ZodNanoID = /* @__PURE__ */ $constructor("$ZodNanoID", (inst, def) => {
  def.pattern ?? (def.pattern = nanoid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID = /* @__PURE__ */ $constructor("$ZodCUID", (inst, def) => {
  def.pattern ?? (def.pattern = cuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodCUID2 = /* @__PURE__ */ $constructor("$ZodCUID2", (inst, def) => {
  def.pattern ?? (def.pattern = cuid2);
  $ZodStringFormat.init(inst, def);
});
var $ZodULID = /* @__PURE__ */ $constructor("$ZodULID", (inst, def) => {
  def.pattern ?? (def.pattern = ulid);
  $ZodStringFormat.init(inst, def);
});
var $ZodXID = /* @__PURE__ */ $constructor("$ZodXID", (inst, def) => {
  def.pattern ?? (def.pattern = xid);
  $ZodStringFormat.init(inst, def);
});
var $ZodKSUID = /* @__PURE__ */ $constructor("$ZodKSUID", (inst, def) => {
  def.pattern ?? (def.pattern = ksuid);
  $ZodStringFormat.init(inst, def);
});
var $ZodISODateTime = /* @__PURE__ */ $constructor("$ZodISODateTime", (inst, def) => {
  def.pattern ?? (def.pattern = datetime(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODate = /* @__PURE__ */ $constructor("$ZodISODate", (inst, def) => {
  def.pattern ?? (def.pattern = date);
  $ZodStringFormat.init(inst, def);
});
var $ZodISOTime = /* @__PURE__ */ $constructor("$ZodISOTime", (inst, def) => {
  def.pattern ?? (def.pattern = time(def));
  $ZodStringFormat.init(inst, def);
});
var $ZodISODuration = /* @__PURE__ */ $constructor("$ZodISODuration", (inst, def) => {
  def.pattern ?? (def.pattern = duration);
  $ZodStringFormat.init(inst, def);
});
var $ZodIPv4 = /* @__PURE__ */ $constructor("$ZodIPv4", (inst, def) => {
  def.pattern ?? (def.pattern = ipv4);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = \`ipv4\`;
  });
});
var $ZodIPv6 = /* @__PURE__ */ $constructor("$ZodIPv6", (inst, def) => {
  def.pattern ?? (def.pattern = ipv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    const bag = inst2._zod.bag;
    bag.format = \`ipv6\`;
  });
  inst._zod.check = (payload) => {
    try {
      new URL(\`http://[\${payload.value}]\`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "ipv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
var $ZodCIDRv4 = /* @__PURE__ */ $constructor("$ZodCIDRv4", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv4);
  $ZodStringFormat.init(inst, def);
});
var $ZodCIDRv6 = /* @__PURE__ */ $constructor("$ZodCIDRv6", (inst, def) => {
  def.pattern ?? (def.pattern = cidrv6);
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    const parts = payload.value.split("/");
    try {
      if (parts.length !== 2) throw new Error();
      const [address, prefix] = parts;
      if (!prefix) throw new Error();
      const prefixNum = Number(prefix);
      if (\`\${prefixNum}\` !== prefix) throw new Error();
      if (prefixNum < 0 || prefixNum > 128) throw new Error();
      new URL(\`http://[\${address}]\`);
    } catch {
      payload.issues.push({
        code: "invalid_format",
        format: "cidrv6",
        input: payload.value,
        inst,
        continue: !def.abort
      });
    }
  };
});
function isValidBase64(data) {
  if (data === "") return true;
  if (data.length % 4 !== 0) return false;
  try {
    atob(data);
    return true;
  } catch {
    return false;
  }
}
__name(isValidBase64, "isValidBase64");
var $ZodBase64 = /* @__PURE__ */ $constructor("$ZodBase64", (inst, def) => {
  def.pattern ?? (def.pattern = base64);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64(payload.value)) return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
function isValidBase64URL(data) {
  if (!base64url.test(data)) return false;
  const base643 = data.replace(/[-_]/g, (c) => c === "-" ? "+" : "/");
  const padded = base643.padEnd(Math.ceil(base643.length / 4) * 4, "=");
  return isValidBase64(padded);
}
__name(isValidBase64URL, "isValidBase64URL");
var $ZodBase64URL = /* @__PURE__ */ $constructor("$ZodBase64URL", (inst, def) => {
  def.pattern ?? (def.pattern = base64url);
  $ZodStringFormat.init(inst, def);
  inst._zod.onattach.push((inst2) => {
    inst2._zod.bag.contentEncoding = "base64url";
  });
  inst._zod.check = (payload) => {
    if (isValidBase64URL(payload.value)) return;
    payload.issues.push({
      code: "invalid_format",
      format: "base64url",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodE164 = /* @__PURE__ */ $constructor("$ZodE164", (inst, def) => {
  def.pattern ?? (def.pattern = e164);
  $ZodStringFormat.init(inst, def);
});
function isValidJWT(token, algorithm = null) {
  try {
    const tokensParts = token.split(".");
    if (tokensParts.length !== 3) return false;
    const [header] = tokensParts;
    if (!header) return false;
    const parsedHeader = JSON.parse(atob(header));
    if ("typ" in parsedHeader && parsedHeader?.typ !== "JWT") return false;
    if (!parsedHeader.alg) return false;
    if (algorithm && (!("alg" in parsedHeader) || parsedHeader.alg !== algorithm)) return false;
    return true;
  } catch {
    return false;
  }
}
__name(isValidJWT, "isValidJWT");
var $ZodJWT = /* @__PURE__ */ $constructor("$ZodJWT", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (isValidJWT(payload.value, def.alg)) return;
    payload.issues.push({
      code: "invalid_format",
      format: "jwt",
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodCustomStringFormat = /* @__PURE__ */ $constructor("$ZodCustomStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  inst._zod.check = (payload) => {
    if (def.fn(payload.value)) return;
    payload.issues.push({
      code: "invalid_format",
      format: def.format,
      input: payload.value,
      inst,
      continue: !def.abort
    });
  };
});
var $ZodNumber = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = inst._zod.bag.pattern ?? number;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) try {
      payload.value = Number(payload.value);
    } catch (_) {
    }
    const input = payload.value;
    if (typeof input === "number" && !Number.isNaN(input) && Number.isFinite(input)) {
      return payload;
    }
    const received = typeof input === "number" ? Number.isNaN(input) ? "NaN" : !Number.isFinite(input) ? "Infinity" : void 0 : void 0;
    payload.issues.push({
      expected: "number",
      code: "invalid_type",
      input,
      inst,
      ...received ? {
        received
      } : {}
    });
    return payload;
  };
});
var $ZodNumberFormat = /* @__PURE__ */ $constructor("$ZodNumber", (inst, def) => {
  $ZodCheckNumberFormat.init(inst, def);
  $ZodNumber.init(inst, def);
});
var $ZodBoolean = /* @__PURE__ */ $constructor("$ZodBoolean", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = boolean;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) try {
      payload.value = Boolean(payload.value);
    } catch (_) {
    }
    const input = payload.value;
    if (typeof input === "boolean") return payload;
    payload.issues.push({
      expected: "boolean",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodBigInt = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = bigint;
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) try {
      payload.value = BigInt(payload.value);
    } catch (_) {
    }
    if (typeof payload.value === "bigint") return payload;
    payload.issues.push({
      expected: "bigint",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodBigIntFormat = /* @__PURE__ */ $constructor("$ZodBigInt", (inst, def) => {
  $ZodCheckBigIntFormat.init(inst, def);
  $ZodBigInt.init(inst, def);
});
var $ZodSymbol = /* @__PURE__ */ $constructor("$ZodSymbol", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "symbol") return payload;
    payload.issues.push({
      expected: "symbol",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodUndefined = /* @__PURE__ */ $constructor("$ZodUndefined", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _undefined;
  inst._zod.values = /* @__PURE__ */ new Set([
    void 0
  ]);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined") return payload;
    payload.issues.push({
      expected: "undefined",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodNull = /* @__PURE__ */ $constructor("$ZodNull", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.pattern = _null;
  inst._zod.values = /* @__PURE__ */ new Set([
    null
  ]);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input === null) return payload;
    payload.issues.push({
      expected: "null",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodAny = /* @__PURE__ */ $constructor("$ZodAny", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodUnknown = /* @__PURE__ */ $constructor("$ZodUnknown", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload) => payload;
});
var $ZodNever = /* @__PURE__ */ $constructor("$ZodNever", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    payload.issues.push({
      expected: "never",
      code: "invalid_type",
      input: payload.value,
      inst
    });
    return payload;
  };
});
var $ZodVoid = /* @__PURE__ */ $constructor("$ZodVoid", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (typeof input === "undefined") return payload;
    payload.issues.push({
      expected: "void",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodDate = /* @__PURE__ */ $constructor("$ZodDate", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (def.coerce) {
      try {
        payload.value = new Date(payload.value);
      } catch (_err) {
      }
    }
    const input = payload.value;
    const isDate = input instanceof Date;
    const isValidDate = isDate && !Number.isNaN(input.getTime());
    if (isValidDate) return payload;
    payload.issues.push({
      expected: "date",
      code: "invalid_type",
      input,
      ...isDate ? {
        received: "Invalid Date"
      } : {},
      inst
    });
    return payload;
  };
});
function handleArrayResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
__name(handleArrayResult, "handleArrayResult");
var $ZodArray = /* @__PURE__ */ $constructor("$ZodArray", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        expected: "array",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = Array(input.length);
    const proms = [];
    for (let i = 0; i < input.length; i++) {
      const item = input[i];
      const result = def.element._zod.run({
        value: item,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleArrayResult(result2, payload, i)));
      } else {
        handleArrayResult(result, payload, i);
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
function handlePropertyResult(result, final, key, input) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(key, result.issues));
  }
  if (result.value === void 0) {
    if (key in input) {
      final.value[key] = void 0;
    }
  } else {
    final.value[key] = result.value;
  }
}
__name(handlePropertyResult, "handlePropertyResult");
function normalizeDef(def) {
  const keys = Object.keys(def.shape);
  for (const k of keys) {
    if (!def.shape?.[k]?._zod?.traits?.has("$ZodType")) {
      throw new Error(\`Invalid element at key "\${k}": expected a Zod schema\`);
    }
  }
  const okeys = optionalKeys(def.shape);
  return {
    ...def,
    keys,
    keySet: new Set(keys),
    numKeys: keys.length,
    optionalKeys: new Set(okeys)
  };
}
__name(normalizeDef, "normalizeDef");
function handleCatchall(proms, input, payload, ctx, def, inst) {
  const unrecognized = [];
  const keySet = def.keySet;
  const _catchall = def.catchall._zod;
  const t = _catchall.def.type;
  for (const key of Object.keys(input)) {
    if (keySet.has(key)) continue;
    if (t === "never") {
      unrecognized.push(key);
      continue;
    }
    const r = _catchall.run({
      value: input[key],
      issues: []
    }, ctx);
    if (r instanceof Promise) {
      proms.push(r.then((r2) => handlePropertyResult(r2, payload, key, input)));
    } else {
      handlePropertyResult(r, payload, key, input);
    }
  }
  if (unrecognized.length) {
    payload.issues.push({
      code: "unrecognized_keys",
      keys: unrecognized,
      input,
      inst
    });
  }
  if (!proms.length) return payload;
  return Promise.all(proms).then(() => {
    return payload;
  });
}
__name(handleCatchall, "handleCatchall");
var $ZodObject = /* @__PURE__ */ $constructor("$ZodObject", (inst, def) => {
  $ZodType.init(inst, def);
  const desc = Object.getOwnPropertyDescriptor(def, "shape");
  if (!desc?.get) {
    const sh = def.shape;
    Object.defineProperty(def, "shape", {
      get: /* @__PURE__ */ __name(() => {
        const newSh = {
          ...sh
        };
        Object.defineProperty(def, "shape", {
          value: newSh
        });
        return newSh;
      }, "get")
    });
  }
  const _normalized = cached(() => normalizeDef(def));
  defineLazy(inst._zod, "propValues", () => {
    const shape = def.shape;
    const propValues = {};
    for (const key in shape) {
      const field = shape[key]._zod;
      if (field.values) {
        propValues[key] ?? (propValues[key] = /* @__PURE__ */ new Set());
        for (const v of field.values) propValues[key].add(v);
      }
    }
    return propValues;
  });
  const isObject2 = isObject;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    payload.value = {};
    const proms = [];
    const shape = value.shape;
    for (const key of value.keys) {
      const el = shape[key];
      const r = el._zod.run({
        value: input[key],
        issues: []
      }, ctx);
      if (r instanceof Promise) {
        proms.push(r.then((r2) => handlePropertyResult(r2, payload, key, input)));
      } else {
        handlePropertyResult(r, payload, key, input);
      }
    }
    if (!catchall) {
      return proms.length ? Promise.all(proms).then(() => payload) : payload;
    }
    return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);
  };
});
var $ZodObjectJIT = /* @__PURE__ */ $constructor("$ZodObjectJIT", (inst, def) => {
  $ZodObject.init(inst, def);
  const superParse = inst._zod.parse;
  const _normalized = cached(() => normalizeDef(def));
  const generateFastpass = /* @__PURE__ */ __name((shape) => {
    const doc = new Doc([
      "shape",
      "payload",
      "ctx"
    ]);
    const normalized = _normalized.value;
    const parseStr = /* @__PURE__ */ __name((key) => {
      const k = esc(key);
      return \`shape[\${k}]._zod.run({ value: input[\${k}], issues: [] }, ctx)\`;
    }, "parseStr");
    doc.write(\`const input = payload.value;\`);
    const ids = /* @__PURE__ */ Object.create(null);
    let counter = 0;
    for (const key of normalized.keys) {
      ids[key] = \`key_\${counter++}\`;
    }
    doc.write(\`const newResult = {};\`);
    for (const key of normalized.keys) {
      const id = ids[key];
      const k = esc(key);
      doc.write(\`const \${id} = \${parseStr(key)};\`);
      doc.write(\`
        if (\${id}.issues.length) {
          payload.issues = payload.issues.concat(\${id}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [\${k}, ...iss.path] : [\${k}]
          })));
        }
        
        
        if (\${id}.value === undefined) {
          if (\${k} in input) {
            newResult[\${k}] = undefined;
          }
        } else {
          newResult[\${k}] = \${id}.value;
        }
        
      \`);
    }
    doc.write(\`payload.value = newResult;\`);
    doc.write(\`return payload;\`);
    const fn = doc.compile();
    return (payload, ctx) => fn(shape, payload, ctx);
  }, "generateFastpass");
  let fastpass;
  const isObject2 = isObject;
  const jit = !globalConfig.jitless;
  const allowsEval2 = allowsEval;
  const fastEnabled = jit && allowsEval2.value;
  const catchall = def.catchall;
  let value;
  inst._zod.parse = (payload, ctx) => {
    value ?? (value = _normalized.value);
    const input = payload.value;
    if (!isObject2(input)) {
      payload.issues.push({
        expected: "object",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {
      if (!fastpass) fastpass = generateFastpass(def.shape);
      payload = fastpass(payload, ctx);
      if (!catchall) return payload;
      return handleCatchall([], input, payload, ctx, value, inst);
    }
    return superParse(payload, ctx);
  };
});
function handleUnionResults(results, final, inst, ctx) {
  for (const result of results) {
    if (result.issues.length === 0) {
      final.value = result.value;
      return final;
    }
  }
  const nonaborted = results.filter((r) => !aborted(r));
  if (nonaborted.length === 1) {
    final.value = nonaborted[0].value;
    return nonaborted[0];
  }
  final.issues.push({
    code: "invalid_union",
    input: final.value,
    inst,
    errors: results.map((result) => result.issues.map((iss) => finalizeIssue(iss, ctx, config())))
  });
  return final;
}
__name(handleUnionResults, "handleUnionResults");
var $ZodUnion = /* @__PURE__ */ $constructor("$ZodUnion", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.options.some((o) => o._zod.optin === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "optout", () => def.options.some((o) => o._zod.optout === "optional") ? "optional" : void 0);
  defineLazy(inst._zod, "values", () => {
    if (def.options.every((o) => o._zod.values)) {
      return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));
    }
    return void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    if (def.options.every((o) => o._zod.pattern)) {
      const patterns = def.options.map((o) => o._zod.pattern);
      return new RegExp(\`^(\${patterns.map((p) => cleanRegex(p.source)).join("|")})$\`);
    }
    return void 0;
  });
  const single = def.options.length === 1;
  const first = def.options[0]._zod.run;
  inst._zod.parse = (payload, ctx) => {
    if (single) {
      return first(payload, ctx);
    }
    let async = false;
    const results = [];
    for (const option of def.options) {
      const result = option._zod.run({
        value: payload.value,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        results.push(result);
        async = true;
      } else {
        if (result.issues.length === 0) return result;
        results.push(result);
      }
    }
    if (!async) return handleUnionResults(results, payload, inst, ctx);
    return Promise.all(results).then((results2) => {
      return handleUnionResults(results2, payload, inst, ctx);
    });
  };
});
var $ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("$ZodDiscriminatedUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  const _super = inst._zod.parse;
  defineLazy(inst._zod, "propValues", () => {
    const propValues = {};
    for (const option of def.options) {
      const pv = option._zod.propValues;
      if (!pv || Object.keys(pv).length === 0) throw new Error(\`Invalid discriminated union option at index "\${def.options.indexOf(option)}"\`);
      for (const [k, v] of Object.entries(pv)) {
        if (!propValues[k]) propValues[k] = /* @__PURE__ */ new Set();
        for (const val of v) {
          propValues[k].add(val);
        }
      }
    }
    return propValues;
  });
  const disc = cached(() => {
    const opts = def.options;
    const map2 = /* @__PURE__ */ new Map();
    for (const o of opts) {
      const values = o._zod.propValues?.[def.discriminator];
      if (!values || values.size === 0) throw new Error(\`Invalid discriminated union option at index "\${def.options.indexOf(o)}"\`);
      for (const v of values) {
        if (map2.has(v)) {
          throw new Error(\`Duplicate discriminator value "\${String(v)}"\`);
        }
        map2.set(v, o);
      }
    }
    return map2;
  });
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isObject(input)) {
      payload.issues.push({
        code: "invalid_type",
        expected: "object",
        input,
        inst
      });
      return payload;
    }
    const opt = disc.value.get(input?.[def.discriminator]);
    if (opt) {
      return opt._zod.run(payload, ctx);
    }
    if (def.unionFallback) {
      return _super(payload, ctx);
    }
    payload.issues.push({
      code: "invalid_union",
      errors: [],
      note: "No matching discriminator",
      discriminator: def.discriminator,
      input,
      path: [
        def.discriminator
      ],
      inst
    });
    return payload;
  };
});
var $ZodIntersection = /* @__PURE__ */ $constructor("$ZodIntersection", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    const left = def.left._zod.run({
      value: input,
      issues: []
    }, ctx);
    const right = def.right._zod.run({
      value: input,
      issues: []
    }, ctx);
    const async = left instanceof Promise || right instanceof Promise;
    if (async) {
      return Promise.all([
        left,
        right
      ]).then(([left2, right2]) => {
        return handleIntersectionResults(payload, left2, right2);
      });
    }
    return handleIntersectionResults(payload, left, right);
  };
});
function mergeValues(a, b) {
  if (a === b) {
    return {
      valid: true,
      data: a
    };
  }
  if (a instanceof Date && b instanceof Date && +a === +b) {
    return {
      valid: true,
      data: a
    };
  }
  if (isPlainObject(a) && isPlainObject(b)) {
    const bKeys = Object.keys(b);
    const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = {
      ...a,
      ...b
    };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues(a[key], b[key]);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [
            key,
            ...sharedValue.mergeErrorPath
          ]
        };
      }
      newObj[key] = sharedValue.data;
    }
    return {
      valid: true,
      data: newObj
    };
  }
  if (Array.isArray(a) && Array.isArray(b)) {
    if (a.length !== b.length) {
      return {
        valid: false,
        mergeErrorPath: []
      };
    }
    const newArray = [];
    for (let index = 0; index < a.length; index++) {
      const itemA = a[index];
      const itemB = b[index];
      const sharedValue = mergeValues(itemA, itemB);
      if (!sharedValue.valid) {
        return {
          valid: false,
          mergeErrorPath: [
            index,
            ...sharedValue.mergeErrorPath
          ]
        };
      }
      newArray.push(sharedValue.data);
    }
    return {
      valid: true,
      data: newArray
    };
  }
  return {
    valid: false,
    mergeErrorPath: []
  };
}
__name(mergeValues, "mergeValues");
function handleIntersectionResults(result, left, right) {
  if (left.issues.length) {
    result.issues.push(...left.issues);
  }
  if (right.issues.length) {
    result.issues.push(...right.issues);
  }
  if (aborted(result)) return result;
  const merged = mergeValues(left.value, right.value);
  if (!merged.valid) {
    throw new Error(\`Unmergable intersection. Error path: \${JSON.stringify(merged.mergeErrorPath)}\`);
  }
  result.value = merged.data;
  return result;
}
__name(handleIntersectionResults, "handleIntersectionResults");
var $ZodTuple = /* @__PURE__ */ $constructor("$ZodTuple", (inst, def) => {
  $ZodType.init(inst, def);
  const items = def.items;
  const optStart = items.length - [
    ...items
  ].reverse().findIndex((item) => item._zod.optin !== "optional");
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!Array.isArray(input)) {
      payload.issues.push({
        input,
        inst,
        expected: "tuple",
        code: "invalid_type"
      });
      return payload;
    }
    payload.value = [];
    const proms = [];
    if (!def.rest) {
      const tooBig = input.length > items.length;
      const tooSmall = input.length < optStart - 1;
      if (tooBig || tooSmall) {
        payload.issues.push({
          ...tooBig ? {
            code: "too_big",
            maximum: items.length
          } : {
            code: "too_small",
            minimum: items.length
          },
          input,
          inst,
          origin: "array"
        });
        return payload;
      }
    }
    let i = -1;
    for (const item of items) {
      i++;
      if (i >= input.length) {
        if (i >= optStart) continue;
      }
      const result = item._zod.run({
        value: input[i],
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleTupleResult(result2, payload, i)));
      } else {
        handleTupleResult(result, payload, i);
      }
    }
    if (def.rest) {
      const rest = input.slice(items.length);
      for (const el of rest) {
        i++;
        const result = def.rest._zod.run({
          value: el,
          issues: []
        }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => handleTupleResult(result2, payload, i)));
        } else {
          handleTupleResult(result, payload, i);
        }
      }
    }
    if (proms.length) return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleTupleResult(result, final, index) {
  if (result.issues.length) {
    final.issues.push(...prefixIssues(index, result.issues));
  }
  final.value[index] = result.value;
}
__name(handleTupleResult, "handleTupleResult");
var $ZodRecord = /* @__PURE__ */ $constructor("$ZodRecord", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!isPlainObject(input)) {
      payload.issues.push({
        expected: "record",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    if (def.keyType._zod.values) {
      const values = def.keyType._zod.values;
      payload.value = {};
      for (const key of values) {
        if (typeof key === "string" || typeof key === "number" || typeof key === "symbol") {
          const result = def.valueType._zod.run({
            value: input[key],
            issues: []
          }, ctx);
          if (result instanceof Promise) {
            proms.push(result.then((result2) => {
              if (result2.issues.length) {
                payload.issues.push(...prefixIssues(key, result2.issues));
              }
              payload.value[key] = result2.value;
            }));
          } else {
            if (result.issues.length) {
              payload.issues.push(...prefixIssues(key, result.issues));
            }
            payload.value[key] = result.value;
          }
        }
      }
      let unrecognized;
      for (const key in input) {
        if (!values.has(key)) {
          unrecognized = unrecognized ?? [];
          unrecognized.push(key);
        }
      }
      if (unrecognized && unrecognized.length > 0) {
        payload.issues.push({
          code: "unrecognized_keys",
          input,
          inst,
          keys: unrecognized
        });
      }
    } else {
      payload.value = {};
      for (const key of Reflect.ownKeys(input)) {
        if (key === "__proto__") continue;
        const keyResult = def.keyType._zod.run({
          value: key,
          issues: []
        }, ctx);
        if (keyResult instanceof Promise) {
          throw new Error("Async schemas not supported in object keys currently");
        }
        if (keyResult.issues.length) {
          payload.issues.push({
            code: "invalid_key",
            origin: "record",
            issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config())),
            input: key,
            path: [
              key
            ],
            inst
          });
          payload.value[keyResult.value] = keyResult.value;
          continue;
        }
        const result = def.valueType._zod.run({
          value: input[key],
          issues: []
        }, ctx);
        if (result instanceof Promise) {
          proms.push(result.then((result2) => {
            if (result2.issues.length) {
              payload.issues.push(...prefixIssues(key, result2.issues));
            }
            payload.value[keyResult.value] = result2.value;
          }));
        } else {
          if (result.issues.length) {
            payload.issues.push(...prefixIssues(key, result.issues));
          }
          payload.value[keyResult.value] = result.value;
        }
      }
    }
    if (proms.length) {
      return Promise.all(proms).then(() => payload);
    }
    return payload;
  };
});
var $ZodMap = /* @__PURE__ */ $constructor("$ZodMap", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Map)) {
      payload.issues.push({
        expected: "map",
        code: "invalid_type",
        input,
        inst
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Map();
    for (const [key, value] of input) {
      const keyResult = def.keyType._zod.run({
        value: key,
        issues: []
      }, ctx);
      const valueResult = def.valueType._zod.run({
        value,
        issues: []
      }, ctx);
      if (keyResult instanceof Promise || valueResult instanceof Promise) {
        proms.push(Promise.all([
          keyResult,
          valueResult
        ]).then(([keyResult2, valueResult2]) => {
          handleMapResult(keyResult2, valueResult2, payload, key, input, inst, ctx);
        }));
      } else {
        handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);
      }
    }
    if (proms.length) return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {
  if (keyResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, keyResult.issues));
    } else {
      final.issues.push({
        code: "invalid_key",
        origin: "map",
        input,
        inst,
        issues: keyResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  if (valueResult.issues.length) {
    if (propertyKeyTypes.has(typeof key)) {
      final.issues.push(...prefixIssues(key, valueResult.issues));
    } else {
      final.issues.push({
        origin: "map",
        code: "invalid_element",
        input,
        inst,
        key,
        issues: valueResult.issues.map((iss) => finalizeIssue(iss, ctx, config()))
      });
    }
  }
  final.value.set(keyResult.value, valueResult.value);
}
__name(handleMapResult, "handleMapResult");
var $ZodSet = /* @__PURE__ */ $constructor("$ZodSet", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    const input = payload.value;
    if (!(input instanceof Set)) {
      payload.issues.push({
        input,
        inst,
        expected: "set",
        code: "invalid_type"
      });
      return payload;
    }
    const proms = [];
    payload.value = /* @__PURE__ */ new Set();
    for (const item of input) {
      const result = def.valueType._zod.run({
        value: item,
        issues: []
      }, ctx);
      if (result instanceof Promise) {
        proms.push(result.then((result2) => handleSetResult(result2, payload)));
      } else handleSetResult(result, payload);
    }
    if (proms.length) return Promise.all(proms).then(() => payload);
    return payload;
  };
});
function handleSetResult(result, final) {
  if (result.issues.length) {
    final.issues.push(...result.issues);
  }
  final.value.add(result.value);
}
__name(handleSetResult, "handleSetResult");
var $ZodEnum = /* @__PURE__ */ $constructor("$ZodEnum", (inst, def) => {
  $ZodType.init(inst, def);
  const values = getEnumValues(def.entries);
  const valuesSet = new Set(values);
  inst._zod.values = valuesSet;
  inst._zod.pattern = new RegExp(\`^(\${values.filter((k) => propertyKeyTypes.has(typeof k)).map((o) => typeof o === "string" ? escapeRegex(o) : o.toString()).join("|")})$\`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (valuesSet.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodLiteral = /* @__PURE__ */ $constructor("$ZodLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  if (def.values.length === 0) {
    throw new Error("Cannot create literal schema with no valid values");
  }
  inst._zod.values = new Set(def.values);
  inst._zod.pattern = new RegExp(\`^(\${def.values.map((o) => typeof o === "string" ? escapeRegex(o) : o ? escapeRegex(o.toString()) : String(o)).join("|")})$\`);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (inst._zod.values.has(input)) {
      return payload;
    }
    payload.issues.push({
      code: "invalid_value",
      values: def.values,
      input,
      inst
    });
    return payload;
  };
});
var $ZodFile = /* @__PURE__ */ $constructor("$ZodFile", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    const input = payload.value;
    if (input instanceof File) return payload;
    payload.issues.push({
      expected: "file",
      code: "invalid_type",
      input,
      inst
    });
    return payload;
  };
});
var $ZodTransform = /* @__PURE__ */ $constructor("$ZodTransform", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    const _out = def.transform(payload.value, payload);
    if (ctx.async) {
      const output = _out instanceof Promise ? _out : Promise.resolve(_out);
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    if (_out instanceof Promise) {
      throw new $ZodAsyncError();
    }
    payload.value = _out;
    return payload;
  };
});
function handleOptionalResult(result, input) {
  if (result.issues.length && input === void 0) {
    return {
      issues: [],
      value: void 0
    };
  }
  return result;
}
__name(handleOptionalResult, "handleOptionalResult");
var $ZodOptional = /* @__PURE__ */ $constructor("$ZodOptional", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  inst._zod.optout = "optional";
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([
      ...def.innerType._zod.values,
      void 0
    ]) : void 0;
  });
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(\`^(\${cleanRegex(pattern.source)})?$\`) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (def.innerType._zod.optin === "optional") {
      const result = def.innerType._zod.run(payload, ctx);
      if (result instanceof Promise) return result.then((r) => handleOptionalResult(r, payload.value));
      return handleOptionalResult(result, payload.value);
    }
    if (payload.value === void 0) {
      return payload;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNullable = /* @__PURE__ */ $constructor("$ZodNullable", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "pattern", () => {
    const pattern = def.innerType._zod.pattern;
    return pattern ? new RegExp(\`^(\${cleanRegex(pattern.source)}|null)$\`) : void 0;
  });
  defineLazy(inst._zod, "values", () => {
    return def.innerType._zod.values ? /* @__PURE__ */ new Set([
      ...def.innerType._zod.values,
      null
    ]) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    if (payload.value === null) return payload;
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodDefault = /* @__PURE__ */ $constructor("$ZodDefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
      return payload;
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleDefaultResult(result2, def));
    }
    return handleDefaultResult(result, def);
  };
});
function handleDefaultResult(payload, def) {
  if (payload.value === void 0) {
    payload.value = def.defaultValue;
  }
  return payload;
}
__name(handleDefaultResult, "handleDefaultResult");
var $ZodPrefault = /* @__PURE__ */ $constructor("$ZodPrefault", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.optin = "optional";
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    if (payload.value === void 0) {
      payload.value = def.defaultValue;
    }
    return def.innerType._zod.run(payload, ctx);
  };
});
var $ZodNonOptional = /* @__PURE__ */ $constructor("$ZodNonOptional", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => {
    const v = def.innerType._zod.values;
    return v ? new Set([
      ...v
    ].filter((x) => x !== void 0)) : void 0;
  });
  inst._zod.parse = (payload, ctx) => {
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => handleNonOptionalResult(result2, inst));
    }
    return handleNonOptionalResult(result, inst);
  };
});
function handleNonOptionalResult(payload, inst) {
  if (!payload.issues.length && payload.value === void 0) {
    payload.issues.push({
      code: "invalid_type",
      expected: "nonoptional",
      input: payload.value,
      inst
    });
  }
  return payload;
}
__name(handleNonOptionalResult, "handleNonOptionalResult");
var $ZodSuccess = /* @__PURE__ */ $constructor("$ZodSuccess", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      throw new $ZodEncodeError("ZodSuccess");
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.issues.length === 0;
        return payload;
      });
    }
    payload.value = result.issues.length === 0;
    return payload;
  };
});
var $ZodCatch = /* @__PURE__ */ $constructor("$ZodCatch", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then((result2) => {
        payload.value = result2.value;
        if (result2.issues.length) {
          payload.value = def.catchValue({
            ...payload,
            error: {
              issues: result2.issues.map((iss) => finalizeIssue(iss, ctx, config()))
            },
            input: payload.value
          });
          payload.issues = [];
        }
        return payload;
      });
    }
    payload.value = result.value;
    if (result.issues.length) {
      payload.value = def.catchValue({
        ...payload,
        error: {
          issues: result.issues.map((iss) => finalizeIssue(iss, ctx, config()))
        },
        input: payload.value
      });
      payload.issues = [];
    }
    return payload;
  };
});
var $ZodNaN = /* @__PURE__ */ $constructor("$ZodNaN", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "number" || !Number.isNaN(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "nan",
        code: "invalid_type"
      });
      return payload;
    }
    return payload;
  };
});
var $ZodPipe = /* @__PURE__ */ $constructor("$ZodPipe", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handlePipeResult(right2, def.in, ctx));
      }
      return handlePipeResult(right, def.in, ctx);
    }
    const left = def.in._zod.run(payload, ctx);
    if (left instanceof Promise) {
      return left.then((left2) => handlePipeResult(left2, def.out, ctx));
    }
    return handlePipeResult(left, def.out, ctx);
  };
});
function handlePipeResult(left, next, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return next._zod.run({
    value: left.value,
    issues: left.issues
  }, ctx);
}
__name(handlePipeResult, "handlePipeResult");
var $ZodCodec = /* @__PURE__ */ $constructor("$ZodCodec", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "values", () => def.in._zod.values);
  defineLazy(inst._zod, "optin", () => def.in._zod.optin);
  defineLazy(inst._zod, "optout", () => def.out._zod.optout);
  defineLazy(inst._zod, "propValues", () => def.in._zod.propValues);
  inst._zod.parse = (payload, ctx) => {
    const direction = ctx.direction || "forward";
    if (direction === "forward") {
      const left = def.in._zod.run(payload, ctx);
      if (left instanceof Promise) {
        return left.then((left2) => handleCodecAResult(left2, def, ctx));
      }
      return handleCodecAResult(left, def, ctx);
    } else {
      const right = def.out._zod.run(payload, ctx);
      if (right instanceof Promise) {
        return right.then((right2) => handleCodecAResult(right2, def, ctx));
      }
      return handleCodecAResult(right, def, ctx);
    }
  };
});
function handleCodecAResult(result, def, ctx) {
  if (result.issues.length) {
    result.aborted = true;
    return result;
  }
  const direction = ctx.direction || "forward";
  if (direction === "forward") {
    const transformed = def.transform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));
    }
    return handleCodecTxResult(result, transformed, def.out, ctx);
  } else {
    const transformed = def.reverseTransform(result.value, result);
    if (transformed instanceof Promise) {
      return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));
    }
    return handleCodecTxResult(result, transformed, def.in, ctx);
  }
}
__name(handleCodecAResult, "handleCodecAResult");
function handleCodecTxResult(left, value, nextSchema, ctx) {
  if (left.issues.length) {
    left.aborted = true;
    return left;
  }
  return nextSchema._zod.run({
    value,
    issues: left.issues
  }, ctx);
}
__name(handleCodecTxResult, "handleCodecTxResult");
var $ZodReadonly = /* @__PURE__ */ $constructor("$ZodReadonly", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "propValues", () => def.innerType._zod.propValues);
  defineLazy(inst._zod, "values", () => def.innerType._zod.values);
  defineLazy(inst._zod, "optin", () => def.innerType._zod.optin);
  defineLazy(inst._zod, "optout", () => def.innerType._zod.optout);
  inst._zod.parse = (payload, ctx) => {
    if (ctx.direction === "backward") {
      return def.innerType._zod.run(payload, ctx);
    }
    const result = def.innerType._zod.run(payload, ctx);
    if (result instanceof Promise) {
      return result.then(handleReadonlyResult);
    }
    return handleReadonlyResult(result);
  };
});
function handleReadonlyResult(payload) {
  payload.value = Object.freeze(payload.value);
  return payload;
}
__name(handleReadonlyResult, "handleReadonlyResult");
var $ZodTemplateLiteral = /* @__PURE__ */ $constructor("$ZodTemplateLiteral", (inst, def) => {
  $ZodType.init(inst, def);
  const regexParts = [];
  for (const part of def.parts) {
    if (typeof part === "object" && part !== null) {
      if (!part._zod.pattern) {
        throw new Error(\`Invalid template literal part, no pattern found: \${[
          ...part._zod.traits
        ].shift()}\`);
      }
      const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;
      if (!source) throw new Error(\`Invalid template literal part: \${part._zod.traits}\`);
      const start = source.startsWith("^") ? 1 : 0;
      const end = source.endsWith("$") ? source.length - 1 : source.length;
      regexParts.push(source.slice(start, end));
    } else if (part === null || primitiveTypes.has(typeof part)) {
      regexParts.push(escapeRegex(\`\${part}\`));
    } else {
      throw new Error(\`Invalid template literal part: \${part}\`);
    }
  }
  inst._zod.pattern = new RegExp(\`^\${regexParts.join("")}$\`);
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "string") {
      payload.issues.push({
        input: payload.value,
        inst,
        expected: "template_literal",
        code: "invalid_type"
      });
      return payload;
    }
    inst._zod.pattern.lastIndex = 0;
    if (!inst._zod.pattern.test(payload.value)) {
      payload.issues.push({
        input: payload.value,
        inst,
        code: "invalid_format",
        format: def.format ?? "template_literal",
        pattern: inst._zod.pattern.source
      });
      return payload;
    }
    return payload;
  };
});
var $ZodFunction = /* @__PURE__ */ $constructor("$ZodFunction", (inst, def) => {
  $ZodType.init(inst, def);
  inst._def = def;
  inst._zod.def = def;
  inst.implement = (func) => {
    if (typeof func !== "function") {
      throw new Error("implement() must be called with a function");
    }
    return function(...args) {
      const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;
      const result = Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return parse(inst._def.output, result);
      }
      return result;
    };
  };
  inst.implementAsync = (func) => {
    if (typeof func !== "function") {
      throw new Error("implementAsync() must be called with a function");
    }
    return async function(...args) {
      const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;
      const result = await Reflect.apply(func, this, parsedArgs);
      if (inst._def.output) {
        return await parseAsync(inst._def.output, result);
      }
      return result;
    };
  };
  inst._zod.parse = (payload, _ctx) => {
    if (typeof payload.value !== "function") {
      payload.issues.push({
        code: "invalid_type",
        expected: "function",
        input: payload.value,
        inst
      });
      return payload;
    }
    const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === "promise";
    if (hasPromiseOutput) {
      payload.value = inst.implementAsync(payload.value);
    } else {
      payload.value = inst.implement(payload.value);
    }
    return payload;
  };
  inst.input = (...args) => {
    const F = inst.constructor;
    if (Array.isArray(args[0])) {
      return new F({
        type: "function",
        input: new $ZodTuple({
          type: "tuple",
          items: args[0],
          rest: args[1]
        }),
        output: inst._def.output
      });
    }
    return new F({
      type: "function",
      input: args[0],
      output: inst._def.output
    });
  };
  inst.output = (output) => {
    const F = inst.constructor;
    return new F({
      type: "function",
      input: inst._def.input,
      output
    });
  };
  return inst;
});
var $ZodPromise = /* @__PURE__ */ $constructor("$ZodPromise", (inst, def) => {
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, ctx) => {
    return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({
      value: inner,
      issues: []
    }, ctx));
  };
});
var $ZodLazy = /* @__PURE__ */ $constructor("$ZodLazy", (inst, def) => {
  $ZodType.init(inst, def);
  defineLazy(inst._zod, "innerType", () => def.getter());
  defineLazy(inst._zod, "pattern", () => inst._zod.innerType._zod.pattern);
  defineLazy(inst._zod, "propValues", () => inst._zod.innerType._zod.propValues);
  defineLazy(inst._zod, "optin", () => inst._zod.innerType._zod.optin ?? void 0);
  defineLazy(inst._zod, "optout", () => inst._zod.innerType._zod.optout ?? void 0);
  inst._zod.parse = (payload, ctx) => {
    const inner = inst._zod.innerType;
    return inner._zod.run(payload, ctx);
  };
});
var $ZodCustom = /* @__PURE__ */ $constructor("$ZodCustom", (inst, def) => {
  $ZodCheck.init(inst, def);
  $ZodType.init(inst, def);
  inst._zod.parse = (payload, _) => {
    return payload;
  };
  inst._zod.check = (payload) => {
    const input = payload.value;
    const r = def.fn(input);
    if (r instanceof Promise) {
      return r.then((r2) => handleRefineResult(r2, payload, input, inst));
    }
    handleRefineResult(r, payload, input, inst);
    return;
  };
});
function handleRefineResult(result, payload, input, inst) {
  if (!result) {
    const _iss = {
      code: "custom",
      input,
      inst,
      path: [
        ...inst._zod.def.path ?? []
      ],
      continue: !inst._zod.def.abort
    };
    if (inst._zod.def.params) _iss.params = inst._zod.def.params;
    payload.issues.push(issue(_iss));
  }
}
__name(handleRefineResult, "handleRefineResult");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/index.js
var locales_exports = {};
__export(locales_exports, {
  ar: () => ar_default,
  az: () => az_default,
  be: () => be_default,
  ca: () => ca_default,
  cs: () => cs_default,
  da: () => da_default,
  de: () => de_default,
  en: () => en_default,
  eo: () => eo_default,
  es: () => es_default,
  fa: () => fa_default,
  fi: () => fi_default,
  fr: () => fr_default,
  frCA: () => fr_CA_default,
  he: () => he_default,
  hu: () => hu_default,
  id: () => id_default,
  is: () => is_default,
  it: () => it_default,
  ja: () => ja_default,
  ka: () => ka_default,
  kh: () => kh_default,
  km: () => km_default,
  ko: () => ko_default,
  lt: () => lt_default,
  mk: () => mk_default,
  ms: () => ms_default,
  nl: () => nl_default,
  no: () => no_default,
  ota: () => ota_default,
  pl: () => pl_default,
  ps: () => ps_default,
  pt: () => pt_default,
  ru: () => ru_default,
  sl: () => sl_default,
  sv: () => sv_default,
  ta: () => ta_default,
  th: () => th_default,
  tr: () => tr_default,
  ua: () => ua_default,
  uk: () => uk_default,
  ur: () => ur_default,
  vi: () => vi_default,
  yo: () => yo_default,
  zhCN: () => zh_CN_default,
  zhTW: () => zh_TW_default
});

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ar.js
var error = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u062D\\u0631\\u0641",
      verb: "\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"
    },
    file: {
      unit: "\\u0628\\u0627\\u064A\\u062A",
      verb: "\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"
    },
    array: {
      unit: "\\u0639\\u0646\\u0635\\u0631",
      verb: "\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"
    },
    set: {
      unit: "\\u0639\\u0646\\u0635\\u0631",
      verb: "\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0645\\u062F\\u062E\\u0644",
    email: "\\u0628\\u0631\\u064A\\u062F \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A",
    url: "\\u0631\\u0627\\u0628\\u0637",
    emoji: "\\u0625\\u064A\\u0645\\u0648\\u062C\\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u062A\\u0627\\u0631\\u064A\\u062E \\u0648\\u0648\\u0642\\u062A \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",
    date: "\\u062A\\u0627\\u0631\\u064A\\u062E \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",
    time: "\\u0648\\u0642\\u062A \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",
    duration: "\\u0645\\u062F\\u0629 \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",
    ipv4: "\\u0639\\u0646\\u0648\\u0627\\u0646 IPv4",
    ipv6: "\\u0639\\u0646\\u0648\\u0627\\u0646 IPv6",
    cidrv4: "\\u0645\\u062F\\u0649 \\u0639\\u0646\\u0627\\u0648\\u064A\\u0646 \\u0628\\u0635\\u064A\\u063A\\u0629 IPv4",
    cidrv6: "\\u0645\\u062F\\u0649 \\u0639\\u0646\\u0627\\u0648\\u064A\\u0646 \\u0628\\u0635\\u064A\\u063A\\u0629 IPv6",
    base64: "\\u0646\\u064E\\u0635 \\u0628\\u062A\\u0631\\u0645\\u064A\\u0632 base64-encoded",
    base64url: "\\u0646\\u064E\\u0635 \\u0628\\u062A\\u0631\\u0645\\u064A\\u0632 base64url-encoded",
    json_string: "\\u0646\\u064E\\u0635 \\u0639\\u0644\\u0649 \\u0647\\u064A\\u0626\\u0629 JSON",
    e164: "\\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 E.164",
    jwt: "JWT",
    template_literal: "\\u0645\\u062F\\u062E\\u0644"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0645\\u062F\\u062E\\u0644\\u0627\\u062A \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644\\u0629: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0625\\u062F\\u062E\\u0627\\u0644 \${issue2.expected}\\u060C \\u0648\\u0644\\u0643\\u0646 \\u062A\\u0645 \\u0625\\u062F\\u062E\\u0627\\u0644 \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u0645\\u062F\\u062E\\u0644\\u0627\\u062A \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644\\u0629: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0625\\u062F\\u062E\\u0627\\u0644 \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062A\\u0648\\u0642\\u0639 \\u0627\\u0646\\u062A\\u0642\\u0627\\u0621 \\u0623\\u062D\\u062F \\u0647\\u0630\\u0647 \\u0627\\u0644\\u062E\\u064A\\u0627\\u0631\\u0627\\u062A: \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \` \\u0623\\u0643\\u0628\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0623\\u0646 \\u062A\\u0643\\u0648\\u0646 \${issue2.origin ?? "\\u0627\\u0644\\u0642\\u064A\\u0645\\u0629"} \${adj} \${issue2.maximum.toString()} \${sizing.unit ?? "\\u0639\\u0646\\u0635\\u0631"}\`;
        return \`\\u0623\\u0643\\u0628\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0623\\u0646 \\u062A\\u0643\\u0648\\u0646 \${issue2.origin ?? "\\u0627\\u0644\\u0642\\u064A\\u0645\\u0629"} \${adj} \${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0623\\u0635\\u063A\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0644\\u0640 \${issue2.origin} \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 \${adj} \${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u0623\\u0635\\u063A\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0644\\u0640 \${issue2.origin} \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 \${adj} \${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0628\\u062F\\u0623 \\u0628\\u0640 "\${issue2.prefix}"\`;
        if (_issue.format === "ends_with") return \`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0646\\u062A\\u0647\\u064A \\u0628\\u0640 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u062A\\u0636\\u0645\\u0651\\u064E\\u0646 "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0637\\u0627\\u0628\\u0642 \\u0627\\u0644\\u0646\\u0645\\u0637 \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644\`;
      }
      case "not_multiple_of":
        return \`\\u0631\\u0642\\u0645 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 \\u0645\\u0646 \\u0645\\u0636\\u0627\\u0639\\u0641\\u0627\\u062A \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\u0645\\u0639\\u0631\\u0641\${issue2.keys.length > 1 ? "\\u0627\\u062A" : ""} \\u063A\\u0631\\u064A\\u0628\${issue2.keys.length > 1 ? "\\u0629" : ""}: \${joinValues(issue2.keys, "\\u060C ")}\`;
      case "invalid_key":
        return \`\\u0645\\u0639\\u0631\\u0641 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644 \\u0641\\u064A \${issue2.origin}\`;
      case "invalid_union":
        return "\\u0645\\u062F\\u062E\\u0644 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644";
      case "invalid_element":
        return \`\\u0645\\u062F\\u062E\\u0644 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644 \\u0641\\u064A \${issue2.origin}\`;
      default:
        return "\\u0645\\u062F\\u062E\\u0644 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644";
    }
  };
}, "error");
function ar_default() {
  return {
    localeError: error()
  };
}
__name(ar_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/az.js
var error2 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "simvol",
      verb: "olmal\\u0131d\\u0131r"
    },
    file: {
      unit: "bayt",
      verb: "olmal\\u0131d\\u0131r"
    },
    array: {
      unit: "element",
      verb: "olmal\\u0131d\\u0131r"
    },
    set: {
      unit: "element",
      verb: "olmal\\u0131d\\u0131r"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Yanl\\u0131\\u015F d\\u0259y\\u0259r: g\\xF6zl\\u0259nil\\u0259n \${issue2.expected}, daxil olan \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Yanl\\u0131\\u015F d\\u0259y\\u0259r: g\\xF6zl\\u0259nil\\u0259n \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Yanl\\u0131\\u015F se\\xE7im: a\\u015Fa\\u011F\\u0131dak\\u0131lardan biri olmal\\u0131d\\u0131r: \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\xC7ox b\\xF6y\\xFCk: g\\xF6zl\\u0259nil\\u0259n \${issue2.origin ?? "d\\u0259y\\u0259r"} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "element"}\`;
        return \`\\xC7ox b\\xF6y\\xFCk: g\\xF6zl\\u0259nil\\u0259n \${issue2.origin ?? "d\\u0259y\\u0259r"} \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\xC7ox ki\\xE7ik: g\\xF6zl\\u0259nil\\u0259n \${issue2.origin} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        return \`\\xC7ox ki\\xE7ik: g\\xF6zl\\u0259nil\\u0259n \${issue2.origin} \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Yanl\\u0131\\u015F m\\u0259tn: "\${_issue.prefix}" il\\u0259 ba\\u015Flamal\\u0131d\\u0131r\`;
        if (_issue.format === "ends_with") return \`Yanl\\u0131\\u015F m\\u0259tn: "\${_issue.suffix}" il\\u0259 bitm\\u0259lidir\`;
        if (_issue.format === "includes") return \`Yanl\\u0131\\u015F m\\u0259tn: "\${_issue.includes}" daxil olmal\\u0131d\\u0131r\`;
        if (_issue.format === "regex") return \`Yanl\\u0131\\u015F m\\u0259tn: \${_issue.pattern} \\u015Fablonuna uy\\u011Fun olmal\\u0131d\\u0131r\`;
        return \`Yanl\\u0131\\u015F \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Yanl\\u0131\\u015F \\u0259d\\u0259d: \${issue2.divisor} il\\u0259 b\\xF6l\\xFCn\\u0259 bil\\u0259n olmal\\u0131d\\u0131r\`;
      case "unrecognized_keys":
        return \`Tan\\u0131nmayan a\\xE7ar\${issue2.keys.length > 1 ? "lar" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\${issue2.origin} daxilind\\u0259 yanl\\u0131\\u015F a\\xE7ar\`;
      case "invalid_union":
        return "Yanl\\u0131\\u015F d\\u0259y\\u0259r";
      case "invalid_element":
        return \`\${issue2.origin} daxilind\\u0259 yanl\\u0131\\u015F d\\u0259y\\u0259r\`;
      default:
        return \`Yanl\\u0131\\u015F d\\u0259y\\u0259r\`;
    }
  };
}, "error");
function az_default() {
  return {
    localeError: error2()
  };
}
__name(az_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/be.js
function getBelarusianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
__name(getBelarusianPlural, "getBelarusianPlural");
var error3 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: {
        one: "\\u0441\\u0456\\u043C\\u0432\\u0430\\u043B",
        few: "\\u0441\\u0456\\u043C\\u0432\\u0430\\u043B\\u044B",
        many: "\\u0441\\u0456\\u043C\\u0432\\u0430\\u043B\\u0430\\u045E"
      },
      verb: "\\u043C\\u0435\\u0446\\u044C"
    },
    array: {
      unit: {
        one: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",
        few: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u044B",
        many: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430\\u045E"
      },
      verb: "\\u043C\\u0435\\u0446\\u044C"
    },
    set: {
      unit: {
        one: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",
        few: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u044B",
        many: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430\\u045E"
      },
      verb: "\\u043C\\u0435\\u0446\\u044C"
    },
    file: {
      unit: {
        one: "\\u0431\\u0430\\u0439\\u0442",
        few: "\\u0431\\u0430\\u0439\\u0442\\u044B",
        many: "\\u0431\\u0430\\u0439\\u0442\\u0430\\u045E"
      },
      verb: "\\u043C\\u0435\\u0446\\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u043B\\u0456\\u043A";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u043C\\u0430\\u0441\\u0456\\u045E";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0443\\u0432\\u043E\\u0434",
    email: "email \\u0430\\u0434\\u0440\\u0430\\u0441",
    url: "URL",
    emoji: "\\u044D\\u043C\\u043E\\u0434\\u0437\\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \\u0434\\u0430\\u0442\\u0430 \\u0456 \\u0447\\u0430\\u0441",
    date: "ISO \\u0434\\u0430\\u0442\\u0430",
    time: "ISO \\u0447\\u0430\\u0441",
    duration: "ISO \\u043F\\u0440\\u0430\\u0446\\u044F\\u0433\\u043B\\u0430\\u0441\\u0446\\u044C",
    ipv4: "IPv4 \\u0430\\u0434\\u0440\\u0430\\u0441",
    ipv6: "IPv6 \\u0430\\u0434\\u0440\\u0430\\u0441",
    cidrv4: "IPv4 \\u0434\\u044B\\u044F\\u043F\\u0430\\u0437\\u043E\\u043D",
    cidrv6: "IPv6 \\u0434\\u044B\\u044F\\u043F\\u0430\\u0437\\u043E\\u043D",
    base64: "\\u0440\\u0430\\u0434\\u043E\\u043A \\u0443 \\u0444\\u0430\\u0440\\u043C\\u0430\\u0446\\u0435 base64",
    base64url: "\\u0440\\u0430\\u0434\\u043E\\u043A \\u0443 \\u0444\\u0430\\u0440\\u043C\\u0430\\u0446\\u0435 base64url",
    json_string: "JSON \\u0440\\u0430\\u0434\\u043E\\u043A",
    e164: "\\u043D\\u0443\\u043C\\u0430\\u0440 E.164",
    jwt: "JWT",
    template_literal: "\\u0443\\u0432\\u043E\\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434: \\u0447\\u0430\\u043A\\u0430\\u045E\\u0441\\u044F \${issue2.expected}, \\u0430\\u0442\\u0440\\u044B\\u043C\\u0430\\u043D\\u0430 \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0432\\u0430\\u0440\\u044B\\u044F\\u043D\\u0442: \\u0447\\u0430\\u043A\\u0430\\u045E\\u0441\\u044F \\u0430\\u0434\\u0437\\u0456\\u043D \\u0437 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u0432\\u044F\\u043B\\u0456\\u043A\\u0456: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E \${issue2.origin ?? "\\u0437\\u043D\\u0430\\u0447\\u044D\\u043D\\u043D\\u0435"} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 \${sizing.verb} \${adj}\${issue2.maximum.toString()} \${unit}\`;
        }
        return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u0432\\u044F\\u043B\\u0456\\u043A\\u0456: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E \${issue2.origin ?? "\\u0437\\u043D\\u0430\\u0447\\u044D\\u043D\\u043D\\u0435"} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 \\u0431\\u044B\\u0446\\u044C \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u043C\\u0430\\u043B\\u044B: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E \${issue2.origin} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 \${sizing.verb} \${adj}\${issue2.minimum.toString()} \${unit}\`;
        }
        return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u043C\\u0430\\u043B\\u044B: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E \${issue2.origin} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 \\u0431\\u044B\\u0446\\u044C \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u043F\\u0430\\u0447\\u044B\\u043D\\u0430\\u0446\\u0446\\u0430 \\u0437 "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0437\\u0430\\u043A\\u0430\\u043D\\u0447\\u0432\\u0430\\u0446\\u0446\\u0430 \\u043D\\u0430 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0437\\u043C\\u044F\\u0448\\u0447\\u0430\\u0446\\u044C "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0430\\u0434\\u043F\\u0430\\u0432\\u044F\\u0434\\u0430\\u0446\\u044C \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 \${_issue.pattern}\`;
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u043B\\u0456\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0431\\u044B\\u0446\\u044C \\u043A\\u0440\\u0430\\u0442\\u043D\\u044B\\u043C \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\u041D\\u0435\\u0440\\u0430\\u0441\\u043F\\u0430\\u0437\\u043D\\u0430\\u043D\\u044B \${issue2.keys.length > 1 ? "\\u043A\\u043B\\u044E\\u0447\\u044B" : "\\u043A\\u043B\\u044E\\u0447"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u043A\\u043B\\u044E\\u0447 \\u0443 \${issue2.origin}\`;
      case "invalid_union":
        return "\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434";
      case "invalid_element":
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u0430\\u0435 \\u0437\\u043D\\u0430\\u0447\\u044D\\u043D\\u043D\\u0435 \\u045E \${issue2.origin}\`;
      default:
        return \`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434\`;
    }
  };
}, "error");
function be_default() {
  return {
    localeError: error3()
  };
}
__name(be_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ca.js
var error4 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "car\\xE0cters",
      verb: "contenir"
    },
    file: {
      unit: "bytes",
      verb: "contenir"
    },
    array: {
      unit: "elements",
      verb: "contenir"
    },
    set: {
      unit: "elements",
      verb: "contenir"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "entrada",
    email: "adre\\xE7a electr\\xF2nica",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "durada ISO",
    ipv4: "adre\\xE7a IPv4",
    ipv6: "adre\\xE7a IPv6",
    cidrv4: "rang IPv4",
    cidrv6: "rang IPv6",
    base64: "cadena codificada en base64",
    base64url: "cadena codificada en base64url",
    json_string: "cadena JSON",
    e164: "n\\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Tipus inv\\xE0lid: s'esperava \${issue2.expected}, s'ha rebut \${parsedType7(issue2.input)}\`;
      // return \`Tipus invlid: s'esperava \${issue.expected}, s'ha rebut \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Valor inv\\xE0lid: s'esperava \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Opci\\xF3 inv\\xE0lida: s'esperava una de \${joinValues(issue2.values, " o ")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "com a m\\xE0xim" : "menys de";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Massa gran: s'esperava que \${issue2.origin ?? "el valor"} contingu\\xE9s \${adj} \${issue2.maximum.toString()} \${sizing.unit ?? "elements"}\`;
        return \`Massa gran: s'esperava que \${issue2.origin ?? "el valor"} fos \${adj} \${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "com a m\\xEDnim" : "m\\xE9s de";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Massa petit: s'esperava que \${issue2.origin} contingu\\xE9s \${adj} \${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Massa petit: s'esperava que \${issue2.origin} fos \${adj} \${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Format inv\\xE0lid: ha de comen\\xE7ar amb "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`Format inv\\xE0lid: ha d'acabar amb "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Format inv\\xE0lid: ha d'incloure "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Format inv\\xE0lid: ha de coincidir amb el patr\\xF3 \${_issue.pattern}\`;
        return \`Format inv\\xE0lid per a \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`N\\xFAmero inv\\xE0lid: ha de ser m\\xFAltiple de \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Clau\${issue2.keys.length > 1 ? "s" : ""} no reconeguda\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Clau inv\\xE0lida a \${issue2.origin}\`;
      case "invalid_union":
        return "Entrada inv\\xE0lida";
      // Could also be "Tipus d'uni invlid" but "Entrada invlida" is more general
      case "invalid_element":
        return \`Element inv\\xE0lid a \${issue2.origin}\`;
      default:
        return \`Entrada inv\\xE0lida\`;
    }
  };
}, "error");
function ca_default() {
  return {
    localeError: error4()
  };
}
__name(ca_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/cs.js
var error5 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "znak\\u016F",
      verb: "m\\xEDt"
    },
    file: {
      unit: "bajt\\u016F",
      verb: "m\\xEDt"
    },
    array: {
      unit: "prvk\\u016F",
      verb: "m\\xEDt"
    },
    set: {
      unit: "prvk\\u016F",
      verb: "m\\xEDt"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u010D\\xEDslo";
      }
      case "string": {
        return "\\u0159et\\u011Bzec";
      }
      case "boolean": {
        return "boolean";
      }
      case "bigint": {
        return "bigint";
      }
      case "function": {
        return "funkce";
      }
      case "symbol": {
        return "symbol";
      }
      case "undefined": {
        return "undefined";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "pole";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "regul\\xE1rn\\xED v\\xFDraz",
    email: "e-mailov\\xE1 adresa",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "datum a \\u010Das ve form\\xE1tu ISO",
    date: "datum ve form\\xE1tu ISO",
    time: "\\u010Das ve form\\xE1tu ISO",
    duration: "doba trv\\xE1n\\xED ISO",
    ipv4: "IPv4 adresa",
    ipv6: "IPv6 adresa",
    cidrv4: "rozsah IPv4",
    cidrv6: "rozsah IPv6",
    base64: "\\u0159et\\u011Bzec zak\\xF3dovan\\xFD ve form\\xE1tu base64",
    base64url: "\\u0159et\\u011Bzec zak\\xF3dovan\\xFD ve form\\xE1tu base64url",
    json_string: "\\u0159et\\u011Bzec ve form\\xE1tu JSON",
    e164: "\\u010D\\xEDslo E.164",
    jwt: "JWT",
    template_literal: "vstup"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Neplatn\\xFD vstup: o\\u010Dek\\xE1v\\xE1no \${issue2.expected}, obdr\\u017Eeno \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Neplatn\\xFD vstup: o\\u010Dek\\xE1v\\xE1no \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Neplatn\\xE1 mo\\u017Enost: o\\u010Dek\\xE1v\\xE1na jedna z hodnot \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Hodnota je p\\u0159\\xEDli\\u0161 velk\\xE1: \${issue2.origin ?? "hodnota"} mus\\xED m\\xEDt \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "prvk\\u016F"}\`;
        }
        return \`Hodnota je p\\u0159\\xEDli\\u0161 velk\\xE1: \${issue2.origin ?? "hodnota"} mus\\xED b\\xFDt \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Hodnota je p\\u0159\\xEDli\\u0161 mal\\xE1: \${issue2.origin ?? "hodnota"} mus\\xED m\\xEDt \${adj}\${issue2.minimum.toString()} \${sizing.unit ?? "prvk\\u016F"}\`;
        }
        return \`Hodnota je p\\u0159\\xEDli\\u0161 mal\\xE1: \${issue2.origin ?? "hodnota"} mus\\xED b\\xFDt \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED za\\u010D\\xEDnat na "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED kon\\u010Dit na "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED obsahovat "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED odpov\\xEDdat vzoru \${_issue.pattern}\`;
        return \`Neplatn\\xFD form\\xE1t \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Neplatn\\xE9 \\u010D\\xEDslo: mus\\xED b\\xFDt n\\xE1sobkem \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Nezn\\xE1m\\xE9 kl\\xED\\u010De: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Neplatn\\xFD kl\\xED\\u010D v \${issue2.origin}\`;
      case "invalid_union":
        return "Neplatn\\xFD vstup";
      case "invalid_element":
        return \`Neplatn\\xE1 hodnota v \${issue2.origin}\`;
      default:
        return \`Neplatn\\xFD vstup\`;
    }
  };
}, "error");
function cs_default() {
  return {
    localeError: error5()
  };
}
__name(cs_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/da.js
var error6 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "tegn",
      verb: "havde"
    },
    file: {
      unit: "bytes",
      verb: "havde"
    },
    array: {
      unit: "elementer",
      verb: "indeholdt"
    },
    set: {
      unit: "elementer",
      verb: "indeholdt"
    }
  };
  const TypeNames = {
    string: "streng",
    number: "tal",
    boolean: "boolean",
    array: "liste",
    object: "objekt",
    set: "s\\xE6t",
    file: "fil"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  __name(getTypeName, "getTypeName");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
        return "objekt";
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "input",
    email: "e-mailadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkesl\\xE6t",
    date: "ISO-dato",
    time: "ISO-klokkesl\\xE6t",
    duration: "ISO-varighed",
    ipv4: "IPv4-omr\\xE5de",
    ipv6: "IPv6-omr\\xE5de",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodet streng",
    base64url: "base64url-kodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Ugyldigt input: forventede \${getTypeName(issue2.expected)}, fik \${getTypeName(parsedType7(issue2.input))}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Ugyldig v\\xE6rdi: forventede \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Ugyldigt valg: forventede en af f\\xF8lgende \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) return \`For stor: forventede \${origin ?? "value"} \${sizing.verb} \${adj} \${issue2.maximum.toString()} \${sizing.unit ?? "elementer"}\`;
        return \`For stor: forventede \${origin ?? "value"} havde \${adj} \${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return \`For lille: forventede \${origin} \${sizing.verb} \${adj} \${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`For lille: forventede \${origin} havde \${adj} \${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Ugyldig streng: skal starte med "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Ugyldig streng: skal ende med "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Ugyldig streng: skal indeholde "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Ugyldig streng: skal matche m\\xF8nsteret \${_issue.pattern}\`;
        return \`Ugyldig \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Ugyldigt tal: skal v\\xE6re deleligt med \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\${issue2.keys.length > 1 ? "Ukendte n\\xF8gler" : "Ukendt n\\xF8gle"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Ugyldig n\\xF8gle i \${issue2.origin}\`;
      case "invalid_union":
        return "Ugyldigt input: matcher ingen af de tilladte typer";
      case "invalid_element":
        return \`Ugyldig v\\xE6rdi i \${issue2.origin}\`;
      default:
        return \`Ugyldigt input\`;
    }
  };
}, "error");
function da_default() {
  return {
    localeError: error6()
  };
}
__name(da_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/de.js
var error7 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "Zeichen",
      verb: "zu haben"
    },
    file: {
      unit: "Bytes",
      verb: "zu haben"
    },
    array: {
      unit: "Elemente",
      verb: "zu haben"
    },
    set: {
      unit: "Elemente",
      verb: "zu haben"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "Zahl";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "Array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "Eingabe",
    email: "E-Mail-Adresse",
    url: "URL",
    emoji: "Emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-Datum und -Uhrzeit",
    date: "ISO-Datum",
    time: "ISO-Uhrzeit",
    duration: "ISO-Dauer",
    ipv4: "IPv4-Adresse",
    ipv6: "IPv6-Adresse",
    cidrv4: "IPv4-Bereich",
    cidrv6: "IPv6-Bereich",
    base64: "Base64-codierter String",
    base64url: "Base64-URL-codierter String",
    json_string: "JSON-String",
    e164: "E.164-Nummer",
    jwt: "JWT",
    template_literal: "Eingabe"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Ung\\xFCltige Eingabe: erwartet \${issue2.expected}, erhalten \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Ung\\xFCltige Eingabe: erwartet \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Ung\\xFCltige Option: erwartet eine von \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Zu gro\\xDF: erwartet, dass \${issue2.origin ?? "Wert"} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "Elemente"} hat\`;
        return \`Zu gro\\xDF: erwartet, dass \${issue2.origin ?? "Wert"} \${adj}\${issue2.maximum.toString()} ist\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Zu klein: erwartet, dass \${issue2.origin} \${adj}\${issue2.minimum.toString()} \${sizing.unit} hat\`;
        }
        return \`Zu klein: erwartet, dass \${issue2.origin} \${adj}\${issue2.minimum.toString()} ist\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Ung\\xFCltiger String: muss mit "\${_issue.prefix}" beginnen\`;
        if (_issue.format === "ends_with") return \`Ung\\xFCltiger String: muss mit "\${_issue.suffix}" enden\`;
        if (_issue.format === "includes") return \`Ung\\xFCltiger String: muss "\${_issue.includes}" enthalten\`;
        if (_issue.format === "regex") return \`Ung\\xFCltiger String: muss dem Muster \${_issue.pattern} entsprechen\`;
        return \`Ung\\xFCltig: \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Ung\\xFCltige Zahl: muss ein Vielfaches von \${issue2.divisor} sein\`;
      case "unrecognized_keys":
        return \`\${issue2.keys.length > 1 ? "Unbekannte Schl\\xFCssel" : "Unbekannter Schl\\xFCssel"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Ung\\xFCltiger Schl\\xFCssel in \${issue2.origin}\`;
      case "invalid_union":
        return "Ung\\xFCltige Eingabe";
      case "invalid_element":
        return \`Ung\\xFCltiger Wert in \${issue2.origin}\`;
      default:
        return \`Ung\\xFCltige Eingabe\`;
    }
  };
}, "error");
function de_default() {
  return {
    localeError: error7()
  };
}
__name(de_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/en.js
var parsedType = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t;
}, "parsedType");
var error8 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "characters",
      verb: "to have"
    },
    file: {
      unit: "bytes",
      verb: "to have"
    },
    array: {
      unit: "items",
      verb: "to have"
    },
    set: {
      unit: "items",
      verb: "to have"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const Nouns = {
    regex: "input",
    email: "email address",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datetime",
    date: "ISO date",
    time: "ISO time",
    duration: "ISO duration",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded string",
    base64url: "base64url-encoded string",
    json_string: "JSON string",
    e164: "E.164 number",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Invalid input: expected \${issue2.expected}, received \${parsedType(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Invalid input: expected \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Invalid option: expected one of \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Too big: expected \${issue2.origin ?? "value"} to have \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elements"}\`;
        return \`Too big: expected \${issue2.origin ?? "value"} to be \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Too small: expected \${issue2.origin} to have \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Too small: expected \${issue2.origin} to be \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Invalid string: must start with "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`Invalid string: must end with "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Invalid string: must include "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Invalid string: must match pattern \${_issue.pattern}\`;
        return \`Invalid \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Invalid number: must be a multiple of \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Unrecognized key\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Invalid key in \${issue2.origin}\`;
      case "invalid_union":
        return "Invalid input";
      case "invalid_element":
        return \`Invalid value in \${issue2.origin}\`;
      default:
        return \`Invalid input\`;
    }
  };
}, "error");
function en_default() {
  return {
    localeError: error8()
  };
}
__name(en_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/eo.js
var parsedType2 = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "nombro";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "tabelo";
      }
      if (data === null) {
        return "senvalora";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t;
}, "parsedType");
var error9 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "karaktrojn",
      verb: "havi"
    },
    file: {
      unit: "bajtojn",
      verb: "havi"
    },
    array: {
      unit: "elementojn",
      verb: "havi"
    },
    set: {
      unit: "elementojn",
      verb: "havi"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const Nouns = {
    regex: "enigo",
    email: "retadreso",
    url: "URL",
    emoji: "emo\\u011Dio",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datotempo",
    date: "ISO-dato",
    time: "ISO-tempo",
    duration: "ISO-da\\u016Dro",
    ipv4: "IPv4-adreso",
    ipv6: "IPv6-adreso",
    cidrv4: "IPv4-rango",
    cidrv6: "IPv6-rango",
    base64: "64-ume kodita karaktraro",
    base64url: "URL-64-ume kodita karaktraro",
    json_string: "JSON-karaktraro",
    e164: "E.164-nombro",
    jwt: "JWT",
    template_literal: "enigo"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Nevalida enigo: atendi\\u011Dis \${issue2.expected}, ricevi\\u011Dis \${parsedType2(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Nevalida enigo: atendi\\u011Dis \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Nevalida opcio: atendi\\u011Dis unu el \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Tro granda: atendi\\u011Dis ke \${issue2.origin ?? "valoro"} havu \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementojn"}\`;
        return \`Tro granda: atendi\\u011Dis ke \${issue2.origin ?? "valoro"} havu \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Tro malgranda: atendi\\u011Dis ke \${issue2.origin} havu \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Tro malgranda: atendi\\u011Dis ke \${issue2.origin} estu \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Nevalida karaktraro: devas komenci\\u011Di per "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Nevalida karaktraro: devas fini\\u011Di per "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Nevalida karaktraro: devas inkluzivi "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Nevalida karaktraro: devas kongrui kun la modelo \${_issue.pattern}\`;
        return \`Nevalida \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Nevalida nombro: devas esti oblo de \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Nekonata\${issue2.keys.length > 1 ? "j" : ""} \\u015Dlosilo\${issue2.keys.length > 1 ? "j" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Nevalida \\u015Dlosilo en \${issue2.origin}\`;
      case "invalid_union":
        return "Nevalida enigo";
      case "invalid_element":
        return \`Nevalida valoro en \${issue2.origin}\`;
      default:
        return \`Nevalida enigo\`;
    }
  };
}, "error");
function eo_default() {
  return {
    localeError: error9()
  };
}
__name(eo_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/es.js
var error10 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "caracteres",
      verb: "tener"
    },
    file: {
      unit: "bytes",
      verb: "tener"
    },
    array: {
      unit: "elementos",
      verb: "tener"
    },
    set: {
      unit: "elementos",
      verb: "tener"
    }
  };
  const TypeNames = {
    string: "texto",
    number: "n\\xFAmero",
    boolean: "booleano",
    array: "arreglo",
    object: "objeto",
    set: "conjunto",
    file: "archivo",
    date: "fecha",
    bigint: "n\\xFAmero grande",
    symbol: "s\\xEDmbolo",
    undefined: "indefinido",
    null: "nulo",
    function: "funci\\xF3n",
    map: "mapa",
    record: "registro",
    tuple: "tupla",
    enum: "enumeraci\\xF3n",
    union: "uni\\xF3n",
    literal: "literal",
    promise: "promesa",
    void: "vac\\xEDo",
    never: "nunca",
    unknown: "desconocido",
    any: "cualquiera"
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  function getTypeName(type) {
    return TypeNames[type] ?? type;
  }
  __name(getTypeName, "getTypeName");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype) {
          return data.constructor.name;
        }
        return "object";
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "entrada",
    email: "direcci\\xF3n de correo electr\\xF3nico",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "fecha y hora ISO",
    date: "fecha ISO",
    time: "hora ISO",
    duration: "duraci\\xF3n ISO",
    ipv4: "direcci\\xF3n IPv4",
    ipv6: "direcci\\xF3n IPv6",
    cidrv4: "rango IPv4",
    cidrv6: "rango IPv6",
    base64: "cadena codificada en base64",
    base64url: "URL codificada en base64",
    json_string: "cadena JSON",
    e164: "n\\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Entrada inv\\xE1lida: se esperaba \${getTypeName(issue2.expected)}, recibido \${getTypeName(parsedType7(issue2.input))}\`;
      // return \`Entrada invlida: se esperaba \${issue.expected}, recibido \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Entrada inv\\xE1lida: se esperaba \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Opci\\xF3n inv\\xE1lida: se esperaba una de \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) return \`Demasiado grande: se esperaba que \${origin ?? "valor"} tuviera \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementos"}\`;
        return \`Demasiado grande: se esperaba que \${origin ?? "valor"} fuera \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        const origin = getTypeName(issue2.origin);
        if (sizing) {
          return \`Demasiado peque\\xF1o: se esperaba que \${origin} tuviera \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Demasiado peque\\xF1o: se esperaba que \${origin} fuera \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Cadena inv\\xE1lida: debe comenzar con "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Cadena inv\\xE1lida: debe terminar en "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Cadena inv\\xE1lida: debe incluir "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Cadena inv\\xE1lida: debe coincidir con el patr\\xF3n \${_issue.pattern}\`;
        return \`Inv\\xE1lido \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`N\\xFAmero inv\\xE1lido: debe ser m\\xFAltiplo de \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Llave\${issue2.keys.length > 1 ? "s" : ""} desconocida\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Llave inv\\xE1lida en \${getTypeName(issue2.origin)}\`;
      case "invalid_union":
        return "Entrada inv\\xE1lida";
      case "invalid_element":
        return \`Valor inv\\xE1lido en \${getTypeName(issue2.origin)}\`;
      default:
        return \`Entrada inv\\xE1lida\`;
    }
  };
}, "error");
function es_default() {
  return {
    localeError: error10()
  };
}
__name(es_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/fa.js
var error11 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u06A9\\u0627\\u0631\\u0627\\u06A9\\u062A\\u0631",
      verb: "\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"
    },
    file: {
      unit: "\\u0628\\u0627\\u06CC\\u062A",
      verb: "\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"
    },
    array: {
      unit: "\\u0622\\u06CC\\u062A\\u0645",
      verb: "\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"
    },
    set: {
      unit: "\\u0622\\u06CC\\u062A\\u0645",
      verb: "\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0639\\u062F\\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u0622\\u0631\\u0627\\u06CC\\u0647";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0648\\u0631\\u0648\\u062F\\u06CC",
    email: "\\u0622\\u062F\\u0631\\u0633 \\u0627\\u06CC\\u0645\\u06CC\\u0644",
    url: "URL",
    emoji: "\\u0627\\u06CC\\u0645\\u0648\\u062C\\u06CC",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0648 \\u0632\\u0645\\u0627\\u0646 \\u0627\\u06CC\\u0632\\u0648",
    date: "\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0627\\u06CC\\u0632\\u0648",
    time: "\\u0632\\u0645\\u0627\\u0646 \\u0627\\u06CC\\u0632\\u0648",
    duration: "\\u0645\\u062F\\u062A \\u0632\\u0645\\u0627\\u0646 \\u0627\\u06CC\\u0632\\u0648",
    ipv4: "IPv4 \\u0622\\u062F\\u0631\\u0633",
    ipv6: "IPv6 \\u0622\\u062F\\u0631\\u0633",
    cidrv4: "IPv4 \\u062F\\u0627\\u0645\\u0646\\u0647",
    cidrv6: "IPv6 \\u062F\\u0627\\u0645\\u0646\\u0647",
    base64: "base64-encoded \\u0631\\u0634\\u062A\\u0647",
    base64url: "base64url-encoded \\u0631\\u0634\\u062A\\u0647",
    json_string: "JSON \\u0631\\u0634\\u062A\\u0647",
    e164: "E.164 \\u0639\\u062F\\u062F",
    jwt: "JWT",
    template_literal: "\\u0648\\u0631\\u0648\\u062F\\u06CC"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0645\\u06CC\\u200C\\u0628\\u0627\\u06CC\\u0633\\u062A \${issue2.expected} \\u0645\\u06CC\\u200C\\u0628\\u0648\\u062F\\u060C \${parsedType7(issue2.input)} \\u062F\\u0631\\u06CC\\u0627\\u0641\\u062A \\u0634\\u062F\`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return \`\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0645\\u06CC\\u200C\\u0628\\u0627\\u06CC\\u0633\\u062A \${stringifyPrimitive(issue2.values[0])} \\u0645\\u06CC\\u200C\\u0628\\u0648\\u062F\`;
        }
        return \`\\u06AF\\u0632\\u06CC\\u0646\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0645\\u06CC\\u200C\\u0628\\u0627\\u06CC\\u0633\\u062A \\u06CC\\u06A9\\u06CC \\u0627\\u0632 \${joinValues(issue2.values, "|")} \\u0645\\u06CC\\u200C\\u0628\\u0648\\u062F\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u062E\\u06CC\\u0644\\u06CC \\u0628\\u0632\\u0631\\u06AF: \${issue2.origin ?? "\\u0645\\u0642\\u062F\\u0627\\u0631"} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u0639\\u0646\\u0635\\u0631"} \\u0628\\u0627\\u0634\\u062F\`;
        }
        return \`\\u062E\\u06CC\\u0644\\u06CC \\u0628\\u0632\\u0631\\u06AF: \${issue2.origin ?? "\\u0645\\u0642\\u062F\\u0627\\u0631"} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.maximum.toString()} \\u0628\\u0627\\u0634\\u062F\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u062E\\u06CC\\u0644\\u06CC \\u06A9\\u0648\\u0686\\u06A9: \${issue2.origin} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.minimum.toString()} \${sizing.unit} \\u0628\\u0627\\u0634\\u062F\`;
        }
        return \`\\u062E\\u06CC\\u0644\\u06CC \\u06A9\\u0648\\u0686\\u06A9: \${issue2.origin} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.minimum.toString()} \\u0628\\u0627\\u0634\\u062F\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 "\${_issue.prefix}" \\u0634\\u0631\\u0648\\u0639 \\u0634\\u0648\\u062F\`;
        }
        if (_issue.format === "ends_with") {
          return \`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 "\${_issue.suffix}" \\u062A\\u0645\\u0627\\u0645 \\u0634\\u0648\\u062F\`;
        }
        if (_issue.format === "includes") {
          return \`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0634\\u0627\\u0645\\u0644 "\${_issue.includes}" \\u0628\\u0627\\u0634\\u062F\`;
        }
        if (_issue.format === "regex") {
          return \`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 \\u0627\\u0644\\u06AF\\u0648\\u06CC \${_issue.pattern} \\u0645\\u0637\\u0627\\u0628\\u0642\\u062A \\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F\`;
        }
        return \`\${Nouns[_issue.format] ?? issue2.format} \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631\`;
      }
      case "not_multiple_of":
        return \`\\u0639\\u062F\\u062F \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0645\\u0636\\u0631\\u0628 \${issue2.divisor} \\u0628\\u0627\\u0634\\u062F\`;
      case "unrecognized_keys":
        return \`\\u06A9\\u0644\\u06CC\\u062F\${issue2.keys.length > 1 ? "\\u0647\\u0627\\u06CC" : ""} \\u0646\\u0627\\u0634\\u0646\\u0627\\u0633: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u06A9\\u0644\\u06CC\\u062F \\u0646\\u0627\\u0634\\u0646\\u0627\\u0633 \\u062F\\u0631 \${issue2.origin}\`;
      case "invalid_union":
        return \`\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631\`;
      case "invalid_element":
        return \`\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631 \\u062F\\u0631 \${issue2.origin}\`;
      default:
        return \`\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631\`;
    }
  };
}, "error");
function fa_default() {
  return {
    localeError: error11()
  };
}
__name(fa_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/fi.js
var error12 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "merkki\\xE4",
      subject: "merkkijonon"
    },
    file: {
      unit: "tavua",
      subject: "tiedoston"
    },
    array: {
      unit: "alkiota",
      subject: "listan"
    },
    set: {
      unit: "alkiota",
      subject: "joukon"
    },
    number: {
      unit: "",
      subject: "luvun"
    },
    bigint: {
      unit: "",
      subject: "suuren kokonaisluvun"
    },
    int: {
      unit: "",
      subject: "kokonaisluvun"
    },
    date: {
      unit: "",
      subject: "p\\xE4iv\\xE4m\\xE4\\xE4r\\xE4n"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "s\\xE4\\xE4nn\\xF6llinen lauseke",
    email: "s\\xE4hk\\xF6postiosoite",
    url: "URL-osoite",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-aikaleima",
    date: "ISO-p\\xE4iv\\xE4m\\xE4\\xE4r\\xE4",
    time: "ISO-aika",
    duration: "ISO-kesto",
    ipv4: "IPv4-osoite",
    ipv6: "IPv6-osoite",
    cidrv4: "IPv4-alue",
    cidrv6: "IPv6-alue",
    base64: "base64-koodattu merkkijono",
    base64url: "base64url-koodattu merkkijono",
    json_string: "JSON-merkkijono",
    e164: "E.164-luku",
    jwt: "JWT",
    template_literal: "templaattimerkkijono"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Virheellinen tyyppi: odotettiin \${issue2.expected}, oli \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Virheellinen sy\\xF6te: t\\xE4ytyy olla \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Virheellinen valinta: t\\xE4ytyy olla yksi seuraavista: \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Liian suuri: \${sizing.subject} t\\xE4ytyy olla \${adj}\${issue2.maximum.toString()} \${sizing.unit}\`.trim();
        }
        return \`Liian suuri: arvon t\\xE4ytyy olla \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Liian pieni: \${sizing.subject} t\\xE4ytyy olla \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`.trim();
        }
        return \`Liian pieni: arvon t\\xE4ytyy olla \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Virheellinen sy\\xF6te: t\\xE4ytyy alkaa "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Virheellinen sy\\xF6te: t\\xE4ytyy loppua "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Virheellinen sy\\xF6te: t\\xE4ytyy sis\\xE4lt\\xE4\\xE4 "\${_issue.includes}"\`;
        if (_issue.format === "regex") {
          return \`Virheellinen sy\\xF6te: t\\xE4ytyy vastata s\\xE4\\xE4nn\\xF6llist\\xE4 lauseketta \${_issue.pattern}\`;
        }
        return \`Virheellinen \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Virheellinen luku: t\\xE4ytyy olla luvun \${issue2.divisor} monikerta\`;
      case "unrecognized_keys":
        return \`\${issue2.keys.length > 1 ? "Tuntemattomat avaimet" : "Tuntematon avain"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return "Virheellinen avain tietueessa";
      case "invalid_union":
        return "Virheellinen unioni";
      case "invalid_element":
        return "Virheellinen arvo joukossa";
      default:
        return \`Virheellinen sy\\xF6te\`;
    }
  };
}, "error");
function fi_default() {
  return {
    localeError: error12()
  };
}
__name(fi_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/fr.js
var error13 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "caract\\xE8res",
      verb: "avoir"
    },
    file: {
      unit: "octets",
      verb: "avoir"
    },
    array: {
      unit: "\\xE9l\\xE9ments",
      verb: "avoir"
    },
    set: {
      unit: "\\xE9l\\xE9ments",
      verb: "avoir"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombre";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tableau";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "entr\\xE9e",
    email: "adresse e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date et heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\\xEEne encod\\xE9e en base64",
    base64url: "cha\\xEEne encod\\xE9e en base64url",
    json_string: "cha\\xEEne JSON",
    e164: "num\\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Entr\\xE9e invalide : \${issue2.expected} attendu, \${parsedType7(issue2.input)} re\\xE7u\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Entr\\xE9e invalide : \${stringifyPrimitive(issue2.values[0])} attendu\`;
        return \`Option invalide : une valeur parmi \${joinValues(issue2.values, "|")} attendue\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Trop grand : \${issue2.origin ?? "valeur"} doit \${sizing.verb} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\xE9l\\xE9ment(s)"}\`;
        return \`Trop grand : \${issue2.origin ?? "valeur"} doit \\xEAtre \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Trop petit : \${issue2.origin} doit \${sizing.verb} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Trop petit : \${issue2.origin} doit \\xEAtre \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Cha\\xEEne invalide : doit commencer par "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Cha\\xEEne invalide : doit se terminer par "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Cha\\xEEne invalide : doit inclure "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Cha\\xEEne invalide : doit correspondre au mod\\xE8le \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} invalide\`;
      }
      case "not_multiple_of":
        return \`Nombre invalide : doit \\xEAtre un multiple de \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Cl\\xE9\${issue2.keys.length > 1 ? "s" : ""} non reconnue\${issue2.keys.length > 1 ? "s" : ""} : \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Cl\\xE9 invalide dans \${issue2.origin}\`;
      case "invalid_union":
        return "Entr\\xE9e invalide";
      case "invalid_element":
        return \`Valeur invalide dans \${issue2.origin}\`;
      default:
        return \`Entr\\xE9e invalide\`;
    }
  };
}, "error");
function fr_default() {
  return {
    localeError: error13()
  };
}
__name(fr_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/fr-CA.js
var error14 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "caract\\xE8res",
      verb: "avoir"
    },
    file: {
      unit: "octets",
      verb: "avoir"
    },
    array: {
      unit: "\\xE9l\\xE9ments",
      verb: "avoir"
    },
    set: {
      unit: "\\xE9l\\xE9ments",
      verb: "avoir"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "entr\\xE9e",
    email: "adresse courriel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "date-heure ISO",
    date: "date ISO",
    time: "heure ISO",
    duration: "dur\\xE9e ISO",
    ipv4: "adresse IPv4",
    ipv6: "adresse IPv6",
    cidrv4: "plage IPv4",
    cidrv6: "plage IPv6",
    base64: "cha\\xEEne encod\\xE9e en base64",
    base64url: "cha\\xEEne encod\\xE9e en base64url",
    json_string: "cha\\xEEne JSON",
    e164: "num\\xE9ro E.164",
    jwt: "JWT",
    template_literal: "entr\\xE9e"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Entr\\xE9e invalide : attendu \${issue2.expected}, re\\xE7u \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Entr\\xE9e invalide : attendu \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Option invalide : attendu l'une des valeurs suivantes \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "\\u2264" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Trop grand : attendu que \${issue2.origin ?? "la valeur"} ait \${adj}\${issue2.maximum.toString()} \${sizing.unit}\`;
        return \`Trop grand : attendu que \${issue2.origin ?? "la valeur"} soit \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\\u2265" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Trop petit : attendu que \${issue2.origin} ait \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Trop petit : attendu que \${issue2.origin} soit \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Cha\\xEEne invalide : doit commencer par "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`Cha\\xEEne invalide : doit se terminer par "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Cha\\xEEne invalide : doit inclure "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Cha\\xEEne invalide : doit correspondre au motif \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} invalide\`;
      }
      case "not_multiple_of":
        return \`Nombre invalide : doit \\xEAtre un multiple de \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Cl\\xE9\${issue2.keys.length > 1 ? "s" : ""} non reconnue\${issue2.keys.length > 1 ? "s" : ""} : \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Cl\\xE9 invalide dans \${issue2.origin}\`;
      case "invalid_union":
        return "Entr\\xE9e invalide";
      case "invalid_element":
        return \`Valeur invalide dans \${issue2.origin}\`;
      default:
        return \`Entr\\xE9e invalide\`;
    }
  };
}, "error");
function fr_CA_default() {
  return {
    localeError: error14()
  };
}
__name(fr_CA_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/he.js
var error15 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u05D0\\u05D5\\u05EA\\u05D9\\u05D5\\u05EA",
      verb: "\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"
    },
    file: {
      unit: "\\u05D1\\u05D9\\u05D9\\u05D8\\u05D9\\u05DD",
      verb: "\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"
    },
    array: {
      unit: "\\u05E4\\u05E8\\u05D9\\u05D8\\u05D9\\u05DD",
      verb: "\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"
    },
    set: {
      unit: "\\u05E4\\u05E8\\u05D9\\u05D8\\u05D9\\u05DD",
      verb: "\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u05E7\\u05DC\\u05D8",
    email: "\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC",
    url: "\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05E8\\u05E9\\u05EA",
    emoji: "\\u05D0\\u05D9\\u05DE\\u05D5\\u05D2'\\u05D9",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D5\\u05D6\\u05DE\\u05DF ISO",
    date: "\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA ISO",
    time: "\\u05D6\\u05DE\\u05DF ISO",
    duration: "\\u05DE\\u05E9\\u05DA \\u05D6\\u05DE\\u05DF ISO",
    ipv4: "\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA IPv4",
    ipv6: "\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA IPv6",
    cidrv4: "\\u05D8\\u05D5\\u05D5\\u05D7 IPv4",
    cidrv6: "\\u05D8\\u05D5\\u05D5\\u05D7 IPv6",
    base64: "\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05D1\\u05D1\\u05E1\\u05D9\\u05E1 64",
    base64url: "\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05D1\\u05D1\\u05E1\\u05D9\\u05E1 64 \\u05DC\\u05DB\\u05EA\\u05D5\\u05D1\\u05D5\\u05EA \\u05E8\\u05E9\\u05EA",
    json_string: "\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA JSON",
    e164: "\\u05DE\\u05E1\\u05E4\\u05E8 E.164",
    jwt: "JWT",
    template_literal: "\\u05E7\\u05DC\\u05D8"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05E6\\u05E8\\u05D9\\u05DA \${issue2.expected}, \\u05D4\\u05EA\\u05E7\\u05D1\\u05DC \${parsedType7(issue2.input)}\`;
      // return \`Invalid input: expected \${issue.expected}, received \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05E6\\u05E8\\u05D9\\u05DA \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05E6\\u05E8\\u05D9\\u05DA \\u05D0\\u05D7\\u05EA \\u05DE\\u05D4\\u05D0\\u05E4\\u05E9\\u05E8\\u05D5\\u05D9\\u05D5\\u05EA  \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u05D2\\u05D3\\u05D5\\u05DC \\u05DE\\u05D3\\u05D9: \${issue2.origin ?? "value"} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elements"}\`;
        return \`\\u05D2\\u05D3\\u05D5\\u05DC \\u05DE\\u05D3\\u05D9: \${issue2.origin ?? "value"} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u05E7\\u05D8\\u05DF \\u05DE\\u05D3\\u05D9: \${issue2.origin} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u05E7\\u05D8\\u05DF \\u05DE\\u05D3\\u05D9: \${issue2.origin} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05D4\\u05EA\\u05D7\\u05D9\\u05DC \\u05D1"\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05D4\\u05E1\\u05EA\\u05D9\\u05D9\\u05DD \\u05D1 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05DB\\u05DC\\u05D5\\u05DC "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05D4\\u05EA\\u05D0\\u05D9\\u05DD \\u05DC\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF\`;
      }
      case "not_multiple_of":
        return \`\\u05DE\\u05E1\\u05E4\\u05E8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05D7\\u05D9\\u05D9\\u05D1 \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \\u05DE\\u05DB\\u05E4\\u05DC\\u05D4 \\u05E9\\u05DC \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\u05DE\\u05E4\\u05EA\\u05D7\${issue2.keys.length > 1 ? "\\u05D5\\u05EA" : ""} \\u05DC\\u05D0 \\u05DE\\u05D6\\u05D5\\u05D4\${issue2.keys.length > 1 ? "\\u05D9\\u05DD" : "\\u05D4"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u05DE\\u05E4\\u05EA\\u05D7 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF \\u05D1\${issue2.origin}\`;
      case "invalid_union":
        return "\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF";
      case "invalid_element":
        return \`\\u05E2\\u05E8\\u05DA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF \\u05D1\${issue2.origin}\`;
      default:
        return \`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF\`;
    }
  };
}, "error");
function he_default() {
  return {
    localeError: error15()
  };
}
__name(he_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/hu.js
var error16 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "karakter",
      verb: "legyen"
    },
    file: {
      unit: "byte",
      verb: "legyen"
    },
    array: {
      unit: "elem",
      verb: "legyen"
    },
    set: {
      unit: "elem",
      verb: "legyen"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "sz\\xE1m";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "t\\xF6mb";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "bemenet",
    email: "email c\\xEDm",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO id\\u0151b\\xE9lyeg",
    date: "ISO d\\xE1tum",
    time: "ISO id\\u0151",
    duration: "ISO id\\u0151intervallum",
    ipv4: "IPv4 c\\xEDm",
    ipv6: "IPv6 c\\xEDm",
    cidrv4: "IPv4 tartom\\xE1ny",
    cidrv6: "IPv6 tartom\\xE1ny",
    base64: "base64-k\\xF3dolt string",
    base64url: "base64url-k\\xF3dolt string",
    json_string: "JSON string",
    e164: "E.164 sz\\xE1m",
    jwt: "JWT",
    template_literal: "bemenet"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\xC9rv\\xE9nytelen bemenet: a v\\xE1rt \\xE9rt\\xE9k \${issue2.expected}, a kapott \\xE9rt\\xE9k \${parsedType7(issue2.input)}\`;
      // return \`Invalid input: expected \${issue.expected}, received \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\xC9rv\\xE9nytelen bemenet: a v\\xE1rt \\xE9rt\\xE9k \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\xC9rv\\xE9nytelen opci\\xF3: valamelyik \\xE9rt\\xE9k v\\xE1rt \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`T\\xFAl nagy: \${issue2.origin ?? "\\xE9rt\\xE9k"} m\\xE9rete t\\xFAl nagy \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elem"}\`;
        return \`T\\xFAl nagy: a bemeneti \\xE9rt\\xE9k \${issue2.origin ?? "\\xE9rt\\xE9k"} t\\xFAl nagy: \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`T\\xFAl kicsi: a bemeneti \\xE9rt\\xE9k \${issue2.origin} m\\xE9rete t\\xFAl kicsi \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`T\\xFAl kicsi: a bemeneti \\xE9rt\\xE9k \${issue2.origin} t\\xFAl kicsi \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\xC9rv\\xE9nytelen string: "\${_issue.prefix}" \\xE9rt\\xE9kkel kell kezd\\u0151dnie\`;
        if (_issue.format === "ends_with") return \`\\xC9rv\\xE9nytelen string: "\${_issue.suffix}" \\xE9rt\\xE9kkel kell v\\xE9gz\\u0151dnie\`;
        if (_issue.format === "includes") return \`\\xC9rv\\xE9nytelen string: "\${_issue.includes}" \\xE9rt\\xE9ket kell tartalmaznia\`;
        if (_issue.format === "regex") return \`\\xC9rv\\xE9nytelen string: \${_issue.pattern} mint\\xE1nak kell megfelelnie\`;
        return \`\\xC9rv\\xE9nytelen \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\xC9rv\\xE9nytelen sz\\xE1m: \${issue2.divisor} t\\xF6bbsz\\xF6r\\xF6s\\xE9nek kell lennie\`;
      case "unrecognized_keys":
        return \`Ismeretlen kulcs\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\xC9rv\\xE9nytelen kulcs \${issue2.origin}\`;
      case "invalid_union":
        return "\\xC9rv\\xE9nytelen bemenet";
      case "invalid_element":
        return \`\\xC9rv\\xE9nytelen \\xE9rt\\xE9k: \${issue2.origin}\`;
      default:
        return \`\\xC9rv\\xE9nytelen bemenet\`;
    }
  };
}, "error");
function hu_default() {
  return {
    localeError: error16()
  };
}
__name(hu_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/id.js
var error17 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "karakter",
      verb: "memiliki"
    },
    file: {
      unit: "byte",
      verb: "memiliki"
    },
    array: {
      unit: "item",
      verb: "memiliki"
    },
    set: {
      unit: "item",
      verb: "memiliki"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "input",
    email: "alamat email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tanggal dan waktu format ISO",
    date: "tanggal format ISO",
    time: "jam format ISO",
    duration: "durasi format ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "rentang alamat IPv4",
    cidrv6: "rentang alamat IPv6",
    base64: "string dengan enkode base64",
    base64url: "string dengan enkode base64url",
    json_string: "string JSON",
    e164: "angka E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Input tidak valid: diharapkan \${issue2.expected}, diterima \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Input tidak valid: diharapkan \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Pilihan tidak valid: diharapkan salah satu dari \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Terlalu besar: diharapkan \${issue2.origin ?? "value"} memiliki \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elemen"}\`;
        return \`Terlalu besar: diharapkan \${issue2.origin ?? "value"} menjadi \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Terlalu kecil: diharapkan \${issue2.origin} memiliki \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Terlalu kecil: diharapkan \${issue2.origin} menjadi \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`String tidak valid: harus dimulai dengan "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`String tidak valid: harus berakhir dengan "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`String tidak valid: harus menyertakan "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`String tidak valid: harus sesuai pola \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} tidak valid\`;
      }
      case "not_multiple_of":
        return \`Angka tidak valid: harus kelipatan dari \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Kunci tidak dikenali \${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Kunci tidak valid di \${issue2.origin}\`;
      case "invalid_union":
        return "Input tidak valid";
      case "invalid_element":
        return \`Nilai tidak valid di \${issue2.origin}\`;
      default:
        return \`Input tidak valid\`;
    }
  };
}, "error");
function id_default() {
  return {
    localeError: error17()
  };
}
__name(id_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/is.js
var parsedType3 = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "n\\xFAmer";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "fylki";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t;
}, "parsedType");
var error18 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "stafi",
      verb: "a\\xF0 hafa"
    },
    file: {
      unit: "b\\xE6ti",
      verb: "a\\xF0 hafa"
    },
    array: {
      unit: "hluti",
      verb: "a\\xF0 hafa"
    },
    set: {
      unit: "hluti",
      verb: "a\\xF0 hafa"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const Nouns = {
    regex: "gildi",
    email: "netfang",
    url: "vefsl\\xF3\\xF0",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dagsetning og t\\xEDmi",
    date: "ISO dagsetning",
    time: "ISO t\\xEDmi",
    duration: "ISO t\\xEDmalengd",
    ipv4: "IPv4 address",
    ipv6: "IPv6 address",
    cidrv4: "IPv4 range",
    cidrv6: "IPv6 range",
    base64: "base64-encoded strengur",
    base64url: "base64url-encoded strengur",
    json_string: "JSON strengur",
    e164: "E.164 t\\xF6lugildi",
    jwt: "JWT",
    template_literal: "gildi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Rangt gildi: \\xDE\\xFA sl\\xF3st inn \${parsedType3(issue2.input)} \\xFEar sem \\xE1 a\\xF0 vera \${issue2.expected}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Rangt gildi: gert r\\xE1\\xF0 fyrir \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\xD3gilt val: m\\xE1 vera eitt af eftirfarandi \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Of st\\xF3rt: gert er r\\xE1\\xF0 fyrir a\\xF0 \${issue2.origin ?? "gildi"} hafi \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "hluti"}\`;
        return \`Of st\\xF3rt: gert er r\\xE1\\xF0 fyrir a\\xF0 \${issue2.origin ?? "gildi"} s\\xE9 \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Of l\\xEDti\\xF0: gert er r\\xE1\\xF0 fyrir a\\xF0 \${issue2.origin} hafi \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Of l\\xEDti\\xF0: gert er r\\xE1\\xF0 fyrir a\\xF0 \${issue2.origin} s\\xE9 \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\xD3gildur strengur: ver\\xF0ur a\\xF0 byrja \\xE1 "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`\\xD3gildur strengur: ver\\xF0ur a\\xF0 enda \\xE1 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\xD3gildur strengur: ver\\xF0ur a\\xF0 innihalda "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\xD3gildur strengur: ver\\xF0ur a\\xF0 fylgja mynstri \${_issue.pattern}\`;
        return \`Rangt \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`R\\xF6ng tala: ver\\xF0ur a\\xF0 vera margfeldi af \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\xD3\\xFEekkt \${issue2.keys.length > 1 ? "ir lyklar" : "ur lykill"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Rangur lykill \\xED \${issue2.origin}\`;
      case "invalid_union":
        return "Rangt gildi";
      case "invalid_element":
        return \`Rangt gildi \\xED \${issue2.origin}\`;
      default:
        return \`Rangt gildi\`;
    }
  };
}, "error");
function is_default() {
  return {
    localeError: error18()
  };
}
__name(is_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/it.js
var error19 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "caratteri",
      verb: "avere"
    },
    file: {
      unit: "byte",
      verb: "avere"
    },
    array: {
      unit: "elementi",
      verb: "avere"
    },
    set: {
      unit: "elementi",
      verb: "avere"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "vettore";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "input",
    email: "indirizzo email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e ora ISO",
    date: "data ISO",
    time: "ora ISO",
    duration: "durata ISO",
    ipv4: "indirizzo IPv4",
    ipv6: "indirizzo IPv6",
    cidrv4: "intervallo IPv4",
    cidrv6: "intervallo IPv6",
    base64: "stringa codificata in base64",
    base64url: "URL codificata in base64",
    json_string: "stringa JSON",
    e164: "numero E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Input non valido: atteso \${issue2.expected}, ricevuto \${parsedType7(issue2.input)}\`;
      // return \`Input non valido: atteso \${issue.expected}, ricevuto \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Input non valido: atteso \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Opzione non valida: atteso uno tra \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Troppo grande: \${issue2.origin ?? "valore"} deve avere \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementi"}\`;
        return \`Troppo grande: \${issue2.origin ?? "valore"} deve essere \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Troppo piccolo: \${issue2.origin} deve avere \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Troppo piccolo: \${issue2.origin} deve essere \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Stringa non valida: deve iniziare con "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Stringa non valida: deve terminare con "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Stringa non valida: deve includere "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Stringa non valida: deve corrispondere al pattern \${_issue.pattern}\`;
        return \`Invalid \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Numero non valido: deve essere un multiplo di \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Chiav\${issue2.keys.length > 1 ? "i" : "e"} non riconosciut\${issue2.keys.length > 1 ? "e" : "a"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Chiave non valida in \${issue2.origin}\`;
      case "invalid_union":
        return "Input non valido";
      case "invalid_element":
        return \`Valore non valido in \${issue2.origin}\`;
      default:
        return \`Input non valido\`;
    }
  };
}, "error");
function it_default() {
  return {
    localeError: error19()
  };
}
__name(it_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ja.js
var error20 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u6587\\u5B57",
      verb: "\\u3067\\u3042\\u308B"
    },
    file: {
      unit: "\\u30D0\\u30A4\\u30C8",
      verb: "\\u3067\\u3042\\u308B"
    },
    array: {
      unit: "\\u8981\\u7D20",
      verb: "\\u3067\\u3042\\u308B"
    },
    set: {
      unit: "\\u8981\\u7D20",
      verb: "\\u3067\\u3042\\u308B"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u6570\\u5024";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u914D\\u5217";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u5165\\u529B\\u5024",
    email: "\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9",
    url: "URL",
    emoji: "\\u7D75\\u6587\\u5B57",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\\u65E5\\u6642",
    date: "ISO\\u65E5\\u4ED8",
    time: "ISO\\u6642\\u523B",
    duration: "ISO\\u671F\\u9593",
    ipv4: "IPv4\\u30A2\\u30C9\\u30EC\\u30B9",
    ipv6: "IPv6\\u30A2\\u30C9\\u30EC\\u30B9",
    cidrv4: "IPv4\\u7BC4\\u56F2",
    cidrv6: "IPv6\\u7BC4\\u56F2",
    base64: "base64\\u30A8\\u30F3\\u30B3\\u30FC\\u30C9\\u6587\\u5B57\\u5217",
    base64url: "base64url\\u30A8\\u30F3\\u30B3\\u30FC\\u30C9\\u6587\\u5B57\\u5217",
    json_string: "JSON\\u6587\\u5B57\\u5217",
    e164: "E.164\\u756A\\u53F7",
    jwt: "JWT",
    template_literal: "\\u5165\\u529B\\u5024"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u7121\\u52B9\\u306A\\u5165\\u529B: \${issue2.expected}\\u304C\\u671F\\u5F85\\u3055\\u308C\\u307E\\u3057\\u305F\\u304C\\u3001\${parsedType7(issue2.input)}\\u304C\\u5165\\u529B\\u3055\\u308C\\u307E\\u3057\\u305F\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u7121\\u52B9\\u306A\\u5165\\u529B: \${stringifyPrimitive(issue2.values[0])}\\u304C\\u671F\\u5F85\\u3055\\u308C\\u307E\\u3057\\u305F\`;
        return \`\\u7121\\u52B9\\u306A\\u9078\\u629E: \${joinValues(issue2.values, "\\u3001")}\\u306E\\u3044\\u305A\\u308C\\u304B\\u3067\\u3042\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
      case "too_big": {
        const adj = issue2.inclusive ? "\\u4EE5\\u4E0B\\u3067\\u3042\\u308B" : "\\u3088\\u308A\\u5C0F\\u3055\\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u5927\\u304D\\u3059\\u304E\\u308B\\u5024: \${issue2.origin ?? "\\u5024"}\\u306F\${issue2.maximum.toString()}\${sizing.unit ?? "\\u8981\\u7D20"}\${adj}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
        return \`\\u5927\\u304D\\u3059\\u304E\\u308B\\u5024: \${issue2.origin ?? "\\u5024"}\\u306F\${issue2.maximum.toString()}\${adj}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\\u4EE5\\u4E0A\\u3067\\u3042\\u308B" : "\\u3088\\u308A\\u5927\\u304D\\u3044";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u5C0F\\u3055\\u3059\\u304E\\u308B\\u5024: \${issue2.origin}\\u306F\${issue2.minimum.toString()}\${sizing.unit}\${adj}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
        return \`\\u5C0F\\u3055\\u3059\\u304E\\u308B\\u5024: \${issue2.origin}\\u306F\${issue2.minimum.toString()}\${adj}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: "\${_issue.prefix}"\\u3067\\u59CB\\u307E\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
        if (_issue.format === "ends_with") return \`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: "\${_issue.suffix}"\\u3067\\u7D42\\u308F\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
        if (_issue.format === "includes") return \`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: "\${_issue.includes}"\\u3092\\u542B\\u3080\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
        if (_issue.format === "regex") return \`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: \\u30D1\\u30BF\\u30FC\\u30F3\${_issue.pattern}\\u306B\\u4E00\\u81F4\\u3059\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
        return \`\\u7121\\u52B9\\u306A\${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u7121\\u52B9\\u306A\\u6570\\u5024: \${issue2.divisor}\\u306E\\u500D\\u6570\\u3067\\u3042\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059\`;
      case "unrecognized_keys":
        return \`\\u8A8D\\u8B58\\u3055\\u308C\\u3066\\u3044\\u306A\\u3044\\u30AD\\u30FC\${issue2.keys.length > 1 ? "\\u7FA4" : ""}: \${joinValues(issue2.keys, "\\u3001")}\`;
      case "invalid_key":
        return \`\${issue2.origin}\\u5185\\u306E\\u7121\\u52B9\\u306A\\u30AD\\u30FC\`;
      case "invalid_union":
        return "\\u7121\\u52B9\\u306A\\u5165\\u529B";
      case "invalid_element":
        return \`\${issue2.origin}\\u5185\\u306E\\u7121\\u52B9\\u306A\\u5024\`;
      default:
        return \`\\u7121\\u52B9\\u306A\\u5165\\u529B\`;
    }
  };
}, "error");
function ja_default() {
  return {
    localeError: error20()
  };
}
__name(ja_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ka.js
var parsedType4 = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "\\u10E0\\u10D8\\u10EA\\u10EE\\u10D5\\u10D8";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "\\u10DB\\u10D0\\u10E1\\u10D8\\u10D5\\u10D8";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  const typeMap = {
    string: "\\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",
    boolean: "\\u10D1\\u10E3\\u10DA\\u10D4\\u10D0\\u10DC\\u10D8",
    undefined: "undefined",
    bigint: "bigint",
    symbol: "symbol",
    function: "\\u10E4\\u10E3\\u10DC\\u10E5\\u10EA\\u10D8\\u10D0"
  };
  return typeMap[t] ?? t;
}, "parsedType");
var error21 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u10E1\\u10D8\\u10DB\\u10D1\\u10DD\\u10DA\\u10DD",
      verb: "\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"
    },
    file: {
      unit: "\\u10D1\\u10D0\\u10D8\\u10E2\\u10D8",
      verb: "\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"
    },
    array: {
      unit: "\\u10D4\\u10DA\\u10D4\\u10DB\\u10D4\\u10DC\\u10E2\\u10D8",
      verb: "\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"
    },
    set: {
      unit: "\\u10D4\\u10DA\\u10D4\\u10DB\\u10D4\\u10DC\\u10E2\\u10D8",
      verb: "\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const Nouns = {
    regex: "\\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0",
    email: "\\u10D4\\u10DA-\\u10E4\\u10DD\\u10E1\\u10E2\\u10D8\\u10E1 \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8",
    url: "URL",
    emoji: "\\u10D4\\u10DB\\u10DD\\u10EF\\u10D8",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u10D7\\u10D0\\u10E0\\u10D8\\u10E6\\u10D8-\\u10D3\\u10E0\\u10DD",
    date: "\\u10D7\\u10D0\\u10E0\\u10D8\\u10E6\\u10D8",
    time: "\\u10D3\\u10E0\\u10DD",
    duration: "\\u10EE\\u10D0\\u10DC\\u10D2\\u10E0\\u10EB\\u10DA\\u10D8\\u10D5\\u10DD\\u10D1\\u10D0",
    ipv4: "IPv4 \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8",
    ipv6: "IPv6 \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8",
    cidrv4: "IPv4 \\u10D3\\u10D8\\u10D0\\u10DE\\u10D0\\u10D6\\u10DD\\u10DC\\u10D8",
    cidrv6: "IPv6 \\u10D3\\u10D8\\u10D0\\u10DE\\u10D0\\u10D6\\u10DD\\u10DC\\u10D8",
    base64: "base64-\\u10D9\\u10DD\\u10D3\\u10D8\\u10E0\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",
    base64url: "base64url-\\u10D9\\u10DD\\u10D3\\u10D8\\u10E0\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",
    json_string: "JSON \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",
    e164: "E.164 \\u10DC\\u10DD\\u10DB\\u10D4\\u10E0\\u10D8",
    jwt: "JWT",
    template_literal: "\\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 \${issue2.expected}, \\u10DB\\u10D8\\u10E6\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \${parsedType4(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10D5\\u10D0\\u10E0\\u10D8\\u10D0\\u10DC\\u10E2\\u10D8: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8\\u10D0 \\u10D4\\u10E0\\u10D7-\\u10D4\\u10E0\\u10D7\\u10D8 \${joinValues(issue2.values, "|")}-\\u10D3\\u10D0\\u10DC\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10D3\\u10D8\\u10D3\\u10D8: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 \${issue2.origin ?? "\\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0"} \${sizing.verb} \${adj}\${issue2.maximum.toString()} \${sizing.unit}\`;
        return \`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10D3\\u10D8\\u10D3\\u10D8: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 \${issue2.origin ?? "\\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0"} \\u10D8\\u10E7\\u10DD\\u10E1 \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10DE\\u10D0\\u10E2\\u10D0\\u10E0\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 \${issue2.origin} \${sizing.verb} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10DE\\u10D0\\u10E2\\u10D0\\u10E0\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 \${issue2.origin} \\u10D8\\u10E7\\u10DD\\u10E1 \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10D8\\u10EC\\u10E7\\u10D4\\u10D1\\u10DD\\u10D3\\u10D4\\u10E1 "\${_issue.prefix}"-\\u10D8\\u10D7\`;
        }
        if (_issue.format === "ends_with") return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10DB\\u10D7\\u10D0\\u10D5\\u10E0\\u10D3\\u10D4\\u10D1\\u10DD\\u10D3\\u10D4\\u10E1 "\${_issue.suffix}"-\\u10D8\\u10D7\`;
        if (_issue.format === "includes") return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1 "\${_issue.includes}"-\\u10E1\`;
        if (_issue.format === "regex") return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D4\\u10E1\\u10D0\\u10D1\\u10D0\\u10DB\\u10D4\\u10D1\\u10DD\\u10D3\\u10D4\\u10E1 \\u10E8\\u10D0\\u10D1\\u10DA\\u10DD\\u10DC\\u10E1 \${_issue.pattern}\`;
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E0\\u10D8\\u10EA\\u10EE\\u10D5\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10D8\\u10E7\\u10DD\\u10E1 \${issue2.divisor}-\\u10D8\\u10E1 \\u10EF\\u10D4\\u10E0\\u10D0\\u10D3\\u10D8\`;
      case "unrecognized_keys":
        return \`\\u10E3\\u10EA\\u10DC\\u10DD\\u10D1\\u10D8 \\u10D2\\u10D0\\u10E1\\u10D0\\u10E6\\u10D4\\u10D1\${issue2.keys.length > 1 ? "\\u10D4\\u10D1\\u10D8" : "\\u10D8"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10D2\\u10D0\\u10E1\\u10D0\\u10E6\\u10D4\\u10D1\\u10D8 \${issue2.origin}-\\u10E8\\u10D8\`;
      case "invalid_union":
        return "\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0";
      case "invalid_element":
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0 \${issue2.origin}-\\u10E8\\u10D8\`;
      default:
        return \`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0\`;
    }
  };
}, "error");
function ka_default() {
  return {
    localeError: error21()
  };
}
__name(ka_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/km.js
var error22 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u178F\\u17BD\\u17A2\\u1780\\u17D2\\u179F\\u179A",
      verb: "\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"
    },
    file: {
      unit: "\\u1794\\u17C3",
      verb: "\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"
    },
    array: {
      unit: "\\u1792\\u17B6\\u178F\\u17BB",
      verb: "\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"
    },
    set: {
      unit: "\\u1792\\u17B6\\u178F\\u17BB",
      verb: "\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "\\u1798\\u17B7\\u1793\\u1798\\u17C2\\u1793\\u1787\\u17B6\\u179B\\u17C1\\u1781 (NaN)" : "\\u179B\\u17C1\\u1781";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u17A2\\u17B6\\u179A\\u17C1 (Array)";
        }
        if (data === null) {
          return "\\u1782\\u17D2\\u1798\\u17B6\\u1793\\u178F\\u1798\\u17D2\\u179B\\u17C3 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B",
    email: "\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793\\u17A2\\u17CA\\u17B8\\u1798\\u17C2\\u179B",
    url: "URL",
    emoji: "\\u179F\\u1789\\u17D2\\u1789\\u17B6\\u17A2\\u17B6\\u179A\\u1798\\u17D2\\u1798\\u178E\\u17CD",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791 \\u1793\\u17B7\\u1784\\u1798\\u17C9\\u17C4\\u1784 ISO",
    date: "\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791 ISO",
    time: "\\u1798\\u17C9\\u17C4\\u1784 ISO",
    duration: "\\u179A\\u1799\\u17C8\\u1796\\u17C1\\u179B ISO",
    ipv4: "\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv4",
    ipv6: "\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv6",
    cidrv4: "\\u178A\\u17C2\\u1793\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv4",
    cidrv6: "\\u178A\\u17C2\\u1793\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv6",
    base64: "\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u17A2\\u17CA\\u17B7\\u1780\\u17BC\\u178A base64",
    base64url: "\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u17A2\\u17CA\\u17B7\\u1780\\u17BC\\u178A base64url",
    json_string: "\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A JSON",
    e164: "\\u179B\\u17C1\\u1781 E.164",
    jwt: "JWT",
    template_literal: "\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A \${issue2.expected} \\u1794\\u17C9\\u17BB\\u1793\\u17D2\\u178F\\u17C2\\u1791\\u1791\\u17BD\\u179B\\u1794\\u17B6\\u1793 \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u1787\\u1798\\u17D2\\u179A\\u17BE\\u179F\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1787\\u17B6\\u1798\\u17BD\\u1799\\u1780\\u17D2\\u1793\\u17BB\\u1784\\u1785\\u17C6\\u178E\\u17C4\\u1798 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u1792\\u17C6\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A \${issue2.origin ?? "\\u178F\\u1798\\u17D2\\u179B\\u17C3"} \${adj} \${issue2.maximum.toString()} \${sizing.unit ?? "\\u1792\\u17B6\\u178F\\u17BB"}\`;
        return \`\\u1792\\u17C6\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A \${issue2.origin ?? "\\u178F\\u1798\\u17D2\\u179B\\u17C3"} \${adj} \${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u178F\\u17BC\\u1785\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A \${issue2.origin} \${adj} \${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u178F\\u17BC\\u1785\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A \${issue2.origin} \${adj} \${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1785\\u17B6\\u1794\\u17CB\\u1795\\u17D2\\u178F\\u17BE\\u1798\\u178A\\u17C4\\u1799 "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1794\\u1789\\u17D2\\u1785\\u1794\\u17CB\\u178A\\u17C4\\u1799 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1798\\u17B6\\u1793 "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u178F\\u17C2\\u1795\\u17D2\\u1782\\u17BC\\u1795\\u17D2\\u1782\\u1784\\u1793\\u17B9\\u1784\\u1791\\u1798\\u17D2\\u179A\\u1784\\u17CB\\u178A\\u17C2\\u179B\\u1794\\u17B6\\u1793\\u1780\\u17C6\\u178E\\u178F\\u17CB \${_issue.pattern}\`;
        return \`\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u179B\\u17C1\\u1781\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u178F\\u17C2\\u1787\\u17B6\\u1796\\u17A0\\u17BB\\u1782\\u17BB\\u178E\\u1793\\u17C3 \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\u179A\\u1780\\u1783\\u17BE\\u1789\\u179F\\u17C4\\u1798\\u17B7\\u1793\\u179F\\u17D2\\u1782\\u17B6\\u179B\\u17CB\\u17D6 \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u179F\\u17C4\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1793\\u17C5\\u1780\\u17D2\\u1793\\u17BB\\u1784 \${issue2.origin}\`;
      case "invalid_union":
        return \`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\`;
      case "invalid_element":
        return \`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1793\\u17C5\\u1780\\u17D2\\u1793\\u17BB\\u1784 \${issue2.origin}\`;
      default:
        return \`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\`;
    }
  };
}, "error");
function km_default() {
  return {
    localeError: error22()
  };
}
__name(km_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/kh.js
function kh_default() {
  return km_default();
}
__name(kh_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ko.js
var error23 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\uBB38\\uC790",
      verb: "to have"
    },
    file: {
      unit: "\\uBC14\\uC774\\uD2B8",
      verb: "to have"
    },
    array: {
      unit: "\\uAC1C",
      verb: "to have"
    },
    set: {
      unit: "\\uAC1C",
      verb: "to have"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\uC785\\uB825",
    email: "\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C",
    url: "URL",
    emoji: "\\uC774\\uBAA8\\uC9C0",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \\uB0A0\\uC9DC\\uC2DC\\uAC04",
    date: "ISO \\uB0A0\\uC9DC",
    time: "ISO \\uC2DC\\uAC04",
    duration: "ISO \\uAE30\\uAC04",
    ipv4: "IPv4 \\uC8FC\\uC18C",
    ipv6: "IPv6 \\uC8FC\\uC18C",
    cidrv4: "IPv4 \\uBC94\\uC704",
    cidrv6: "IPv6 \\uBC94\\uC704",
    base64: "base64 \\uC778\\uCF54\\uB529 \\uBB38\\uC790\\uC5F4",
    base64url: "base64url \\uC778\\uCF54\\uB529 \\uBB38\\uC790\\uC5F4",
    json_string: "JSON \\uBB38\\uC790\\uC5F4",
    e164: "E.164 \\uBC88\\uD638",
    jwt: "JWT",
    template_literal: "\\uC785\\uB825"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\uC798\\uBABB\\uB41C \\uC785\\uB825: \\uC608\\uC0C1 \\uD0C0\\uC785\\uC740 \${issue2.expected}, \\uBC1B\\uC740 \\uD0C0\\uC785\\uC740 \${parsedType7(issue2.input)}\\uC785\\uB2C8\\uB2E4\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\uC798\\uBABB\\uB41C \\uC785\\uB825: \\uAC12\\uC740 \${stringifyPrimitive(issue2.values[0])} \\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4\`;
        return \`\\uC798\\uBABB\\uB41C \\uC635\\uC158: \${joinValues(issue2.values, "\\uB610\\uB294 ")} \\uC911 \\uD558\\uB098\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4\`;
      case "too_big": {
        const adj = issue2.inclusive ? "\\uC774\\uD558" : "\\uBBF8\\uB9CC";
        const suffix = adj === "\\uBBF8\\uB9CC" ? "\\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4" : "\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\\uC694\\uC18C";
        if (sizing) return \`\${issue2.origin ?? "\\uAC12"}\\uC774 \\uB108\\uBB34 \\uD07D\\uB2C8\\uB2E4: \${issue2.maximum.toString()}\${unit} \${adj}\${suffix}\`;
        return \`\${issue2.origin ?? "\\uAC12"}\\uC774 \\uB108\\uBB34 \\uD07D\\uB2C8\\uB2E4: \${issue2.maximum.toString()} \${adj}\${suffix}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\\uC774\\uC0C1" : "\\uCD08\\uACFC";
        const suffix = adj === "\\uC774\\uC0C1" ? "\\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4" : "\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4";
        const sizing = getSizing(issue2.origin);
        const unit = sizing?.unit ?? "\\uC694\\uC18C";
        if (sizing) {
          return \`\${issue2.origin ?? "\\uAC12"}\\uC774 \\uB108\\uBB34 \\uC791\\uC2B5\\uB2C8\\uB2E4: \${issue2.minimum.toString()}\${unit} \${adj}\${suffix}\`;
        }
        return \`\${issue2.origin ?? "\\uAC12"}\\uC774 \\uB108\\uBB34 \\uC791\\uC2B5\\uB2C8\\uB2E4: \${issue2.minimum.toString()} \${adj}\${suffix}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: "\${_issue.prefix}"(\\uC73C)\\uB85C \\uC2DC\\uC791\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4\`;
        }
        if (_issue.format === "ends_with") return \`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: "\${_issue.suffix}"(\\uC73C)\\uB85C \\uB05D\\uB098\\uC57C \\uD569\\uB2C8\\uB2E4\`;
        if (_issue.format === "includes") return \`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: "\${_issue.includes}"\\uC744(\\uB97C) \\uD3EC\\uD568\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4\`;
        if (_issue.format === "regex") return \`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: \\uC815\\uADDC\\uC2DD \${_issue.pattern} \\uD328\\uD134\\uACFC \\uC77C\\uCE58\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4\`;
        return \`\\uC798\\uBABB\\uB41C \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\uC798\\uBABB\\uB41C \\uC22B\\uC790: \${issue2.divisor}\\uC758 \\uBC30\\uC218\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4\`;
      case "unrecognized_keys":
        return \`\\uC778\\uC2DD\\uD560 \\uC218 \\uC5C6\\uB294 \\uD0A4: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\uC798\\uBABB\\uB41C \\uD0A4: \${issue2.origin}\`;
      case "invalid_union":
        return \`\\uC798\\uBABB\\uB41C \\uC785\\uB825\`;
      case "invalid_element":
        return \`\\uC798\\uBABB\\uB41C \\uAC12: \${issue2.origin}\`;
      default:
        return \`\\uC798\\uBABB\\uB41C \\uC785\\uB825\`;
    }
  };
}, "error");
function ko_default() {
  return {
    localeError: error23()
  };
}
__name(ko_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/lt.js
var parsedType5 = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  return parsedTypeFromType(t, data);
}, "parsedType");
var parsedTypeFromType = /* @__PURE__ */ __name((t, data = void 0) => {
  switch (t) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "skai\\u010Dius";
    }
    case "bigint": {
      return "sveikasis skai\\u010Dius";
    }
    case "string": {
      return "eilut\\u0117";
    }
    case "boolean": {
      return "login\\u0117 reik\\u0161m\\u0117";
    }
    case "undefined":
    case "void": {
      return "neapibr\\u0117\\u017Eta reik\\u0161m\\u0117";
    }
    case "function": {
      return "funkcija";
    }
    case "symbol": {
      return "simbolis";
    }
    case "object": {
      if (data === void 0) return "ne\\u017Einomas objektas";
      if (data === null) return "nulin\\u0117 reik\\u0161m\\u0117";
      if (Array.isArray(data)) return "masyvas";
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
      return "objektas";
    }
    //Zod types below
    case "null": {
      return "nulin\\u0117 reik\\u0161m\\u0117";
    }
  }
  return t;
}, "parsedTypeFromType");
var capitalizeFirstCharacter = /* @__PURE__ */ __name((text2) => {
  return text2.charAt(0).toUpperCase() + text2.slice(1);
}, "capitalizeFirstCharacter");
function getUnitTypeFromNumber(number4) {
  const abs = Math.abs(number4);
  const last = abs % 10;
  const last2 = abs % 100;
  if (last2 >= 11 && last2 <= 19 || last === 0) return "many";
  if (last === 1) return "one";
  return "few";
}
__name(getUnitTypeFromNumber, "getUnitTypeFromNumber");
var error24 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: {
        one: "simbolis",
        few: "simboliai",
        many: "simboli\\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\\u016Bti ne ilgesn\\u0117 kaip",
          notInclusive: "turi b\\u016Bti trumpesn\\u0117 kaip"
        },
        bigger: {
          inclusive: "turi b\\u016Bti ne trumpesn\\u0117 kaip",
          notInclusive: "turi b\\u016Bti ilgesn\\u0117 kaip"
        }
      }
    },
    file: {
      unit: {
        one: "baitas",
        few: "baitai",
        many: "bait\\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi b\\u016Bti ne didesnis kaip",
          notInclusive: "turi b\\u016Bti ma\\u017Eesnis kaip"
        },
        bigger: {
          inclusive: "turi b\\u016Bti ne ma\\u017Eesnis kaip",
          notInclusive: "turi b\\u016Bti didesnis kaip"
        }
      }
    },
    array: {
      unit: {
        one: "element\\u0105",
        few: "elementus",
        many: "element\\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\\u0117ti ma\\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\\u0117ti ne ma\\u017Eiau kaip",
          notInclusive: "turi tur\\u0117ti daugiau kaip"
        }
      }
    },
    set: {
      unit: {
        one: "element\\u0105",
        few: "elementus",
        many: "element\\u0173"
      },
      verb: {
        smaller: {
          inclusive: "turi tur\\u0117ti ne daugiau kaip",
          notInclusive: "turi tur\\u0117ti ma\\u017Eiau kaip"
        },
        bigger: {
          inclusive: "turi tur\\u0117ti ne ma\\u017Eiau kaip",
          notInclusive: "turi tur\\u0117ti daugiau kaip"
        }
      }
    }
  };
  function getSizing(origin, unitType, inclusive, targetShouldBe) {
    const result = Sizable[origin] ?? null;
    if (result === null) return result;
    return {
      unit: result.unit[unitType],
      verb: result.verb[targetShouldBe][inclusive ? "inclusive" : "notInclusive"]
    };
  }
  __name(getSizing, "getSizing");
  const Nouns = {
    regex: "\\u012Fvestis",
    email: "el. pa\\u0161to adresas",
    url: "URL",
    emoji: "jaustukas",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO data ir laikas",
    date: "ISO data",
    time: "ISO laikas",
    duration: "ISO trukm\\u0117",
    ipv4: "IPv4 adresas",
    ipv6: "IPv6 adresas",
    cidrv4: "IPv4 tinklo prefiksas (CIDR)",
    cidrv6: "IPv6 tinklo prefiksas (CIDR)",
    base64: "base64 u\\u017Ekoduota eilut\\u0117",
    base64url: "base64url u\\u017Ekoduota eilut\\u0117",
    json_string: "JSON eilut\\u0117",
    e164: "E.164 numeris",
    jwt: "JWT",
    template_literal: "\\u012Fvestis"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Gautas tipas \${parsedType5(issue2.input)}, o tik\\u0117tasi - \${parsedTypeFromType(issue2.expected)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Privalo b\\u016Bti \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Privalo b\\u016Bti vienas i\\u0161 \${joinValues(issue2.values, "|")} pasirinkim\\u0173\`;
      case "too_big": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.maximum)), issue2.inclusive ?? false, "smaller");
        if (sizing?.verb) return \`\${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\\u0161m\\u0117")} \${sizing.verb} \${issue2.maximum.toString()} \${sizing.unit ?? "element\\u0173"}\`;
        const adj = issue2.inclusive ? "ne didesnis kaip" : "ma\\u017Eesnis kaip";
        return \`\${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\\u0161m\\u0117")} turi b\\u016Bti \${adj} \${issue2.maximum.toString()} \${sizing?.unit}\`;
      }
      case "too_small": {
        const origin = parsedTypeFromType(issue2.origin);
        const sizing = getSizing(issue2.origin, getUnitTypeFromNumber(Number(issue2.minimum)), issue2.inclusive ?? false, "bigger");
        if (sizing?.verb) return \`\${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\\u0161m\\u0117")} \${sizing.verb} \${issue2.minimum.toString()} \${sizing.unit ?? "element\\u0173"}\`;
        const adj = issue2.inclusive ? "ne ma\\u017Eesnis kaip" : "didesnis kaip";
        return \`\${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\\u0161m\\u0117")} turi b\\u016Bti \${adj} \${issue2.minimum.toString()} \${sizing?.unit}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Eilut\\u0117 privalo prasid\\u0117ti "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`Eilut\\u0117 privalo pasibaigti "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Eilut\\u0117 privalo \\u012Ftraukti "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Eilut\\u0117 privalo atitikti \${_issue.pattern}\`;
        return \`Neteisingas \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Skai\\u010Dius privalo b\\u016Bti \${issue2.divisor} kartotinis.\`;
      case "unrecognized_keys":
        return \`Neatpa\\u017Eint\${issue2.keys.length > 1 ? "i" : "as"} rakt\${issue2.keys.length > 1 ? "ai" : "as"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return "Rastas klaidingas raktas";
      case "invalid_union":
        return "Klaidinga \\u012Fvestis";
      case "invalid_element": {
        const origin = parsedTypeFromType(issue2.origin);
        return \`\${capitalizeFirstCharacter(origin ?? issue2.origin ?? "reik\\u0161m\\u0117")} turi klaiding\\u0105 \\u012Fvest\\u012F\`;
      }
      default:
        return "Klaidinga \\u012Fvestis";
    }
  };
}, "error");
function lt_default() {
  return {
    localeError: error24()
  };
}
__name(lt_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/mk.js
var error25 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u0437\\u043D\\u0430\\u0446\\u0438",
      verb: "\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"
    },
    file: {
      unit: "\\u0431\\u0430\\u0458\\u0442\\u0438",
      verb: "\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"
    },
    array: {
      unit: "\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438",
      verb: "\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"
    },
    set: {
      unit: "\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438",
      verb: "\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0431\\u0440\\u043E\\u0458";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u043D\\u0438\\u0437\\u0430";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0432\\u043D\\u0435\\u0441",
    email: "\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u043D\\u0430 \\u0435-\\u043F\\u043E\\u0448\\u0442\\u0430",
    url: "URL",
    emoji: "\\u0435\\u043C\\u043E\\u045F\\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \\u0434\\u0430\\u0442\\u0443\\u043C \\u0438 \\u0432\\u0440\\u0435\\u043C\\u0435",
    date: "ISO \\u0434\\u0430\\u0442\\u0443\\u043C",
    time: "ISO \\u0432\\u0440\\u0435\\u043C\\u0435",
    duration: "ISO \\u0432\\u0440\\u0435\\u043C\\u0435\\u0442\\u0440\\u0430\\u0435\\u045A\\u0435",
    ipv4: "IPv4 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0430",
    ipv6: "IPv6 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0430",
    cidrv4: "IPv4 \\u043E\\u043F\\u0441\\u0435\\u0433",
    cidrv6: "IPv6 \\u043E\\u043F\\u0441\\u0435\\u0433",
    base64: "base64-\\u0435\\u043D\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u043D\\u0430 \\u043D\\u0438\\u0437\\u0430",
    base64url: "base64url-\\u0435\\u043D\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u043D\\u0430 \\u043D\\u0438\\u0437\\u0430",
    json_string: "JSON \\u043D\\u0438\\u0437\\u0430",
    e164: "E.164 \\u0431\\u0440\\u043E\\u0458",
    jwt: "JWT",
    template_literal: "\\u0432\\u043D\\u0435\\u0441"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0432\\u043D\\u0435\\u0441: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \${issue2.expected}, \\u043F\\u0440\\u0438\\u043C\\u0435\\u043D\\u043E \${parsedType7(issue2.input)}\`;
      // return \`Invalid input: expected \${issue.expected}, received \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Invalid input: expected \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u0413\\u0440\\u0435\\u0448\\u0430\\u043D\\u0430 \\u043E\\u043F\\u0446\\u0438\\u0458\\u0430: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \\u0435\\u0434\\u043D\\u0430 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u0433\\u043E\\u043B\\u0435\\u043C: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \${issue2.origin ?? "\\u0432\\u0440\\u0435\\u0434\\u043D\\u043E\\u0441\\u0442\\u0430"} \\u0434\\u0430 \\u0438\\u043C\\u0430 \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0438"}\`;
        return \`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u0433\\u043E\\u043B\\u0435\\u043C: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \${issue2.origin ?? "\\u0432\\u0440\\u0435\\u0434\\u043D\\u043E\\u0441\\u0442\\u0430"} \\u0434\\u0430 \\u0431\\u0438\\u0434\\u0435 \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u043C\\u0430\\u043B: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \${issue2.origin} \\u0434\\u0430 \\u0438\\u043C\\u0430 \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u043C\\u0430\\u043B: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \${issue2.origin} \\u0434\\u0430 \\u0431\\u0438\\u0434\\u0435 \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0437\\u0430\\u043F\\u043E\\u0447\\u043D\\u0443\\u0432\\u0430 \\u0441\\u043E "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0437\\u0430\\u0432\\u0440\\u0448\\u0443\\u0432\\u0430 \\u0441\\u043E "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0432\\u043A\\u043B\\u0443\\u0447\\u0443\\u0432\\u0430 "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u043E\\u0434\\u0433\\u043E\\u0430\\u0440\\u0430 \\u043D\\u0430 \\u043F\\u0430\\u0442\\u0435\\u0440\\u043D\\u043E\\u0442 \${_issue.pattern}\`;
        return \`Invalid \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0431\\u0440\\u043E\\u0458: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0431\\u0438\\u0434\\u0435 \\u0434\\u0435\\u043B\\u0438\\u0432 \\u0441\\u043E \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\${issue2.keys.length > 1 ? "\\u041D\\u0435\\u043F\\u0440\\u0435\\u043F\\u043E\\u0437\\u043D\\u0430\\u0435\\u043D\\u0438 \\u043A\\u043B\\u0443\\u0447\\u0435\\u0432\\u0438" : "\\u041D\\u0435\\u043F\\u0440\\u0435\\u043F\\u043E\\u0437\\u043D\\u0430\\u0435\\u043D \\u043A\\u043B\\u0443\\u0447"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u043A\\u043B\\u0443\\u0447 \\u0432\\u043E \${issue2.origin}\`;
      case "invalid_union":
        return "\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0432\\u043D\\u0435\\u0441";
      case "invalid_element":
        return \`\\u0413\\u0440\\u0435\\u0448\\u043D\\u0430 \\u0432\\u0440\\u0435\\u0434\\u043D\\u043E\\u0441\\u0442 \\u0432\\u043E \${issue2.origin}\`;
      default:
        return \`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0432\\u043D\\u0435\\u0441\`;
    }
  };
}, "error");
function mk_default() {
  return {
    localeError: error25()
  };
}
__name(mk_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ms.js
var error26 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "aksara",
      verb: "mempunyai"
    },
    file: {
      unit: "bait",
      verb: "mempunyai"
    },
    array: {
      unit: "elemen",
      verb: "mempunyai"
    },
    set: {
      unit: "elemen",
      verb: "mempunyai"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "nombor";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "input",
    email: "alamat e-mel",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "tarikh masa ISO",
    date: "tarikh ISO",
    time: "masa ISO",
    duration: "tempoh ISO",
    ipv4: "alamat IPv4",
    ipv6: "alamat IPv6",
    cidrv4: "julat IPv4",
    cidrv6: "julat IPv6",
    base64: "string dikodkan base64",
    base64url: "string dikodkan base64url",
    json_string: "string JSON",
    e164: "nombor E.164",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Input tidak sah: dijangka \${issue2.expected}, diterima \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Input tidak sah: dijangka \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Pilihan tidak sah: dijangka salah satu daripada \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Terlalu besar: dijangka \${issue2.origin ?? "nilai"} \${sizing.verb} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elemen"}\`;
        return \`Terlalu besar: dijangka \${issue2.origin ?? "nilai"} adalah \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Terlalu kecil: dijangka \${issue2.origin} \${sizing.verb} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Terlalu kecil: dijangka \${issue2.origin} adalah \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`String tidak sah: mesti bermula dengan "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`String tidak sah: mesti berakhir dengan "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`String tidak sah: mesti mengandungi "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`String tidak sah: mesti sepadan dengan corak \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} tidak sah\`;
      }
      case "not_multiple_of":
        return \`Nombor tidak sah: perlu gandaan \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Kunci tidak dikenali: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Kunci tidak sah dalam \${issue2.origin}\`;
      case "invalid_union":
        return "Input tidak sah";
      case "invalid_element":
        return \`Nilai tidak sah dalam \${issue2.origin}\`;
      default:
        return \`Input tidak sah\`;
    }
  };
}, "error");
function ms_default() {
  return {
    localeError: error26()
  };
}
__name(ms_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/nl.js
var error27 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "tekens"
    },
    file: {
      unit: "bytes"
    },
    array: {
      unit: "elementen"
    },
    set: {
      unit: "elementen"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "getal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "invoer",
    email: "emailadres",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum en tijd",
    date: "ISO datum",
    time: "ISO tijd",
    duration: "ISO duur",
    ipv4: "IPv4-adres",
    ipv6: "IPv6-adres",
    cidrv4: "IPv4-bereik",
    cidrv6: "IPv6-bereik",
    base64: "base64-gecodeerde tekst",
    base64url: "base64 URL-gecodeerde tekst",
    json_string: "JSON string",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "invoer"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Ongeldige invoer: verwacht \${issue2.expected}, ontving \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Ongeldige invoer: verwacht \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Ongeldige optie: verwacht \\xE9\\xE9n van \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Te lang: verwacht dat \${issue2.origin ?? "waarde"} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementen"} bevat\`;
        return \`Te lang: verwacht dat \${issue2.origin ?? "waarde"} \${adj}\${issue2.maximum.toString()} is\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Te kort: verwacht dat \${issue2.origin} \${adj}\${issue2.minimum.toString()} \${sizing.unit} bevat\`;
        }
        return \`Te kort: verwacht dat \${issue2.origin} \${adj}\${issue2.minimum.toString()} is\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Ongeldige tekst: moet met "\${_issue.prefix}" beginnen\`;
        }
        if (_issue.format === "ends_with") return \`Ongeldige tekst: moet op "\${_issue.suffix}" eindigen\`;
        if (_issue.format === "includes") return \`Ongeldige tekst: moet "\${_issue.includes}" bevatten\`;
        if (_issue.format === "regex") return \`Ongeldige tekst: moet overeenkomen met patroon \${_issue.pattern}\`;
        return \`Ongeldig: \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Ongeldig getal: moet een veelvoud van \${issue2.divisor} zijn\`;
      case "unrecognized_keys":
        return \`Onbekende key\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Ongeldige key in \${issue2.origin}\`;
      case "invalid_union":
        return "Ongeldige invoer";
      case "invalid_element":
        return \`Ongeldige waarde in \${issue2.origin}\`;
      default:
        return \`Ongeldige invoer\`;
    }
  };
}, "error");
function nl_default() {
  return {
    localeError: error27()
  };
}
__name(nl_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/no.js
var error28 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "tegn",
      verb: "\\xE5 ha"
    },
    file: {
      unit: "bytes",
      verb: "\\xE5 ha"
    },
    array: {
      unit: "elementer",
      verb: "\\xE5 inneholde"
    },
    set: {
      unit: "elementer",
      verb: "\\xE5 inneholde"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "tall";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "liste";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "input",
    email: "e-postadresse",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO dato- og klokkeslett",
    date: "ISO-dato",
    time: "ISO-klokkeslett",
    duration: "ISO-varighet",
    ipv4: "IPv4-omr\\xE5de",
    ipv6: "IPv6-omr\\xE5de",
    cidrv4: "IPv4-spekter",
    cidrv6: "IPv6-spekter",
    base64: "base64-enkodet streng",
    base64url: "base64url-enkodet streng",
    json_string: "JSON-streng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Ugyldig input: forventet \${issue2.expected}, fikk \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Ugyldig verdi: forventet \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Ugyldig valg: forventet en av \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`For stor(t): forventet \${issue2.origin ?? "value"} til \\xE5 ha \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementer"}\`;
        return \`For stor(t): forventet \${issue2.origin ?? "value"} til \\xE5 ha \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`For lite(n): forventet \${issue2.origin} til \\xE5 ha \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`For lite(n): forventet \${issue2.origin} til \\xE5 ha \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Ugyldig streng: m\\xE5 starte med "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Ugyldig streng: m\\xE5 ende med "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Ugyldig streng: m\\xE5 inneholde "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Ugyldig streng: m\\xE5 matche m\\xF8nsteret \${_issue.pattern}\`;
        return \`Ugyldig \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Ugyldig tall: m\\xE5 v\\xE6re et multiplum av \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\${issue2.keys.length > 1 ? "Ukjente n\\xF8kler" : "Ukjent n\\xF8kkel"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Ugyldig n\\xF8kkel i \${issue2.origin}\`;
      case "invalid_union":
        return "Ugyldig input";
      case "invalid_element":
        return \`Ugyldig verdi i \${issue2.origin}\`;
      default:
        return \`Ugyldig input\`;
    }
  };
}, "error");
function no_default() {
  return {
    localeError: error28()
  };
}
__name(no_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ota.js
var error29 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "harf",
      verb: "olmal\\u0131d\\u0131r"
    },
    file: {
      unit: "bayt",
      verb: "olmal\\u0131d\\u0131r"
    },
    array: {
      unit: "unsur",
      verb: "olmal\\u0131d\\u0131r"
    },
    set: {
      unit: "unsur",
      verb: "olmal\\u0131d\\u0131r"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "numara";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "saf";
        }
        if (data === null) {
          return "gayb";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "giren",
    email: "epostag\\xE2h",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO heng\\xE2m\\u0131",
    date: "ISO tarihi",
    time: "ISO zaman\\u0131",
    duration: "ISO m\\xFCddeti",
    ipv4: "IPv4 ni\\u015F\\xE2n\\u0131",
    ipv6: "IPv6 ni\\u015F\\xE2n\\u0131",
    cidrv4: "IPv4 menzili",
    cidrv6: "IPv6 menzili",
    base64: "base64-\\u015Fifreli metin",
    base64url: "base64url-\\u015Fifreli metin",
    json_string: "JSON metin",
    e164: "E.164 say\\u0131s\\u0131",
    jwt: "JWT",
    template_literal: "giren"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`F\\xE2sit giren: umulan \${issue2.expected}, al\\u0131nan \${parsedType7(issue2.input)}\`;
      // return \`Fsit giren: umulan \${issue.expected}, alnan \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`F\\xE2sit giren: umulan \${stringifyPrimitive(issue2.values[0])}\`;
        return \`F\\xE2sit tercih: m\\xFBteberler \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Fazla b\\xFCy\\xFCk: \${issue2.origin ?? "value"}, \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elements"} sahip olmal\\u0131yd\\u0131.\`;
        return \`Fazla b\\xFCy\\xFCk: \${issue2.origin ?? "value"}, \${adj}\${issue2.maximum.toString()} olmal\\u0131yd\\u0131.\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Fazla k\\xFC\\xE7\\xFCk: \${issue2.origin}, \${adj}\${issue2.minimum.toString()} \${sizing.unit} sahip olmal\\u0131yd\\u0131.\`;
        }
        return \`Fazla k\\xFC\\xE7\\xFCk: \${issue2.origin}, \${adj}\${issue2.minimum.toString()} olmal\\u0131yd\\u0131.\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`F\\xE2sit metin: "\${_issue.prefix}" ile ba\\u015Flamal\\u0131.\`;
        if (_issue.format === "ends_with") return \`F\\xE2sit metin: "\${_issue.suffix}" ile bitmeli.\`;
        if (_issue.format === "includes") return \`F\\xE2sit metin: "\${_issue.includes}" ihtiv\\xE2 etmeli.\`;
        if (_issue.format === "regex") return \`F\\xE2sit metin: \${_issue.pattern} nak\\u015F\\u0131na uymal\\u0131.\`;
        return \`F\\xE2sit \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`F\\xE2sit say\\u0131: \${issue2.divisor} kat\\u0131 olmal\\u0131yd\\u0131.\`;
      case "unrecognized_keys":
        return \`Tan\\u0131nmayan anahtar \${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\${issue2.origin} i\\xE7in tan\\u0131nmayan anahtar var.\`;
      case "invalid_union":
        return "Giren tan\\u0131namad\\u0131.";
      case "invalid_element":
        return \`\${issue2.origin} i\\xE7in tan\\u0131nmayan k\\u0131ymet var.\`;
      default:
        return \`K\\u0131ymet tan\\u0131namad\\u0131.\`;
    }
  };
}, "error");
function ota_default() {
  return {
    localeError: error29()
  };
}
__name(ota_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ps.js
var error30 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u062A\\u0648\\u06A9\\u064A",
      verb: "\\u0648\\u0644\\u0631\\u064A"
    },
    file: {
      unit: "\\u0628\\u0627\\u06CC\\u067C\\u0633",
      verb: "\\u0648\\u0644\\u0631\\u064A"
    },
    array: {
      unit: "\\u062A\\u0648\\u06A9\\u064A",
      verb: "\\u0648\\u0644\\u0631\\u064A"
    },
    set: {
      unit: "\\u062A\\u0648\\u06A9\\u064A",
      verb: "\\u0648\\u0644\\u0631\\u064A"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0639\\u062F\\u062F";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u0627\\u0631\\u06D0";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0648\\u0631\\u0648\\u062F\\u064A",
    email: "\\u0628\\u0631\\u06CC\\u069A\\u0646\\u0627\\u0644\\u06CC\\u06A9",
    url: "\\u06CC\\u0648 \\u0622\\u0631 \\u0627\\u0644",
    emoji: "\\u0627\\u06CC\\u0645\\u0648\\u062C\\u064A",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u0646\\u06CC\\u067C\\u0647 \\u0627\\u0648 \\u0648\\u062E\\u062A",
    date: "\\u0646\\u06D0\\u067C\\u0647",
    time: "\\u0648\\u062E\\u062A",
    duration: "\\u0645\\u0648\\u062F\\u0647",
    ipv4: "\\u062F IPv4 \\u067E\\u062A\\u0647",
    ipv6: "\\u062F IPv6 \\u067E\\u062A\\u0647",
    cidrv4: "\\u062F IPv4 \\u0633\\u0627\\u062D\\u0647",
    cidrv6: "\\u062F IPv6 \\u0633\\u0627\\u062D\\u0647",
    base64: "base64-encoded \\u0645\\u062A\\u0646",
    base64url: "base64url-encoded \\u0645\\u062A\\u0646",
    json_string: "JSON \\u0645\\u062A\\u0646",
    e164: "\\u062F E.164 \\u0634\\u0645\\u06D0\\u0631\\u0647",
    jwt: "JWT",
    template_literal: "\\u0648\\u0631\\u0648\\u062F\\u064A"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0646\\u0627\\u0633\\u0645 \\u0648\\u0631\\u0648\\u062F\\u064A: \\u0628\\u0627\\u06CC\\u062F \${issue2.expected} \\u0648\\u0627\\u06CC, \\u0645\\u06AB\\u0631 \${parsedType7(issue2.input)} \\u062A\\u0631\\u0644\\u0627\\u0633\\u0647 \\u0634\\u0648\`;
      case "invalid_value":
        if (issue2.values.length === 1) {
          return \`\\u0646\\u0627\\u0633\\u0645 \\u0648\\u0631\\u0648\\u062F\\u064A: \\u0628\\u0627\\u06CC\\u062F \${stringifyPrimitive(issue2.values[0])} \\u0648\\u0627\\u06CC\`;
        }
        return \`\\u0646\\u0627\\u0633\\u0645 \\u0627\\u0646\\u062A\\u062E\\u0627\\u0628: \\u0628\\u0627\\u06CC\\u062F \\u06CC\\u0648 \\u0644\\u0647 \${joinValues(issue2.values, "|")} \\u0685\\u062E\\u0647 \\u0648\\u0627\\u06CC\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0689\\u06CC\\u0631 \\u0644\\u0648\\u06CC: \${issue2.origin ?? "\\u0627\\u0631\\u0632\\u069A\\u062A"} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u0639\\u0646\\u0635\\u0631\\u0648\\u0646\\u0647"} \\u0648\\u0644\\u0631\\u064A\`;
        }
        return \`\\u0689\\u06CC\\u0631 \\u0644\\u0648\\u06CC: \${issue2.origin ?? "\\u0627\\u0631\\u0632\\u069A\\u062A"} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.maximum.toString()} \\u0648\\u064A\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0689\\u06CC\\u0631 \\u06A9\\u0648\\u0686\\u0646\\u06CC: \${issue2.origin} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.minimum.toString()} \${sizing.unit} \\u0648\\u0644\\u0631\\u064A\`;
        }
        return \`\\u0689\\u06CC\\u0631 \\u06A9\\u0648\\u0686\\u0646\\u06CC: \${issue2.origin} \\u0628\\u0627\\u06CC\\u062F \${adj}\${issue2.minimum.toString()} \\u0648\\u064A\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F \\u062F "\${_issue.prefix}" \\u0633\\u0631\\u0647 \\u067E\\u06CC\\u0644 \\u0634\\u064A\`;
        }
        if (_issue.format === "ends_with") {
          return \`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F \\u062F "\${_issue.suffix}" \\u0633\\u0631\\u0647 \\u067E\\u0627\\u06CC \\u062A\\u0647 \\u0648\\u0631\\u0633\\u064A\\u0696\\u064A\`;
        }
        if (_issue.format === "includes") {
          return \`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F "\${_issue.includes}" \\u0648\\u0644\\u0631\\u064A\`;
        }
        if (_issue.format === "regex") {
          return \`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F \\u062F \${_issue.pattern} \\u0633\\u0631\\u0647 \\u0645\\u0637\\u0627\\u0628\\u0642\\u062A \\u0648\\u0644\\u0631\\u064A\`;
        }
        return \`\${Nouns[_issue.format] ?? issue2.format} \\u0646\\u0627\\u0633\\u0645 \\u062F\\u06CC\`;
      }
      case "not_multiple_of":
        return \`\\u0646\\u0627\\u0633\\u0645 \\u0639\\u062F\\u062F: \\u0628\\u0627\\u06CC\\u062F \\u062F \${issue2.divisor} \\u0645\\u0636\\u0631\\u0628 \\u0648\\u064A\`;
      case "unrecognized_keys":
        return \`\\u0646\\u0627\\u0633\\u0645 \${issue2.keys.length > 1 ? "\\u06A9\\u0644\\u06CC\\u0689\\u0648\\u0646\\u0647" : "\\u06A9\\u0644\\u06CC\\u0689"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u0646\\u0627\\u0633\\u0645 \\u06A9\\u0644\\u06CC\\u0689 \\u067E\\u0647 \${issue2.origin} \\u06A9\\u06D0\`;
      case "invalid_union":
        return \`\\u0646\\u0627\\u0633\\u0645\\u0647 \\u0648\\u0631\\u0648\\u062F\\u064A\`;
      case "invalid_element":
        return \`\\u0646\\u0627\\u0633\\u0645 \\u0639\\u0646\\u0635\\u0631 \\u067E\\u0647 \${issue2.origin} \\u06A9\\u06D0\`;
      default:
        return \`\\u0646\\u0627\\u0633\\u0645\\u0647 \\u0648\\u0631\\u0648\\u062F\\u064A\`;
    }
  };
}, "error");
function ps_default() {
  return {
    localeError: error30()
  };
}
__name(ps_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/pl.js
var error31 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "znak\\xF3w",
      verb: "mie\\u0107"
    },
    file: {
      unit: "bajt\\xF3w",
      verb: "mie\\u0107"
    },
    array: {
      unit: "element\\xF3w",
      verb: "mie\\u0107"
    },
    set: {
      unit: "element\\xF3w",
      verb: "mie\\u0107"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "liczba";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tablica";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "wyra\\u017Cenie",
    email: "adres email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data i godzina w formacie ISO",
    date: "data w formacie ISO",
    time: "godzina w formacie ISO",
    duration: "czas trwania ISO",
    ipv4: "adres IPv4",
    ipv6: "adres IPv6",
    cidrv4: "zakres IPv4",
    cidrv6: "zakres IPv6",
    base64: "ci\\u0105g znak\\xF3w zakodowany w formacie base64",
    base64url: "ci\\u0105g znak\\xF3w zakodowany w formacie base64url",
    json_string: "ci\\u0105g znak\\xF3w w formacie JSON",
    e164: "liczba E.164",
    jwt: "JWT",
    template_literal: "wej\\u015Bcie"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Nieprawid\\u0142owe dane wej\\u015Bciowe: oczekiwano \${issue2.expected}, otrzymano \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Nieprawid\\u0142owe dane wej\\u015Bciowe: oczekiwano \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Nieprawid\\u0142owa opcja: oczekiwano jednej z warto\\u015Bci \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Za du\\u017Ca warto\\u015B\\u0107: oczekiwano, \\u017Ce \${issue2.origin ?? "warto\\u015B\\u0107"} b\\u0119dzie mie\\u0107 \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "element\\xF3w"}\`;
        }
        return \`Zbyt du\\u017C(y/a/e): oczekiwano, \\u017Ce \${issue2.origin ?? "warto\\u015B\\u0107"} b\\u0119dzie wynosi\\u0107 \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Za ma\\u0142a warto\\u015B\\u0107: oczekiwano, \\u017Ce \${issue2.origin ?? "warto\\u015B\\u0107"} b\\u0119dzie mie\\u0107 \${adj}\${issue2.minimum.toString()} \${sizing.unit ?? "element\\xF3w"}\`;
        }
        return \`Zbyt ma\\u0142(y/a/e): oczekiwano, \\u017Ce \${issue2.origin ?? "warto\\u015B\\u0107"} b\\u0119dzie wynosi\\u0107 \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi zaczyna\\u0107 si\\u0119 od "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi ko\\u0144czy\\u0107 si\\u0119 na "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi zawiera\\u0107 "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi odpowiada\\u0107 wzorcowi \${_issue.pattern}\`;
        return \`Nieprawid\\u0142ow(y/a/e) \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Nieprawid\\u0142owa liczba: musi by\\u0107 wielokrotno\\u015Bci\\u0105 \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Nierozpoznane klucze\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Nieprawid\\u0142owy klucz w \${issue2.origin}\`;
      case "invalid_union":
        return "Nieprawid\\u0142owe dane wej\\u015Bciowe";
      case "invalid_element":
        return \`Nieprawid\\u0142owa warto\\u015B\\u0107 w \${issue2.origin}\`;
      default:
        return \`Nieprawid\\u0142owe dane wej\\u015Bciowe\`;
    }
  };
}, "error");
function pl_default() {
  return {
    localeError: error31()
  };
}
__name(pl_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/pt.js
var error32 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "caracteres",
      verb: "ter"
    },
    file: {
      unit: "bytes",
      verb: "ter"
    },
    array: {
      unit: "itens",
      verb: "ter"
    },
    set: {
      unit: "itens",
      verb: "ter"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\\xFAmero";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "nulo";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "padr\\xE3o",
    email: "endere\\xE7o de e-mail",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "data e hora ISO",
    date: "data ISO",
    time: "hora ISO",
    duration: "dura\\xE7\\xE3o ISO",
    ipv4: "endere\\xE7o IPv4",
    ipv6: "endere\\xE7o IPv6",
    cidrv4: "faixa de IPv4",
    cidrv6: "faixa de IPv6",
    base64: "texto codificado em base64",
    base64url: "URL codificada em base64",
    json_string: "texto JSON",
    e164: "n\\xFAmero E.164",
    jwt: "JWT",
    template_literal: "entrada"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Tipo inv\\xE1lido: esperado \${issue2.expected}, recebido \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Entrada inv\\xE1lida: esperado \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Op\\xE7\\xE3o inv\\xE1lida: esperada uma das \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Muito grande: esperado que \${issue2.origin ?? "valor"} tivesse \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementos"}\`;
        return \`Muito grande: esperado que \${issue2.origin ?? "valor"} fosse \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Muito pequeno: esperado que \${issue2.origin} tivesse \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Muito pequeno: esperado que \${issue2.origin} fosse \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Texto inv\\xE1lido: deve come\\xE7ar com "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Texto inv\\xE1lido: deve terminar com "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Texto inv\\xE1lido: deve incluir "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Texto inv\\xE1lido: deve corresponder ao padr\\xE3o \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} inv\\xE1lido\`;
      }
      case "not_multiple_of":
        return \`N\\xFAmero inv\\xE1lido: deve ser m\\xFAltiplo de \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Chave\${issue2.keys.length > 1 ? "s" : ""} desconhecida\${issue2.keys.length > 1 ? "s" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Chave inv\\xE1lida em \${issue2.origin}\`;
      case "invalid_union":
        return "Entrada inv\\xE1lida";
      case "invalid_element":
        return \`Valor inv\\xE1lido em \${issue2.origin}\`;
      default:
        return \`Campo inv\\xE1lido\`;
    }
  };
}, "error");
function pt_default() {
  return {
    localeError: error32()
  };
}
__name(pt_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ru.js
function getRussianPlural(count, one, few, many) {
  const absCount = Math.abs(count);
  const lastDigit = absCount % 10;
  const lastTwoDigits = absCount % 100;
  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
    return many;
  }
  if (lastDigit === 1) {
    return one;
  }
  if (lastDigit >= 2 && lastDigit <= 4) {
    return few;
  }
  return many;
}
__name(getRussianPlural, "getRussianPlural");
var error33 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: {
        one: "\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B",
        few: "\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u0430",
        many: "\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432"
      },
      verb: "\\u0438\\u043C\\u0435\\u0442\\u044C"
    },
    file: {
      unit: {
        one: "\\u0431\\u0430\\u0439\\u0442",
        few: "\\u0431\\u0430\\u0439\\u0442\\u0430",
        many: "\\u0431\\u0430\\u0439\\u0442"
      },
      verb: "\\u0438\\u043C\\u0435\\u0442\\u044C"
    },
    array: {
      unit: {
        one: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",
        few: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430",
        many: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432"
      },
      verb: "\\u0438\\u043C\\u0435\\u0442\\u044C"
    },
    set: {
      unit: {
        one: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",
        few: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430",
        many: "\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432"
      },
      verb: "\\u0438\\u043C\\u0435\\u0442\\u044C"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0447\\u0438\\u0441\\u043B\\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u043C\\u0430\\u0441\\u0441\\u0438\\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0432\\u0432\\u043E\\u0434",
    email: "email \\u0430\\u0434\\u0440\\u0435\\u0441",
    url: "URL",
    emoji: "\\u044D\\u043C\\u043E\\u0434\\u0437\\u0438",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \\u0434\\u0430\\u0442\\u0430 \\u0438 \\u0432\\u0440\\u0435\\u043C\\u044F",
    date: "ISO \\u0434\\u0430\\u0442\\u0430",
    time: "ISO \\u0432\\u0440\\u0435\\u043C\\u044F",
    duration: "ISO \\u0434\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C",
    ipv4: "IPv4 \\u0430\\u0434\\u0440\\u0435\\u0441",
    ipv6: "IPv6 \\u0430\\u0434\\u0440\\u0435\\u0441",
    cidrv4: "IPv4 \\u0434\\u0438\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D",
    cidrv6: "IPv6 \\u0434\\u0438\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D",
    base64: "\\u0441\\u0442\\u0440\\u043E\\u043A\\u0430 \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 base64",
    base64url: "\\u0441\\u0442\\u0440\\u043E\\u043A\\u0430 \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 base64url",
    json_string: "JSON \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430",
    e164: "\\u043D\\u043E\\u043C\\u0435\\u0440 E.164",
    jwt: "JWT",
    template_literal: "\\u0432\\u0432\\u043E\\u0434"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0432\\u0432\\u043E\\u0434: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \${issue2.expected}, \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u043E \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0432\\u0432\\u043E\\u0434: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u043E\\u0434\\u043D\\u043E \\u0438\\u0437 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const maxValue = Number(issue2.maximum);
          const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return \`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u0431\\u043E\\u043B\\u044C\\u0448\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E \${issue2.origin ?? "\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435"} \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u043C\\u0435\\u0442\\u044C \${adj}\${issue2.maximum.toString()} \${unit}\`;
        }
        return \`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u0431\\u043E\\u043B\\u044C\\u0448\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E \${issue2.origin ?? "\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435"} \\u0431\\u0443\\u0434\\u0435\\u0442 \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          const minValue = Number(issue2.minimum);
          const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);
          return \`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043C\\u0430\\u043B\\u0435\\u043D\\u044C\\u043A\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E \${issue2.origin} \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u043C\\u0435\\u0442\\u044C \${adj}\${issue2.minimum.toString()} \${unit}\`;
        }
        return \`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043C\\u0430\\u043B\\u0435\\u043D\\u044C\\u043A\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E \${issue2.origin} \\u0431\\u0443\\u0434\\u0435\\u0442 \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u043D\\u0430\\u0447\\u0438\\u043D\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0437\\u0430\\u043A\\u0430\\u043D\\u0447\\u0438\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0441\\u043E\\u043E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u043E\\u0432\\u0430\\u0442\\u044C \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 \${_issue.pattern}\`;
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0435 \\u0447\\u0438\\u0441\\u043B\\u043E: \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0431\\u044B\\u0442\\u044C \\u043A\\u0440\\u0430\\u0442\\u043D\\u044B\\u043C \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\u041D\\u0435\\u0440\\u0430\\u0441\\u043F\\u043E\\u0437\\u043D\\u0430\\u043D\\u043D\${issue2.keys.length > 1 ? "\\u044B\\u0435" : "\\u044B\\u0439"} \\u043A\\u043B\\u044E\\u0447\${issue2.keys.length > 1 ? "\\u0438" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043A\\u043B\\u044E\\u0447 \\u0432 \${issue2.origin}\`;
      case "invalid_union":
        return "\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435 \\u0432\\u0445\\u043E\\u0434\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435";
      case "invalid_element":
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0432 \${issue2.origin}\`;
      default:
        return \`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435 \\u0432\\u0445\\u043E\\u0434\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\`;
    }
  };
}, "error");
function ru_default() {
  return {
    localeError: error33()
  };
}
__name(ru_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/sl.js
var error34 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "znakov",
      verb: "imeti"
    },
    file: {
      unit: "bajtov",
      verb: "imeti"
    },
    array: {
      unit: "elementov",
      verb: "imeti"
    },
    set: {
      unit: "elementov",
      verb: "imeti"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0161tevilo";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "tabela";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "vnos",
    email: "e-po\\u0161tni naslov",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO datum in \\u010Das",
    date: "ISO datum",
    time: "ISO \\u010Das",
    duration: "ISO trajanje",
    ipv4: "IPv4 naslov",
    ipv6: "IPv6 naslov",
    cidrv4: "obseg IPv4",
    cidrv6: "obseg IPv6",
    base64: "base64 kodiran niz",
    base64url: "base64url kodiran niz",
    json_string: "JSON niz",
    e164: "E.164 \\u0161tevilka",
    jwt: "JWT",
    template_literal: "vnos"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Neveljaven vnos: pri\\u010Dakovano \${issue2.expected}, prejeto \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Neveljaven vnos: pri\\u010Dakovano \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Neveljavna mo\\u017Enost: pri\\u010Dakovano eno izmed \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Preveliko: pri\\u010Dakovano, da bo \${issue2.origin ?? "vrednost"} imelo \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "elementov"}\`;
        return \`Preveliko: pri\\u010Dakovano, da bo \${issue2.origin ?? "vrednost"} \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Premajhno: pri\\u010Dakovano, da bo \${issue2.origin} imelo \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Premajhno: pri\\u010Dakovano, da bo \${issue2.origin} \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Neveljaven niz: mora se za\\u010Deti z "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`Neveljaven niz: mora se kon\\u010Dati z "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Neveljaven niz: mora vsebovati "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Neveljaven niz: mora ustrezati vzorcu \${_issue.pattern}\`;
        return \`Neveljaven \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Neveljavno \\u0161tevilo: mora biti ve\\u010Dkratnik \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Neprepoznan\${issue2.keys.length > 1 ? "i klju\\u010Di" : " klju\\u010D"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Neveljaven klju\\u010D v \${issue2.origin}\`;
      case "invalid_union":
        return "Neveljaven vnos";
      case "invalid_element":
        return \`Neveljavna vrednost v \${issue2.origin}\`;
      default:
        return "Neveljaven vnos";
    }
  };
}, "error");
function sl_default() {
  return {
    localeError: error34()
  };
}
__name(sl_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/sv.js
var error35 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "tecken",
      verb: "att ha"
    },
    file: {
      unit: "bytes",
      verb: "att ha"
    },
    array: {
      unit: "objekt",
      verb: "att inneh\\xE5lla"
    },
    set: {
      unit: "objekt",
      verb: "att inneh\\xE5lla"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "antal";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "lista";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "regulj\\xE4rt uttryck",
    email: "e-postadress",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO-datum och tid",
    date: "ISO-datum",
    time: "ISO-tid",
    duration: "ISO-varaktighet",
    ipv4: "IPv4-intervall",
    ipv6: "IPv6-intervall",
    cidrv4: "IPv4-spektrum",
    cidrv6: "IPv6-spektrum",
    base64: "base64-kodad str\\xE4ng",
    base64url: "base64url-kodad str\\xE4ng",
    json_string: "JSON-str\\xE4ng",
    e164: "E.164-nummer",
    jwt: "JWT",
    template_literal: "mall-literal"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Ogiltig inmatning: f\\xF6rv\\xE4ntat \${issue2.expected}, fick \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Ogiltig inmatning: f\\xF6rv\\xE4ntat \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Ogiltigt val: f\\xF6rv\\xE4ntade en av \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`F\\xF6r stor(t): f\\xF6rv\\xE4ntade \${issue2.origin ?? "v\\xE4rdet"} att ha \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "element"}\`;
        }
        return \`F\\xF6r stor(t): f\\xF6rv\\xE4ntat \${issue2.origin ?? "v\\xE4rdet"} att ha \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`F\\xF6r lite(t): f\\xF6rv\\xE4ntade \${issue2.origin ?? "v\\xE4rdet"} att ha \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`F\\xF6r lite(t): f\\xF6rv\\xE4ntade \${issue2.origin ?? "v\\xE4rdet"} att ha \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`Ogiltig str\\xE4ng: m\\xE5ste b\\xF6rja med "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`Ogiltig str\\xE4ng: m\\xE5ste sluta med "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Ogiltig str\\xE4ng: m\\xE5ste inneh\\xE5lla "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Ogiltig str\\xE4ng: m\\xE5ste matcha m\\xF6nstret "\${_issue.pattern}"\`;
        return \`Ogiltig(t) \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Ogiltigt tal: m\\xE5ste vara en multipel av \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\${issue2.keys.length > 1 ? "Ok\\xE4nda nycklar" : "Ok\\xE4nd nyckel"}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Ogiltig nyckel i \${issue2.origin ?? "v\\xE4rdet"}\`;
      case "invalid_union":
        return "Ogiltig input";
      case "invalid_element":
        return \`Ogiltigt v\\xE4rde i \${issue2.origin ?? "v\\xE4rdet"}\`;
      default:
        return \`Ogiltig input\`;
    }
  };
}, "error");
function sv_default() {
  return {
    localeError: error35()
  };
}
__name(sv_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ta.js
var error36 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u0B8E\\u0BB4\\u0BC1\\u0BA4\\u0BCD\\u0BA4\\u0BC1\\u0B95\\u0BCD\\u0B95\\u0BB3\\u0BCD",
      verb: "\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"
    },
    file: {
      unit: "\\u0BAA\\u0BC8\\u0B9F\\u0BCD\\u0B9F\\u0BC1\\u0B95\\u0BB3\\u0BCD",
      verb: "\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"
    },
    array: {
      unit: "\\u0B89\\u0BB1\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BC1\\u0B95\\u0BB3\\u0BCD",
      verb: "\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"
    },
    set: {
      unit: "\\u0B89\\u0BB1\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BC1\\u0B95\\u0BB3\\u0BCD",
      verb: "\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "\\u0B8E\\u0BA3\\u0BCD \\u0B85\\u0BB2\\u0BCD\\u0BB2\\u0BBE\\u0BA4\\u0BA4\\u0BC1" : "\\u0B8E\\u0BA3\\u0BCD";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u0B85\\u0BA3\\u0BBF";
        }
        if (data === null) {
          return "\\u0BB5\\u0BC6\\u0BB1\\u0BC1\\u0BAE\\u0BC8";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1",
    email: "\\u0BAE\\u0BBF\\u0BA9\\u0BCD\\u0BA9\\u0B9E\\u0BCD\\u0B9A\\u0BB2\\u0BCD \\u0BAE\\u0BC1\\u0B95\\u0BB5\\u0BB0\\u0BBF",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \\u0BA4\\u0BC7\\u0BA4\\u0BBF \\u0BA8\\u0BC7\\u0BB0\\u0BAE\\u0BCD",
    date: "ISO \\u0BA4\\u0BC7\\u0BA4\\u0BBF",
    time: "ISO \\u0BA8\\u0BC7\\u0BB0\\u0BAE\\u0BCD",
    duration: "ISO \\u0B95\\u0BBE\\u0BB2 \\u0B85\\u0BB3\\u0BB5\\u0BC1",
    ipv4: "IPv4 \\u0BAE\\u0BC1\\u0B95\\u0BB5\\u0BB0\\u0BBF",
    ipv6: "IPv6 \\u0BAE\\u0BC1\\u0B95\\u0BB5\\u0BB0\\u0BBF",
    cidrv4: "IPv4 \\u0BB5\\u0BB0\\u0BAE\\u0BCD\\u0BAA\\u0BC1",
    cidrv6: "IPv6 \\u0BB5\\u0BB0\\u0BAE\\u0BCD\\u0BAA\\u0BC1",
    base64: "base64-encoded \\u0B9A\\u0BB0\\u0BAE\\u0BCD",
    base64url: "base64url-encoded \\u0B9A\\u0BB0\\u0BAE\\u0BCD",
    json_string: "JSON \\u0B9A\\u0BB0\\u0BAE\\u0BCD",
    e164: "E.164 \\u0B8E\\u0BA3\\u0BCD",
    jwt: "JWT",
    template_literal: "input"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${issue2.expected}, \\u0BAA\\u0BC6\\u0BB1\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0BB5\\u0BBF\\u0BB0\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BAE\\u0BCD: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${joinValues(issue2.values, "|")} \\u0B87\\u0BB2\\u0BCD \\u0B92\\u0BA9\\u0BCD\\u0BB1\\u0BC1\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0BAE\\u0BBF\\u0B95 \\u0BAA\\u0BC6\\u0BB0\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${issue2.origin ?? "\\u0BAE\\u0BA4\\u0BBF\\u0BAA\\u0BCD\\u0BAA\\u0BC1"} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u0B89\\u0BB1\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BC1\\u0B95\\u0BB3\\u0BCD"} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
        }
        return \`\\u0BAE\\u0BBF\\u0B95 \\u0BAA\\u0BC6\\u0BB0\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${issue2.origin ?? "\\u0BAE\\u0BA4\\u0BBF\\u0BAA\\u0BCD\\u0BAA\\u0BC1"} \${adj}\${issue2.maximum.toString()} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0BAE\\u0BBF\\u0B95\\u0B9A\\u0BCD \\u0B9A\\u0BBF\\u0BB1\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${issue2.origin} \${adj}\${issue2.minimum.toString()} \${sizing.unit} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
        }
        return \`\\u0BAE\\u0BBF\\u0B95\\u0B9A\\u0BCD \\u0B9A\\u0BBF\\u0BB1\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 \${issue2.origin} \${adj}\${issue2.minimum.toString()} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: "\${_issue.prefix}" \\u0B87\\u0BB2\\u0BCD \\u0BA4\\u0BCA\\u0B9F\\u0B99\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
        if (_issue.format === "ends_with") return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: "\${_issue.suffix}" \\u0B87\\u0BB2\\u0BCD \\u0BAE\\u0BC1\\u0B9F\\u0BBF\\u0BB5\\u0B9F\\u0BC8\\u0BAF \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
        if (_issue.format === "includes") return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: "\${_issue.includes}" \\u0B90 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0B9F\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
        if (_issue.format === "regex") return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: \${_issue.pattern} \\u0BAE\\u0BC1\\u0BB1\\u0BC8\\u0BAA\\u0BBE\\u0B9F\\u0BCD\\u0B9F\\u0BC1\\u0B9F\\u0BA9\\u0BCD \\u0BAA\\u0BCA\\u0BB0\\u0BC1\\u0BA8\\u0BCD\\u0BA4 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
        return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B8E\\u0BA3\\u0BCD: \${issue2.divisor} \\u0B87\\u0BA9\\u0BCD \\u0BAA\\u0BB2\\u0BAE\\u0BBE\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD\`;
      case "unrecognized_keys":
        return \`\\u0B85\\u0B9F\\u0BC8\\u0BAF\\u0BBE\\u0BB3\\u0BAE\\u0BCD \\u0BA4\\u0BC6\\u0BB0\\u0BBF\\u0BAF\\u0BBE\\u0BA4 \\u0BB5\\u0BBF\\u0B9A\\u0BC8\${issue2.keys.length > 1 ? "\\u0B95\\u0BB3\\u0BCD" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\${issue2.origin} \\u0B87\\u0BB2\\u0BCD \\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0BB5\\u0BBF\\u0B9A\\u0BC8\`;
      case "invalid_union":
        return "\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1";
      case "invalid_element":
        return \`\${issue2.origin} \\u0B87\\u0BB2\\u0BCD \\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0BAE\\u0BA4\\u0BBF\\u0BAA\\u0BCD\\u0BAA\\u0BC1\`;
      default:
        return \`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1\`;
    }
  };
}, "error");
function ta_default() {
  return {
    localeError: error36()
  };
}
__name(ta_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/th.js
var error37 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u0E15\\u0E31\\u0E27\\u0E2D\\u0E31\\u0E01\\u0E29\\u0E23",
      verb: "\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"
    },
    file: {
      unit: "\\u0E44\\u0E1A\\u0E15\\u0E4C",
      verb: "\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"
    },
    array: {
      unit: "\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23",
      verb: "\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"
    },
    set: {
      unit: "\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23",
      verb: "\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E48\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02 (NaN)" : "\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u0E2D\\u0E32\\u0E23\\u0E4C\\u0E40\\u0E23\\u0E22\\u0E4C (Array)";
        }
        if (data === null) {
          return "\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E48\\u0E32 (null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E49\\u0E2D\\u0E19",
    email: "\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25",
    url: "URL",
    emoji: "\\u0E2D\\u0E34\\u0E42\\u0E21\\u0E08\\u0E34",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E40\\u0E27\\u0E25\\u0E32\\u0E41\\u0E1A\\u0E1A ISO",
    date: "\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E41\\u0E1A\\u0E1A ISO",
    time: "\\u0E40\\u0E27\\u0E25\\u0E32\\u0E41\\u0E1A\\u0E1A ISO",
    duration: "\\u0E0A\\u0E48\\u0E27\\u0E07\\u0E40\\u0E27\\u0E25\\u0E32\\u0E41\\u0E1A\\u0E1A ISO",
    ipv4: "\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 IPv4",
    ipv6: "\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 IPv6",
    cidrv4: "\\u0E0A\\u0E48\\u0E27\\u0E07 IP \\u0E41\\u0E1A\\u0E1A IPv4",
    cidrv6: "\\u0E0A\\u0E48\\u0E27\\u0E07 IP \\u0E41\\u0E1A\\u0E1A IPv6",
    base64: "\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A Base64",
    base64url: "\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A Base64 \\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A URL",
    json_string: "\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A JSON",
    e164: "\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E17\\u0E28 (E.164)",
    jwt: "\\u0E42\\u0E17\\u0E40\\u0E04\\u0E19 JWT",
    template_literal: "\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E49\\u0E2D\\u0E19"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E04\\u0E27\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19 \${issue2.expected} \\u0E41\\u0E15\\u0E48\\u0E44\\u0E14\\u0E49\\u0E23\\u0E31\\u0E1A \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u0E04\\u0E48\\u0E32\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E04\\u0E27\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19 \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E04\\u0E27\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E2B\\u0E19\\u0E36\\u0E48\\u0E07\\u0E43\\u0E19 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "\\u0E44\\u0E21\\u0E48\\u0E40\\u0E01\\u0E34\\u0E19" : "\\u0E19\\u0E49\\u0E2D\\u0E22\\u0E01\\u0E27\\u0E48\\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u0E40\\u0E01\\u0E34\\u0E19\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: \${issue2.origin ?? "\\u0E04\\u0E48\\u0E32"} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35\${adj} \${issue2.maximum.toString()} \${sizing.unit ?? "\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23"}\`;
        return \`\\u0E40\\u0E01\\u0E34\\u0E19\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: \${issue2.origin ?? "\\u0E04\\u0E48\\u0E32"} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35\${adj} \${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? "\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E19\\u0E49\\u0E2D\\u0E22" : "\\u0E21\\u0E32\\u0E01\\u0E01\\u0E27\\u0E48\\u0E32";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0E19\\u0E49\\u0E2D\\u0E22\\u0E01\\u0E27\\u0E48\\u0E32\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: \${issue2.origin} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35\${adj} \${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u0E19\\u0E49\\u0E2D\\u0E22\\u0E01\\u0E27\\u0E48\\u0E32\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: \${issue2.origin} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35\${adj} \${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E02\\u0E36\\u0E49\\u0E19\\u0E15\\u0E49\\u0E19\\u0E14\\u0E49\\u0E27\\u0E22 "\${_issue.prefix}"\`;
        }
        if (_issue.format === "ends_with") return \`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E25\\u0E07\\u0E17\\u0E49\\u0E32\\u0E22\\u0E14\\u0E49\\u0E27\\u0E22 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E21\\u0E35 "\${_issue.includes}" \\u0E2D\\u0E22\\u0E39\\u0E48\\u0E43\\u0E19\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\`;
        if (_issue.format === "regex") return \`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E15\\u0E49\\u0E2D\\u0E07\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E1A\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E17\\u0E35\\u0E48\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14 \${_issue.pattern}\`;
        return \`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E15\\u0E49\\u0E2D\\u0E07\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E32\\u0E23\\u0E14\\u0E49\\u0E27\\u0E22 \${issue2.divisor} \\u0E44\\u0E14\\u0E49\\u0E25\\u0E07\\u0E15\\u0E31\\u0E27\`;
      case "unrecognized_keys":
        return \`\\u0E1E\\u0E1A\\u0E04\\u0E35\\u0E22\\u0E4C\\u0E17\\u0E35\\u0E48\\u0E44\\u0E21\\u0E48\\u0E23\\u0E39\\u0E49\\u0E08\\u0E31\\u0E01: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u0E04\\u0E35\\u0E22\\u0E4C\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E43\\u0E19 \${issue2.origin}\`;
      case "invalid_union":
        return "\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E44\\u0E21\\u0E48\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E1A\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E22\\u0E39\\u0E40\\u0E19\\u0E35\\u0E22\\u0E19\\u0E17\\u0E35\\u0E48\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E44\\u0E27\\u0E49";
      case "invalid_element":
        return \`\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E43\\u0E19 \${issue2.origin}\`;
      default:
        return \`\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\`;
    }
  };
}, "error");
function th_default() {
  return {
    localeError: error37()
  };
}
__name(th_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/tr.js
var parsedType6 = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "number": {
      return Number.isNaN(data) ? "NaN" : "number";
    }
    case "object": {
      if (Array.isArray(data)) {
        return "array";
      }
      if (data === null) {
        return "null";
      }
      if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
        return data.constructor.name;
      }
    }
  }
  return t;
}, "parsedType");
var error38 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "karakter",
      verb: "olmal\\u0131"
    },
    file: {
      unit: "bayt",
      verb: "olmal\\u0131"
    },
    array: {
      unit: "\\xF6\\u011Fe",
      verb: "olmal\\u0131"
    },
    set: {
      unit: "\\xF6\\u011Fe",
      verb: "olmal\\u0131"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const Nouns = {
    regex: "girdi",
    email: "e-posta adresi",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO tarih ve saat",
    date: "ISO tarih",
    time: "ISO saat",
    duration: "ISO s\\xFCre",
    ipv4: "IPv4 adresi",
    ipv6: "IPv6 adresi",
    cidrv4: "IPv4 aral\\u0131\\u011F\\u0131",
    cidrv6: "IPv6 aral\\u0131\\u011F\\u0131",
    base64: "base64 ile \\u015Fifrelenmi\\u015F metin",
    base64url: "base64url ile \\u015Fifrelenmi\\u015F metin",
    json_string: "JSON dizesi",
    e164: "E.164 say\\u0131s\\u0131",
    jwt: "JWT",
    template_literal: "\\u015Eablon dizesi"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`Ge\\xE7ersiz de\\u011Fer: beklenen \${issue2.expected}, al\\u0131nan \${parsedType6(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`Ge\\xE7ersiz de\\u011Fer: beklenen \${stringifyPrimitive(issue2.values[0])}\`;
        return \`Ge\\xE7ersiz se\\xE7enek: a\\u015Fa\\u011F\\u0131dakilerden biri olmal\\u0131: \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\xC7ok b\\xFCy\\xFCk: beklenen \${issue2.origin ?? "de\\u011Fer"} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\xF6\\u011Fe"}\`;
        return \`\\xC7ok b\\xFCy\\xFCk: beklenen \${issue2.origin ?? "de\\u011Fer"} \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\xC7ok k\\xFC\\xE7\\xFCk: beklenen \${issue2.origin} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        return \`\\xC7ok k\\xFC\\xE7\\xFCk: beklenen \${issue2.origin} \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Ge\\xE7ersiz metin: "\${_issue.prefix}" ile ba\\u015Flamal\\u0131\`;
        if (_issue.format === "ends_with") return \`Ge\\xE7ersiz metin: "\${_issue.suffix}" ile bitmeli\`;
        if (_issue.format === "includes") return \`Ge\\xE7ersiz metin: "\${_issue.includes}" i\\xE7ermeli\`;
        if (_issue.format === "regex") return \`Ge\\xE7ersiz metin: \${_issue.pattern} desenine uymal\\u0131\`;
        return \`Ge\\xE7ersiz \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`Ge\\xE7ersiz say\\u0131: \${issue2.divisor} ile tam b\\xF6l\\xFCnebilmeli\`;
      case "unrecognized_keys":
        return \`Tan\\u0131nmayan anahtar\${issue2.keys.length > 1 ? "lar" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\${issue2.origin} i\\xE7inde ge\\xE7ersiz anahtar\`;
      case "invalid_union":
        return "Ge\\xE7ersiz de\\u011Fer";
      case "invalid_element":
        return \`\${issue2.origin} i\\xE7inde ge\\xE7ersiz de\\u011Fer\`;
      default:
        return \`Ge\\xE7ersiz de\\u011Fer\`;
    }
  };
}, "error");
function tr_default() {
  return {
    localeError: error38()
  };
}
__name(tr_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/uk.js
var error39 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u0456\\u0432",
      verb: "\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"
    },
    file: {
      unit: "\\u0431\\u0430\\u0439\\u0442\\u0456\\u0432",
      verb: "\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"
    },
    array: {
      unit: "\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0456\\u0432",
      verb: "\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"
    },
    set: {
      unit: "\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0456\\u0432",
      verb: "\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0447\\u0438\\u0441\\u043B\\u043E";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u043C\\u0430\\u0441\\u0438\\u0432";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456",
    email: "\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u0435\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u043E\\u0457 \\u043F\\u043E\\u0448\\u0442\\u0438",
    url: "URL",
    emoji: "\\u0435\\u043C\\u043E\\u0434\\u0437\\u0456",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\u0434\\u0430\\u0442\\u0430 \\u0442\\u0430 \\u0447\\u0430\\u0441 ISO",
    date: "\\u0434\\u0430\\u0442\\u0430 ISO",
    time: "\\u0447\\u0430\\u0441 ISO",
    duration: "\\u0442\\u0440\\u0438\\u0432\\u0430\\u043B\\u0456\\u0441\\u0442\\u044C ISO",
    ipv4: "\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 IPv4",
    ipv6: "\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 IPv6",
    cidrv4: "\\u0434\\u0456\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D IPv4",
    cidrv6: "\\u0434\\u0456\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D IPv6",
    base64: "\\u0440\\u044F\\u0434\\u043E\\u043A \\u0443 \\u043A\\u043E\\u0434\\u0443\\u0432\\u0430\\u043D\\u043D\\u0456 base64",
    base64url: "\\u0440\\u044F\\u0434\\u043E\\u043A \\u0443 \\u043A\\u043E\\u0434\\u0443\\u0432\\u0430\\u043D\\u043D\\u0456 base64url",
    json_string: "\\u0440\\u044F\\u0434\\u043E\\u043A JSON",
    e164: "\\u043D\\u043E\\u043C\\u0435\\u0440 E.164",
    jwt: "JWT",
    template_literal: "\\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F \${issue2.expected}, \\u043E\\u0442\\u0440\\u0438\\u043C\\u0430\\u043D\\u043E \${parsedType7(issue2.input)}\`;
      // return \`  :  \${issue.expected},  \${util.getParsedType(issue.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0430 \\u043E\\u043F\\u0446\\u0456\\u044F: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F \\u043E\\u0434\\u043D\\u0435 \\u0437 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u0432\\u0435\\u043B\\u0438\\u043A\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E \${issue2.origin ?? "\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F"} \${sizing.verb} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0456\\u0432"}\`;
        return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u0432\\u0435\\u043B\\u0438\\u043A\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E \${issue2.origin ?? "\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F"} \\u0431\\u0443\\u0434\\u0435 \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u043C\\u0430\\u043B\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E \${issue2.origin} \${sizing.verb} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u043C\\u0430\\u043B\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E \${issue2.origin} \\u0431\\u0443\\u0434\\u0435 \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u043F\\u043E\\u0447\\u0438\\u043D\\u0430\\u0442\\u0438\\u0441\\u044F \\u0437 "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u0437\\u0430\\u043A\\u0456\\u043D\\u0447\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044F \\u043D\\u0430 "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u043C\\u0456\\u0441\\u0442\\u0438\\u0442\\u0438 "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u0432\\u0456\\u0434\\u043F\\u043E\\u0432\\u0456\\u0434\\u0430\\u0442\\u0438 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 \${_issue.pattern}\`;
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0435 \\u0447\\u0438\\u0441\\u043B\\u043E: \\u043F\\u043E\\u0432\\u0438\\u043D\\u043D\\u043E \\u0431\\u0443\\u0442\\u0438 \\u043A\\u0440\\u0430\\u0442\\u043D\\u0438\\u043C \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`\\u041D\\u0435\\u0440\\u043E\\u0437\\u043F\\u0456\\u0437\\u043D\\u0430\\u043D\\u0438\\u0439 \\u043A\\u043B\\u044E\\u0447\${issue2.keys.length > 1 ? "\\u0456" : ""}: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u043A\\u043B\\u044E\\u0447 \\u0443 \${issue2.origin}\`;
      case "invalid_union":
        return "\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456";
      case "invalid_element":
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F \\u0443 \${issue2.origin}\`;
      default:
        return \`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456\`;
    }
  };
}, "error");
function uk_default() {
  return {
    localeError: error39()
  };
}
__name(uk_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ua.js
function ua_default() {
  return uk_default();
}
__name(ua_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/ur.js
var error40 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u062D\\u0631\\u0648\\u0641",
      verb: "\\u06C1\\u0648\\u0646\\u0627"
    },
    file: {
      unit: "\\u0628\\u0627\\u0626\\u0679\\u0633",
      verb: "\\u06C1\\u0648\\u0646\\u0627"
    },
    array: {
      unit: "\\u0622\\u0626\\u0679\\u0645\\u0632",
      verb: "\\u06C1\\u0648\\u0646\\u0627"
    },
    set: {
      unit: "\\u0622\\u0626\\u0679\\u0645\\u0632",
      verb: "\\u06C1\\u0648\\u0646\\u0627"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "\\u0646\\u0645\\u0628\\u0631";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u0622\\u0631\\u06D2";
        }
        if (data === null) {
          return "\\u0646\\u0644";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0627\\u0646 \\u067E\\u0679",
    email: "\\u0627\\u06CC \\u0645\\u06CC\\u0644 \\u0627\\u06CC\\u0688\\u0631\\u06CC\\u0633",
    url: "\\u06CC\\u0648 \\u0622\\u0631 \\u0627\\u06CC\\u0644",
    emoji: "\\u0627\\u06CC\\u0645\\u0648\\u062C\\u06CC",
    uuid: "\\u06CC\\u0648 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    uuidv4: "\\u06CC\\u0648 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC \\u0648\\u06CC 4",
    uuidv6: "\\u06CC\\u0648 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC \\u0648\\u06CC 6",
    nanoid: "\\u0646\\u06CC\\u0646\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    guid: "\\u062C\\u06CC \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    cuid: "\\u0633\\u06CC \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    cuid2: "\\u0633\\u06CC \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC 2",
    ulid: "\\u06CC\\u0648 \\u0627\\u06CC\\u0644 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    xid: "\\u0627\\u06CC\\u06A9\\u0633 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    ksuid: "\\u06A9\\u06D2 \\u0627\\u06CC\\u0633 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",
    datetime: "\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0688\\u06CC\\u0679 \\u0679\\u0627\\u0626\\u0645",
    date: "\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u062A\\u0627\\u0631\\u06CC\\u062E",
    time: "\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0648\\u0642\\u062A",
    duration: "\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0645\\u062F\\u062A",
    ipv4: "\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 4 \\u0627\\u06CC\\u0688\\u0631\\u06CC\\u0633",
    ipv6: "\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 6 \\u0627\\u06CC\\u0688\\u0631\\u06CC\\u0633",
    cidrv4: "\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 4 \\u0631\\u06CC\\u0646\\u062C",
    cidrv6: "\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 6 \\u0631\\u06CC\\u0646\\u062C",
    base64: "\\u0628\\u06CC\\u0633 64 \\u0627\\u0646 \\u06A9\\u0648\\u0688\\u0688 \\u0633\\u0679\\u0631\\u0646\\u06AF",
    base64url: "\\u0628\\u06CC\\u0633 64 \\u06CC\\u0648 \\u0622\\u0631 \\u0627\\u06CC\\u0644 \\u0627\\u0646 \\u06A9\\u0648\\u0688\\u0688 \\u0633\\u0679\\u0631\\u0646\\u06AF",
    json_string: "\\u062C\\u06D2 \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0627\\u06CC\\u0646 \\u0633\\u0679\\u0631\\u0646\\u06AF",
    e164: "\\u0627\\u06CC 164 \\u0646\\u0645\\u0628\\u0631",
    jwt: "\\u062C\\u06D2 \\u0688\\u0628\\u0644\\u06CC\\u0648 \\u0679\\u06CC",
    template_literal: "\\u0627\\u0646 \\u067E\\u0679"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679: \${issue2.expected} \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627\\u060C \${parsedType7(issue2.input)} \\u0645\\u0648\\u0635\\u0648\\u0644 \\u06C1\\u0648\\u0627\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679: \${stringifyPrimitive(issue2.values[0])} \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627\`;
        return \`\\u063A\\u0644\\u0637 \\u0622\\u067E\\u0634\\u0646: \${joinValues(issue2.values, "|")} \\u0645\\u06CC\\u06BA \\u0633\\u06D2 \\u0627\\u06CC\\u06A9 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u0628\\u06C1\\u062A \\u0628\\u0691\\u0627: \${issue2.origin ?? "\\u0648\\u06CC\\u0644\\u06CC\\u0648"} \\u06A9\\u06D2 \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u0639\\u0646\\u0627\\u0635\\u0631"} \\u06C1\\u0648\\u0646\\u06D2 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u06D2\`;
        return \`\\u0628\\u06C1\\u062A \\u0628\\u0691\\u0627: \${issue2.origin ?? "\\u0648\\u06CC\\u0644\\u06CC\\u0648"} \\u06A9\\u0627 \${adj}\${issue2.maximum.toString()} \\u06C1\\u0648\\u0646\\u0627 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u0628\\u06C1\\u062A \\u0686\\u06BE\\u0648\\u0679\\u0627: \${issue2.origin} \\u06A9\\u06D2 \${adj}\${issue2.minimum.toString()} \${sizing.unit} \\u06C1\\u0648\\u0646\\u06D2 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u06D2\`;
        }
        return \`\\u0628\\u06C1\\u062A \\u0686\\u06BE\\u0648\\u0679\\u0627: \${issue2.origin} \\u06A9\\u0627 \${adj}\${issue2.minimum.toString()} \\u06C1\\u0648\\u0646\\u0627 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: "\${_issue.prefix}" \\u0633\\u06D2 \\u0634\\u0631\\u0648\\u0639 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2\`;
        }
        if (_issue.format === "ends_with") return \`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: "\${_issue.suffix}" \\u067E\\u0631 \\u062E\\u062A\\u0645 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2\`;
        if (_issue.format === "includes") return \`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: "\${_issue.includes}" \\u0634\\u0627\\u0645\\u0644 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2\`;
        if (_issue.format === "regex") return \`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: \\u067E\\u06CC\\u0679\\u0631\\u0646 \${_issue.pattern} \\u0633\\u06D2 \\u0645\\u06CC\\u0686 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2\`;
        return \`\\u063A\\u0644\\u0637 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u063A\\u0644\\u0637 \\u0646\\u0645\\u0628\\u0631: \${issue2.divisor} \\u06A9\\u0627 \\u0645\\u0636\\u0627\\u0639\\u0641 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2\`;
      case "unrecognized_keys":
        return \`\\u063A\\u06CC\\u0631 \\u062A\\u0633\\u0644\\u06CC\\u0645 \\u0634\\u062F\\u06C1 \\u06A9\\u06CC\${issue2.keys.length > 1 ? "\\u0632" : ""}: \${joinValues(issue2.keys, "\\u060C ")}\`;
      case "invalid_key":
        return \`\${issue2.origin} \\u0645\\u06CC\\u06BA \\u063A\\u0644\\u0637 \\u06A9\\u06CC\`;
      case "invalid_union":
        return "\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679";
      case "invalid_element":
        return \`\${issue2.origin} \\u0645\\u06CC\\u06BA \\u063A\\u0644\\u0637 \\u0648\\u06CC\\u0644\\u06CC\\u0648\`;
      default:
        return \`\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679\`;
    }
  };
}, "error");
function ur_default() {
  return {
    localeError: error40()
  };
}
__name(ur_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/vi.js
var error41 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "k\\xFD t\\u1EF1",
      verb: "c\\xF3"
    },
    file: {
      unit: "byte",
      verb: "c\\xF3"
    },
    array: {
      unit: "ph\\u1EA7n t\\u1EED",
      verb: "c\\xF3"
    },
    set: {
      unit: "ph\\u1EA7n t\\u1EED",
      verb: "c\\xF3"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "s\\u1ED1";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "m\\u1EA3ng";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u0111\\u1EA7u v\\xE0o",
    email: "\\u0111\\u1ECBa ch\\u1EC9 email",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ng\\xE0y gi\\u1EDD ISO",
    date: "ng\\xE0y ISO",
    time: "gi\\u1EDD ISO",
    duration: "kho\\u1EA3ng th\\u1EDDi gian ISO",
    ipv4: "\\u0111\\u1ECBa ch\\u1EC9 IPv4",
    ipv6: "\\u0111\\u1ECBa ch\\u1EC9 IPv6",
    cidrv4: "d\\u1EA3i IPv4",
    cidrv6: "d\\u1EA3i IPv6",
    base64: "chu\\u1ED7i m\\xE3 h\\xF3a base64",
    base64url: "chu\\u1ED7i m\\xE3 h\\xF3a base64url",
    json_string: "chu\\u1ED7i JSON",
    e164: "s\\u1ED1 E.164",
    jwt: "JWT",
    template_literal: "\\u0111\\u1EA7u v\\xE0o"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7: mong \\u0111\\u1EE3i \${issue2.expected}, nh\\u1EADn \\u0111\\u01B0\\u1EE3c \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7: mong \\u0111\\u1EE3i \${stringifyPrimitive(issue2.values[0])}\`;
        return \`T\\xF9y ch\\u1ECDn kh\\xF4ng h\\u1EE3p l\\u1EC7: mong \\u0111\\u1EE3i m\\u1ED9t trong c\\xE1c gi\\xE1 tr\\u1ECB \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`Qu\\xE1 l\\u1EDBn: mong \\u0111\\u1EE3i \${issue2.origin ?? "gi\\xE1 tr\\u1ECB"} \${sizing.verb} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "ph\\u1EA7n t\\u1EED"}\`;
        return \`Qu\\xE1 l\\u1EDBn: mong \\u0111\\u1EE3i \${issue2.origin ?? "gi\\xE1 tr\\u1ECB"} \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`Qu\\xE1 nh\\u1ECF: mong \\u0111\\u1EE3i \${issue2.origin} \${sizing.verb} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`Qu\\xE1 nh\\u1ECF: mong \\u0111\\u1EE3i \${issue2.origin} \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i b\\u1EAFt \\u0111\\u1EA7u b\\u1EB1ng "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i k\\u1EBFt th\\xFAc b\\u1EB1ng "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i bao g\\u1ED3m "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i kh\\u1EDBp v\\u1EDBi m\\u1EABu \${_issue.pattern}\`;
        return \`\${Nouns[_issue.format] ?? issue2.format} kh\\xF4ng h\\u1EE3p l\\u1EC7\`;
      }
      case "not_multiple_of":
        return \`S\\u1ED1 kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i l\\xE0 b\\u1ED9i s\\u1ED1 c\\u1EE7a \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`Kh\\xF3a kh\\xF4ng \\u0111\\u01B0\\u1EE3c nh\\u1EADn d\\u1EA1ng: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`Kh\\xF3a kh\\xF4ng h\\u1EE3p l\\u1EC7 trong \${issue2.origin}\`;
      case "invalid_union":
        return "\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7";
      case "invalid_element":
        return \`Gi\\xE1 tr\\u1ECB kh\\xF4ng h\\u1EE3p l\\u1EC7 trong \${issue2.origin}\`;
      default:
        return \`\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7\`;
    }
  };
}, "error");
function vi_default() {
  return {
    localeError: error41()
  };
}
__name(vi_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/zh-CN.js
var error42 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u5B57\\u7B26",
      verb: "\\u5305\\u542B"
    },
    file: {
      unit: "\\u5B57\\u8282",
      verb: "\\u5305\\u542B"
    },
    array: {
      unit: "\\u9879",
      verb: "\\u5305\\u542B"
    },
    set: {
      unit: "\\u9879",
      verb: "\\u5305\\u542B"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "\\u975E\\u6570\\u5B57(NaN)" : "\\u6570\\u5B57";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "\\u6570\\u7EC4";
        }
        if (data === null) {
          return "\\u7A7A\\u503C(null)";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u8F93\\u5165",
    email: "\\u7535\\u5B50\\u90AE\\u4EF6",
    url: "URL",
    emoji: "\\u8868\\u60C5\\u7B26\\u53F7",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO\\u65E5\\u671F\\u65F6\\u95F4",
    date: "ISO\\u65E5\\u671F",
    time: "ISO\\u65F6\\u95F4",
    duration: "ISO\\u65F6\\u957F",
    ipv4: "IPv4\\u5730\\u5740",
    ipv6: "IPv6\\u5730\\u5740",
    cidrv4: "IPv4\\u7F51\\u6BB5",
    cidrv6: "IPv6\\u7F51\\u6BB5",
    base64: "base64\\u7F16\\u7801\\u5B57\\u7B26\\u4E32",
    base64url: "base64url\\u7F16\\u7801\\u5B57\\u7B26\\u4E32",
    json_string: "JSON\\u5B57\\u7B26\\u4E32",
    e164: "E.164\\u53F7\\u7801",
    jwt: "JWT",
    template_literal: "\\u8F93\\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u65E0\\u6548\\u8F93\\u5165\\uFF1A\\u671F\\u671B \${issue2.expected}\\uFF0C\\u5B9E\\u9645\\u63A5\\u6536 \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u65E0\\u6548\\u8F93\\u5165\\uFF1A\\u671F\\u671B \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u65E0\\u6548\\u9009\\u9879\\uFF1A\\u671F\\u671B\\u4EE5\\u4E0B\\u4E4B\\u4E00 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u6570\\u503C\\u8FC7\\u5927\\uFF1A\\u671F\\u671B \${issue2.origin ?? "\\u503C"} \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u4E2A\\u5143\\u7D20"}\`;
        return \`\\u6570\\u503C\\u8FC7\\u5927\\uFF1A\\u671F\\u671B \${issue2.origin ?? "\\u503C"} \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u6570\\u503C\\u8FC7\\u5C0F\\uFF1A\\u671F\\u671B \${issue2.origin} \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u6570\\u503C\\u8FC7\\u5C0F\\uFF1A\\u671F\\u671B \${issue2.origin} \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u4EE5 "\${_issue.prefix}" \\u5F00\\u5934\`;
        if (_issue.format === "ends_with") return \`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u4EE5 "\${_issue.suffix}" \\u7ED3\\u5C3E\`;
        if (_issue.format === "includes") return \`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u5305\\u542B "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u6EE1\\u8DB3\\u6B63\\u5219\\u8868\\u8FBE\\u5F0F \${_issue.pattern}\`;
        return \`\\u65E0\\u6548\${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u65E0\\u6548\\u6570\\u5B57\\uFF1A\\u5FC5\\u987B\\u662F \${issue2.divisor} \\u7684\\u500D\\u6570\`;
      case "unrecognized_keys":
        return \`\\u51FA\\u73B0\\u672A\\u77E5\\u7684\\u952E(key): \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`\${issue2.origin} \\u4E2D\\u7684\\u952E(key)\\u65E0\\u6548\`;
      case "invalid_union":
        return "\\u65E0\\u6548\\u8F93\\u5165";
      case "invalid_element":
        return \`\${issue2.origin} \\u4E2D\\u5305\\u542B\\u65E0\\u6548\\u503C(value)\`;
      default:
        return \`\\u65E0\\u6548\\u8F93\\u5165\`;
    }
  };
}, "error");
function zh_CN_default() {
  return {
    localeError: error42()
  };
}
__name(zh_CN_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/zh-TW.js
var error43 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\u5B57\\u5143",
      verb: "\\u64C1\\u6709"
    },
    file: {
      unit: "\\u4F4D\\u5143\\u7D44",
      verb: "\\u64C1\\u6709"
    },
    array: {
      unit: "\\u9805\\u76EE",
      verb: "\\u64C1\\u6709"
    },
    set: {
      unit: "\\u9805\\u76EE",
      verb: "\\u64C1\\u6709"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "number";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "array";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u8F38\\u5165",
    email: "\\u90F5\\u4EF6\\u5730\\u5740",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "ISO \\u65E5\\u671F\\u6642\\u9593",
    date: "ISO \\u65E5\\u671F",
    time: "ISO \\u6642\\u9593",
    duration: "ISO \\u671F\\u9593",
    ipv4: "IPv4 \\u4F4D\\u5740",
    ipv6: "IPv6 \\u4F4D\\u5740",
    cidrv4: "IPv4 \\u7BC4\\u570D",
    cidrv6: "IPv6 \\u7BC4\\u570D",
    base64: "base64 \\u7DE8\\u78BC\\u5B57\\u4E32",
    base64url: "base64url \\u7DE8\\u78BC\\u5B57\\u4E32",
    json_string: "JSON \\u5B57\\u4E32",
    e164: "E.164 \\u6578\\u503C",
    jwt: "JWT",
    template_literal: "\\u8F38\\u5165"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C\\uFF1A\\u9810\\u671F\\u70BA \${issue2.expected}\\uFF0C\\u4F46\\u6536\\u5230 \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C\\uFF1A\\u9810\\u671F\\u70BA \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\u7121\\u6548\\u7684\\u9078\\u9805\\uFF1A\\u9810\\u671F\\u70BA\\u4EE5\\u4E0B\\u5176\\u4E2D\\u4E4B\\u4E00 \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`\\u6578\\u503C\\u904E\\u5927\\uFF1A\\u9810\\u671F \${issue2.origin ?? "\\u503C"} \\u61C9\\u70BA \${adj}\${issue2.maximum.toString()} \${sizing.unit ?? "\\u500B\\u5143\\u7D20"}\`;
        return \`\\u6578\\u503C\\u904E\\u5927\\uFF1A\\u9810\\u671F \${issue2.origin ?? "\\u503C"} \\u61C9\\u70BA \${adj}\${issue2.maximum.toString()}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) {
          return \`\\u6578\\u503C\\u904E\\u5C0F\\uFF1A\\u9810\\u671F \${issue2.origin} \\u61C9\\u70BA \${adj}\${issue2.minimum.toString()} \${sizing.unit}\`;
        }
        return \`\\u6578\\u503C\\u904E\\u5C0F\\uFF1A\\u9810\\u671F \${issue2.origin} \\u61C9\\u70BA \${adj}\${issue2.minimum.toString()}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") {
          return \`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u4EE5 "\${_issue.prefix}" \\u958B\\u982D\`;
        }
        if (_issue.format === "ends_with") return \`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u4EE5 "\${_issue.suffix}" \\u7D50\\u5C3E\`;
        if (_issue.format === "includes") return \`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u5305\\u542B "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u7B26\\u5408\\u683C\\u5F0F \${_issue.pattern}\`;
        return \`\\u7121\\u6548\\u7684 \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`\\u7121\\u6548\\u7684\\u6578\\u5B57\\uFF1A\\u5FC5\\u9808\\u70BA \${issue2.divisor} \\u7684\\u500D\\u6578\`;
      case "unrecognized_keys":
        return \`\\u7121\\u6CD5\\u8B58\\u5225\\u7684\\u9375\\u503C\${issue2.keys.length > 1 ? "\\u5011" : ""}\\uFF1A\${joinValues(issue2.keys, "\\u3001")}\`;
      case "invalid_key":
        return \`\${issue2.origin} \\u4E2D\\u6709\\u7121\\u6548\\u7684\\u9375\\u503C\`;
      case "invalid_union":
        return "\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C";
      case "invalid_element":
        return \`\${issue2.origin} \\u4E2D\\u6709\\u7121\\u6548\\u7684\\u503C\`;
      default:
        return \`\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C\`;
    }
  };
}, "error");
function zh_TW_default() {
  return {
    localeError: error43()
  };
}
__name(zh_TW_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/locales/yo.js
var error44 = /* @__PURE__ */ __name(() => {
  const Sizable = {
    string: {
      unit: "\\xE0mi",
      verb: "n\\xED"
    },
    file: {
      unit: "bytes",
      verb: "n\\xED"
    },
    array: {
      unit: "nkan",
      verb: "n\\xED"
    },
    set: {
      unit: "nkan",
      verb: "n\\xED"
    }
  };
  function getSizing(origin) {
    return Sizable[origin] ?? null;
  }
  __name(getSizing, "getSizing");
  const parsedType7 = /* @__PURE__ */ __name((data) => {
    const t = typeof data;
    switch (t) {
      case "number": {
        return Number.isNaN(data) ? "NaN" : "n\\u1ECD\\u0301mb\\xE0";
      }
      case "object": {
        if (Array.isArray(data)) {
          return "akop\\u1ECD";
        }
        if (data === null) {
          return "null";
        }
        if (Object.getPrototypeOf(data) !== Object.prototype && data.constructor) {
          return data.constructor.name;
        }
      }
    }
    return t;
  }, "parsedType");
  const Nouns = {
    regex: "\\u1EB9\\u0300r\\u1ECD \\xECb\\xE1w\\u1ECDl\\xE9",
    email: "\\xE0d\\xEDr\\u1EB9\\u0301s\\xEC \\xECm\\u1EB9\\u0301l\\xEC",
    url: "URL",
    emoji: "emoji",
    uuid: "UUID",
    uuidv4: "UUIDv4",
    uuidv6: "UUIDv6",
    nanoid: "nanoid",
    guid: "GUID",
    cuid: "cuid",
    cuid2: "cuid2",
    ulid: "ULID",
    xid: "XID",
    ksuid: "KSUID",
    datetime: "\\xE0k\\xF3k\\xF2 ISO",
    date: "\\u1ECDj\\u1ECD\\u0301 ISO",
    time: "\\xE0k\\xF3k\\xF2 ISO",
    duration: "\\xE0k\\xF3k\\xF2 t\\xF3 p\\xE9 ISO",
    ipv4: "\\xE0d\\xEDr\\u1EB9\\u0301s\\xEC IPv4",
    ipv6: "\\xE0d\\xEDr\\u1EB9\\u0301s\\xEC IPv6",
    cidrv4: "\\xE0gb\\xE8gb\\xE8 IPv4",
    cidrv6: "\\xE0gb\\xE8gb\\xE8 IPv6",
    base64: "\\u1ECD\\u0300r\\u1ECD\\u0300 t\\xED a k\\u1ECD\\u0301 n\\xED base64",
    base64url: "\\u1ECD\\u0300r\\u1ECD\\u0300 base64url",
    json_string: "\\u1ECD\\u0300r\\u1ECD\\u0300 JSON",
    e164: "n\\u1ECD\\u0301mb\\xE0 E.164",
    jwt: "JWT",
    template_literal: "\\u1EB9\\u0300r\\u1ECD \\xECb\\xE1w\\u1ECDl\\xE9"
  };
  return (issue2) => {
    switch (issue2.code) {
      case "invalid_type":
        return \`\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e: a n\\xED l\\xE1ti fi \${issue2.expected}, \\xE0m\\u1ECD\\u0300 a r\\xED \${parsedType7(issue2.input)}\`;
      case "invalid_value":
        if (issue2.values.length === 1) return \`\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e: a n\\xED l\\xE1ti fi \${stringifyPrimitive(issue2.values[0])}\`;
        return \`\\xC0\\u1E63\\xE0y\\xE0n a\\u1E63\\xEC\\u1E63e: yan \\u1ECD\\u0300kan l\\xE1ra \${joinValues(issue2.values, "|")}\`;
      case "too_big": {
        const adj = issue2.inclusive ? "<=" : "<";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`T\\xF3 p\\u1ECD\\u0300 j\\xF9: a n\\xED l\\xE1ti j\\u1EB9\\u0301 p\\xE9 \${issue2.origin ?? "iye"} \${sizing.verb} \${adj}\${issue2.maximum} \${sizing.unit}\`;
        return \`T\\xF3 p\\u1ECD\\u0300 j\\xF9: a n\\xED l\\xE1ti j\\u1EB9\\u0301 \${adj}\${issue2.maximum}\`;
      }
      case "too_small": {
        const adj = issue2.inclusive ? ">=" : ">";
        const sizing = getSizing(issue2.origin);
        if (sizing) return \`K\\xE9r\\xE9 ju: a n\\xED l\\xE1ti j\\u1EB9\\u0301 p\\xE9 \${issue2.origin} \${sizing.verb} \${adj}\${issue2.minimum} \${sizing.unit}\`;
        return \`K\\xE9r\\xE9 ju: a n\\xED l\\xE1ti j\\u1EB9\\u0301 \${adj}\${issue2.minimum}\`;
      }
      case "invalid_format": {
        const _issue = issue2;
        if (_issue.format === "starts_with") return \`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 b\\u1EB9\\u0300r\\u1EB9\\u0300 p\\u1EB9\\u0300l\\xFA "\${_issue.prefix}"\`;
        if (_issue.format === "ends_with") return \`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 par\\xED p\\u1EB9\\u0300l\\xFA "\${_issue.suffix}"\`;
        if (_issue.format === "includes") return \`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 n\\xED "\${_issue.includes}"\`;
        if (_issue.format === "regex") return \`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 b\\xE1 \\xE0p\\u1EB9\\u1EB9r\\u1EB9 mu \${_issue.pattern}\`;
        return \`A\\u1E63\\xEC\\u1E63e: \${Nouns[_issue.format] ?? issue2.format}\`;
      }
      case "not_multiple_of":
        return \`N\\u1ECD\\u0301mb\\xE0 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 j\\u1EB9\\u0301 \\xE8y\\xE0 p\\xEDp\\xEDn ti \${issue2.divisor}\`;
      case "unrecognized_keys":
        return \`B\\u1ECDt\\xECn\\xEC \\xE0\\xECm\\u1ECD\\u0300: \${joinValues(issue2.keys, ", ")}\`;
      case "invalid_key":
        return \`B\\u1ECDt\\xECn\\xEC a\\u1E63\\xEC\\u1E63e n\\xEDn\\xFA \${issue2.origin}\`;
      case "invalid_union":
        return "\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e";
      case "invalid_element":
        return \`Iye a\\u1E63\\xEC\\u1E63e n\\xEDn\\xFA \${issue2.origin}\`;
      default:
        return "\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e";
    }
  };
}, "error");
function yo_default() {
  return {
    localeError: error44()
  };
}
__name(yo_default, "default");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/registries.js
var $output = Symbol("ZodOutput");
var $input = Symbol("ZodInput");
var $ZodRegistry = class {
  static {
    __name(this, "$ZodRegistry");
  }
  constructor() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
  }
  add(schema, ..._meta) {
    const meta = _meta[0];
    this._map.set(schema, meta);
    if (meta && typeof meta === "object" && "id" in meta) {
      if (this._idmap.has(meta.id)) {
        throw new Error(\`ID \${meta.id} already exists in the registry\`);
      }
      this._idmap.set(meta.id, schema);
    }
    return this;
  }
  clear() {
    this._map = /* @__PURE__ */ new WeakMap();
    this._idmap = /* @__PURE__ */ new Map();
    return this;
  }
  remove(schema) {
    const meta = this._map.get(schema);
    if (meta && typeof meta === "object" && "id" in meta) {
      this._idmap.delete(meta.id);
    }
    this._map.delete(schema);
    return this;
  }
  get(schema) {
    const p = schema._zod.parent;
    if (p) {
      const pm = {
        ...this.get(p) ?? {}
      };
      delete pm.id;
      const f = {
        ...pm,
        ...this._map.get(schema)
      };
      return Object.keys(f).length ? f : void 0;
    }
    return this._map.get(schema);
  }
  has(schema) {
    return this._map.has(schema);
  }
};
function registry() {
  return new $ZodRegistry();
}
__name(registry, "registry");
var globalRegistry = /* @__PURE__ */ registry();

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/api.js
function _string(Class2, params) {
  return new Class2({
    type: "string",
    ...normalizeParams(params)
  });
}
__name(_string, "_string");
function _coercedString(Class2, params) {
  return new Class2({
    type: "string",
    coerce: true,
    ...normalizeParams(params)
  });
}
__name(_coercedString, "_coercedString");
function _email(Class2, params) {
  return new Class2({
    type: "string",
    format: "email",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_email, "_email");
function _guid(Class2, params) {
  return new Class2({
    type: "string",
    format: "guid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_guid, "_guid");
function _uuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_uuid, "_uuid");
function _uuidv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v4",
    ...normalizeParams(params)
  });
}
__name(_uuidv4, "_uuidv4");
function _uuidv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v6",
    ...normalizeParams(params)
  });
}
__name(_uuidv6, "_uuidv6");
function _uuidv7(Class2, params) {
  return new Class2({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v7",
    ...normalizeParams(params)
  });
}
__name(_uuidv7, "_uuidv7");
function _url(Class2, params) {
  return new Class2({
    type: "string",
    format: "url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_url, "_url");
function _emoji2(Class2, params) {
  return new Class2({
    type: "string",
    format: "emoji",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_emoji2, "_emoji");
function _nanoid(Class2, params) {
  return new Class2({
    type: "string",
    format: "nanoid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_nanoid, "_nanoid");
function _cuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_cuid, "_cuid");
function _cuid2(Class2, params) {
  return new Class2({
    type: "string",
    format: "cuid2",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_cuid2, "_cuid2");
function _ulid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ulid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_ulid, "_ulid");
function _xid(Class2, params) {
  return new Class2({
    type: "string",
    format: "xid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_xid, "_xid");
function _ksuid(Class2, params) {
  return new Class2({
    type: "string",
    format: "ksuid",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_ksuid, "_ksuid");
function _ipv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_ipv4, "_ipv4");
function _ipv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "ipv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_ipv6, "_ipv6");
function _cidrv4(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv4",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_cidrv4, "_cidrv4");
function _cidrv6(Class2, params) {
  return new Class2({
    type: "string",
    format: "cidrv6",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_cidrv6, "_cidrv6");
function _base64(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_base64, "_base64");
function _base64url(Class2, params) {
  return new Class2({
    type: "string",
    format: "base64url",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_base64url, "_base64url");
function _e164(Class2, params) {
  return new Class2({
    type: "string",
    format: "e164",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_e164, "_e164");
function _jwt(Class2, params) {
  return new Class2({
    type: "string",
    format: "jwt",
    check: "string_format",
    abort: false,
    ...normalizeParams(params)
  });
}
__name(_jwt, "_jwt");
var TimePrecision = {
  Any: null,
  Minute: -1,
  Second: 0,
  Millisecond: 3,
  Microsecond: 6
};
function _isoDateTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "datetime",
    check: "string_format",
    offset: false,
    local: false,
    precision: null,
    ...normalizeParams(params)
  });
}
__name(_isoDateTime, "_isoDateTime");
function _isoDate(Class2, params) {
  return new Class2({
    type: "string",
    format: "date",
    check: "string_format",
    ...normalizeParams(params)
  });
}
__name(_isoDate, "_isoDate");
function _isoTime(Class2, params) {
  return new Class2({
    type: "string",
    format: "time",
    check: "string_format",
    precision: null,
    ...normalizeParams(params)
  });
}
__name(_isoTime, "_isoTime");
function _isoDuration(Class2, params) {
  return new Class2({
    type: "string",
    format: "duration",
    check: "string_format",
    ...normalizeParams(params)
  });
}
__name(_isoDuration, "_isoDuration");
function _number(Class2, params) {
  return new Class2({
    type: "number",
    checks: [],
    ...normalizeParams(params)
  });
}
__name(_number, "_number");
function _coercedNumber(Class2, params) {
  return new Class2({
    type: "number",
    coerce: true,
    checks: [],
    ...normalizeParams(params)
  });
}
__name(_coercedNumber, "_coercedNumber");
function _int(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "safeint",
    ...normalizeParams(params)
  });
}
__name(_int, "_int");
function _float32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float32",
    ...normalizeParams(params)
  });
}
__name(_float32, "_float32");
function _float64(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "float64",
    ...normalizeParams(params)
  });
}
__name(_float64, "_float64");
function _int32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "int32",
    ...normalizeParams(params)
  });
}
__name(_int32, "_int32");
function _uint32(Class2, params) {
  return new Class2({
    type: "number",
    check: "number_format",
    abort: false,
    format: "uint32",
    ...normalizeParams(params)
  });
}
__name(_uint32, "_uint32");
function _boolean(Class2, params) {
  return new Class2({
    type: "boolean",
    ...normalizeParams(params)
  });
}
__name(_boolean, "_boolean");
function _coercedBoolean(Class2, params) {
  return new Class2({
    type: "boolean",
    coerce: true,
    ...normalizeParams(params)
  });
}
__name(_coercedBoolean, "_coercedBoolean");
function _bigint(Class2, params) {
  return new Class2({
    type: "bigint",
    ...normalizeParams(params)
  });
}
__name(_bigint, "_bigint");
function _coercedBigint(Class2, params) {
  return new Class2({
    type: "bigint",
    coerce: true,
    ...normalizeParams(params)
  });
}
__name(_coercedBigint, "_coercedBigint");
function _int64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "int64",
    ...normalizeParams(params)
  });
}
__name(_int64, "_int64");
function _uint64(Class2, params) {
  return new Class2({
    type: "bigint",
    check: "bigint_format",
    abort: false,
    format: "uint64",
    ...normalizeParams(params)
  });
}
__name(_uint64, "_uint64");
function _symbol(Class2, params) {
  return new Class2({
    type: "symbol",
    ...normalizeParams(params)
  });
}
__name(_symbol, "_symbol");
function _undefined2(Class2, params) {
  return new Class2({
    type: "undefined",
    ...normalizeParams(params)
  });
}
__name(_undefined2, "_undefined");
function _null2(Class2, params) {
  return new Class2({
    type: "null",
    ...normalizeParams(params)
  });
}
__name(_null2, "_null");
function _any(Class2) {
  return new Class2({
    type: "any"
  });
}
__name(_any, "_any");
function _unknown(Class2) {
  return new Class2({
    type: "unknown"
  });
}
__name(_unknown, "_unknown");
function _never(Class2, params) {
  return new Class2({
    type: "never",
    ...normalizeParams(params)
  });
}
__name(_never, "_never");
function _void(Class2, params) {
  return new Class2({
    type: "void",
    ...normalizeParams(params)
  });
}
__name(_void, "_void");
function _date(Class2, params) {
  return new Class2({
    type: "date",
    ...normalizeParams(params)
  });
}
__name(_date, "_date");
function _coercedDate(Class2, params) {
  return new Class2({
    type: "date",
    coerce: true,
    ...normalizeParams(params)
  });
}
__name(_coercedDate, "_coercedDate");
function _nan(Class2, params) {
  return new Class2({
    type: "nan",
    ...normalizeParams(params)
  });
}
__name(_nan, "_nan");
function _lt(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
__name(_lt, "_lt");
function _lte(value, params) {
  return new $ZodCheckLessThan({
    check: "less_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
__name(_lte, "_lte");
function _gt(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: false
  });
}
__name(_gt, "_gt");
function _gte(value, params) {
  return new $ZodCheckGreaterThan({
    check: "greater_than",
    ...normalizeParams(params),
    value,
    inclusive: true
  });
}
__name(_gte, "_gte");
function _positive(params) {
  return _gt(0, params);
}
__name(_positive, "_positive");
function _negative(params) {
  return _lt(0, params);
}
__name(_negative, "_negative");
function _nonpositive(params) {
  return _lte(0, params);
}
__name(_nonpositive, "_nonpositive");
function _nonnegative(params) {
  return _gte(0, params);
}
__name(_nonnegative, "_nonnegative");
function _multipleOf(value, params) {
  return new $ZodCheckMultipleOf({
    check: "multiple_of",
    ...normalizeParams(params),
    value
  });
}
__name(_multipleOf, "_multipleOf");
function _maxSize(maximum, params) {
  return new $ZodCheckMaxSize({
    check: "max_size",
    ...normalizeParams(params),
    maximum
  });
}
__name(_maxSize, "_maxSize");
function _minSize(minimum, params) {
  return new $ZodCheckMinSize({
    check: "min_size",
    ...normalizeParams(params),
    minimum
  });
}
__name(_minSize, "_minSize");
function _size(size, params) {
  return new $ZodCheckSizeEquals({
    check: "size_equals",
    ...normalizeParams(params),
    size
  });
}
__name(_size, "_size");
function _maxLength(maximum, params) {
  const ch = new $ZodCheckMaxLength({
    check: "max_length",
    ...normalizeParams(params),
    maximum
  });
  return ch;
}
__name(_maxLength, "_maxLength");
function _minLength(minimum, params) {
  return new $ZodCheckMinLength({
    check: "min_length",
    ...normalizeParams(params),
    minimum
  });
}
__name(_minLength, "_minLength");
function _length(length, params) {
  return new $ZodCheckLengthEquals({
    check: "length_equals",
    ...normalizeParams(params),
    length
  });
}
__name(_length, "_length");
function _regex(pattern, params) {
  return new $ZodCheckRegex({
    check: "string_format",
    format: "regex",
    ...normalizeParams(params),
    pattern
  });
}
__name(_regex, "_regex");
function _lowercase(params) {
  return new $ZodCheckLowerCase({
    check: "string_format",
    format: "lowercase",
    ...normalizeParams(params)
  });
}
__name(_lowercase, "_lowercase");
function _uppercase(params) {
  return new $ZodCheckUpperCase({
    check: "string_format",
    format: "uppercase",
    ...normalizeParams(params)
  });
}
__name(_uppercase, "_uppercase");
function _includes(includes, params) {
  return new $ZodCheckIncludes({
    check: "string_format",
    format: "includes",
    ...normalizeParams(params),
    includes
  });
}
__name(_includes, "_includes");
function _startsWith(prefix, params) {
  return new $ZodCheckStartsWith({
    check: "string_format",
    format: "starts_with",
    ...normalizeParams(params),
    prefix
  });
}
__name(_startsWith, "_startsWith");
function _endsWith(suffix, params) {
  return new $ZodCheckEndsWith({
    check: "string_format",
    format: "ends_with",
    ...normalizeParams(params),
    suffix
  });
}
__name(_endsWith, "_endsWith");
function _property(property, schema, params) {
  return new $ZodCheckProperty({
    check: "property",
    property,
    schema,
    ...normalizeParams(params)
  });
}
__name(_property, "_property");
function _mime(types, params) {
  return new $ZodCheckMimeType({
    check: "mime_type",
    mime: types,
    ...normalizeParams(params)
  });
}
__name(_mime, "_mime");
function _overwrite(tx) {
  return new $ZodCheckOverwrite({
    check: "overwrite",
    tx
  });
}
__name(_overwrite, "_overwrite");
function _normalize(form) {
  return _overwrite((input) => input.normalize(form));
}
__name(_normalize, "_normalize");
function _trim() {
  return _overwrite((input) => input.trim());
}
__name(_trim, "_trim");
function _toLowerCase() {
  return _overwrite((input) => input.toLowerCase());
}
__name(_toLowerCase, "_toLowerCase");
function _toUpperCase() {
  return _overwrite((input) => input.toUpperCase());
}
__name(_toUpperCase, "_toUpperCase");
function _array(Class2, element, params) {
  return new Class2({
    type: "array",
    element,
    // get element() {
    //   return element;
    // },
    ...normalizeParams(params)
  });
}
__name(_array, "_array");
function _union(Class2, options, params) {
  return new Class2({
    type: "union",
    options,
    ...normalizeParams(params)
  });
}
__name(_union, "_union");
function _discriminatedUnion(Class2, discriminator, options, params) {
  return new Class2({
    type: "union",
    options,
    discriminator,
    ...normalizeParams(params)
  });
}
__name(_discriminatedUnion, "_discriminatedUnion");
function _intersection(Class2, left, right) {
  return new Class2({
    type: "intersection",
    left,
    right
  });
}
__name(_intersection, "_intersection");
function _tuple(Class2, items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new Class2({
    type: "tuple",
    items,
    rest,
    ...normalizeParams(params)
  });
}
__name(_tuple, "_tuple");
function _record(Class2, keyType, valueType, params) {
  return new Class2({
    type: "record",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
__name(_record, "_record");
function _map(Class2, keyType, valueType, params) {
  return new Class2({
    type: "map",
    keyType,
    valueType,
    ...normalizeParams(params)
  });
}
__name(_map, "_map");
function _set(Class2, valueType, params) {
  return new Class2({
    type: "set",
    valueType,
    ...normalizeParams(params)
  });
}
__name(_set, "_set");
function _enum(Class2, values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [
    v,
    v
  ])) : values;
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
__name(_enum, "_enum");
function _nativeEnum(Class2, entries, params) {
  return new Class2({
    type: "enum",
    entries,
    ...normalizeParams(params)
  });
}
__name(_nativeEnum, "_nativeEnum");
function _literal(Class2, value, params) {
  return new Class2({
    type: "literal",
    values: Array.isArray(value) ? value : [
      value
    ],
    ...normalizeParams(params)
  });
}
__name(_literal, "_literal");
function _file(Class2, params) {
  return new Class2({
    type: "file",
    ...normalizeParams(params)
  });
}
__name(_file, "_file");
function _transform(Class2, fn) {
  return new Class2({
    type: "transform",
    transform: fn
  });
}
__name(_transform, "_transform");
function _optional(Class2, innerType) {
  return new Class2({
    type: "optional",
    innerType
  });
}
__name(_optional, "_optional");
function _nullable(Class2, innerType) {
  return new Class2({
    type: "nullable",
    innerType
  });
}
__name(_nullable, "_nullable");
function _default(Class2, innerType, defaultValue) {
  return new Class2({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : shallowClone(defaultValue);
    }
  });
}
__name(_default, "_default");
function _nonoptional(Class2, innerType, params) {
  return new Class2({
    type: "nonoptional",
    innerType,
    ...normalizeParams(params)
  });
}
__name(_nonoptional, "_nonoptional");
function _success(Class2, innerType) {
  return new Class2({
    type: "success",
    innerType
  });
}
__name(_success, "_success");
function _catch(Class2, innerType, catchValue) {
  return new Class2({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
__name(_catch, "_catch");
function _pipe(Class2, in_, out) {
  return new Class2({
    type: "pipe",
    in: in_,
    out
  });
}
__name(_pipe, "_pipe");
function _readonly(Class2, innerType) {
  return new Class2({
    type: "readonly",
    innerType
  });
}
__name(_readonly, "_readonly");
function _templateLiteral(Class2, parts, params) {
  return new Class2({
    type: "template_literal",
    parts,
    ...normalizeParams(params)
  });
}
__name(_templateLiteral, "_templateLiteral");
function _lazy(Class2, getter) {
  return new Class2({
    type: "lazy",
    getter
  });
}
__name(_lazy, "_lazy");
function _promise(Class2, innerType) {
  return new Class2({
    type: "promise",
    innerType
  });
}
__name(_promise, "_promise");
function _custom(Class2, fn, _params) {
  const norm = normalizeParams(_params);
  norm.abort ?? (norm.abort = true);
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...norm
  });
  return schema;
}
__name(_custom, "_custom");
function _refine(Class2, fn, _params) {
  const schema = new Class2({
    type: "custom",
    check: "custom",
    fn,
    ...normalizeParams(_params)
  });
  return schema;
}
__name(_refine, "_refine");
function _superRefine(fn) {
  const ch = _check((payload) => {
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(issue(issue2, payload.value, ch._zod.def));
      } else {
        const _issue = issue2;
        if (_issue.fatal) _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = ch);
        _issue.continue ?? (_issue.continue = !ch._zod.def.abort);
        payload.issues.push(issue(_issue));
      }
    };
    return fn(payload.value, payload);
  });
  return ch;
}
__name(_superRefine, "_superRefine");
function _check(fn, params) {
  const ch = new $ZodCheck({
    check: "custom",
    ...normalizeParams(params)
  });
  ch._zod.check = fn;
  return ch;
}
__name(_check, "_check");
function _stringbool(Classes, _params) {
  const params = normalizeParams(_params);
  let truthyArray = params.truthy ?? [
    "true",
    "1",
    "yes",
    "on",
    "y",
    "enabled"
  ];
  let falsyArray = params.falsy ?? [
    "false",
    "0",
    "no",
    "off",
    "n",
    "disabled"
  ];
  if (params.case !== "sensitive") {
    truthyArray = truthyArray.map((v) => typeof v === "string" ? v.toLowerCase() : v);
    falsyArray = falsyArray.map((v) => typeof v === "string" ? v.toLowerCase() : v);
  }
  const truthySet = new Set(truthyArray);
  const falsySet = new Set(falsyArray);
  const _Codec = Classes.Codec ?? $ZodCodec;
  const _Boolean = Classes.Boolean ?? $ZodBoolean;
  const _String = Classes.String ?? $ZodString;
  const stringSchema = new _String({
    type: "string",
    error: params.error
  });
  const booleanSchema = new _Boolean({
    type: "boolean",
    error: params.error
  });
  const codec2 = new _Codec({
    type: "pipe",
    in: stringSchema,
    out: booleanSchema,
    transform: /* @__PURE__ */ __name((input, payload) => {
      let data = input;
      if (params.case !== "sensitive") data = data.toLowerCase();
      if (truthySet.has(data)) {
        return true;
      } else if (falsySet.has(data)) {
        return false;
      } else {
        payload.issues.push({
          code: "invalid_value",
          expected: "stringbool",
          values: [
            ...truthySet,
            ...falsySet
          ],
          input: payload.value,
          inst: codec2,
          continue: false
        });
        return {};
      }
    }, "transform"),
    reverseTransform: /* @__PURE__ */ __name((input, _payload) => {
      if (input === true) {
        return truthyArray[0] || "true";
      } else {
        return falsyArray[0] || "false";
      }
    }, "reverseTransform"),
    error: params.error
  });
  return codec2;
}
__name(_stringbool, "_stringbool");
function _stringFormat(Class2, format, fnOrRegex, _params = {}) {
  const params = normalizeParams(_params);
  const def = {
    ...normalizeParams(_params),
    check: "string_format",
    type: "string",
    format,
    fn: typeof fnOrRegex === "function" ? fnOrRegex : (val) => fnOrRegex.test(val),
    ...params
  };
  if (fnOrRegex instanceof RegExp) {
    def.pattern = fnOrRegex;
  }
  const inst = new Class2(def);
  return inst;
}
__name(_stringFormat, "_stringFormat");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/to-json-schema.js
var JSONSchemaGenerator = class {
  static {
    __name(this, "JSONSchemaGenerator");
  }
  constructor(params) {
    this.counter = 0;
    this.metadataRegistry = params?.metadata ?? globalRegistry;
    this.target = params?.target ?? "draft-2020-12";
    this.unrepresentable = params?.unrepresentable ?? "throw";
    this.override = params?.override ?? (() => {
    });
    this.io = params?.io ?? "output";
    this.seen = /* @__PURE__ */ new Map();
  }
  process(schema, _params = {
    path: [],
    schemaPath: []
  }) {
    var _a17;
    const def = schema._zod.def;
    const formatMap = {
      guid: "uuid",
      url: "uri",
      datetime: "date-time",
      json_string: "json-string",
      regex: ""
    };
    const seen = this.seen.get(schema);
    if (seen) {
      seen.count++;
      const isCycle = _params.schemaPath.includes(schema);
      if (isCycle) {
        seen.cycle = _params.path;
      }
      return seen.schema;
    }
    const result = {
      schema: {},
      count: 1,
      cycle: void 0,
      path: _params.path
    };
    this.seen.set(schema, result);
    const overrideSchema = schema._zod.toJSONSchema?.();
    if (overrideSchema) {
      result.schema = overrideSchema;
    } else {
      const params = {
        ..._params,
        schemaPath: [
          ..._params.schemaPath,
          schema
        ],
        path: _params.path
      };
      const parent = schema._zod.parent;
      if (parent) {
        result.ref = parent;
        this.process(parent, params);
        this.seen.get(parent).isParent = true;
      } else {
        const _json = result.schema;
        switch (def.type) {
          case "string": {
            const json2 = _json;
            json2.type = "string";
            const { minimum, maximum, format, patterns, contentEncoding } = schema._zod.bag;
            if (typeof minimum === "number") json2.minLength = minimum;
            if (typeof maximum === "number") json2.maxLength = maximum;
            if (format) {
              json2.format = formatMap[format] ?? format;
              if (json2.format === "") delete json2.format;
            }
            if (contentEncoding) json2.contentEncoding = contentEncoding;
            if (patterns && patterns.size > 0) {
              const regexes = [
                ...patterns
              ];
              if (regexes.length === 1) json2.pattern = regexes[0].source;
              else if (regexes.length > 1) {
                result.schema.allOf = [
                  ...regexes.map((regex) => ({
                    ...this.target === "draft-7" || this.target === "draft-4" || this.target === "openapi-3.0" ? {
                      type: "string"
                    } : {},
                    pattern: regex.source
                  }))
                ];
              }
            }
            break;
          }
          case "number": {
            const json2 = _json;
            const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;
            if (typeof format === "string" && format.includes("int")) json2.type = "integer";
            else json2.type = "number";
            if (typeof exclusiveMinimum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.minimum = exclusiveMinimum;
                json2.exclusiveMinimum = true;
              } else {
                json2.exclusiveMinimum = exclusiveMinimum;
              }
            }
            if (typeof minimum === "number") {
              json2.minimum = minimum;
              if (typeof exclusiveMinimum === "number" && this.target !== "draft-4") {
                if (exclusiveMinimum >= minimum) delete json2.minimum;
                else delete json2.exclusiveMinimum;
              }
            }
            if (typeof exclusiveMaximum === "number") {
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.maximum = exclusiveMaximum;
                json2.exclusiveMaximum = true;
              } else {
                json2.exclusiveMaximum = exclusiveMaximum;
              }
            }
            if (typeof maximum === "number") {
              json2.maximum = maximum;
              if (typeof exclusiveMaximum === "number" && this.target !== "draft-4") {
                if (exclusiveMaximum <= maximum) delete json2.maximum;
                else delete json2.exclusiveMaximum;
              }
            }
            if (typeof multipleOf === "number") json2.multipleOf = multipleOf;
            break;
          }
          case "boolean": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "bigint": {
            if (this.unrepresentable === "throw") {
              throw new Error("BigInt cannot be represented in JSON Schema");
            }
            break;
          }
          case "symbol": {
            if (this.unrepresentable === "throw") {
              throw new Error("Symbols cannot be represented in JSON Schema");
            }
            break;
          }
          case "null": {
            if (this.target === "openapi-3.0") {
              _json.type = "string";
              _json.nullable = true;
              _json.enum = [
                null
              ];
            } else _json.type = "null";
            break;
          }
          case "any": {
            break;
          }
          case "unknown": {
            break;
          }
          case "undefined": {
            if (this.unrepresentable === "throw") {
              throw new Error("Undefined cannot be represented in JSON Schema");
            }
            break;
          }
          case "void": {
            if (this.unrepresentable === "throw") {
              throw new Error("Void cannot be represented in JSON Schema");
            }
            break;
          }
          case "never": {
            _json.not = {};
            break;
          }
          case "date": {
            if (this.unrepresentable === "throw") {
              throw new Error("Date cannot be represented in JSON Schema");
            }
            break;
          }
          case "array": {
            const json2 = _json;
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number") json2.minItems = minimum;
            if (typeof maximum === "number") json2.maxItems = maximum;
            json2.type = "array";
            json2.items = this.process(def.element, {
              ...params,
              path: [
                ...params.path,
                "items"
              ]
            });
            break;
          }
          case "object": {
            const json2 = _json;
            json2.type = "object";
            json2.properties = {};
            const shape = def.shape;
            for (const key in shape) {
              json2.properties[key] = this.process(shape[key], {
                ...params,
                path: [
                  ...params.path,
                  "properties",
                  key
                ]
              });
            }
            const allKeys = new Set(Object.keys(shape));
            const requiredKeys = new Set([
              ...allKeys
            ].filter((key) => {
              const v = def.shape[key]._zod;
              if (this.io === "input") {
                return v.optin === void 0;
              } else {
                return v.optout === void 0;
              }
            }));
            if (requiredKeys.size > 0) {
              json2.required = Array.from(requiredKeys);
            }
            if (def.catchall?._zod.def.type === "never") {
              json2.additionalProperties = false;
            } else if (!def.catchall) {
              if (this.io === "output") json2.additionalProperties = false;
            } else if (def.catchall) {
              json2.additionalProperties = this.process(def.catchall, {
                ...params,
                path: [
                  ...params.path,
                  "additionalProperties"
                ]
              });
            }
            break;
          }
          case "union": {
            const json2 = _json;
            const options = def.options.map((x, i) => this.process(x, {
              ...params,
              path: [
                ...params.path,
                "anyOf",
                i
              ]
            }));
            json2.anyOf = options;
            break;
          }
          case "intersection": {
            const json2 = _json;
            const a = this.process(def.left, {
              ...params,
              path: [
                ...params.path,
                "allOf",
                0
              ]
            });
            const b = this.process(def.right, {
              ...params,
              path: [
                ...params.path,
                "allOf",
                1
              ]
            });
            const isSimpleIntersection = /* @__PURE__ */ __name((val) => "allOf" in val && Object.keys(val).length === 1, "isSimpleIntersection");
            const allOf = [
              ...isSimpleIntersection(a) ? a.allOf : [
                a
              ],
              ...isSimpleIntersection(b) ? b.allOf : [
                b
              ]
            ];
            json2.allOf = allOf;
            break;
          }
          case "tuple": {
            const json2 = _json;
            json2.type = "array";
            const prefixPath = this.target === "draft-2020-12" ? "prefixItems" : "items";
            const restPath = this.target === "draft-2020-12" ? "items" : this.target === "openapi-3.0" ? "items" : "additionalItems";
            const prefixItems = def.items.map((x, i) => this.process(x, {
              ...params,
              path: [
                ...params.path,
                prefixPath,
                i
              ]
            }));
            const rest = def.rest ? this.process(def.rest, {
              ...params,
              path: [
                ...params.path,
                restPath,
                ...this.target === "openapi-3.0" ? [
                  def.items.length
                ] : []
              ]
            }) : null;
            if (this.target === "draft-2020-12") {
              json2.prefixItems = prefixItems;
              if (rest) {
                json2.items = rest;
              }
            } else if (this.target === "openapi-3.0") {
              json2.items = {
                anyOf: prefixItems
              };
              if (rest) {
                json2.items.anyOf.push(rest);
              }
              json2.minItems = prefixItems.length;
              if (!rest) {
                json2.maxItems = prefixItems.length;
              }
            } else {
              json2.items = prefixItems;
              if (rest) {
                json2.additionalItems = rest;
              }
            }
            const { minimum, maximum } = schema._zod.bag;
            if (typeof minimum === "number") json2.minItems = minimum;
            if (typeof maximum === "number") json2.maxItems = maximum;
            break;
          }
          case "record": {
            const json2 = _json;
            json2.type = "object";
            if (this.target === "draft-7" || this.target === "draft-2020-12") {
              json2.propertyNames = this.process(def.keyType, {
                ...params,
                path: [
                  ...params.path,
                  "propertyNames"
                ]
              });
            }
            json2.additionalProperties = this.process(def.valueType, {
              ...params,
              path: [
                ...params.path,
                "additionalProperties"
              ]
            });
            break;
          }
          case "map": {
            if (this.unrepresentable === "throw") {
              throw new Error("Map cannot be represented in JSON Schema");
            }
            break;
          }
          case "set": {
            if (this.unrepresentable === "throw") {
              throw new Error("Set cannot be represented in JSON Schema");
            }
            break;
          }
          case "enum": {
            const json2 = _json;
            const values = getEnumValues(def.entries);
            if (values.every((v) => typeof v === "number")) json2.type = "number";
            if (values.every((v) => typeof v === "string")) json2.type = "string";
            json2.enum = values;
            break;
          }
          case "literal": {
            const json2 = _json;
            const vals = [];
            for (const val of def.values) {
              if (val === void 0) {
                if (this.unrepresentable === "throw") {
                  throw new Error("Literal \`undefined\` cannot be represented in JSON Schema");
                } else {
                }
              } else if (typeof val === "bigint") {
                if (this.unrepresentable === "throw") {
                  throw new Error("BigInt literals cannot be represented in JSON Schema");
                } else {
                  vals.push(Number(val));
                }
              } else {
                vals.push(val);
              }
            }
            if (vals.length === 0) {
            } else if (vals.length === 1) {
              const val = vals[0];
              json2.type = val === null ? "null" : typeof val;
              if (this.target === "draft-4" || this.target === "openapi-3.0") {
                json2.enum = [
                  val
                ];
              } else {
                json2.const = val;
              }
            } else {
              if (vals.every((v) => typeof v === "number")) json2.type = "number";
              if (vals.every((v) => typeof v === "string")) json2.type = "string";
              if (vals.every((v) => typeof v === "boolean")) json2.type = "string";
              if (vals.every((v) => v === null)) json2.type = "null";
              json2.enum = vals;
            }
            break;
          }
          case "file": {
            const json2 = _json;
            const file2 = {
              type: "string",
              format: "binary",
              contentEncoding: "binary"
            };
            const { minimum, maximum, mime } = schema._zod.bag;
            if (minimum !== void 0) file2.minLength = minimum;
            if (maximum !== void 0) file2.maxLength = maximum;
            if (mime) {
              if (mime.length === 1) {
                file2.contentMediaType = mime[0];
                Object.assign(json2, file2);
              } else {
                json2.anyOf = mime.map((m) => {
                  const mFile = {
                    ...file2,
                    contentMediaType: m
                  };
                  return mFile;
                });
              }
            } else {
              Object.assign(json2, file2);
            }
            break;
          }
          case "transform": {
            if (this.unrepresentable === "throw") {
              throw new Error("Transforms cannot be represented in JSON Schema");
            }
            break;
          }
          case "nullable": {
            const inner = this.process(def.innerType, params);
            if (this.target === "openapi-3.0") {
              result.ref = def.innerType;
              _json.nullable = true;
            } else {
              _json.anyOf = [
                inner,
                {
                  type: "null"
                }
              ];
            }
            break;
          }
          case "nonoptional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "success": {
            const json2 = _json;
            json2.type = "boolean";
            break;
          }
          case "default": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.default = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "prefault": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            if (this.io === "input") _json._prefault = JSON.parse(JSON.stringify(def.defaultValue));
            break;
          }
          case "catch": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            let catchValue;
            try {
              catchValue = def.catchValue(void 0);
            } catch {
              throw new Error("Dynamic catch values are not supported in JSON Schema");
            }
            _json.default = catchValue;
            break;
          }
          case "nan": {
            if (this.unrepresentable === "throw") {
              throw new Error("NaN cannot be represented in JSON Schema");
            }
            break;
          }
          case "template_literal": {
            const json2 = _json;
            const pattern = schema._zod.pattern;
            if (!pattern) throw new Error("Pattern not found in template literal");
            json2.type = "string";
            json2.pattern = pattern.source;
            break;
          }
          case "pipe": {
            const innerType = this.io === "input" ? def.in._zod.def.type === "transform" ? def.out : def.in : def.out;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "readonly": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            _json.readOnly = true;
            break;
          }
          // passthrough types
          case "promise": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "optional": {
            this.process(def.innerType, params);
            result.ref = def.innerType;
            break;
          }
          case "lazy": {
            const innerType = schema._zod.innerType;
            this.process(innerType, params);
            result.ref = innerType;
            break;
          }
          case "custom": {
            if (this.unrepresentable === "throw") {
              throw new Error("Custom types cannot be represented in JSON Schema");
            }
            break;
          }
          case "function": {
            if (this.unrepresentable === "throw") {
              throw new Error("Function types cannot be represented in JSON Schema");
            }
            break;
          }
          default: {
            def;
          }
        }
      }
    }
    const meta = this.metadataRegistry.get(schema);
    if (meta) Object.assign(result.schema, meta);
    if (this.io === "input" && isTransforming(schema)) {
      delete result.schema.examples;
      delete result.schema.default;
    }
    if (this.io === "input" && result.schema._prefault) (_a17 = result.schema).default ?? (_a17.default = result.schema._prefault);
    delete result.schema._prefault;
    const _result = this.seen.get(schema);
    return _result.schema;
  }
  emit(schema, _params) {
    const params = {
      cycles: _params?.cycles ?? "ref",
      reused: _params?.reused ?? "inline",
      // unrepresentable: _params?.unrepresentable ?? "throw",
      // uri: _params?.uri ?? ((id) => \`\${id}\`),
      external: _params?.external ?? void 0
    };
    const root = this.seen.get(schema);
    if (!root) throw new Error("Unprocessed schema. This is a bug in Zod.");
    const makeURI = /* @__PURE__ */ __name((entry) => {
      const defsSegment = this.target === "draft-2020-12" ? "$defs" : "definitions";
      if (params.external) {
        const externalId = params.external.registry.get(entry[0])?.id;
        const uriGenerator = params.external.uri ?? ((id2) => id2);
        if (externalId) {
          return {
            ref: uriGenerator(externalId)
          };
        }
        const id = entry[1].defId ?? entry[1].schema.id ?? \`schema\${this.counter++}\`;
        entry[1].defId = id;
        return {
          defId: id,
          ref: \`\${uriGenerator("__shared")}#/\${defsSegment}/\${id}\`
        };
      }
      if (entry[1] === root) {
        return {
          ref: "#"
        };
      }
      const uriPrefix = \`#\`;
      const defUriPrefix = \`\${uriPrefix}/\${defsSegment}/\`;
      const defId = entry[1].schema.id ?? \`__schema\${this.counter++}\`;
      return {
        defId,
        ref: defUriPrefix + defId
      };
    }, "makeURI");
    const extractToDef = /* @__PURE__ */ __name((entry) => {
      if (entry[1].schema.$ref) {
        return;
      }
      const seen = entry[1];
      const { ref, defId } = makeURI(entry);
      seen.def = {
        ...seen.schema
      };
      if (defId) seen.defId = defId;
      const schema2 = seen.schema;
      for (const key in schema2) {
        delete schema2[key];
      }
      schema2.$ref = ref;
    }, "extractToDef");
    if (params.cycles === "throw") {
      for (const entry of this.seen.entries()) {
        const seen = entry[1];
        if (seen.cycle) {
          throw new Error(\`Cycle detected: #/\${seen.cycle?.join("/")}/<root>

Set the \\\`cycles\\\` parameter to \\\`"ref"\\\` to resolve cyclical schemas with defs.\`);
        }
      }
    }
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (schema === entry[0]) {
        extractToDef(entry);
        continue;
      }
      if (params.external) {
        const ext = params.external.registry.get(entry[0])?.id;
        if (schema !== entry[0] && ext) {
          extractToDef(entry);
          continue;
        }
      }
      const id = this.metadataRegistry.get(entry[0])?.id;
      if (id) {
        extractToDef(entry);
        continue;
      }
      if (seen.cycle) {
        extractToDef(entry);
        continue;
      }
      if (seen.count > 1) {
        if (params.reused === "ref") {
          extractToDef(entry);
          continue;
        }
      }
    }
    const flattenRef = /* @__PURE__ */ __name((zodSchema2, params2) => {
      const seen = this.seen.get(zodSchema2);
      const schema2 = seen.def ?? seen.schema;
      const _cached = {
        ...schema2
      };
      if (seen.ref === null) {
        return;
      }
      const ref = seen.ref;
      seen.ref = null;
      if (ref) {
        flattenRef(ref, params2);
        const refSchema = this.seen.get(ref).schema;
        if (refSchema.$ref && (params2.target === "draft-7" || params2.target === "draft-4" || params2.target === "openapi-3.0")) {
          schema2.allOf = schema2.allOf ?? [];
          schema2.allOf.push(refSchema);
        } else {
          Object.assign(schema2, refSchema);
          Object.assign(schema2, _cached);
        }
      }
      if (!seen.isParent) this.override({
        zodSchema: zodSchema2,
        jsonSchema: schema2,
        path: seen.path ?? []
      });
    }, "flattenRef");
    for (const entry of [
      ...this.seen.entries()
    ].reverse()) {
      flattenRef(entry[0], {
        target: this.target
      });
    }
    const result = {};
    if (this.target === "draft-2020-12") {
      result.$schema = "https://json-schema.org/draft/2020-12/schema";
    } else if (this.target === "draft-7") {
      result.$schema = "http://json-schema.org/draft-07/schema#";
    } else if (this.target === "draft-4") {
      result.$schema = "http://json-schema.org/draft-04/schema#";
    } else if (this.target === "openapi-3.0") {
    } else {
      console.warn(\`Invalid target: \${this.target}\`);
    }
    if (params.external?.uri) {
      const id = params.external.registry.get(schema)?.id;
      if (!id) throw new Error("Schema is missing an \`id\` property");
      result.$id = params.external.uri(id);
    }
    Object.assign(result, root.def);
    const defs = params.external?.defs ?? {};
    for (const entry of this.seen.entries()) {
      const seen = entry[1];
      if (seen.def && seen.defId) {
        defs[seen.defId] = seen.def;
      }
    }
    if (params.external) {
    } else {
      if (Object.keys(defs).length > 0) {
        if (this.target === "draft-2020-12") {
          result.$defs = defs;
        } else {
          result.definitions = defs;
        }
      }
    }
    try {
      return JSON.parse(JSON.stringify(result));
    } catch (_err) {
      throw new Error("Error converting schema to JSON.");
    }
  }
};
function toJSONSchema(input, _params) {
  if (input instanceof $ZodRegistry) {
    const gen2 = new JSONSchemaGenerator(_params);
    const defs = {};
    for (const entry of input._idmap.entries()) {
      const [_, schema] = entry;
      gen2.process(schema);
    }
    const schemas = {};
    const external = {
      registry: input,
      uri: _params?.uri,
      defs
    };
    for (const entry of input._idmap.entries()) {
      const [key, schema] = entry;
      schemas[key] = gen2.emit(schema, {
        ..._params,
        external
      });
    }
    if (Object.keys(defs).length > 0) {
      const defsSegment = gen2.target === "draft-2020-12" ? "$defs" : "definitions";
      schemas.__shared = {
        [defsSegment]: defs
      };
    }
    return {
      schemas
    };
  }
  const gen = new JSONSchemaGenerator(_params);
  gen.process(input);
  return gen.emit(input, _params);
}
__name(toJSONSchema, "toJSONSchema");
function isTransforming(_schema, _ctx) {
  const ctx = _ctx ?? {
    seen: /* @__PURE__ */ new Set()
  };
  if (ctx.seen.has(_schema)) return false;
  ctx.seen.add(_schema);
  const schema = _schema;
  const def = schema._zod.def;
  switch (def.type) {
    case "string":
    case "number":
    case "bigint":
    case "boolean":
    case "date":
    case "symbol":
    case "undefined":
    case "null":
    case "any":
    case "unknown":
    case "never":
    case "void":
    case "literal":
    case "enum":
    case "nan":
    case "file":
    case "template_literal":
      return false;
    case "array": {
      return isTransforming(def.element, ctx);
    }
    case "object": {
      for (const key in def.shape) {
        if (isTransforming(def.shape[key], ctx)) return true;
      }
      return false;
    }
    case "union": {
      for (const option of def.options) {
        if (isTransforming(option, ctx)) return true;
      }
      return false;
    }
    case "intersection": {
      return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);
    }
    case "tuple": {
      for (const item of def.items) {
        if (isTransforming(item, ctx)) return true;
      }
      if (def.rest && isTransforming(def.rest, ctx)) return true;
      return false;
    }
    case "record": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "map": {
      return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);
    }
    case "set": {
      return isTransforming(def.valueType, ctx);
    }
    // inner types
    case "promise":
    case "optional":
    case "nonoptional":
    case "nullable":
    case "readonly":
      return isTransforming(def.innerType, ctx);
    case "lazy":
      return isTransforming(def.getter(), ctx);
    case "default": {
      return isTransforming(def.innerType, ctx);
    }
    case "prefault": {
      return isTransforming(def.innerType, ctx);
    }
    case "custom": {
      return false;
    }
    case "transform": {
      return true;
    }
    case "pipe": {
      return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);
    }
    case "success": {
      return false;
    }
    case "catch": {
      return false;
    }
    case "function": {
      return false;
    }
    default:
      def;
  }
  throw new Error(\`Unknown schema type: \${def.type}\`);
}
__name(isTransforming, "isTransforming");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/core/json-schema.js
var json_schema_exports = {};

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/iso.js
var iso_exports = {};
__export(iso_exports, {
  ZodISODate: () => ZodISODate,
  ZodISODateTime: () => ZodISODateTime,
  ZodISODuration: () => ZodISODuration,
  ZodISOTime: () => ZodISOTime,
  date: () => date2,
  datetime: () => datetime2,
  duration: () => duration2,
  time: () => time2
});
var ZodISODateTime = /* @__PURE__ */ $constructor("ZodISODateTime", (inst, def) => {
  $ZodISODateTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function datetime2(params) {
  return _isoDateTime(ZodISODateTime, params);
}
__name(datetime2, "datetime");
var ZodISODate = /* @__PURE__ */ $constructor("ZodISODate", (inst, def) => {
  $ZodISODate.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function date2(params) {
  return _isoDate(ZodISODate, params);
}
__name(date2, "date");
var ZodISOTime = /* @__PURE__ */ $constructor("ZodISOTime", (inst, def) => {
  $ZodISOTime.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function time2(params) {
  return _isoTime(ZodISOTime, params);
}
__name(time2, "time");
var ZodISODuration = /* @__PURE__ */ $constructor("ZodISODuration", (inst, def) => {
  $ZodISODuration.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function duration2(params) {
  return _isoDuration(ZodISODuration, params);
}
__name(duration2, "duration");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/errors.js
var initializer2 = /* @__PURE__ */ __name((inst, issues) => {
  $ZodError.init(inst, issues);
  inst.name = "ZodError";
  Object.defineProperties(inst, {
    format: {
      value: /* @__PURE__ */ __name((mapper) => formatError(inst, mapper), "value")
    },
    flatten: {
      value: /* @__PURE__ */ __name((mapper) => flattenError(inst, mapper), "value")
    },
    addIssue: {
      value: /* @__PURE__ */ __name((issue2) => {
        inst.issues.push(issue2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }, "value")
    },
    addIssues: {
      value: /* @__PURE__ */ __name((issues2) => {
        inst.issues.push(...issues2);
        inst.message = JSON.stringify(inst.issues, jsonStringifyReplacer, 2);
      }, "value")
    },
    isEmpty: {
      get() {
        return inst.issues.length === 0;
      }
    }
  });
}, "initializer");
var ZodError = $constructor("ZodError", initializer2);
var ZodRealError = $constructor("ZodError", initializer2, {
  Parent: Error
});

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/parse.js
var parse2 = /* @__PURE__ */ _parse(ZodRealError);
var parseAsync2 = /* @__PURE__ */ _parseAsync(ZodRealError);
var safeParse2 = /* @__PURE__ */ _safeParse(ZodRealError);
var safeParseAsync2 = /* @__PURE__ */ _safeParseAsync(ZodRealError);
var encode2 = /* @__PURE__ */ _encode(ZodRealError);
var decode2 = /* @__PURE__ */ _decode(ZodRealError);
var encodeAsync2 = /* @__PURE__ */ _encodeAsync(ZodRealError);
var decodeAsync2 = /* @__PURE__ */ _decodeAsync(ZodRealError);
var safeEncode2 = /* @__PURE__ */ _safeEncode(ZodRealError);
var safeDecode2 = /* @__PURE__ */ _safeDecode(ZodRealError);
var safeEncodeAsync2 = /* @__PURE__ */ _safeEncodeAsync(ZodRealError);
var safeDecodeAsync2 = /* @__PURE__ */ _safeDecodeAsync(ZodRealError);

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/schemas.js
var ZodType = /* @__PURE__ */ $constructor("ZodType", (inst, def) => {
  $ZodType.init(inst, def);
  inst.def = def;
  inst.type = def.type;
  Object.defineProperty(inst, "_def", {
    value: def
  });
  inst.check = (...checks) => {
    return inst.clone(util_exports.mergeDefs(def, {
      checks: [
        ...def.checks ?? [],
        ...checks.map((ch) => typeof ch === "function" ? {
          _zod: {
            check: ch,
            def: {
              check: "custom"
            },
            onattach: []
          }
        } : ch)
      ]
    }));
  };
  inst.clone = (def2, params) => clone(inst, def2, params);
  inst.brand = () => inst;
  inst.register = (reg, meta) => {
    reg.add(inst, meta);
    return inst;
  };
  inst.parse = (data, params) => parse2(inst, data, params, {
    callee: inst.parse
  });
  inst.safeParse = (data, params) => safeParse2(inst, data, params);
  inst.parseAsync = async (data, params) => parseAsync2(inst, data, params, {
    callee: inst.parseAsync
  });
  inst.safeParseAsync = async (data, params) => safeParseAsync2(inst, data, params);
  inst.spa = inst.safeParseAsync;
  inst.encode = (data, params) => encode2(inst, data, params);
  inst.decode = (data, params) => decode2(inst, data, params);
  inst.encodeAsync = async (data, params) => encodeAsync2(inst, data, params);
  inst.decodeAsync = async (data, params) => decodeAsync2(inst, data, params);
  inst.safeEncode = (data, params) => safeEncode2(inst, data, params);
  inst.safeDecode = (data, params) => safeDecode2(inst, data, params);
  inst.safeEncodeAsync = async (data, params) => safeEncodeAsync2(inst, data, params);
  inst.safeDecodeAsync = async (data, params) => safeDecodeAsync2(inst, data, params);
  inst.refine = (check2, params) => inst.check(refine(check2, params));
  inst.superRefine = (refinement) => inst.check(superRefine(refinement));
  inst.overwrite = (fn) => inst.check(_overwrite(fn));
  inst.optional = () => optional(inst);
  inst.nullable = () => nullable(inst);
  inst.nullish = () => optional(nullable(inst));
  inst.nonoptional = (params) => nonoptional(inst, params);
  inst.array = () => array(inst);
  inst.or = (arg) => union([
    inst,
    arg
  ]);
  inst.and = (arg) => intersection(inst, arg);
  inst.transform = (tx) => pipe(inst, transform(tx));
  inst.default = (def2) => _default2(inst, def2);
  inst.prefault = (def2) => prefault(inst, def2);
  inst.catch = (params) => _catch2(inst, params);
  inst.pipe = (target) => pipe(inst, target);
  inst.readonly = () => readonly(inst);
  inst.describe = (description) => {
    const cl = inst.clone();
    globalRegistry.add(cl, {
      description
    });
    return cl;
  };
  Object.defineProperty(inst, "description", {
    get() {
      return globalRegistry.get(inst)?.description;
    },
    configurable: true
  });
  inst.meta = (...args) => {
    if (args.length === 0) {
      return globalRegistry.get(inst);
    }
    const cl = inst.clone();
    globalRegistry.add(cl, args[0]);
    return cl;
  };
  inst.isOptional = () => inst.safeParse(void 0).success;
  inst.isNullable = () => inst.safeParse(null).success;
  return inst;
});
var _ZodString = /* @__PURE__ */ $constructor("_ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  ZodType.init(inst, def);
  const bag = inst._zod.bag;
  inst.format = bag.format ?? null;
  inst.minLength = bag.minimum ?? null;
  inst.maxLength = bag.maximum ?? null;
  inst.regex = (...args) => inst.check(_regex(...args));
  inst.includes = (...args) => inst.check(_includes(...args));
  inst.startsWith = (...args) => inst.check(_startsWith(...args));
  inst.endsWith = (...args) => inst.check(_endsWith(...args));
  inst.min = (...args) => inst.check(_minLength(...args));
  inst.max = (...args) => inst.check(_maxLength(...args));
  inst.length = (...args) => inst.check(_length(...args));
  inst.nonempty = (...args) => inst.check(_minLength(1, ...args));
  inst.lowercase = (params) => inst.check(_lowercase(params));
  inst.uppercase = (params) => inst.check(_uppercase(params));
  inst.trim = () => inst.check(_trim());
  inst.normalize = (...args) => inst.check(_normalize(...args));
  inst.toLowerCase = () => inst.check(_toLowerCase());
  inst.toUpperCase = () => inst.check(_toUpperCase());
});
var ZodString = /* @__PURE__ */ $constructor("ZodString", (inst, def) => {
  $ZodString.init(inst, def);
  _ZodString.init(inst, def);
  inst.email = (params) => inst.check(_email(ZodEmail, params));
  inst.url = (params) => inst.check(_url(ZodURL, params));
  inst.jwt = (params) => inst.check(_jwt(ZodJWT, params));
  inst.emoji = (params) => inst.check(_emoji2(ZodEmoji, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.uuid = (params) => inst.check(_uuid(ZodUUID, params));
  inst.uuidv4 = (params) => inst.check(_uuidv4(ZodUUID, params));
  inst.uuidv6 = (params) => inst.check(_uuidv6(ZodUUID, params));
  inst.uuidv7 = (params) => inst.check(_uuidv7(ZodUUID, params));
  inst.nanoid = (params) => inst.check(_nanoid(ZodNanoID, params));
  inst.guid = (params) => inst.check(_guid(ZodGUID, params));
  inst.cuid = (params) => inst.check(_cuid(ZodCUID, params));
  inst.cuid2 = (params) => inst.check(_cuid2(ZodCUID2, params));
  inst.ulid = (params) => inst.check(_ulid(ZodULID, params));
  inst.base64 = (params) => inst.check(_base64(ZodBase64, params));
  inst.base64url = (params) => inst.check(_base64url(ZodBase64URL, params));
  inst.xid = (params) => inst.check(_xid(ZodXID, params));
  inst.ksuid = (params) => inst.check(_ksuid(ZodKSUID, params));
  inst.ipv4 = (params) => inst.check(_ipv4(ZodIPv4, params));
  inst.ipv6 = (params) => inst.check(_ipv6(ZodIPv6, params));
  inst.cidrv4 = (params) => inst.check(_cidrv4(ZodCIDRv4, params));
  inst.cidrv6 = (params) => inst.check(_cidrv6(ZodCIDRv6, params));
  inst.e164 = (params) => inst.check(_e164(ZodE164, params));
  inst.datetime = (params) => inst.check(datetime2(params));
  inst.date = (params) => inst.check(date2(params));
  inst.time = (params) => inst.check(time2(params));
  inst.duration = (params) => inst.check(duration2(params));
});
function string2(params) {
  return _string(ZodString, params);
}
__name(string2, "string");
var ZodStringFormat = /* @__PURE__ */ $constructor("ZodStringFormat", (inst, def) => {
  $ZodStringFormat.init(inst, def);
  _ZodString.init(inst, def);
});
var ZodEmail = /* @__PURE__ */ $constructor("ZodEmail", (inst, def) => {
  $ZodEmail.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function email2(params) {
  return _email(ZodEmail, params);
}
__name(email2, "email");
var ZodGUID = /* @__PURE__ */ $constructor("ZodGUID", (inst, def) => {
  $ZodGUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function guid2(params) {
  return _guid(ZodGUID, params);
}
__name(guid2, "guid");
var ZodUUID = /* @__PURE__ */ $constructor("ZodUUID", (inst, def) => {
  $ZodUUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function uuid2(params) {
  return _uuid(ZodUUID, params);
}
__name(uuid2, "uuid");
function uuidv4(params) {
  return _uuidv4(ZodUUID, params);
}
__name(uuidv4, "uuidv4");
function uuidv6(params) {
  return _uuidv6(ZodUUID, params);
}
__name(uuidv6, "uuidv6");
function uuidv7(params) {
  return _uuidv7(ZodUUID, params);
}
__name(uuidv7, "uuidv7");
var ZodURL = /* @__PURE__ */ $constructor("ZodURL", (inst, def) => {
  $ZodURL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function url(params) {
  return _url(ZodURL, params);
}
__name(url, "url");
function httpUrl(params) {
  return _url(ZodURL, {
    protocol: /^https?$/,
    hostname: regexes_exports.domain,
    ...util_exports.normalizeParams(params)
  });
}
__name(httpUrl, "httpUrl");
var ZodEmoji = /* @__PURE__ */ $constructor("ZodEmoji", (inst, def) => {
  $ZodEmoji.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function emoji2(params) {
  return _emoji2(ZodEmoji, params);
}
__name(emoji2, "emoji");
var ZodNanoID = /* @__PURE__ */ $constructor("ZodNanoID", (inst, def) => {
  $ZodNanoID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function nanoid2(params) {
  return _nanoid(ZodNanoID, params);
}
__name(nanoid2, "nanoid");
var ZodCUID = /* @__PURE__ */ $constructor("ZodCUID", (inst, def) => {
  $ZodCUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid3(params) {
  return _cuid(ZodCUID, params);
}
__name(cuid3, "cuid");
var ZodCUID2 = /* @__PURE__ */ $constructor("ZodCUID2", (inst, def) => {
  $ZodCUID2.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cuid22(params) {
  return _cuid2(ZodCUID2, params);
}
__name(cuid22, "cuid2");
var ZodULID = /* @__PURE__ */ $constructor("ZodULID", (inst, def) => {
  $ZodULID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ulid2(params) {
  return _ulid(ZodULID, params);
}
__name(ulid2, "ulid");
var ZodXID = /* @__PURE__ */ $constructor("ZodXID", (inst, def) => {
  $ZodXID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function xid2(params) {
  return _xid(ZodXID, params);
}
__name(xid2, "xid");
var ZodKSUID = /* @__PURE__ */ $constructor("ZodKSUID", (inst, def) => {
  $ZodKSUID.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ksuid2(params) {
  return _ksuid(ZodKSUID, params);
}
__name(ksuid2, "ksuid");
var ZodIPv4 = /* @__PURE__ */ $constructor("ZodIPv4", (inst, def) => {
  $ZodIPv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv42(params) {
  return _ipv4(ZodIPv4, params);
}
__name(ipv42, "ipv4");
var ZodIPv6 = /* @__PURE__ */ $constructor("ZodIPv6", (inst, def) => {
  $ZodIPv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function ipv62(params) {
  return _ipv6(ZodIPv6, params);
}
__name(ipv62, "ipv6");
var ZodCIDRv4 = /* @__PURE__ */ $constructor("ZodCIDRv4", (inst, def) => {
  $ZodCIDRv4.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv42(params) {
  return _cidrv4(ZodCIDRv4, params);
}
__name(cidrv42, "cidrv4");
var ZodCIDRv6 = /* @__PURE__ */ $constructor("ZodCIDRv6", (inst, def) => {
  $ZodCIDRv6.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function cidrv62(params) {
  return _cidrv6(ZodCIDRv6, params);
}
__name(cidrv62, "cidrv6");
var ZodBase64 = /* @__PURE__ */ $constructor("ZodBase64", (inst, def) => {
  $ZodBase64.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base642(params) {
  return _base64(ZodBase64, params);
}
__name(base642, "base64");
var ZodBase64URL = /* @__PURE__ */ $constructor("ZodBase64URL", (inst, def) => {
  $ZodBase64URL.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function base64url2(params) {
  return _base64url(ZodBase64URL, params);
}
__name(base64url2, "base64url");
var ZodE164 = /* @__PURE__ */ $constructor("ZodE164", (inst, def) => {
  $ZodE164.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function e1642(params) {
  return _e164(ZodE164, params);
}
__name(e1642, "e164");
var ZodJWT = /* @__PURE__ */ $constructor("ZodJWT", (inst, def) => {
  $ZodJWT.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function jwt(params) {
  return _jwt(ZodJWT, params);
}
__name(jwt, "jwt");
var ZodCustomStringFormat = /* @__PURE__ */ $constructor("ZodCustomStringFormat", (inst, def) => {
  $ZodCustomStringFormat.init(inst, def);
  ZodStringFormat.init(inst, def);
});
function stringFormat(format, fnOrRegex, _params = {}) {
  return _stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);
}
__name(stringFormat, "stringFormat");
function hostname2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hostname", regexes_exports.hostname, _params);
}
__name(hostname2, "hostname");
function hex2(_params) {
  return _stringFormat(ZodCustomStringFormat, "hex", regexes_exports.hex, _params);
}
__name(hex2, "hex");
function hash(alg, params) {
  const enc = params?.enc ?? "hex";
  const format = \`\${alg}_\${enc}\`;
  const regex = regexes_exports[format];
  if (!regex) throw new Error(\`Unrecognized hash format: \${format}\`);
  return _stringFormat(ZodCustomStringFormat, format, regex, params);
}
__name(hash, "hash");
var ZodNumber = /* @__PURE__ */ $constructor("ZodNumber", (inst, def) => {
  $ZodNumber.init(inst, def);
  ZodType.init(inst, def);
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.int = (params) => inst.check(int(params));
  inst.safe = (params) => inst.check(int(params));
  inst.positive = (params) => inst.check(_gt(0, params));
  inst.nonnegative = (params) => inst.check(_gte(0, params));
  inst.negative = (params) => inst.check(_lt(0, params));
  inst.nonpositive = (params) => inst.check(_lte(0, params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  inst.step = (value, params) => inst.check(_multipleOf(value, params));
  inst.finite = () => inst;
  const bag = inst._zod.bag;
  inst.minValue = Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;
  inst.maxValue = Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;
  inst.isInt = (bag.format ?? "").includes("int") || Number.isSafeInteger(bag.multipleOf ?? 0.5);
  inst.isFinite = true;
  inst.format = bag.format ?? null;
});
function number2(params) {
  return _number(ZodNumber, params);
}
__name(number2, "number");
var ZodNumberFormat = /* @__PURE__ */ $constructor("ZodNumberFormat", (inst, def) => {
  $ZodNumberFormat.init(inst, def);
  ZodNumber.init(inst, def);
});
function int(params) {
  return _int(ZodNumberFormat, params);
}
__name(int, "int");
function float32(params) {
  return _float32(ZodNumberFormat, params);
}
__name(float32, "float32");
function float64(params) {
  return _float64(ZodNumberFormat, params);
}
__name(float64, "float64");
function int32(params) {
  return _int32(ZodNumberFormat, params);
}
__name(int32, "int32");
function uint32(params) {
  return _uint32(ZodNumberFormat, params);
}
__name(uint32, "uint32");
var ZodBoolean = /* @__PURE__ */ $constructor("ZodBoolean", (inst, def) => {
  $ZodBoolean.init(inst, def);
  ZodType.init(inst, def);
});
function boolean2(params) {
  return _boolean(ZodBoolean, params);
}
__name(boolean2, "boolean");
var ZodBigInt = /* @__PURE__ */ $constructor("ZodBigInt", (inst, def) => {
  $ZodBigInt.init(inst, def);
  ZodType.init(inst, def);
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.gt = (value, params) => inst.check(_gt(value, params));
  inst.gte = (value, params) => inst.check(_gte(value, params));
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.lt = (value, params) => inst.check(_lt(value, params));
  inst.lte = (value, params) => inst.check(_lte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  inst.positive = (params) => inst.check(_gt(BigInt(0), params));
  inst.negative = (params) => inst.check(_lt(BigInt(0), params));
  inst.nonpositive = (params) => inst.check(_lte(BigInt(0), params));
  inst.nonnegative = (params) => inst.check(_gte(BigInt(0), params));
  inst.multipleOf = (value, params) => inst.check(_multipleOf(value, params));
  const bag = inst._zod.bag;
  inst.minValue = bag.minimum ?? null;
  inst.maxValue = bag.maximum ?? null;
  inst.format = bag.format ?? null;
});
function bigint2(params) {
  return _bigint(ZodBigInt, params);
}
__name(bigint2, "bigint");
var ZodBigIntFormat = /* @__PURE__ */ $constructor("ZodBigIntFormat", (inst, def) => {
  $ZodBigIntFormat.init(inst, def);
  ZodBigInt.init(inst, def);
});
function int64(params) {
  return _int64(ZodBigIntFormat, params);
}
__name(int64, "int64");
function uint64(params) {
  return _uint64(ZodBigIntFormat, params);
}
__name(uint64, "uint64");
var ZodSymbol = /* @__PURE__ */ $constructor("ZodSymbol", (inst, def) => {
  $ZodSymbol.init(inst, def);
  ZodType.init(inst, def);
});
function symbol15(params) {
  return _symbol(ZodSymbol, params);
}
__name(symbol15, "symbol");
var ZodUndefined = /* @__PURE__ */ $constructor("ZodUndefined", (inst, def) => {
  $ZodUndefined.init(inst, def);
  ZodType.init(inst, def);
});
function _undefined3(params) {
  return _undefined2(ZodUndefined, params);
}
__name(_undefined3, "_undefined");
var ZodNull = /* @__PURE__ */ $constructor("ZodNull", (inst, def) => {
  $ZodNull.init(inst, def);
  ZodType.init(inst, def);
});
function _null3(params) {
  return _null2(ZodNull, params);
}
__name(_null3, "_null");
var ZodAny = /* @__PURE__ */ $constructor("ZodAny", (inst, def) => {
  $ZodAny.init(inst, def);
  ZodType.init(inst, def);
});
function any() {
  return _any(ZodAny);
}
__name(any, "any");
var ZodUnknown = /* @__PURE__ */ $constructor("ZodUnknown", (inst, def) => {
  $ZodUnknown.init(inst, def);
  ZodType.init(inst, def);
});
function unknown() {
  return _unknown(ZodUnknown);
}
__name(unknown, "unknown");
var ZodNever = /* @__PURE__ */ $constructor("ZodNever", (inst, def) => {
  $ZodNever.init(inst, def);
  ZodType.init(inst, def);
});
function never(params) {
  return _never(ZodNever, params);
}
__name(never, "never");
var ZodVoid = /* @__PURE__ */ $constructor("ZodVoid", (inst, def) => {
  $ZodVoid.init(inst, def);
  ZodType.init(inst, def);
});
function _void2(params) {
  return _void(ZodVoid, params);
}
__name(_void2, "_void");
var ZodDate = /* @__PURE__ */ $constructor("ZodDate", (inst, def) => {
  $ZodDate.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (value, params) => inst.check(_gte(value, params));
  inst.max = (value, params) => inst.check(_lte(value, params));
  const c = inst._zod.bag;
  inst.minDate = c.minimum ? new Date(c.minimum) : null;
  inst.maxDate = c.maximum ? new Date(c.maximum) : null;
});
function date3(params) {
  return _date(ZodDate, params);
}
__name(date3, "date");
var ZodArray = /* @__PURE__ */ $constructor("ZodArray", (inst, def) => {
  $ZodArray.init(inst, def);
  ZodType.init(inst, def);
  inst.element = def.element;
  inst.min = (minLength, params) => inst.check(_minLength(minLength, params));
  inst.nonempty = (params) => inst.check(_minLength(1, params));
  inst.max = (maxLength, params) => inst.check(_maxLength(maxLength, params));
  inst.length = (len, params) => inst.check(_length(len, params));
  inst.unwrap = () => inst.element;
});
function array(element, params) {
  return _array(ZodArray, element, params);
}
__name(array, "array");
function keyof(schema) {
  const shape = schema._zod.def.shape;
  return _enum2(Object.keys(shape));
}
__name(keyof, "keyof");
var ZodObject = /* @__PURE__ */ $constructor("ZodObject", (inst, def) => {
  $ZodObjectJIT.init(inst, def);
  ZodType.init(inst, def);
  util_exports.defineLazy(inst, "shape", () => {
    return def.shape;
  });
  inst.keyof = () => _enum2(Object.keys(inst._zod.def.shape));
  inst.catchall = (catchall) => inst.clone({
    ...inst._zod.def,
    catchall
  });
  inst.passthrough = () => inst.clone({
    ...inst._zod.def,
    catchall: unknown()
  });
  inst.loose = () => inst.clone({
    ...inst._zod.def,
    catchall: unknown()
  });
  inst.strict = () => inst.clone({
    ...inst._zod.def,
    catchall: never()
  });
  inst.strip = () => inst.clone({
    ...inst._zod.def,
    catchall: void 0
  });
  inst.extend = (incoming) => {
    return util_exports.extend(inst, incoming);
  };
  inst.safeExtend = (incoming) => {
    return util_exports.safeExtend(inst, incoming);
  };
  inst.merge = (other) => util_exports.merge(inst, other);
  inst.pick = (mask) => util_exports.pick(inst, mask);
  inst.omit = (mask) => util_exports.omit(inst, mask);
  inst.partial = (...args) => util_exports.partial(ZodOptional, inst, args[0]);
  inst.required = (...args) => util_exports.required(ZodNonOptional, inst, args[0]);
});
function object(shape, params) {
  const def = {
    type: "object",
    shape: shape ?? {},
    ...util_exports.normalizeParams(params)
  };
  return new ZodObject(def);
}
__name(object, "object");
function strictObject(shape, params) {
  return new ZodObject({
    type: "object",
    shape,
    catchall: never(),
    ...util_exports.normalizeParams(params)
  });
}
__name(strictObject, "strictObject");
function looseObject(shape, params) {
  return new ZodObject({
    type: "object",
    shape,
    catchall: unknown(),
    ...util_exports.normalizeParams(params)
  });
}
__name(looseObject, "looseObject");
var ZodUnion = /* @__PURE__ */ $constructor("ZodUnion", (inst, def) => {
  $ZodUnion.init(inst, def);
  ZodType.init(inst, def);
  inst.options = def.options;
});
function union(options, params) {
  return new ZodUnion({
    type: "union",
    options,
    ...util_exports.normalizeParams(params)
  });
}
__name(union, "union");
var ZodDiscriminatedUnion = /* @__PURE__ */ $constructor("ZodDiscriminatedUnion", (inst, def) => {
  ZodUnion.init(inst, def);
  $ZodDiscriminatedUnion.init(inst, def);
});
function discriminatedUnion(discriminator, options, params) {
  return new ZodDiscriminatedUnion({
    type: "union",
    options,
    discriminator,
    ...util_exports.normalizeParams(params)
  });
}
__name(discriminatedUnion, "discriminatedUnion");
var ZodIntersection = /* @__PURE__ */ $constructor("ZodIntersection", (inst, def) => {
  $ZodIntersection.init(inst, def);
  ZodType.init(inst, def);
});
function intersection(left, right) {
  return new ZodIntersection({
    type: "intersection",
    left,
    right
  });
}
__name(intersection, "intersection");
var ZodTuple = /* @__PURE__ */ $constructor("ZodTuple", (inst, def) => {
  $ZodTuple.init(inst, def);
  ZodType.init(inst, def);
  inst.rest = (rest) => inst.clone({
    ...inst._zod.def,
    rest
  });
});
function tuple(items, _paramsOrRest, _params) {
  const hasRest = _paramsOrRest instanceof $ZodType;
  const params = hasRest ? _params : _paramsOrRest;
  const rest = hasRest ? _paramsOrRest : null;
  return new ZodTuple({
    type: "tuple",
    items,
    rest,
    ...util_exports.normalizeParams(params)
  });
}
__name(tuple, "tuple");
var ZodRecord = /* @__PURE__ */ $constructor("ZodRecord", (inst, def) => {
  $ZodRecord.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function record(keyType, valueType, params) {
  return new ZodRecord({
    type: "record",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
__name(record, "record");
function partialRecord(keyType, valueType, params) {
  const k = clone(keyType);
  k._zod.values = void 0;
  return new ZodRecord({
    type: "record",
    keyType: k,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
__name(partialRecord, "partialRecord");
var ZodMap = /* @__PURE__ */ $constructor("ZodMap", (inst, def) => {
  $ZodMap.init(inst, def);
  ZodType.init(inst, def);
  inst.keyType = def.keyType;
  inst.valueType = def.valueType;
});
function map(keyType, valueType, params) {
  return new ZodMap({
    type: "map",
    keyType,
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
__name(map, "map");
var ZodSet = /* @__PURE__ */ $constructor("ZodSet", (inst, def) => {
  $ZodSet.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (...args) => inst.check(_minSize(...args));
  inst.nonempty = (params) => inst.check(_minSize(1, params));
  inst.max = (...args) => inst.check(_maxSize(...args));
  inst.size = (...args) => inst.check(_size(...args));
});
function set(valueType, params) {
  return new ZodSet({
    type: "set",
    valueType,
    ...util_exports.normalizeParams(params)
  });
}
__name(set, "set");
var ZodEnum = /* @__PURE__ */ $constructor("ZodEnum", (inst, def) => {
  $ZodEnum.init(inst, def);
  ZodType.init(inst, def);
  inst.enum = def.entries;
  inst.options = Object.values(def.entries);
  const keys = new Set(Object.keys(def.entries));
  inst.extract = (values, params) => {
    const newEntries = {};
    for (const value of values) {
      if (keys.has(value)) {
        newEntries[value] = def.entries[value];
      } else throw new Error(\`Key \${value} not found in enum\`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
  inst.exclude = (values, params) => {
    const newEntries = {
      ...def.entries
    };
    for (const value of values) {
      if (keys.has(value)) {
        delete newEntries[value];
      } else throw new Error(\`Key \${value} not found in enum\`);
    }
    return new ZodEnum({
      ...def,
      checks: [],
      ...util_exports.normalizeParams(params),
      entries: newEntries
    });
  };
});
function _enum2(values, params) {
  const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [
    v,
    v
  ])) : values;
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
__name(_enum2, "_enum");
function nativeEnum(entries, params) {
  return new ZodEnum({
    type: "enum",
    entries,
    ...util_exports.normalizeParams(params)
  });
}
__name(nativeEnum, "nativeEnum");
var ZodLiteral = /* @__PURE__ */ $constructor("ZodLiteral", (inst, def) => {
  $ZodLiteral.init(inst, def);
  ZodType.init(inst, def);
  inst.values = new Set(def.values);
  Object.defineProperty(inst, "value", {
    get() {
      if (def.values.length > 1) {
        throw new Error("This schema contains multiple valid literal values. Use \`.values\` instead.");
      }
      return def.values[0];
    }
  });
});
function literal(value, params) {
  return new ZodLiteral({
    type: "literal",
    values: Array.isArray(value) ? value : [
      value
    ],
    ...util_exports.normalizeParams(params)
  });
}
__name(literal, "literal");
var ZodFile = /* @__PURE__ */ $constructor("ZodFile", (inst, def) => {
  $ZodFile.init(inst, def);
  ZodType.init(inst, def);
  inst.min = (size, params) => inst.check(_minSize(size, params));
  inst.max = (size, params) => inst.check(_maxSize(size, params));
  inst.mime = (types, params) => inst.check(_mime(Array.isArray(types) ? types : [
    types
  ], params));
});
function file(params) {
  return _file(ZodFile, params);
}
__name(file, "file");
var ZodTransform = /* @__PURE__ */ $constructor("ZodTransform", (inst, def) => {
  $ZodTransform.init(inst, def);
  ZodType.init(inst, def);
  inst._zod.parse = (payload, _ctx) => {
    if (_ctx.direction === "backward") {
      throw new $ZodEncodeError(inst.constructor.name);
    }
    payload.addIssue = (issue2) => {
      if (typeof issue2 === "string") {
        payload.issues.push(util_exports.issue(issue2, payload.value, def));
      } else {
        const _issue = issue2;
        if (_issue.fatal) _issue.continue = false;
        _issue.code ?? (_issue.code = "custom");
        _issue.input ?? (_issue.input = payload.value);
        _issue.inst ?? (_issue.inst = inst);
        payload.issues.push(util_exports.issue(_issue));
      }
    };
    const output = def.transform(payload.value, payload);
    if (output instanceof Promise) {
      return output.then((output2) => {
        payload.value = output2;
        return payload;
      });
    }
    payload.value = output;
    return payload;
  };
});
function transform(fn) {
  return new ZodTransform({
    type: "transform",
    transform: fn
  });
}
__name(transform, "transform");
var ZodOptional = /* @__PURE__ */ $constructor("ZodOptional", (inst, def) => {
  $ZodOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function optional(innerType) {
  return new ZodOptional({
    type: "optional",
    innerType
  });
}
__name(optional, "optional");
var ZodNullable = /* @__PURE__ */ $constructor("ZodNullable", (inst, def) => {
  $ZodNullable.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nullable(innerType) {
  return new ZodNullable({
    type: "nullable",
    innerType
  });
}
__name(nullable, "nullable");
function nullish2(innerType) {
  return optional(nullable(innerType));
}
__name(nullish2, "nullish");
var ZodDefault = /* @__PURE__ */ $constructor("ZodDefault", (inst, def) => {
  $ZodDefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeDefault = inst.unwrap;
});
function _default2(innerType, defaultValue) {
  return new ZodDefault({
    type: "default",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
__name(_default2, "_default");
var ZodPrefault = /* @__PURE__ */ $constructor("ZodPrefault", (inst, def) => {
  $ZodPrefault.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function prefault(innerType, defaultValue) {
  return new ZodPrefault({
    type: "prefault",
    innerType,
    get defaultValue() {
      return typeof defaultValue === "function" ? defaultValue() : util_exports.shallowClone(defaultValue);
    }
  });
}
__name(prefault, "prefault");
var ZodNonOptional = /* @__PURE__ */ $constructor("ZodNonOptional", (inst, def) => {
  $ZodNonOptional.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function nonoptional(innerType, params) {
  return new ZodNonOptional({
    type: "nonoptional",
    innerType,
    ...util_exports.normalizeParams(params)
  });
}
__name(nonoptional, "nonoptional");
var ZodSuccess = /* @__PURE__ */ $constructor("ZodSuccess", (inst, def) => {
  $ZodSuccess.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function success(innerType) {
  return new ZodSuccess({
    type: "success",
    innerType
  });
}
__name(success, "success");
var ZodCatch = /* @__PURE__ */ $constructor("ZodCatch", (inst, def) => {
  $ZodCatch.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
  inst.removeCatch = inst.unwrap;
});
function _catch2(innerType, catchValue) {
  return new ZodCatch({
    type: "catch",
    innerType,
    catchValue: typeof catchValue === "function" ? catchValue : () => catchValue
  });
}
__name(_catch2, "_catch");
var ZodNaN = /* @__PURE__ */ $constructor("ZodNaN", (inst, def) => {
  $ZodNaN.init(inst, def);
  ZodType.init(inst, def);
});
function nan(params) {
  return _nan(ZodNaN, params);
}
__name(nan, "nan");
var ZodPipe = /* @__PURE__ */ $constructor("ZodPipe", (inst, def) => {
  $ZodPipe.init(inst, def);
  ZodType.init(inst, def);
  inst.in = def.in;
  inst.out = def.out;
});
function pipe(in_, out) {
  return new ZodPipe({
    type: "pipe",
    in: in_,
    out
  });
}
__name(pipe, "pipe");
var ZodCodec = /* @__PURE__ */ $constructor("ZodCodec", (inst, def) => {
  ZodPipe.init(inst, def);
  $ZodCodec.init(inst, def);
});
function codec(in_, out, params) {
  return new ZodCodec({
    type: "pipe",
    in: in_,
    out,
    transform: params.decode,
    reverseTransform: params.encode
  });
}
__name(codec, "codec");
var ZodReadonly = /* @__PURE__ */ $constructor("ZodReadonly", (inst, def) => {
  $ZodReadonly.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function readonly(innerType) {
  return new ZodReadonly({
    type: "readonly",
    innerType
  });
}
__name(readonly, "readonly");
var ZodTemplateLiteral = /* @__PURE__ */ $constructor("ZodTemplateLiteral", (inst, def) => {
  $ZodTemplateLiteral.init(inst, def);
  ZodType.init(inst, def);
});
function templateLiteral(parts, params) {
  return new ZodTemplateLiteral({
    type: "template_literal",
    parts,
    ...util_exports.normalizeParams(params)
  });
}
__name(templateLiteral, "templateLiteral");
var ZodLazy = /* @__PURE__ */ $constructor("ZodLazy", (inst, def) => {
  $ZodLazy.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.getter();
});
function lazy(getter) {
  return new ZodLazy({
    type: "lazy",
    getter
  });
}
__name(lazy, "lazy");
var ZodPromise = /* @__PURE__ */ $constructor("ZodPromise", (inst, def) => {
  $ZodPromise.init(inst, def);
  ZodType.init(inst, def);
  inst.unwrap = () => inst._zod.def.innerType;
});
function promise(innerType) {
  return new ZodPromise({
    type: "promise",
    innerType
  });
}
__name(promise, "promise");
var ZodFunction = /* @__PURE__ */ $constructor("ZodFunction", (inst, def) => {
  $ZodFunction.init(inst, def);
  ZodType.init(inst, def);
});
function _function(params) {
  return new ZodFunction({
    type: "function",
    input: Array.isArray(params?.input) ? tuple(params?.input) : params?.input ?? array(unknown()),
    output: params?.output ?? unknown()
  });
}
__name(_function, "_function");
var ZodCustom = /* @__PURE__ */ $constructor("ZodCustom", (inst, def) => {
  $ZodCustom.init(inst, def);
  ZodType.init(inst, def);
});
function check(fn) {
  const ch = new $ZodCheck({
    check: "custom"
  });
  ch._zod.check = fn;
  return ch;
}
__name(check, "check");
function custom(fn, _params) {
  return _custom(ZodCustom, fn ?? (() => true), _params);
}
__name(custom, "custom");
function refine(fn, _params = {}) {
  return _refine(ZodCustom, fn, _params);
}
__name(refine, "refine");
function superRefine(fn) {
  return _superRefine(fn);
}
__name(superRefine, "superRefine");
function _instanceof(cls, params = {
  error: \`Input not instance of \${cls.name}\`
}) {
  const inst = new ZodCustom({
    type: "custom",
    check: "custom",
    fn: /* @__PURE__ */ __name((data) => data instanceof cls, "fn"),
    abort: true,
    ...util_exports.normalizeParams(params)
  });
  inst._zod.bag.Class = cls;
  return inst;
}
__name(_instanceof, "_instanceof");
var stringbool = /* @__PURE__ */ __name((...args) => _stringbool({
  Codec: ZodCodec,
  Boolean: ZodBoolean,
  String: ZodString
}, ...args), "stringbool");
function json(params) {
  const jsonSchema2 = lazy(() => {
    return union([
      string2(params),
      number2(),
      boolean2(),
      _null3(),
      array(jsonSchema2),
      record(string2(), jsonSchema2)
    ]);
  });
  return jsonSchema2;
}
__name(json, "json");
function preprocess(fn, schema) {
  return pipe(transform(fn), schema);
}
__name(preprocess, "preprocess");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/compat.js
var ZodIssueCode = {
  invalid_type: "invalid_type",
  too_big: "too_big",
  too_small: "too_small",
  invalid_format: "invalid_format",
  not_multiple_of: "not_multiple_of",
  unrecognized_keys: "unrecognized_keys",
  invalid_union: "invalid_union",
  invalid_key: "invalid_key",
  invalid_element: "invalid_element",
  invalid_value: "invalid_value",
  custom: "custom"
};
function setErrorMap(map2) {
  config({
    customError: map2
  });
}
__name(setErrorMap, "setErrorMap");
function getErrorMap() {
  return config().customError;
}
__name(getErrorMap, "getErrorMap");
var ZodFirstPartyTypeKind;
/* @__PURE__ */ (function(ZodFirstPartyTypeKind3) {
})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/coerce.js
var coerce_exports = {};
__export(coerce_exports, {
  bigint: () => bigint3,
  boolean: () => boolean3,
  date: () => date4,
  number: () => number3,
  string: () => string3
});
function string3(params) {
  return _coercedString(ZodString, params);
}
__name(string3, "string");
function number3(params) {
  return _coercedNumber(ZodNumber, params);
}
__name(number3, "number");
function boolean3(params) {
  return _coercedBoolean(ZodBoolean, params);
}
__name(boolean3, "boolean");
function bigint3(params) {
  return _coercedBigint(ZodBigInt, params);
}
__name(bigint3, "bigint");
function date4(params) {
  return _coercedDate(ZodDate, params);
}
__name(date4, "date");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/external.js
config(en_default());

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/classic/index.js
var classic_default = external_exports;

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v4/index.js
var v4_default = classic_default;

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/helpers/util.js
var util;
(function(util2) {
  util2.assertEqual = (_) => {
  };
  function assertIs2(_arg) {
  }
  __name(assertIs2, "assertIs");
  util2.assertIs = assertIs2;
  function assertNever2(_x) {
    throw new Error();
  }
  __name(assertNever2, "assertNever");
  util2.assertNever = assertNever2;
  util2.arrayToEnum = (items) => {
    const obj = {};
    for (const item of items) {
      obj[item] = item;
    }
    return obj;
  };
  util2.getValidEnumValues = (obj) => {
    const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
    const filtered = {};
    for (const k of validKeys) {
      filtered[k] = obj[k];
    }
    return util2.objectValues(filtered);
  };
  util2.objectValues = (obj) => {
    return util2.objectKeys(obj).map(function(e) {
      return obj[e];
    });
  };
  util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object3) => {
    const keys = [];
    for (const key in object3) {
      if (Object.prototype.hasOwnProperty.call(object3, key)) {
        keys.push(key);
      }
    }
    return keys;
  };
  util2.find = (arr, checker) => {
    for (const item of arr) {
      if (checker(item)) return item;
    }
    return void 0;
  };
  util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
  function joinValues2(array2, separator = " | ") {
    return array2.map((val) => typeof val === "string" ? \`'\${val}'\` : val).join(separator);
  }
  __name(joinValues2, "joinValues");
  util2.joinValues = joinValues2;
  util2.jsonStringifyReplacer = (_, value) => {
    if (typeof value === "bigint") {
      return value.toString();
    }
    return value;
  };
})(util || (util = {}));
var objectUtil;
(function(objectUtil2) {
  objectUtil2.mergeShapes = (first, second) => {
    return {
      ...first,
      ...second
    };
  };
})(objectUtil || (objectUtil = {}));
var ZodParsedType = util.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]);
var getParsedType2 = /* @__PURE__ */ __name((data) => {
  const t = typeof data;
  switch (t) {
    case "undefined":
      return ZodParsedType.undefined;
    case "string":
      return ZodParsedType.string;
    case "number":
      return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;
    case "boolean":
      return ZodParsedType.boolean;
    case "function":
      return ZodParsedType.function;
    case "bigint":
      return ZodParsedType.bigint;
    case "symbol":
      return ZodParsedType.symbol;
    case "object":
      if (Array.isArray(data)) {
        return ZodParsedType.array;
      }
      if (data === null) {
        return ZodParsedType.null;
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return ZodParsedType.promise;
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return ZodParsedType.map;
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return ZodParsedType.set;
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return ZodParsedType.date;
      }
      return ZodParsedType.object;
    default:
      return ZodParsedType.unknown;
  }
}, "getParsedType");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/ZodError.js
var ZodIssueCode2 = util.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
var ZodError2 = class _ZodError extends Error {
  static {
    __name(this, "ZodError");
  }
  get errors() {
    return this.issues;
  }
  constructor(issues) {
    super();
    this.issues = [];
    this.addIssue = (sub) => {
      this.issues = [
        ...this.issues,
        sub
      ];
    };
    this.addIssues = (subs = []) => {
      this.issues = [
        ...this.issues,
        ...subs
      ];
    };
    const actualProto = new.target.prototype;
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(this, actualProto);
    } else {
      this.__proto__ = actualProto;
    }
    this.name = "ZodError";
    this.issues = issues;
  }
  format(_mapper) {
    const mapper = _mapper || function(issue2) {
      return issue2.message;
    };
    const fieldErrors = {
      _errors: []
    };
    const processError = /* @__PURE__ */ __name((error45) => {
      for (const issue2 of error45.issues) {
        if (issue2.code === "invalid_union") {
          issue2.unionErrors.map(processError);
        } else if (issue2.code === "invalid_return_type") {
          processError(issue2.returnTypeError);
        } else if (issue2.code === "invalid_arguments") {
          processError(issue2.argumentsError);
        } else if (issue2.path.length === 0) {
          fieldErrors._errors.push(mapper(issue2));
        } else {
          let curr = fieldErrors;
          let i = 0;
          while (i < issue2.path.length) {
            const el = issue2.path[i];
            const terminal = i === issue2.path.length - 1;
            if (!terminal) {
              curr[el] = curr[el] || {
                _errors: []
              };
            } else {
              curr[el] = curr[el] || {
                _errors: []
              };
              curr[el]._errors.push(mapper(issue2));
            }
            curr = curr[el];
            i++;
          }
        }
      }
    }, "processError");
    processError(this);
    return fieldErrors;
  }
  static assert(value) {
    if (!(value instanceof _ZodError)) {
      throw new Error(\`Not a ZodError: \${value}\`);
    }
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(mapper = (issue2) => issue2.message) {
    const fieldErrors = {};
    const formErrors = [];
    for (const sub of this.issues) {
      if (sub.path.length > 0) {
        const firstEl = sub.path[0];
        fieldErrors[firstEl] = fieldErrors[firstEl] || [];
        fieldErrors[firstEl].push(mapper(sub));
      } else {
        formErrors.push(mapper(sub));
      }
    }
    return {
      formErrors,
      fieldErrors
    };
  }
  get formErrors() {
    return this.flatten();
  }
};
ZodError2.create = (issues) => {
  const error45 = new ZodError2(issues);
  return error45;
};

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/locales/en.js
var errorMap = /* @__PURE__ */ __name((issue2, _ctx) => {
  let message;
  switch (issue2.code) {
    case ZodIssueCode2.invalid_type:
      if (issue2.received === ZodParsedType.undefined) {
        message = "Required";
      } else {
        message = \`Expected \${issue2.expected}, received \${issue2.received}\`;
      }
      break;
    case ZodIssueCode2.invalid_literal:
      message = \`Invalid literal value, expected \${JSON.stringify(issue2.expected, util.jsonStringifyReplacer)}\`;
      break;
    case ZodIssueCode2.unrecognized_keys:
      message = \`Unrecognized key(s) in object: \${util.joinValues(issue2.keys, ", ")}\`;
      break;
    case ZodIssueCode2.invalid_union:
      message = \`Invalid input\`;
      break;
    case ZodIssueCode2.invalid_union_discriminator:
      message = \`Invalid discriminator value. Expected \${util.joinValues(issue2.options)}\`;
      break;
    case ZodIssueCode2.invalid_enum_value:
      message = \`Invalid enum value. Expected \${util.joinValues(issue2.options)}, received '\${issue2.received}'\`;
      break;
    case ZodIssueCode2.invalid_arguments:
      message = \`Invalid function arguments\`;
      break;
    case ZodIssueCode2.invalid_return_type:
      message = \`Invalid function return type\`;
      break;
    case ZodIssueCode2.invalid_date:
      message = \`Invalid date\`;
      break;
    case ZodIssueCode2.invalid_string:
      if (typeof issue2.validation === "object") {
        if ("includes" in issue2.validation) {
          message = \`Invalid input: must include "\${issue2.validation.includes}"\`;
          if (typeof issue2.validation.position === "number") {
            message = \`\${message} at one or more positions greater than or equal to \${issue2.validation.position}\`;
          }
        } else if ("startsWith" in issue2.validation) {
          message = \`Invalid input: must start with "\${issue2.validation.startsWith}"\`;
        } else if ("endsWith" in issue2.validation) {
          message = \`Invalid input: must end with "\${issue2.validation.endsWith}"\`;
        } else {
          util.assertNever(issue2.validation);
        }
      } else if (issue2.validation !== "regex") {
        message = \`Invalid \${issue2.validation}\`;
      } else {
        message = "Invalid";
      }
      break;
    case ZodIssueCode2.too_small:
      if (issue2.type === "array") message = \`Array must contain \${issue2.exact ? "exactly" : issue2.inclusive ? \`at least\` : \`more than\`} \${issue2.minimum} element(s)\`;
      else if (issue2.type === "string") message = \`String must contain \${issue2.exact ? "exactly" : issue2.inclusive ? \`at least\` : \`over\`} \${issue2.minimum} character(s)\`;
      else if (issue2.type === "number") message = \`Number must be \${issue2.exact ? \`exactly equal to \` : issue2.inclusive ? \`greater than or equal to \` : \`greater than \`}\${issue2.minimum}\`;
      else if (issue2.type === "bigint") message = \`Number must be \${issue2.exact ? \`exactly equal to \` : issue2.inclusive ? \`greater than or equal to \` : \`greater than \`}\${issue2.minimum}\`;
      else if (issue2.type === "date") message = \`Date must be \${issue2.exact ? \`exactly equal to \` : issue2.inclusive ? \`greater than or equal to \` : \`greater than \`}\${new Date(Number(issue2.minimum))}\`;
      else message = "Invalid input";
      break;
    case ZodIssueCode2.too_big:
      if (issue2.type === "array") message = \`Array must contain \${issue2.exact ? \`exactly\` : issue2.inclusive ? \`at most\` : \`less than\`} \${issue2.maximum} element(s)\`;
      else if (issue2.type === "string") message = \`String must contain \${issue2.exact ? \`exactly\` : issue2.inclusive ? \`at most\` : \`under\`} \${issue2.maximum} character(s)\`;
      else if (issue2.type === "number") message = \`Number must be \${issue2.exact ? \`exactly\` : issue2.inclusive ? \`less than or equal to\` : \`less than\`} \${issue2.maximum}\`;
      else if (issue2.type === "bigint") message = \`BigInt must be \${issue2.exact ? \`exactly\` : issue2.inclusive ? \`less than or equal to\` : \`less than\`} \${issue2.maximum}\`;
      else if (issue2.type === "date") message = \`Date must be \${issue2.exact ? \`exactly\` : issue2.inclusive ? \`smaller than or equal to\` : \`smaller than\`} \${new Date(Number(issue2.maximum))}\`;
      else message = "Invalid input";
      break;
    case ZodIssueCode2.custom:
      message = \`Invalid input\`;
      break;
    case ZodIssueCode2.invalid_intersection_types:
      message = \`Intersection results could not be merged\`;
      break;
    case ZodIssueCode2.not_multiple_of:
      message = \`Number must be a multiple of \${issue2.multipleOf}\`;
      break;
    case ZodIssueCode2.not_finite:
      message = "Number must be finite";
      break;
    default:
      message = _ctx.defaultError;
      util.assertNever(issue2);
  }
  return {
    message
  };
}, "errorMap");
var en_default2 = errorMap;

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/errors.js
var overrideErrorMap = en_default2;
function getErrorMap2() {
  return overrideErrorMap;
}
__name(getErrorMap2, "getErrorMap");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/helpers/parseUtil.js
var makeIssue = /* @__PURE__ */ __name((params) => {
  const { data, path, errorMaps, issueData } = params;
  const fullPath = [
    ...path,
    ...issueData.path || []
  ];
  const fullIssue = {
    ...issueData,
    path: fullPath
  };
  if (issueData.message !== void 0) {
    return {
      ...issueData,
      path: fullPath,
      message: issueData.message
    };
  }
  let errorMessage = "";
  const maps = errorMaps.filter((m) => !!m).slice().reverse();
  for (const map2 of maps) {
    errorMessage = map2(fullIssue, {
      data,
      defaultError: errorMessage
    }).message;
  }
  return {
    ...issueData,
    path: fullPath,
    message: errorMessage
  };
}, "makeIssue");
function addIssueToContext(ctx, issueData) {
  const overrideMap = getErrorMap2();
  const issue2 = makeIssue({
    issueData,
    data: ctx.data,
    path: ctx.path,
    errorMaps: [
      ctx.common.contextualErrorMap,
      ctx.schemaErrorMap,
      overrideMap,
      overrideMap === en_default2 ? void 0 : en_default2
    ].filter((x) => !!x)
  });
  ctx.common.issues.push(issue2);
}
__name(addIssueToContext, "addIssueToContext");
var ParseStatus = class _ParseStatus {
  static {
    __name(this, "ParseStatus");
  }
  constructor() {
    this.value = "valid";
  }
  dirty() {
    if (this.value === "valid") this.value = "dirty";
  }
  abort() {
    if (this.value !== "aborted") this.value = "aborted";
  }
  static mergeArray(status, results) {
    const arrayValue = [];
    for (const s of results) {
      if (s.status === "aborted") return INVALID;
      if (s.status === "dirty") status.dirty();
      arrayValue.push(s.value);
    }
    return {
      status: status.value,
      value: arrayValue
    };
  }
  static async mergeObjectAsync(status, pairs) {
    const syncPairs = [];
    for (const pair of pairs) {
      const key = await pair.key;
      const value = await pair.value;
      syncPairs.push({
        key,
        value
      });
    }
    return _ParseStatus.mergeObjectSync(status, syncPairs);
  }
  static mergeObjectSync(status, pairs) {
    const finalObject = {};
    for (const pair of pairs) {
      const { key, value } = pair;
      if (key.status === "aborted") return INVALID;
      if (value.status === "aborted") return INVALID;
      if (key.status === "dirty") status.dirty();
      if (value.status === "dirty") status.dirty();
      if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
        finalObject[key.value] = value.value;
      }
    }
    return {
      status: status.value,
      value: finalObject
    };
  }
};
var INVALID = Object.freeze({
  status: "aborted"
});
var DIRTY = /* @__PURE__ */ __name((value) => ({
  status: "dirty",
  value
}), "DIRTY");
var OK = /* @__PURE__ */ __name((value) => ({
  status: "valid",
  value
}), "OK");
var isAborted = /* @__PURE__ */ __name((x) => x.status === "aborted", "isAborted");
var isDirty = /* @__PURE__ */ __name((x) => x.status === "dirty", "isDirty");
var isValid = /* @__PURE__ */ __name((x) => x.status === "valid", "isValid");
var isAsync = /* @__PURE__ */ __name((x) => typeof Promise !== "undefined" && x instanceof Promise, "isAsync");

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/helpers/errorUtil.js
var errorUtil;
(function(errorUtil2) {
  errorUtil2.errToObj = (message) => typeof message === "string" ? {
    message
  } : message || {};
  errorUtil2.toString = (message) => typeof message === "string" ? message : message?.message;
})(errorUtil || (errorUtil = {}));

// ../../node_modules/.pnpm/zod@4.1.11/node_modules/zod/v3/types.js
var ParseInputLazyPath = class {
  static {
    __name(this, "ParseInputLazyPath");
  }
  constructor(parent, value, path, key) {
    this._cachedPath = [];
    this.parent = parent;
    this.data = value;
    this._path = path;
    this._key = key;
  }
  get path() {
    if (!this._cachedPath.length) {
      if (Array.isArray(this._key)) {
        this._cachedPath.push(...this._path, ...this._key);
      } else {
        this._cachedPath.push(...this._path, this._key);
      }
    }
    return this._cachedPath;
  }
};
var handleResult = /* @__PURE__ */ __name((ctx, result) => {
  if (isValid(result)) {
    return {
      success: true,
      data: result.value
    };
  } else {
    if (!ctx.common.issues.length) {
      throw new Error("Validation failed but no issues detected.");
    }
    return {
      success: false,
      get error() {
        if (this._error) return this._error;
        const error45 = new ZodError2(ctx.common.issues);
        this._error = error45;
        return this._error;
      }
    };
  }
}, "handleResult");
function processCreateParams(params) {
  if (!params) return {};
  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;
  if (errorMap2 && (invalid_type_error || required_error)) {
    throw new Error(\`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.\`);
  }
  if (errorMap2) return {
    errorMap: errorMap2,
    description
  };
  const customMap = /* @__PURE__ */ __name((iss, ctx) => {
    const { message } = params;
    if (iss.code === "invalid_enum_value") {
      return {
        message: message ?? ctx.defaultError
      };
    }
    if (typeof ctx.data === "undefined") {
      return {
        message: message ?? required_error ?? ctx.defaultError
      };
    }
    if (iss.code !== "invalid_type") return {
      message: ctx.defaultError
    };
    return {
      message: message ?? invalid_type_error ?? ctx.defaultError
    };
  }, "customMap");
  return {
    errorMap: customMap,
    description
  };
}
__name(processCreateParams, "processCreateParams");
var ZodType2 = class {
  static {
    __name(this, "ZodType");
  }
  get description() {
    return this._def.description;
  }
  _getType(input) {
    return getParsedType2(input.data);
  }
  _getOrReturnCtx(input, ctx) {
    return ctx || {
      common: input.parent.common,
      data: input.data,
      parsedType: getParsedType2(input.data),
      schemaErrorMap: this._def.errorMap,
      path: input.path,
      parent: input.parent
    };
  }
  _processInputParams(input) {
    return {
      status: new ParseStatus(),
      ctx: {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType2(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      }
    };
  }
  _parseSync(input) {
    const result = this._parse(input);
    if (isAsync(result)) {
      throw new Error("Synchronous parse encountered promise.");
    }
    return result;
  }
  _parseAsync(input) {
    const result = this._parse(input);
    return Promise.resolve(result);
  }
  parse(data, params) {
    const result = this.safeParse(data, params);
    if (result.success) return result.data;
    throw result.error;
  }
  safeParse(data, params) {
    const ctx = {
      common: {
        issues: [],
        async: params?.async ?? false,
        contextualErrorMap: params?.errorMap
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const result = this._parseSync({
      data,
      path: ctx.path,
      parent: ctx
    });
    return handleResult(ctx, result);
  }
  "~validate"(data) {
    const ctx = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    if (!this["~standard"].async) {
      try {
        const result = this._parseSync({
          data,
          path: [],
          parent: ctx
        });
        return isValid(result) ? {
          value: result.value
        } : {
          issues: ctx.common.issues
        };
      } catch (err) {
        if (err?.message?.toLowerCase()?.includes("encountered")) {
          this["~standard"].async = true;
        }
        ctx.common = {
          issues: [],
          async: true
        };
      }
    }
    return this._parseAsync({
      data,
      path: [],
      parent: ctx
    }).then((result) => isValid(result) ? {
      value: result.value
    } : {
      issues: ctx.common.issues
    });
  }
  async parseAsync(data, params) {
    const result = await this.safeParseAsync(data, params);
    if (result.success) return result.data;
    throw result.error;
  }
  async safeParseAsync(data, params) {
    const ctx = {
      common: {
        issues: [],
        contextualErrorMap: params?.errorMap,
        async: true
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType2(data)
    };
    const maybeAsyncResult = this._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
    return handleResult(ctx, result);
  }
  refine(check2, message) {
    const getIssueProperties = /* @__PURE__ */ __name((val) => {
      if (typeof message === "string" || typeof message === "undefined") {
        return {
          message
        };
      } else if (typeof message === "function") {
        return message(val);
      } else {
        return message;
      }
    }, "getIssueProperties");
    return this._refinement((val, ctx) => {
      const result = check2(val);
      const setError = /* @__PURE__ */ __name(() => ctx.addIssue({
        code: ZodIssueCode2.custom,
        ...getIssueProperties(val)
      }), "setError");
      if (typeof Promise !== "undefined" && result instanceof Promise) {
        return result.then((data) => {
          if (!data) {
            setError();
            return false;
          } else {
            return true;
          }
        });
      }
      if (!result) {
        setError();
        return false;
      } else {
        return true;
      }
    });
  }
  refinement(check2, refinementData) {
    return this._refinement((val, ctx) => {
      if (!check2(val)) {
        ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
        return false;
      } else {
        return true;
      }
    });
  }
  _refinement(refinement) {
    return new ZodEffects({
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: {
        type: "refinement",
        refinement
      }
    });
  }
  superRefine(refinement) {
    return this._refinement(refinement);
  }
  constructor(def) {
    this.spa = this.safeParseAsync;
    this._def = def;
    this.parse = this.parse.bind(this);
    this.safeParse = this.safeParse.bind(this);
    this.parseAsync = this.parseAsync.bind(this);
    this.safeParseAsync = this.safeParseAsync.bind(this);
    this.spa = this.spa.bind(this);
    this.refine = this.refine.bind(this);
    this.refinement = this.refinement.bind(this);
    this.superRefine = this.superRefine.bind(this);
    this.optional = this.optional.bind(this);
    this.nullable = this.nullable.bind(this);
    this.nullish = this.nullish.bind(this);
    this.array = this.array.bind(this);
    this.promise = this.promise.bind(this);
    this.or = this.or.bind(this);
    this.and = this.and.bind(this);
    this.transform = this.transform.bind(this);
    this.brand = this.brand.bind(this);
    this.default = this.default.bind(this);
    this.catch = this.catch.bind(this);
    this.describe = this.describe.bind(this);
    this.pipe = this.pipe.bind(this);
    this.readonly = this.readonly.bind(this);
    this.isNullable = this.isNullable.bind(this);
    this.isOptional = this.isOptional.bind(this);
    this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: /* @__PURE__ */ __name((data) => this["~validate"](data), "validate")
    };
  }
  optional() {
    return ZodOptional2.create(this, this._def);
  }
  nullable() {
    return ZodNullable2.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return ZodArray2.create(this);
  }
  promise() {
    return ZodPromise2.create(this, this._def);
  }
  or(option) {
    return ZodUnion2.create([
      this,
      option
    ], this._def);
  }
  and(incoming) {
    return ZodIntersection2.create(this, incoming, this._def);
  }
  transform(transform2) {
    return new ZodEffects({
      ...processCreateParams(this._def),
      schema: this,
      typeName: ZodFirstPartyTypeKind2.ZodEffects,
      effect: {
        type: "transform",
        transform: transform2
      }
    });
  }
  default(def) {
    const defaultValueFunc = typeof def === "function" ? def : () => def;
    return new ZodDefault2({
      ...processCreateParams(this._def),
      innerType: this,
      defaultValue: defaultValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodDefault
    });
  }
  brand() {
    return new ZodBranded({
      typeName: ZodFirstPartyTypeKind2.ZodBranded,
      type: this,
      ...processCreateParams(this._def)
    });
  }
  catch(def) {
    const catchValueFunc = typeof def === "function" ? def : () => def;
    return new ZodCatch2({
      ...processCreateParams(this._def),
      innerType: this,
      catchValue: catchValueFunc,
      typeName: ZodFirstPartyTypeKind2.ZodCatch
    });
  }
  describe(description) {
    const This = this.constructor;
    return new This({
      ...this._def,
      description
    });
  }
  pipe(target) {
    return ZodPipeline.create(this, target);
  }
  readonly() {
    return ZodReadonly2.create(this);
  }
  isOptional() {
    return this.safeParse(void 0).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
};
var cuidRegex = /^c[^\\s-]{8,}$/i;
var cuid2Regex = /^[0-9a-z]+$/;
var ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
var uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;
var nanoidRegex = /^[a-z0-9_-]{21}$/i;
var jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;
var durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;
var emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;
var _emojiRegex = \`^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\`;
var emojiRegex;
var ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;
var ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
var ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
var base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
var dateRegexSource = \`((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))\`;
var dateRegex = new RegExp(\`^\${dateRegexSource}$\`);
function timeRegexSource(args) {
  let secondsRegexSource = \`[0-5]\\\\d\`;
  if (args.precision) {
    secondsRegexSource = \`\${secondsRegexSource}\\\\.\\\\d{\${args.precision}}\`;
  } else if (args.precision == null) {
    secondsRegexSource = \`\${secondsRegexSource}(\\\\.\\\\d+)?\`;
  }
  const secondsQuantifier = args.precision ? "+" : "?";
  return \`([01]\\\\d|2[0-3]):[0-5]\\\\d(:\${secondsRegexSource})\${secondsQuantifier}\`;
}
__name(timeRegexSource, "timeRegexSource");
function timeRegex(args) {
  return new RegExp(\`^\${timeRegexSource(args)}$\`);
}
__name(timeRegex, "timeRegex");
function datetimeRegex(args) {
  let regex = \`\${dateRegexSource}T\${timeRegexSource(args)}\`;
  const opts = [];
  opts.push(args.local ? \`Z?\` : \`Z\`);
  if (args.offset) opts.push(\`([+-]\\\\d{2}:?\\\\d{2})\`);
  regex = \`\${regex}(\${opts.join("|")})\`;
  return new RegExp(\`^\${regex}$\`);
}
__name(datetimeRegex, "datetimeRegex");
function isValidIP(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4Regex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6Regex.test(ip)) {
    return true;
  }
  return false;
}
__name(isValidIP, "isValidIP");
function isValidJWT2(jwt2, alg) {
  if (!jwtRegex.test(jwt2)) return false;
  try {
    const [header] = jwt2.split(".");
    if (!header) return false;
    const base643 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
    const decoded = JSON.parse(atob(base643));
    if (typeof decoded !== "object" || decoded === null) return false;
    if ("typ" in decoded && decoded?.typ !== "JWT") return false;
    if (!decoded.alg) return false;
    if (alg && decoded.alg !== alg) return false;
    return true;
  } catch {
    return false;
  }
}
__name(isValidJWT2, "isValidJWT");
function isValidCidr(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4CidrRegex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6CidrRegex.test(ip)) {
    return true;
  }
  return false;
}
__name(isValidCidr, "isValidCidr");
var ZodString2 = class _ZodString2 extends ZodType2 {
  static {
    __name(this, "ZodString");
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = String(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.string) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.string,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.length < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.length > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "length") {
        const tooBig = input.data.length > check2.value;
        const tooSmall = input.data.length < check2.value;
        if (tooBig || tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          if (tooBig) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_big,
              maximum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          } else if (tooSmall) {
            addIssueToContext(ctx, {
              code: ZodIssueCode2.too_small,
              minimum: check2.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check2.message
            });
          }
          status.dirty();
        }
      } else if (check2.kind === "email") {
        if (!emailRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "email",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "emoji") {
        if (!emojiRegex) {
          emojiRegex = new RegExp(_emojiRegex, "u");
        }
        if (!emojiRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "emoji",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "uuid") {
        if (!uuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "uuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "nanoid") {
        if (!nanoidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "nanoid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid") {
        if (!cuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cuid2") {
        if (!cuid2Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid2",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ulid") {
        if (!ulidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ulid",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "url") {
        try {
          new URL(input.data);
        } catch {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "regex") {
        check2.regex.lastIndex = 0;
        const testResult = check2.regex.test(input.data);
        if (!testResult) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "regex",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "trim") {
        input.data = input.data.trim();
      } else if (check2.kind === "includes") {
        if (!input.data.includes(check2.value, check2.position)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: {
              includes: check2.value,
              position: check2.position
            },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "toLowerCase") {
        input.data = input.data.toLowerCase();
      } else if (check2.kind === "toUpperCase") {
        input.data = input.data.toUpperCase();
      } else if (check2.kind === "startsWith") {
        if (!input.data.startsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: {
              startsWith: check2.value
            },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "endsWith") {
        if (!input.data.endsWith(check2.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: {
              endsWith: check2.value
            },
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "datetime") {
        const regex = datetimeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "datetime",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "date") {
        const regex = dateRegex;
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "date",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "time") {
        const regex = timeRegex(check2);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_string,
            validation: "time",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "duration") {
        if (!durationRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "duration",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "ip") {
        if (!isValidIP(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ip",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "jwt") {
        if (!isValidJWT2(input.data, check2.alg)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "jwt",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "cidr") {
        if (!isValidCidr(input.data, check2.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cidr",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64") {
        if (!base64Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "base64url") {
        if (!base64urlRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64url",
            code: ZodIssueCode2.invalid_string,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: input.data
    };
  }
  _regex(regex, validation, message) {
    return this.refinement((data) => regex.test(data), {
      validation,
      code: ZodIssueCode2.invalid_string,
      ...errorUtil.errToObj(message)
    });
  }
  _addCheck(check2) {
    return new _ZodString2({
      ...this._def,
      checks: [
        ...this._def.checks,
        check2
      ]
    });
  }
  email(message) {
    return this._addCheck({
      kind: "email",
      ...errorUtil.errToObj(message)
    });
  }
  url(message) {
    return this._addCheck({
      kind: "url",
      ...errorUtil.errToObj(message)
    });
  }
  emoji(message) {
    return this._addCheck({
      kind: "emoji",
      ...errorUtil.errToObj(message)
    });
  }
  uuid(message) {
    return this._addCheck({
      kind: "uuid",
      ...errorUtil.errToObj(message)
    });
  }
  nanoid(message) {
    return this._addCheck({
      kind: "nanoid",
      ...errorUtil.errToObj(message)
    });
  }
  cuid(message) {
    return this._addCheck({
      kind: "cuid",
      ...errorUtil.errToObj(message)
    });
  }
  cuid2(message) {
    return this._addCheck({
      kind: "cuid2",
      ...errorUtil.errToObj(message)
    });
  }
  ulid(message) {
    return this._addCheck({
      kind: "ulid",
      ...errorUtil.errToObj(message)
    });
  }
  base64(message) {
    return this._addCheck({
      kind: "base64",
      ...errorUtil.errToObj(message)
    });
  }
  base64url(message) {
    return this._addCheck({
      kind: "base64url",
      ...errorUtil.errToObj(message)
    });
  }
  jwt(options) {
    return this._addCheck({
      kind: "jwt",
      ...errorUtil.errToObj(options)
    });
  }
  ip(options) {
    return this._addCheck({
      kind: "ip",
      ...errorUtil.errToObj(options)
    });
  }
  cidr(options) {
    return this._addCheck({
      kind: "cidr",
      ...errorUtil.errToObj(options)
    });
  }
  datetime(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "datetime",
        precision: null,
        offset: false,
        local: false,
        message: options
      });
    }
    return this._addCheck({
      kind: "datetime",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      offset: options?.offset ?? false,
      local: options?.local ?? false,
      ...errorUtil.errToObj(options?.message)
    });
  }
  date(message) {
    return this._addCheck({
      kind: "date",
      message
    });
  }
  time(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "time",
        precision: null,
        message: options
      });
    }
    return this._addCheck({
      kind: "time",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      ...errorUtil.errToObj(options?.message)
    });
  }
  duration(message) {
    return this._addCheck({
      kind: "duration",
      ...errorUtil.errToObj(message)
    });
  }
  regex(regex, message) {
    return this._addCheck({
      kind: "regex",
      regex,
      ...errorUtil.errToObj(message)
    });
  }
  includes(value, options) {
    return this._addCheck({
      kind: "includes",
      value,
      position: options?.position,
      ...errorUtil.errToObj(options?.message)
    });
  }
  startsWith(value, message) {
    return this._addCheck({
      kind: "startsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  endsWith(value, message) {
    return this._addCheck({
      kind: "endsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  min(minLength, message) {
    return this._addCheck({
      kind: "min",
      value: minLength,
      ...errorUtil.errToObj(message)
    });
  }
  max(maxLength, message) {
    return this._addCheck({
      kind: "max",
      value: maxLength,
      ...errorUtil.errToObj(message)
    });
  }
  length(len, message) {
    return this._addCheck({
      kind: "length",
      value: len,
      ...errorUtil.errToObj(message)
    });
  }
  /**
   * Equivalent to \`.min(1)\`
   */
  nonempty(message) {
    return this.min(1, errorUtil.errToObj(message));
  }
  trim() {
    return new _ZodString2({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: "trim"
        }
      ]
    });
  }
  toLowerCase() {
    return new _ZodString2({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: "toLowerCase"
        }
      ]
    });
  }
  toUpperCase() {
    return new _ZodString2({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: "toUpperCase"
        }
      ]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((ch) => ch.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((ch) => ch.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((ch) => ch.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((ch) => ch.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((ch) => ch.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((ch) => ch.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((ch) => ch.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((ch) => ch.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((ch) => ch.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((ch) => ch.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((ch) => ch.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((ch) => ch.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((ch) => ch.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((ch) => ch.kind === "base64url");
  }
  get minLength() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min) min = ch.value;
      }
    }
    return min;
  }
  get maxLength() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max) max = ch.value;
      }
    }
    return max;
  }
};
ZodString2.create = (params) => {
  return new ZodString2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodString,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
function floatSafeRemainder2(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepDecCount = (step.toString().split(".")[1] || "").length;
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}
__name(floatSafeRemainder2, "floatSafeRemainder");
var ZodNumber2 = class _ZodNumber extends ZodType2 {
  static {
    __name(this, "ZodNumber");
  }
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
    this.step = this.multipleOf;
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = Number(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.number) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.number,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "int") {
        if (!util.isInteger(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.invalid_type,
            expected: "integer",
            received: "float",
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            minimum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            maximum: check2.value,
            type: "number",
            inclusive: check2.inclusive,
            exact: false,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (floatSafeRemainder2(input.data, check2.value) !== 0) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "finite") {
        if (!Number.isFinite(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_finite,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: input.data
    };
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodNumber({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodNumber({
      ...this._def,
      checks: [
        ...this._def.checks,
        check2
      ]
    });
  }
  int(message) {
    return this._addCheck({
      kind: "int",
      message: errorUtil.toString(message)
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  finite(message) {
    return this._addCheck({
      kind: "finite",
      message: errorUtil.toString(message)
    });
  }
  safe(message) {
    return this._addCheck({
      kind: "min",
      inclusive: true,
      value: Number.MIN_SAFE_INTEGER,
      message: errorUtil.toString(message)
    })._addCheck({
      kind: "max",
      inclusive: true,
      value: Number.MAX_SAFE_INTEGER,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min) min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max) max = ch.value;
      }
    }
    return max;
  }
  get isInt() {
    return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util.isInteger(ch.value));
  }
  get isFinite() {
    let max = null;
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
        return true;
      } else if (ch.kind === "min") {
        if (min === null || ch.value > min) min = ch.value;
      } else if (ch.kind === "max") {
        if (max === null || ch.value < max) max = ch.value;
      }
    }
    return Number.isFinite(min) && Number.isFinite(max);
  }
};
ZodNumber2.create = (params) => {
  return new ZodNumber2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodNumber,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodBigInt2 = class _ZodBigInt extends ZodType2 {
  static {
    __name(this, "ZodBigInt");
  }
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
  }
  _parse(input) {
    if (this._def.coerce) {
      try {
        input.data = BigInt(input.data);
      } catch {
        return this._getInvalidInput(input);
      }
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.bigint) {
      return this._getInvalidInput(input);
    }
    let ctx = void 0;
    const status = new ParseStatus();
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        const tooSmall = check2.inclusive ? input.data < check2.value : input.data <= check2.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            type: "bigint",
            minimum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        const tooBig = check2.inclusive ? input.data > check2.value : input.data >= check2.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            type: "bigint",
            maximum: check2.value,
            inclusive: check2.inclusive,
            message: check2.message
          });
          status.dirty();
        }
      } else if (check2.kind === "multipleOf") {
        if (input.data % check2.value !== BigInt(0)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.not_multiple_of,
            multipleOf: check2.value,
            message: check2.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: input.data
    };
  }
  _getInvalidInput(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.bigint,
      received: ctx.parsedType
    });
    return INVALID;
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new _ZodBigInt({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check2) {
    return new _ZodBigInt({
      ...this._def,
      checks: [
        ...this._def.checks,
        check2
      ]
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min) min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max) max = ch.value;
      }
    }
    return max;
  }
};
ZodBigInt2.create = (params) => {
  return new ZodBigInt2({
    checks: [],
    typeName: ZodFirstPartyTypeKind2.ZodBigInt,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
var ZodBoolean2 = class extends ZodType2 {
  static {
    __name(this, "ZodBoolean");
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = Boolean(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.boolean) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.boolean,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodBoolean2.create = (params) => {
  return new ZodBoolean2({
    typeName: ZodFirstPartyTypeKind2.ZodBoolean,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};
var ZodDate2 = class _ZodDate extends ZodType2 {
  static {
    __name(this, "ZodDate");
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = new Date(input.data);
    }
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.date) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.date,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    if (Number.isNaN(input.data.getTime())) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_date
      });
      return INVALID;
    }
    const status = new ParseStatus();
    let ctx = void 0;
    for (const check2 of this._def.checks) {
      if (check2.kind === "min") {
        if (input.data.getTime() < check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_small,
            message: check2.message,
            inclusive: true,
            exact: false,
            minimum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else if (check2.kind === "max") {
        if (input.data.getTime() > check2.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode2.too_big,
            message: check2.message,
            inclusive: true,
            exact: false,
            maximum: check2.value,
            type: "date"
          });
          status.dirty();
        }
      } else {
        util.assertNever(check2);
      }
    }
    return {
      status: status.value,
      value: new Date(input.data.getTime())
    };
  }
  _addCheck(check2) {
    return new _ZodDate({
      ...this._def,
      checks: [
        ...this._def.checks,
        check2
      ]
    });
  }
  min(minDate, message) {
    return this._addCheck({
      kind: "min",
      value: minDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  max(maxDate, message) {
    return this._addCheck({
      kind: "max",
      value: maxDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  get minDate() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min) min = ch.value;
      }
    }
    return min != null ? new Date(min) : null;
  }
  get maxDate() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max) max = ch.value;
      }
    }
    return max != null ? new Date(max) : null;
  }
};
ZodDate2.create = (params) => {
  return new ZodDate2({
    checks: [],
    coerce: params?.coerce || false,
    typeName: ZodFirstPartyTypeKind2.ZodDate,
    ...processCreateParams(params)
  });
};
var ZodSymbol2 = class extends ZodType2 {
  static {
    __name(this, "ZodSymbol");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.symbol) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.symbol,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodSymbol2.create = (params) => {
  return new ZodSymbol2({
    typeName: ZodFirstPartyTypeKind2.ZodSymbol,
    ...processCreateParams(params)
  });
};
var ZodUndefined2 = class extends ZodType2 {
  static {
    __name(this, "ZodUndefined");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.undefined,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodUndefined2.create = (params) => {
  return new ZodUndefined2({
    typeName: ZodFirstPartyTypeKind2.ZodUndefined,
    ...processCreateParams(params)
  });
};
var ZodNull2 = class extends ZodType2 {
  static {
    __name(this, "ZodNull");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.null) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.null,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodNull2.create = (params) => {
  return new ZodNull2({
    typeName: ZodFirstPartyTypeKind2.ZodNull,
    ...processCreateParams(params)
  });
};
var ZodAny2 = class extends ZodType2 {
  static {
    __name(this, "ZodAny");
  }
  constructor() {
    super(...arguments);
    this._any = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodAny2.create = (params) => {
  return new ZodAny2({
    typeName: ZodFirstPartyTypeKind2.ZodAny,
    ...processCreateParams(params)
  });
};
var ZodUnknown2 = class extends ZodType2 {
  static {
    __name(this, "ZodUnknown");
  }
  constructor() {
    super(...arguments);
    this._unknown = true;
  }
  _parse(input) {
    return OK(input.data);
  }
};
ZodUnknown2.create = (params) => {
  return new ZodUnknown2({
    typeName: ZodFirstPartyTypeKind2.ZodUnknown,
    ...processCreateParams(params)
  });
};
var ZodNever2 = class extends ZodType2 {
  static {
    __name(this, "ZodNever");
  }
  _parse(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode2.invalid_type,
      expected: ZodParsedType.never,
      received: ctx.parsedType
    });
    return INVALID;
  }
};
ZodNever2.create = (params) => {
  return new ZodNever2({
    typeName: ZodFirstPartyTypeKind2.ZodNever,
    ...processCreateParams(params)
  });
};
var ZodVoid2 = class extends ZodType2 {
  static {
    __name(this, "ZodVoid");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.void,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
};
ZodVoid2.create = (params) => {
  return new ZodVoid2({
    typeName: ZodFirstPartyTypeKind2.ZodVoid,
    ...processCreateParams(params)
  });
};
var ZodArray2 = class _ZodArray extends ZodType2 {
  static {
    __name(this, "ZodArray");
  }
  _parse(input) {
    const { ctx, status } = this._processInputParams(input);
    const def = this._def;
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (def.exactLength !== null) {
      const tooBig = ctx.data.length > def.exactLength.value;
      const tooSmall = ctx.data.length < def.exactLength.value;
      if (tooBig || tooSmall) {
        addIssueToContext(ctx, {
          code: tooBig ? ZodIssueCode2.too_big : ZodIssueCode2.too_small,
          minimum: tooSmall ? def.exactLength.value : void 0,
          maximum: tooBig ? def.exactLength.value : void 0,
          type: "array",
          inclusive: true,
          exact: true,
          message: def.exactLength.message
        });
        status.dirty();
      }
    }
    if (def.minLength !== null) {
      if (ctx.data.length < def.minLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.minLength.message
        });
        status.dirty();
      }
    }
    if (def.maxLength !== null) {
      if (ctx.data.length > def.maxLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.maxLength.message
        });
        status.dirty();
      }
    }
    if (ctx.common.async) {
      return Promise.all([
        ...ctx.data
      ].map((item, i) => {
        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));
      })).then((result2) => {
        return ParseStatus.mergeArray(status, result2);
      });
    }
    const result = [
      ...ctx.data
    ].map((item, i) => {
      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));
    });
    return ParseStatus.mergeArray(status, result);
  }
  get element() {
    return this._def.type;
  }
  min(minLength, message) {
    return new _ZodArray({
      ...this._def,
      minLength: {
        value: minLength,
        message: errorUtil.toString(message)
      }
    });
  }
  max(maxLength, message) {
    return new _ZodArray({
      ...this._def,
      maxLength: {
        value: maxLength,
        message: errorUtil.toString(message)
      }
    });
  }
  length(len, message) {
    return new _ZodArray({
      ...this._def,
      exactLength: {
        value: len,
        message: errorUtil.toString(message)
      }
    });
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodArray2.create = (schema, params) => {
  return new ZodArray2({
    type: schema,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: ZodFirstPartyTypeKind2.ZodArray,
    ...processCreateParams(params)
  });
};
function deepPartialify(schema) {
  if (schema instanceof ZodObject2) {
    const newShape = {};
    for (const key in schema.shape) {
      const fieldSchema = schema.shape[key];
      newShape[key] = ZodOptional2.create(deepPartialify(fieldSchema));
    }
    return new ZodObject2({
      ...schema._def,
      shape: /* @__PURE__ */ __name(() => newShape, "shape")
    });
  } else if (schema instanceof ZodArray2) {
    return new ZodArray2({
      ...schema._def,
      type: deepPartialify(schema.element)
    });
  } else if (schema instanceof ZodOptional2) {
    return ZodOptional2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodNullable2) {
    return ZodNullable2.create(deepPartialify(schema.unwrap()));
  } else if (schema instanceof ZodTuple2) {
    return ZodTuple2.create(schema.items.map((item) => deepPartialify(item)));
  } else {
    return schema;
  }
}
__name(deepPartialify, "deepPartialify");
var ZodObject2 = class _ZodObject extends ZodType2 {
  static {
    __name(this, "ZodObject");
  }
  constructor() {
    super(...arguments);
    this._cached = null;
    this.nonstrict = this.passthrough;
    this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null) return this._cached;
    const shape = this._def.shape();
    const keys = util.objectKeys(shape);
    this._cached = {
      shape,
      keys
    };
    return this._cached;
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.object) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const { status, ctx } = this._processInputParams(input);
    const { shape, keys: shapeKeys } = this._getCached();
    const extraKeys = [];
    if (!(this._def.catchall instanceof ZodNever2 && this._def.unknownKeys === "strip")) {
      for (const key in ctx.data) {
        if (!shapeKeys.includes(key)) {
          extraKeys.push(key);
        }
      }
    }
    const pairs = [];
    for (const key of shapeKeys) {
      const keyValidator = shape[key];
      const value = ctx.data[key];
      pairs.push({
        key: {
          status: "valid",
          value: key
        },
        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (this._def.catchall instanceof ZodNever2) {
      const unknownKeys = this._def.unknownKeys;
      if (unknownKeys === "passthrough") {
        for (const key of extraKeys) {
          pairs.push({
            key: {
              status: "valid",
              value: key
            },
            value: {
              status: "valid",
              value: ctx.data[key]
            }
          });
        }
      } else if (unknownKeys === "strict") {
        if (extraKeys.length > 0) {
          addIssueToContext(ctx, {
            code: ZodIssueCode2.unrecognized_keys,
            keys: extraKeys
          });
          status.dirty();
        }
      } else if (unknownKeys === "strip") {
      } else {
        throw new Error(\`Internal ZodObject error: invalid unknownKeys value.\`);
      }
    } else {
      const catchall = this._def.catchall;
      for (const key of extraKeys) {
        const value = ctx.data[key];
        pairs.push({
          key: {
            status: "valid",
            value: key
          },
          value: catchall._parse(
            new ParseInputLazyPath(ctx, value, ctx.path, key)
            //, ctx.child(key), value, getParsedType(value)
          ),
          alwaysSet: key in ctx.data
        });
      }
    }
    if (ctx.common.async) {
      return Promise.resolve().then(async () => {
        const syncPairs = [];
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          syncPairs.push({
            key,
            value,
            alwaysSet: pair.alwaysSet
          });
        }
        return syncPairs;
      }).then((syncPairs) => {
        return ParseStatus.mergeObjectSync(status, syncPairs);
      });
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get shape() {
    return this._def.shape();
  }
  strict(message) {
    errorUtil.errToObj;
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strict",
      ...message !== void 0 ? {
        errorMap: /* @__PURE__ */ __name((issue2, ctx) => {
          const defaultError = this._def.errorMap?.(issue2, ctx).message ?? ctx.defaultError;
          if (issue2.code === "unrecognized_keys") return {
            message: errorUtil.errToObj(message).message ?? defaultError
          };
          return {
            message: defaultError
          };
        }, "errorMap")
      } : {}
    });
  }
  strip() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new _ZodObject({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  // const AugmentFactory =
  //   <Def extends ZodObjectDef>(def: Def) =>
  //   <Augmentation extends ZodRawShape>(
  //     augmentation: Augmentation
  //   ): ZodObject<
  //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
  //     Def["unknownKeys"],
  //     Def["catchall"]
  //   > => {
  //     return new ZodObject({
  //       ...def,
  //       shape: () => ({
  //         ...def.shape(),
  //         ...augmentation,
  //       }),
  //     }) as any;
  //   };
  extend(augmentation) {
    return new _ZodObject({
      ...this._def,
      shape: /* @__PURE__ */ __name(() => ({
        ...this._def.shape(),
        ...augmentation
      }), "shape")
    });
  }
  /**
   * Prior to zod@1.0.12 there was a bug in the
   * inferred type of merged objects. Please
   * upgrade if you are experiencing issues.
   */
  merge(merging) {
    const merged = new _ZodObject({
      unknownKeys: merging._def.unknownKeys,
      catchall: merging._def.catchall,
      shape: /* @__PURE__ */ __name(() => ({
        ...this._def.shape(),
        ...merging._def.shape()
      }), "shape"),
      typeName: ZodFirstPartyTypeKind2.ZodObject
    });
    return merged;
  }
  // merge<
  //   Incoming extends AnyZodObject,
  //   Augmentation extends Incoming["shape"],
  //   NewOutput extends {
  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
  //       ? Augmentation[k]["_output"]
  //       : k extends keyof Output
  //       ? Output[k]
  //       : never;
  //   },
  //   NewInput extends {
  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
  //       ? Augmentation[k]["_input"]
  //       : k extends keyof Input
  //       ? Input[k]
  //       : never;
  //   }
  // >(
  //   merging: Incoming
  // ): ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"],
  //   NewOutput,
  //   NewInput
  // > {
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  setKey(key, schema) {
    return this.augment({
      [key]: schema
    });
  }
  // merge<Incoming extends AnyZodObject>(
  //   merging: Incoming
  // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
  // ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"]
  // > {
  //   // const mergedShape = objectUtil.mergeShapes(
  //   //   this._def.shape(),
  //   //   merging._def.shape()
  //   // );
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  catchall(index) {
    return new _ZodObject({
      ...this._def,
      catchall: index
    });
  }
  pick(mask) {
    const shape = {};
    for (const key of util.objectKeys(mask)) {
      if (mask[key] && this.shape[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: /* @__PURE__ */ __name(() => shape, "shape")
    });
  }
  omit(mask) {
    const shape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (!mask[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: /* @__PURE__ */ __name(() => shape, "shape")
    });
  }
  /**
   * @deprecated
   */
  deepPartial() {
    return deepPartialify(this);
  }
  partial(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      const fieldSchema = this.shape[key];
      if (mask && !mask[key]) {
        newShape[key] = fieldSchema;
      } else {
        newShape[key] = fieldSchema.optional();
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: /* @__PURE__ */ __name(() => newShape, "shape")
    });
  }
  required(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (mask && !mask[key]) {
        newShape[key] = this.shape[key];
      } else {
        const fieldSchema = this.shape[key];
        let newField = fieldSchema;
        while (newField instanceof ZodOptional2) {
          newField = newField._def.innerType;
        }
        newShape[key] = newField;
      }
    }
    return new _ZodObject({
      ...this._def,
      shape: /* @__PURE__ */ __name(() => newShape, "shape")
    });
  }
  keyof() {
    return createZodEnum(util.objectKeys(this.shape));
  }
};
ZodObject2.create = (shape, params) => {
  return new ZodObject2({
    shape: /* @__PURE__ */ __name(() => shape, "shape"),
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.strictCreate = (shape, params) => {
  return new ZodObject2({
    shape: /* @__PURE__ */ __name(() => shape, "shape"),
    unknownKeys: "strict",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject2.lazycreate = (shape, params) => {
  return new ZodObject2({
    shape,
    unknownKeys: "strip",
    catchall: ZodNever2.create(),
    typeName: ZodFirstPartyTypeKind2.ZodObject,
    ...processCreateParams(params)
  });
};
var ZodUnion2 = class extends ZodType2 {
  static {
    __name(this, "ZodUnion");
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const options = this._def.options;
    function handleResults(results) {
      for (const result of results) {
        if (result.result.status === "valid") {
          return result.result;
        }
      }
      for (const result of results) {
        if (result.result.status === "dirty") {
          ctx.common.issues.push(...result.ctx.common.issues);
          return result.result;
        }
      }
      const unionErrors = results.map((result) => new ZodError2(result.ctx.common.issues));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
    __name(handleResults, "handleResults");
    if (ctx.common.async) {
      return Promise.all(options.map(async (option) => {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await option._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          }),
          ctx: childCtx
        };
      })).then(handleResults);
    } else {
      let dirty = void 0;
      const issues = [];
      for (const option of options) {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        const result = option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: childCtx
        });
        if (result.status === "valid") {
          return result;
        } else if (result.status === "dirty" && !dirty) {
          dirty = {
            result,
            ctx: childCtx
          };
        }
        if (childCtx.common.issues.length) {
          issues.push(childCtx.common.issues);
        }
      }
      if (dirty) {
        ctx.common.issues.push(...dirty.ctx.common.issues);
        return dirty.result;
      }
      const unionErrors = issues.map((issues2) => new ZodError2(issues2));
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union,
        unionErrors
      });
      return INVALID;
    }
  }
  get options() {
    return this._def.options;
  }
};
ZodUnion2.create = (types, params) => {
  return new ZodUnion2({
    options: types,
    typeName: ZodFirstPartyTypeKind2.ZodUnion,
    ...processCreateParams(params)
  });
};
var getDiscriminator = /* @__PURE__ */ __name((type) => {
  if (type instanceof ZodLazy2) {
    return getDiscriminator(type.schema);
  } else if (type instanceof ZodEffects) {
    return getDiscriminator(type.innerType());
  } else if (type instanceof ZodLiteral2) {
    return [
      type.value
    ];
  } else if (type instanceof ZodEnum2) {
    return type.options;
  } else if (type instanceof ZodNativeEnum) {
    return util.objectValues(type.enum);
  } else if (type instanceof ZodDefault2) {
    return getDiscriminator(type._def.innerType);
  } else if (type instanceof ZodUndefined2) {
    return [
      void 0
    ];
  } else if (type instanceof ZodNull2) {
    return [
      null
    ];
  } else if (type instanceof ZodOptional2) {
    return [
      void 0,
      ...getDiscriminator(type.unwrap())
    ];
  } else if (type instanceof ZodNullable2) {
    return [
      null,
      ...getDiscriminator(type.unwrap())
    ];
  } else if (type instanceof ZodBranded) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodReadonly2) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodCatch2) {
    return getDiscriminator(type._def.innerType);
  } else {
    return [];
  }
}, "getDiscriminator");
var ZodDiscriminatedUnion2 = class _ZodDiscriminatedUnion extends ZodType2 {
  static {
    __name(this, "ZodDiscriminatedUnion");
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const discriminator = this.discriminator;
    const discriminatorValue = ctx.data[discriminator];
    const option = this.optionsMap.get(discriminatorValue);
    if (!option) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_union_discriminator,
        options: Array.from(this.optionsMap.keys()),
        path: [
          discriminator
        ]
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return option._parseAsync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    } else {
      return option._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    }
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  /**
   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
   * have a different value for each object in the union.
   * @param discriminator the name of the discriminator property
   * @param types an array of object schemas
   * @param params
   */
  static create(discriminator, options, params) {
    const optionsMap = /* @__PURE__ */ new Map();
    for (const type of options) {
      const discriminatorValues = getDiscriminator(type.shape[discriminator]);
      if (!discriminatorValues.length) {
        throw new Error(\`A discriminator value for key \\\`\${discriminator}\\\` could not be extracted from all schema options\`);
      }
      for (const value of discriminatorValues) {
        if (optionsMap.has(value)) {
          throw new Error(\`Discriminator property \${String(discriminator)} has duplicate value \${String(value)}\`);
        }
        optionsMap.set(value, type);
      }
    }
    return new _ZodDiscriminatedUnion({
      typeName: ZodFirstPartyTypeKind2.ZodDiscriminatedUnion,
      discriminator,
      options,
      optionsMap,
      ...processCreateParams(params)
    });
  }
};
function mergeValues2(a, b) {
  const aType = getParsedType2(a);
  const bType = getParsedType2(b);
  if (a === b) {
    return {
      valid: true,
      data: a
    };
  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
    const bKeys = util.objectKeys(b);
    const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = {
      ...a,
      ...b
    };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues2(a[key], b[key]);
      if (!sharedValue.valid) {
        return {
          valid: false
        };
      }
      newObj[key] = sharedValue.data;
    }
    return {
      valid: true,
      data: newObj
    };
  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
    if (a.length !== b.length) {
      return {
        valid: false
      };
    }
    const newArray = [];
    for (let index = 0; index < a.length; index++) {
      const itemA = a[index];
      const itemB = b[index];
      const sharedValue = mergeValues2(itemA, itemB);
      if (!sharedValue.valid) {
        return {
          valid: false
        };
      }
      newArray.push(sharedValue.data);
    }
    return {
      valid: true,
      data: newArray
    };
  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {
    return {
      valid: true,
      data: a
    };
  } else {
    return {
      valid: false
    };
  }
}
__name(mergeValues2, "mergeValues");
var ZodIntersection2 = class extends ZodType2 {
  static {
    __name(this, "ZodIntersection");
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const handleParsed = /* @__PURE__ */ __name((parsedLeft, parsedRight) => {
      if (isAborted(parsedLeft) || isAborted(parsedRight)) {
        return INVALID;
      }
      const merged = mergeValues2(parsedLeft.value, parsedRight.value);
      if (!merged.valid) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.invalid_intersection_types
        });
        return INVALID;
      }
      if (isDirty(parsedLeft) || isDirty(parsedRight)) {
        status.dirty();
      }
      return {
        status: status.value,
        value: merged.data
      };
    }, "handleParsed");
    if (ctx.common.async) {
      return Promise.all([
        this._def.left._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }),
        this._def.right._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        })
      ]).then(([left, right]) => handleParsed(left, right));
    } else {
      return handleParsed(this._def.left._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }), this._def.right._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }));
    }
  }
};
ZodIntersection2.create = (left, right, params) => {
  return new ZodIntersection2({
    left,
    right,
    typeName: ZodFirstPartyTypeKind2.ZodIntersection,
    ...processCreateParams(params)
  });
};
var ZodTuple2 = class _ZodTuple extends ZodType2 {
  static {
    __name(this, "ZodTuple");
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (ctx.data.length < this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_small,
        minimum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      return INVALID;
    }
    const rest = this._def.rest;
    if (!rest && ctx.data.length > this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.too_big,
        maximum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      status.dirty();
    }
    const items = [
      ...ctx.data
    ].map((item, itemIndex) => {
      const schema = this._def.items[itemIndex] || this._def.rest;
      if (!schema) return null;
      return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
    }).filter((x) => !!x);
    if (ctx.common.async) {
      return Promise.all(items).then((results) => {
        return ParseStatus.mergeArray(status, results);
      });
    } else {
      return ParseStatus.mergeArray(status, items);
    }
  }
  get items() {
    return this._def.items;
  }
  rest(rest) {
    return new _ZodTuple({
      ...this._def,
      rest
    });
  }
};
ZodTuple2.create = (schemas, params) => {
  if (!Array.isArray(schemas)) {
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  }
  return new ZodTuple2({
    items: schemas,
    typeName: ZodFirstPartyTypeKind2.ZodTuple,
    rest: null,
    ...processCreateParams(params)
  });
};
var ZodRecord2 = class _ZodRecord extends ZodType2 {
  static {
    __name(this, "ZodRecord");
  }
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const pairs = [];
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    for (const key in ctx.data) {
      pairs.push({
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (ctx.common.async) {
      return ParseStatus.mergeObjectAsync(status, pairs);
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get element() {
    return this._def.valueType;
  }
  static create(first, second, third) {
    if (second instanceof ZodType2) {
      return new _ZodRecord({
        keyType: first,
        valueType: second,
        typeName: ZodFirstPartyTypeKind2.ZodRecord,
        ...processCreateParams(third)
      });
    }
    return new _ZodRecord({
      keyType: ZodString2.create(),
      valueType: first,
      typeName: ZodFirstPartyTypeKind2.ZodRecord,
      ...processCreateParams(second)
    });
  }
};
var ZodMap2 = class extends ZodType2 {
  static {
    __name(this, "ZodMap");
  }
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.map) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.map,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    const pairs = [
      ...ctx.data.entries()
    ].map(([key, value], index) => {
      return {
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [
          index,
          "key"
        ])),
        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [
          index,
          "value"
        ]))
      };
    });
    if (ctx.common.async) {
      const finalMap = /* @__PURE__ */ new Map();
      return Promise.resolve().then(async () => {
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return {
          status: status.value,
          value: finalMap
        };
      });
    } else {
      const finalMap = /* @__PURE__ */ new Map();
      for (const pair of pairs) {
        const key = pair.key;
        const value = pair.value;
        if (key.status === "aborted" || value.status === "aborted") {
          return INVALID;
        }
        if (key.status === "dirty" || value.status === "dirty") {
          status.dirty();
        }
        finalMap.set(key.value, value.value);
      }
      return {
        status: status.value,
        value: finalMap
      };
    }
  }
};
ZodMap2.create = (keyType, valueType, params) => {
  return new ZodMap2({
    valueType,
    keyType,
    typeName: ZodFirstPartyTypeKind2.ZodMap,
    ...processCreateParams(params)
  });
};
var ZodSet2 = class _ZodSet extends ZodType2 {
  static {
    __name(this, "ZodSet");
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.set) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.set,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const def = this._def;
    if (def.minSize !== null) {
      if (ctx.data.size < def.minSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_small,
          minimum: def.minSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.minSize.message
        });
        status.dirty();
      }
    }
    if (def.maxSize !== null) {
      if (ctx.data.size > def.maxSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode2.too_big,
          maximum: def.maxSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.maxSize.message
        });
        status.dirty();
      }
    }
    const valueType = this._def.valueType;
    function finalizeSet(elements2) {
      const parsedSet = /* @__PURE__ */ new Set();
      for (const element of elements2) {
        if (element.status === "aborted") return INVALID;
        if (element.status === "dirty") status.dirty();
        parsedSet.add(element.value);
      }
      return {
        status: status.value,
        value: parsedSet
      };
    }
    __name(finalizeSet, "finalizeSet");
    const elements = [
      ...ctx.data.values()
    ].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));
    if (ctx.common.async) {
      return Promise.all(elements).then((elements2) => finalizeSet(elements2));
    } else {
      return finalizeSet(elements);
    }
  }
  min(minSize, message) {
    return new _ZodSet({
      ...this._def,
      minSize: {
        value: minSize,
        message: errorUtil.toString(message)
      }
    });
  }
  max(maxSize, message) {
    return new _ZodSet({
      ...this._def,
      maxSize: {
        value: maxSize,
        message: errorUtil.toString(message)
      }
    });
  }
  size(size, message) {
    return this.min(size, message).max(size, message);
  }
  nonempty(message) {
    return this.min(1, message);
  }
};
ZodSet2.create = (valueType, params) => {
  return new ZodSet2({
    valueType,
    minSize: null,
    maxSize: null,
    typeName: ZodFirstPartyTypeKind2.ZodSet,
    ...processCreateParams(params)
  });
};
var ZodFunction2 = class _ZodFunction extends ZodType2 {
  static {
    __name(this, "ZodFunction");
  }
  constructor() {
    super(...arguments);
    this.validate = this.implement;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.function) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.function,
        received: ctx.parsedType
      });
      return INVALID;
    }
    function makeArgsIssue(args, error45) {
      return makeIssue({
        data: args,
        path: ctx.path,
        errorMaps: [
          ctx.common.contextualErrorMap,
          ctx.schemaErrorMap,
          getErrorMap2(),
          en_default2
        ].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode2.invalid_arguments,
          argumentsError: error45
        }
      });
    }
    __name(makeArgsIssue, "makeArgsIssue");
    function makeReturnsIssue(returns, error45) {
      return makeIssue({
        data: returns,
        path: ctx.path,
        errorMaps: [
          ctx.common.contextualErrorMap,
          ctx.schemaErrorMap,
          getErrorMap2(),
          en_default2
        ].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode2.invalid_return_type,
          returnTypeError: error45
        }
      });
    }
    __name(makeReturnsIssue, "makeReturnsIssue");
    const params = {
      errorMap: ctx.common.contextualErrorMap
    };
    const fn = ctx.data;
    if (this._def.returns instanceof ZodPromise2) {
      const me = this;
      return OK(async function(...args) {
        const error45 = new ZodError2([]);
        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {
          error45.addIssue(makeArgsIssue(args, e));
          throw error45;
        });
        const result = await Reflect.apply(fn, this, parsedArgs);
        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e) => {
          error45.addIssue(makeReturnsIssue(result, e));
          throw error45;
        });
        return parsedReturns;
      });
    } else {
      const me = this;
      return OK(function(...args) {
        const parsedArgs = me._def.args.safeParse(args, params);
        if (!parsedArgs.success) {
          throw new ZodError2([
            makeArgsIssue(args, parsedArgs.error)
          ]);
        }
        const result = Reflect.apply(fn, this, parsedArgs.data);
        const parsedReturns = me._def.returns.safeParse(result, params);
        if (!parsedReturns.success) {
          throw new ZodError2([
            makeReturnsIssue(result, parsedReturns.error)
          ]);
        }
        return parsedReturns.data;
      });
    }
  }
  parameters() {
    return this._def.args;
  }
  returnType() {
    return this._def.returns;
  }
  args(...items) {
    return new _ZodFunction({
      ...this._def,
      args: ZodTuple2.create(items).rest(ZodUnknown2.create())
    });
  }
  returns(returnType) {
    return new _ZodFunction({
      ...this._def,
      returns: returnType
    });
  }
  implement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  strictImplement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  static create(args, returns, params) {
    return new _ZodFunction({
      args: args ? args : ZodTuple2.create([]).rest(ZodUnknown2.create()),
      returns: returns || ZodUnknown2.create(),
      typeName: ZodFirstPartyTypeKind2.ZodFunction,
      ...processCreateParams(params)
    });
  }
};
var ZodLazy2 = class extends ZodType2 {
  static {
    __name(this, "ZodLazy");
  }
  get schema() {
    return this._def.getter();
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const lazySchema = this._def.getter();
    return lazySchema._parse({
      data: ctx.data,
      path: ctx.path,
      parent: ctx
    });
  }
};
ZodLazy2.create = (getter, params) => {
  return new ZodLazy2({
    getter,
    typeName: ZodFirstPartyTypeKind2.ZodLazy,
    ...processCreateParams(params)
  });
};
var ZodLiteral2 = class extends ZodType2 {
  static {
    __name(this, "ZodLiteral");
  }
  _parse(input) {
    if (input.data !== this._def.value) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_literal,
        expected: this._def.value
      });
      return INVALID;
    }
    return {
      status: "valid",
      value: input.data
    };
  }
  get value() {
    return this._def.value;
  }
};
ZodLiteral2.create = (value, params) => {
  return new ZodLiteral2({
    value,
    typeName: ZodFirstPartyTypeKind2.ZodLiteral,
    ...processCreateParams(params)
  });
};
function createZodEnum(values, params) {
  return new ZodEnum2({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodEnum,
    ...processCreateParams(params)
  });
}
__name(createZodEnum, "createZodEnum");
var ZodEnum2 = class _ZodEnum extends ZodType2 {
  static {
    __name(this, "ZodEnum");
  }
  _parse(input) {
    if (typeof input.data !== "string") {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(this._def.values);
    }
    if (!this._cache.has(input.data)) {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Values() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  extract(values, newDef = this._def) {
    return _ZodEnum.create(values, {
      ...this._def,
      ...newDef
    });
  }
  exclude(values, newDef = this._def) {
    return _ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {
      ...this._def,
      ...newDef
    });
  }
};
ZodEnum2.create = createZodEnum;
var ZodNativeEnum = class extends ZodType2 {
  static {
    __name(this, "ZodNativeEnum");
  }
  _parse(input) {
    const nativeEnumValues = util.getValidEnumValues(this._def.values);
    const ctx = this._getOrReturnCtx(input);
    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode2.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(util.getValidEnumValues(this._def.values));
    }
    if (!this._cache.has(input.data)) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode2.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get enum() {
    return this._def.values;
  }
};
ZodNativeEnum.create = (values, params) => {
  return new ZodNativeEnum({
    values,
    typeName: ZodFirstPartyTypeKind2.ZodNativeEnum,
    ...processCreateParams(params)
  });
};
var ZodPromise2 = class extends ZodType2 {
  static {
    __name(this, "ZodPromise");
  }
  unwrap() {
    return this._def.type;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.promise,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
    return OK(promisified.then((data) => {
      return this._def.type.parseAsync(data, {
        path: ctx.path,
        errorMap: ctx.common.contextualErrorMap
      });
    }));
  }
};
ZodPromise2.create = (schema, params) => {
  return new ZodPromise2({
    type: schema,
    typeName: ZodFirstPartyTypeKind2.ZodPromise,
    ...processCreateParams(params)
  });
};
var ZodEffects = class extends ZodType2 {
  static {
    __name(this, "ZodEffects");
  }
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === ZodFirstPartyTypeKind2.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const effect = this._def.effect || null;
    const checkCtx = {
      addIssue: /* @__PURE__ */ __name((arg) => {
        addIssueToContext(ctx, arg);
        if (arg.fatal) {
          status.abort();
        } else {
          status.dirty();
        }
      }, "addIssue"),
      get path() {
        return ctx.path;
      }
    };
    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
    if (effect.type === "preprocess") {
      const processed = effect.transform(ctx.data, checkCtx);
      if (ctx.common.async) {
        return Promise.resolve(processed).then(async (processed2) => {
          if (status.value === "aborted") return INVALID;
          const result = await this._def.schema._parseAsync({
            data: processed2,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted") return INVALID;
          if (result.status === "dirty") return DIRTY(result.value);
          if (status.value === "dirty") return DIRTY(result.value);
          return result;
        });
      } else {
        if (status.value === "aborted") return INVALID;
        const result = this._def.schema._parseSync({
          data: processed,
          path: ctx.path,
          parent: ctx
        });
        if (result.status === "aborted") return INVALID;
        if (result.status === "dirty") return DIRTY(result.value);
        if (status.value === "dirty") return DIRTY(result.value);
        return result;
      }
    }
    if (effect.type === "refinement") {
      const executeRefinement = /* @__PURE__ */ __name((acc) => {
        const result = effect.refinement(acc, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(result);
        }
        if (result instanceof Promise) {
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        }
        return acc;
      }, "executeRefinement");
      if (ctx.common.async === false) {
        const inner = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inner.status === "aborted") return INVALID;
        if (inner.status === "dirty") status.dirty();
        executeRefinement(inner.value);
        return {
          status: status.value,
          value: inner.value
        };
      } else {
        return this._def.schema._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }).then((inner) => {
          if (inner.status === "aborted") return INVALID;
          if (inner.status === "dirty") status.dirty();
          return executeRefinement(inner.value).then(() => {
            return {
              status: status.value,
              value: inner.value
            };
          });
        });
      }
    }
    if (effect.type === "transform") {
      if (ctx.common.async === false) {
        const base = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (!isValid(base)) return INVALID;
        const result = effect.transform(base.value, checkCtx);
        if (result instanceof Promise) {
          throw new Error(\`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.\`);
        }
        return {
          status: status.value,
          value: result
        };
      } else {
        return this._def.schema._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }).then((base) => {
          if (!isValid(base)) return INVALID;
          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
            status: status.value,
            value: result
          }));
        });
      }
    }
    util.assertNever(effect);
  }
};
ZodEffects.create = (schema, effect, params) => {
  return new ZodEffects({
    schema,
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    effect,
    ...processCreateParams(params)
  });
};
ZodEffects.createWithPreprocess = (preprocess2, schema, params) => {
  return new ZodEffects({
    schema,
    effect: {
      type: "preprocess",
      transform: preprocess2
    },
    typeName: ZodFirstPartyTypeKind2.ZodEffects,
    ...processCreateParams(params)
  });
};
var ZodOptional2 = class extends ZodType2 {
  static {
    __name(this, "ZodOptional");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.undefined) {
      return OK(void 0);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodOptional2.create = (type, params) => {
  return new ZodOptional2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodOptional,
    ...processCreateParams(params)
  });
};
var ZodNullable2 = class extends ZodType2 {
  static {
    __name(this, "ZodNullable");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 === ZodParsedType.null) {
      return OK(null);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodNullable2.create = (type, params) => {
  return new ZodNullable2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodNullable,
    ...processCreateParams(params)
  });
};
var ZodDefault2 = class extends ZodType2 {
  static {
    __name(this, "ZodDefault");
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    let data = ctx.data;
    if (ctx.parsedType === ZodParsedType.undefined) {
      data = this._def.defaultValue();
    }
    return this._def.innerType._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
};
ZodDefault2.create = (type, params) => {
  return new ZodDefault2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodDefault,
    defaultValue: typeof params.default === "function" ? params.default : () => params.default,
    ...processCreateParams(params)
  });
};
var ZodCatch2 = class extends ZodType2 {
  static {
    __name(this, "ZodCatch");
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const newCtx = {
      ...ctx,
      common: {
        ...ctx.common,
        issues: []
      }
    };
    const result = this._def.innerType._parse({
      data: newCtx.data,
      path: newCtx.path,
      parent: {
        ...newCtx
      }
    });
    if (isAsync(result)) {
      return result.then((result2) => {
        return {
          status: "valid",
          value: result2.status === "valid" ? result2.value : this._def.catchValue({
            get error() {
              return new ZodError2(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      });
    } else {
      return {
        status: "valid",
        value: result.status === "valid" ? result.value : this._def.catchValue({
          get error() {
            return new ZodError2(newCtx.common.issues);
          },
          input: newCtx.data
        })
      };
    }
  }
  removeCatch() {
    return this._def.innerType;
  }
};
ZodCatch2.create = (type, params) => {
  return new ZodCatch2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodCatch,
    catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
    ...processCreateParams(params)
  });
};
var ZodNaN2 = class extends ZodType2 {
  static {
    __name(this, "ZodNaN");
  }
  _parse(input) {
    const parsedType7 = this._getType(input);
    if (parsedType7 !== ZodParsedType.nan) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode2.invalid_type,
        expected: ZodParsedType.nan,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return {
      status: "valid",
      value: input.data
    };
  }
};
ZodNaN2.create = (params) => {
  return new ZodNaN2({
    typeName: ZodFirstPartyTypeKind2.ZodNaN,
    ...processCreateParams(params)
  });
};
var BRAND = Symbol("zod_brand");
var ZodBranded = class extends ZodType2 {
  static {
    __name(this, "ZodBranded");
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const data = ctx.data;
    return this._def.type._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  unwrap() {
    return this._def.type;
  }
};
var ZodPipeline = class _ZodPipeline extends ZodType2 {
  static {
    __name(this, "ZodPipeline");
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.common.async) {
      const handleAsync = /* @__PURE__ */ __name(async () => {
        const inResult = await this._def.in._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted") return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return DIRTY(inResult.value);
        } else {
          return this._def.out._parseAsync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      }, "handleAsync");
      return handleAsync();
    } else {
      const inResult = this._def.in._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
      if (inResult.status === "aborted") return INVALID;
      if (inResult.status === "dirty") {
        status.dirty();
        return {
          status: "dirty",
          value: inResult.value
        };
      } else {
        return this._def.out._parseSync({
          data: inResult.value,
          path: ctx.path,
          parent: ctx
        });
      }
    }
  }
  static create(a, b) {
    return new _ZodPipeline({
      in: a,
      out: b,
      typeName: ZodFirstPartyTypeKind2.ZodPipeline
    });
  }
};
var ZodReadonly2 = class extends ZodType2 {
  static {
    __name(this, "ZodReadonly");
  }
  _parse(input) {
    const result = this._def.innerType._parse(input);
    const freeze = /* @__PURE__ */ __name((data) => {
      if (isValid(data)) {
        data.value = Object.freeze(data.value);
      }
      return data;
    }, "freeze");
    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);
  }
  unwrap() {
    return this._def.innerType;
  }
};
ZodReadonly2.create = (type, params) => {
  return new ZodReadonly2({
    innerType: type,
    typeName: ZodFirstPartyTypeKind2.ZodReadonly,
    ...processCreateParams(params)
  });
};
var late = {
  object: ZodObject2.lazycreate
};
var ZodFirstPartyTypeKind2;
(function(ZodFirstPartyTypeKind3) {
  ZodFirstPartyTypeKind3["ZodString"] = "ZodString";
  ZodFirstPartyTypeKind3["ZodNumber"] = "ZodNumber";
  ZodFirstPartyTypeKind3["ZodNaN"] = "ZodNaN";
  ZodFirstPartyTypeKind3["ZodBigInt"] = "ZodBigInt";
  ZodFirstPartyTypeKind3["ZodBoolean"] = "ZodBoolean";
  ZodFirstPartyTypeKind3["ZodDate"] = "ZodDate";
  ZodFirstPartyTypeKind3["ZodSymbol"] = "ZodSymbol";
  ZodFirstPartyTypeKind3["ZodUndefined"] = "ZodUndefined";
  ZodFirstPartyTypeKind3["ZodNull"] = "ZodNull";
  ZodFirstPartyTypeKind3["ZodAny"] = "ZodAny";
  ZodFirstPartyTypeKind3["ZodUnknown"] = "ZodUnknown";
  ZodFirstPartyTypeKind3["ZodNever"] = "ZodNever";
  ZodFirstPartyTypeKind3["ZodVoid"] = "ZodVoid";
  ZodFirstPartyTypeKind3["ZodArray"] = "ZodArray";
  ZodFirstPartyTypeKind3["ZodObject"] = "ZodObject";
  ZodFirstPartyTypeKind3["ZodUnion"] = "ZodUnion";
  ZodFirstPartyTypeKind3["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
  ZodFirstPartyTypeKind3["ZodIntersection"] = "ZodIntersection";
  ZodFirstPartyTypeKind3["ZodTuple"] = "ZodTuple";
  ZodFirstPartyTypeKind3["ZodRecord"] = "ZodRecord";
  ZodFirstPartyTypeKind3["ZodMap"] = "ZodMap";
  ZodFirstPartyTypeKind3["ZodSet"] = "ZodSet";
  ZodFirstPartyTypeKind3["ZodFunction"] = "ZodFunction";
  ZodFirstPartyTypeKind3["ZodLazy"] = "ZodLazy";
  ZodFirstPartyTypeKind3["ZodLiteral"] = "ZodLiteral";
  ZodFirstPartyTypeKind3["ZodEnum"] = "ZodEnum";
  ZodFirstPartyTypeKind3["ZodEffects"] = "ZodEffects";
  ZodFirstPartyTypeKind3["ZodNativeEnum"] = "ZodNativeEnum";
  ZodFirstPartyTypeKind3["ZodOptional"] = "ZodOptional";
  ZodFirstPartyTypeKind3["ZodNullable"] = "ZodNullable";
  ZodFirstPartyTypeKind3["ZodDefault"] = "ZodDefault";
  ZodFirstPartyTypeKind3["ZodCatch"] = "ZodCatch";
  ZodFirstPartyTypeKind3["ZodPromise"] = "ZodPromise";
  ZodFirstPartyTypeKind3["ZodBranded"] = "ZodBranded";
  ZodFirstPartyTypeKind3["ZodPipeline"] = "ZodPipeline";
  ZodFirstPartyTypeKind3["ZodReadonly"] = "ZodReadonly";
})(ZodFirstPartyTypeKind2 || (ZodFirstPartyTypeKind2 = {}));
var stringType = ZodString2.create;
var numberType = ZodNumber2.create;
var nanType = ZodNaN2.create;
var bigIntType = ZodBigInt2.create;
var booleanType = ZodBoolean2.create;
var dateType = ZodDate2.create;
var symbolType = ZodSymbol2.create;
var undefinedType = ZodUndefined2.create;
var nullType = ZodNull2.create;
var anyType = ZodAny2.create;
var unknownType = ZodUnknown2.create;
var neverType = ZodNever2.create;
var voidType = ZodVoid2.create;
var arrayType = ZodArray2.create;
var objectType = ZodObject2.create;
var strictObjectType = ZodObject2.strictCreate;
var unionType = ZodUnion2.create;
var discriminatedUnionType = ZodDiscriminatedUnion2.create;
var intersectionType = ZodIntersection2.create;
var tupleType = ZodTuple2.create;
var recordType = ZodRecord2.create;
var mapType = ZodMap2.create;
var setType = ZodSet2.create;
var functionType = ZodFunction2.create;
var lazyType = ZodLazy2.create;
var literalType = ZodLiteral2.create;
var enumType = ZodEnum2.create;
var nativeEnumType = ZodNativeEnum.create;
var promiseType = ZodPromise2.create;
var effectsType = ZodEffects.create;
var optionalType = ZodOptional2.create;
var nullableType = ZodNullable2.create;
var preprocessType = ZodEffects.createWithPreprocess;
var pipelineType = ZodPipeline.create;

// ../../node_modules/.pnpm/@ai-sdk+provider-utils@3.0.18_zod@4.1.11/node_modules/@ai-sdk/provider-utils/dist/index.mjs
function combineHeaders(...headers) {
  return headers.reduce((combinedHeaders, currentHeaders) => ({
    ...combinedHeaders,
    ...currentHeaders != null ? currentHeaders : {}
  }), {});
}
__name(combineHeaders, "combineHeaders");
async function delay(delayInMs, options) {
  if (delayInMs == null) {
    return Promise.resolve();
  }
  const signal = options == null ? void 0 : options.abortSignal;
  return new Promise((resolve2, reject) => {
    if (signal == null ? void 0 : signal.aborted) {
      reject(createAbortError());
      return;
    }
    const timeoutId = setTimeout(() => {
      cleanup();
      resolve2();
    }, delayInMs);
    const cleanup = /* @__PURE__ */ __name(() => {
      clearTimeout(timeoutId);
      signal == null ? void 0 : signal.removeEventListener("abort", onAbort);
    }, "cleanup");
    const onAbort = /* @__PURE__ */ __name(() => {
      cleanup();
      reject(createAbortError());
    }, "onAbort");
    signal == null ? void 0 : signal.addEventListener("abort", onAbort);
  });
}
__name(delay, "delay");
function createAbortError() {
  return new DOMException("Delay was aborted", "AbortError");
}
__name(createAbortError, "createAbortError");
function extractResponseHeaders(response) {
  return Object.fromEntries([
    ...response.headers
  ]);
}
__name(extractResponseHeaders, "extractResponseHeaders");
var createIdGenerator = /* @__PURE__ */ __name(({ prefix, size = 16, alphabet = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", separator = "-" } = {}) => {
  const generator = /* @__PURE__ */ __name(() => {
    const alphabetLength = alphabet.length;
    const chars = new Array(size);
    for (let i = 0; i < size; i++) {
      chars[i] = alphabet[Math.random() * alphabetLength | 0];
    }
    return chars.join("");
  }, "generator");
  if (prefix == null) {
    return generator;
  }
  if (alphabet.includes(separator)) {
    throw new InvalidArgumentError({
      argument: "separator",
      message: \`The separator "\${separator}" must not be part of the alphabet "\${alphabet}".\`
    });
  }
  return () => \`\${prefix}\${separator}\${generator()}\`;
}, "createIdGenerator");
var generateId = createIdGenerator();
function getErrorMessage2(error45) {
  if (error45 == null) {
    return "unknown error";
  }
  if (typeof error45 === "string") {
    return error45;
  }
  if (error45 instanceof Error) {
    return error45.message;
  }
  return JSON.stringify(error45);
}
__name(getErrorMessage2, "getErrorMessage");
function isAbortError(error45) {
  return (error45 instanceof Error || error45 instanceof DOMException) && (error45.name === "AbortError" || error45.name === "ResponseAborted" || // Next.js
  error45.name === "TimeoutError");
}
__name(isAbortError, "isAbortError");
var FETCH_FAILED_ERROR_MESSAGES = [
  "fetch failed",
  "failed to fetch"
];
function handleFetchError({ error: error45, url: url2, requestBodyValues }) {
  if (isAbortError(error45)) {
    return error45;
  }
  if (error45 instanceof TypeError && FETCH_FAILED_ERROR_MESSAGES.includes(error45.message.toLowerCase())) {
    const cause = error45.cause;
    if (cause != null) {
      return new APICallError({
        message: \`Cannot connect to API: \${cause.message}\`,
        cause,
        url: url2,
        requestBodyValues,
        isRetryable: true
      });
    }
  }
  return error45;
}
__name(handleFetchError, "handleFetchError");
function getRuntimeEnvironmentUserAgent(globalThisAny = globalThis) {
  var _a17, _b8, _c;
  if (globalThisAny.window) {
    return \`runtime/browser\`;
  }
  if ((_a17 = globalThisAny.navigator) == null ? void 0 : _a17.userAgent) {
    return \`runtime/\${globalThisAny.navigator.userAgent.toLowerCase()}\`;
  }
  if ((_c = (_b8 = globalThisAny.process) == null ? void 0 : _b8.versions) == null ? void 0 : _c.node) {
    return \`runtime/node.js/\${globalThisAny.process.version.substring(0)}\`;
  }
  if (globalThisAny.EdgeRuntime) {
    return \`runtime/vercel-edge\`;
  }
  return "runtime/unknown";
}
__name(getRuntimeEnvironmentUserAgent, "getRuntimeEnvironmentUserAgent");
function normalizeHeaders(headers) {
  if (headers == null) {
    return {};
  }
  const normalized = {};
  if (headers instanceof Headers) {
    headers.forEach((value, key) => {
      normalized[key.toLowerCase()] = value;
    });
  } else {
    if (!Array.isArray(headers)) {
      headers = Object.entries(headers);
    }
    for (const [key, value] of headers) {
      if (value != null) {
        normalized[key.toLowerCase()] = value;
      }
    }
  }
  return normalized;
}
__name(normalizeHeaders, "normalizeHeaders");
function withUserAgentSuffix(headers, ...userAgentSuffixParts) {
  const normalizedHeaders = new Headers(normalizeHeaders(headers));
  const currentUserAgentHeader = normalizedHeaders.get("user-agent") || "";
  normalizedHeaders.set("user-agent", [
    currentUserAgentHeader,
    ...userAgentSuffixParts
  ].filter(Boolean).join(" "));
  return Object.fromEntries(normalizedHeaders.entries());
}
__name(withUserAgentSuffix, "withUserAgentSuffix");
var VERSION = true ? "3.0.18" : "0.0.0-test";
var getOriginalFetch = /* @__PURE__ */ __name(() => globalThis.fetch, "getOriginalFetch");
var getFromApi = /* @__PURE__ */ __name(async ({ url: url2, headers = {}, successfulResponseHandler, failedResponseHandler, abortSignal, fetch: fetch3 = getOriginalFetch() }) => {
  try {
    const response = await fetch3(url2, {
      method: "GET",
      headers: withUserAgentSuffix(headers, \`ai-sdk/provider-utils/\${VERSION}\`, getRuntimeEnvironmentUserAgent()),
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: {}
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: {}
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: {}
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: {}
      });
    }
  } catch (error45) {
    throw handleFetchError({
      error: error45,
      url: url2,
      requestBodyValues: {}
    });
  }
}, "getFromApi");
function isUrlSupported({ mediaType, url: url2, supportedUrls }) {
  url2 = url2.toLowerCase();
  mediaType = mediaType.toLowerCase();
  return Object.entries(supportedUrls).map(([key, value]) => {
    const mediaType2 = key.toLowerCase();
    return mediaType2 === "*" || mediaType2 === "*/*" ? {
      mediaTypePrefix: "",
      regexes: value
    } : {
      mediaTypePrefix: mediaType2.replace(/\\*/, ""),
      regexes: value
    };
  }).filter(({ mediaTypePrefix }) => mediaType.startsWith(mediaTypePrefix)).flatMap(({ regexes }) => regexes).some((pattern) => pattern.test(url2));
}
__name(isUrlSupported, "isUrlSupported");
function loadOptionalSetting({ settingValue, environmentVariableName }) {
  if (typeof settingValue === "string") {
    return settingValue;
  }
  if (settingValue != null || typeof process === "undefined") {
    return void 0;
  }
  settingValue = process.env[environmentVariableName];
  if (settingValue == null || typeof settingValue !== "string") {
    return void 0;
  }
  return settingValue;
}
__name(loadOptionalSetting, "loadOptionalSetting");
var suspectProtoRx = /"__proto__"\\s*:/;
var suspectConstructorRx = /"constructor"\\s*:/;
function _parse2(text2) {
  const obj = JSON.parse(text2);
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  if (suspectProtoRx.test(text2) === false && suspectConstructorRx.test(text2) === false) {
    return obj;
  }
  return filter(obj);
}
__name(_parse2, "_parse");
function filter(obj) {
  let next = [
    obj
  ];
  while (next.length) {
    const nodes = next;
    next = [];
    for (const node of nodes) {
      if (Object.prototype.hasOwnProperty.call(node, "__proto__")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      if (Object.prototype.hasOwnProperty.call(node, "constructor") && Object.prototype.hasOwnProperty.call(node.constructor, "prototype")) {
        throw new SyntaxError("Object contains forbidden prototype property");
      }
      for (const key in node) {
        const value = node[key];
        if (value && typeof value === "object") {
          next.push(value);
        }
      }
    }
  }
  return obj;
}
__name(filter, "filter");
function secureJsonParse(text2) {
  const { stackTraceLimit } = Error;
  try {
    Error.stackTraceLimit = 0;
  } catch (e) {
    return _parse2(text2);
  }
  try {
    return _parse2(text2);
  } finally {
    Error.stackTraceLimit = stackTraceLimit;
  }
}
__name(secureJsonParse, "secureJsonParse");
var validatorSymbol = Symbol.for("vercel.ai.validator");
function validator(validate) {
  return {
    [validatorSymbol]: true,
    validate
  };
}
__name(validator, "validator");
function isValidator(value) {
  return typeof value === "object" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && "validate" in value;
}
__name(isValidator, "isValidator");
function lazyValidator(createValidator) {
  let validator2;
  return () => {
    if (validator2 == null) {
      validator2 = createValidator();
    }
    return validator2;
  };
}
__name(lazyValidator, "lazyValidator");
function asValidator(value) {
  return isValidator(value) ? value : typeof value === "function" ? value() : standardSchemaValidator(value);
}
__name(asValidator, "asValidator");
function standardSchemaValidator(standardSchema) {
  return validator(async (value) => {
    const result = await standardSchema["~standard"].validate(value);
    return result.issues == null ? {
      success: true,
      value: result.value
    } : {
      success: false,
      error: new TypeValidationError({
        value,
        cause: result.issues
      })
    };
  });
}
__name(standardSchemaValidator, "standardSchemaValidator");
async function validateTypes({ value, schema }) {
  const result = await safeValidateTypes({
    value,
    schema
  });
  if (!result.success) {
    throw TypeValidationError.wrap({
      value,
      cause: result.error
    });
  }
  return result.value;
}
__name(validateTypes, "validateTypes");
async function safeValidateTypes({ value, schema }) {
  const validator2 = asValidator(schema);
  try {
    if (validator2.validate == null) {
      return {
        success: true,
        value,
        rawValue: value
      };
    }
    const result = await validator2.validate(value);
    if (result.success) {
      return {
        success: true,
        value: result.value,
        rawValue: value
      };
    }
    return {
      success: false,
      error: TypeValidationError.wrap({
        value,
        cause: result.error
      }),
      rawValue: value
    };
  } catch (error45) {
    return {
      success: false,
      error: TypeValidationError.wrap({
        value,
        cause: error45
      }),
      rawValue: value
    };
  }
}
__name(safeValidateTypes, "safeValidateTypes");
async function parseJSON({ text: text2, schema }) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return value;
    }
    return validateTypes({
      value,
      schema
    });
  } catch (error45) {
    if (JSONParseError.isInstance(error45) || TypeValidationError.isInstance(error45)) {
      throw error45;
    }
    throw new JSONParseError({
      text: text2,
      cause: error45
    });
  }
}
__name(parseJSON, "parseJSON");
async function safeParseJSON({ text: text2, schema }) {
  try {
    const value = secureJsonParse(text2);
    if (schema == null) {
      return {
        success: true,
        value,
        rawValue: value
      };
    }
    return await safeValidateTypes({
      value,
      schema
    });
  } catch (error45) {
    return {
      success: false,
      error: JSONParseError.isInstance(error45) ? error45 : new JSONParseError({
        text: text2,
        cause: error45
      }),
      rawValue: void 0
    };
  }
}
__name(safeParseJSON, "safeParseJSON");
function parseJsonEventStream({ stream, schema }) {
  return stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream()).pipeThrough(new TransformStream({
    async transform({ data }, controller) {
      if (data === "[DONE]") {
        return;
      }
      controller.enqueue(await safeParseJSON({
        text: data,
        schema
      }));
    }
  }));
}
__name(parseJsonEventStream, "parseJsonEventStream");
var getOriginalFetch2 = /* @__PURE__ */ __name(() => globalThis.fetch, "getOriginalFetch2");
var postJsonToApi = /* @__PURE__ */ __name(async ({ url: url2, headers, body, failedResponseHandler, successfulResponseHandler, abortSignal, fetch: fetch3 }) => postToApi({
  url: url2,
  headers: {
    "Content-Type": "application/json",
    ...headers
  },
  body: {
    content: JSON.stringify(body),
    values: body
  },
  failedResponseHandler,
  successfulResponseHandler,
  abortSignal,
  fetch: fetch3
}), "postJsonToApi");
var postToApi = /* @__PURE__ */ __name(async ({ url: url2, headers = {}, body, successfulResponseHandler, failedResponseHandler, abortSignal, fetch: fetch3 = getOriginalFetch2() }) => {
  try {
    const response = await fetch3(url2, {
      method: "POST",
      headers: withUserAgentSuffix(headers, \`ai-sdk/provider-utils/\${VERSION}\`, getRuntimeEnvironmentUserAgent()),
      body: body.content,
      signal: abortSignal
    });
    const responseHeaders = extractResponseHeaders(response);
    if (!response.ok) {
      let errorInformation;
      try {
        errorInformation = await failedResponseHandler({
          response,
          url: url2,
          requestBodyValues: body.values
        });
      } catch (error45) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
        throw new APICallError({
          message: "Failed to process error response",
          cause: error45,
          statusCode: response.status,
          url: url2,
          responseHeaders,
          requestBodyValues: body.values
        });
      }
      throw errorInformation.value;
    }
    try {
      return await successfulResponseHandler({
        response,
        url: url2,
        requestBodyValues: body.values
      });
    } catch (error45) {
      if (error45 instanceof Error) {
        if (isAbortError(error45) || APICallError.isInstance(error45)) {
          throw error45;
        }
      }
      throw new APICallError({
        message: "Failed to process successful response",
        cause: error45,
        statusCode: response.status,
        url: url2,
        responseHeaders,
        requestBodyValues: body.values
      });
    }
  } catch (error45) {
    throw handleFetchError({
      error: error45,
      url: url2,
      requestBodyValues: body.values
    });
  }
}, "postToApi");
async function resolve(value) {
  if (typeof value === "function") {
    value = value();
  }
  return Promise.resolve(value);
}
__name(resolve, "resolve");
var createJsonErrorResponseHandler = /* @__PURE__ */ __name(({ errorSchema, errorToMessage, isRetryable }) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const responseHeaders = extractResponseHeaders(response);
  if (responseBody.trim() === "") {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
  try {
    const parsedError = await parseJSON({
      text: responseBody,
      schema: errorSchema
    });
    return {
      responseHeaders,
      value: new APICallError({
        message: errorToMessage(parsedError),
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        data: parsedError,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)
      })
    };
  } catch (parseError) {
    return {
      responseHeaders,
      value: new APICallError({
        message: response.statusText,
        url: url2,
        requestBodyValues,
        statusCode: response.status,
        responseHeaders,
        responseBody,
        isRetryable: isRetryable == null ? void 0 : isRetryable(response)
      })
    };
  }
}, "createJsonErrorResponseHandler");
var createEventSourceResponseHandler = /* @__PURE__ */ __name((chunkSchema) => async ({ response }) => {
  const responseHeaders = extractResponseHeaders(response);
  if (response.body == null) {
    throw new EmptyResponseBodyError({});
  }
  return {
    responseHeaders,
    value: parseJsonEventStream({
      stream: response.body,
      schema: chunkSchema
    })
  };
}, "createEventSourceResponseHandler");
var createJsonResponseHandler = /* @__PURE__ */ __name((responseSchema) => async ({ response, url: url2, requestBodyValues }) => {
  const responseBody = await response.text();
  const parsedResult = await safeParseJSON({
    text: responseBody,
    schema: responseSchema
  });
  const responseHeaders = extractResponseHeaders(response);
  if (!parsedResult.success) {
    throw new APICallError({
      message: "Invalid JSON response",
      cause: parsedResult.error,
      statusCode: response.status,
      responseHeaders,
      responseBody,
      url: url2,
      requestBodyValues
    });
  }
  return {
    responseHeaders,
    value: parsedResult.value,
    rawValue: parsedResult.rawValue
  };
}, "createJsonResponseHandler");
var getRelativePath = /* @__PURE__ */ __name((pathA, pathB) => {
  let i = 0;
  for (; i < pathA.length && i < pathB.length; i++) {
    if (pathA[i] !== pathB[i]) break;
  }
  return [
    (pathA.length - i).toString(),
    ...pathB.slice(i)
  ].join("/");
}, "getRelativePath");
var ignoreOverride = Symbol("Let zodToJsonSchema decide on which parser to use");
var defaultOptions = {
  name: void 0,
  $refStrategy: "root",
  basePath: [
    "#"
  ],
  effectStrategy: "input",
  pipeStrategy: "all",
  dateStrategy: "format:date-time",
  mapStrategy: "entries",
  removeAdditionalStrategy: "passthrough",
  allowedAdditionalProperties: true,
  rejectedAdditionalProperties: false,
  definitionPath: "definitions",
  strictUnions: false,
  definitions: {},
  errorMessages: false,
  patternStrategy: "escape",
  applyRegexFlags: false,
  emailStrategy: "format:email",
  base64Strategy: "contentEncoding:base64",
  nameStrategy: "ref"
};
var getDefaultOptions = /* @__PURE__ */ __name((options) => typeof options === "string" ? {
  ...defaultOptions,
  name: options
} : {
  ...defaultOptions,
  ...options
}, "getDefaultOptions");
function parseAnyDef() {
  return {};
}
__name(parseAnyDef, "parseAnyDef");
function parseArrayDef(def, refs) {
  var _a17, _b8, _c;
  const res = {
    type: "array"
  };
  if (((_a17 = def.type) == null ? void 0 : _a17._def) && ((_c = (_b8 = def.type) == null ? void 0 : _b8._def) == null ? void 0 : _c.typeName) !== ZodFirstPartyTypeKind2.ZodAny) {
    res.items = parseDef(def.type._def, {
      ...refs,
      currentPath: [
        ...refs.currentPath,
        "items"
      ]
    });
  }
  if (def.minLength) {
    res.minItems = def.minLength.value;
  }
  if (def.maxLength) {
    res.maxItems = def.maxLength.value;
  }
  if (def.exactLength) {
    res.minItems = def.exactLength.value;
    res.maxItems = def.exactLength.value;
  }
  return res;
}
__name(parseArrayDef, "parseArrayDef");
function parseBigintDef(def) {
  const res = {
    type: "integer",
    format: "int64"
  };
  if (!def.checks) return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
__name(parseBigintDef, "parseBigintDef");
function parseBooleanDef() {
  return {
    type: "boolean"
  };
}
__name(parseBooleanDef, "parseBooleanDef");
function parseBrandedDef(_def, refs) {
  return parseDef(_def.type._def, refs);
}
__name(parseBrandedDef, "parseBrandedDef");
var parseCatchDef = /* @__PURE__ */ __name((def, refs) => {
  return parseDef(def.innerType._def, refs);
}, "parseCatchDef");
function parseDateDef(def, refs, overrideDateStrategy) {
  const strategy = overrideDateStrategy != null ? overrideDateStrategy : refs.dateStrategy;
  if (Array.isArray(strategy)) {
    return {
      anyOf: strategy.map((item, i) => parseDateDef(def, refs, item))
    };
  }
  switch (strategy) {
    case "string":
    case "format:date-time":
      return {
        type: "string",
        format: "date-time"
      };
    case "format:date":
      return {
        type: "string",
        format: "date"
      };
    case "integer":
      return integerDateParser(def);
  }
}
__name(parseDateDef, "parseDateDef");
var integerDateParser = /* @__PURE__ */ __name((def) => {
  const res = {
    type: "integer",
    format: "unix-time"
  };
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "min":
        res.minimum = check2.value;
        break;
      case "max":
        res.maximum = check2.value;
        break;
    }
  }
  return res;
}, "integerDateParser");
function parseDefaultDef(_def, refs) {
  return {
    ...parseDef(_def.innerType._def, refs),
    default: _def.defaultValue()
  };
}
__name(parseDefaultDef, "parseDefaultDef");
function parseEffectsDef(_def, refs) {
  return refs.effectStrategy === "input" ? parseDef(_def.schema._def, refs) : parseAnyDef();
}
__name(parseEffectsDef, "parseEffectsDef");
function parseEnumDef(def) {
  return {
    type: "string",
    enum: Array.from(def.values)
  };
}
__name(parseEnumDef, "parseEnumDef");
var isJsonSchema7AllOfType = /* @__PURE__ */ __name((type) => {
  if ("type" in type && type.type === "string") return false;
  return "allOf" in type;
}, "isJsonSchema7AllOfType");
function parseIntersectionDef(def, refs) {
  const allOf = [
    parseDef(def.left._def, {
      ...refs,
      currentPath: [
        ...refs.currentPath,
        "allOf",
        "0"
      ]
    }),
    parseDef(def.right._def, {
      ...refs,
      currentPath: [
        ...refs.currentPath,
        "allOf",
        "1"
      ]
    })
  ].filter((x) => !!x);
  const mergedAllOf = [];
  allOf.forEach((schema) => {
    if (isJsonSchema7AllOfType(schema)) {
      mergedAllOf.push(...schema.allOf);
    } else {
      let nestedSchema = schema;
      if ("additionalProperties" in schema && schema.additionalProperties === false) {
        const { additionalProperties, ...rest } = schema;
        nestedSchema = rest;
      }
      mergedAllOf.push(nestedSchema);
    }
  });
  return mergedAllOf.length ? {
    allOf: mergedAllOf
  } : void 0;
}
__name(parseIntersectionDef, "parseIntersectionDef");
function parseLiteralDef(def) {
  const parsedType7 = typeof def.value;
  if (parsedType7 !== "bigint" && parsedType7 !== "number" && parsedType7 !== "boolean" && parsedType7 !== "string") {
    return {
      type: Array.isArray(def.value) ? "array" : "object"
    };
  }
  return {
    type: parsedType7 === "bigint" ? "integer" : parsedType7,
    const: def.value
  };
}
__name(parseLiteralDef, "parseLiteralDef");
var emojiRegex2 = void 0;
var zodPatterns = {
  /**
  * \`c\` was changed to \`[cC]\` to replicate /i flag
  */
  cuid: /^[cC][^\\s-]{8,}$/,
  cuid2: /^[0-9a-z]+$/,
  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,
  /**
  * \`a-z\` was added to replicate /i flag
  */
  email: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,
  /**
  * Constructed a valid Unicode RegExp
  *
  * Lazily instantiate since this type of regex isn't supported
  * in all envs (e.g. React Native).
  *
  * See:
  * https://github.com/colinhacks/zod/issues/2433
  * Fix in Zod:
  * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b
  */
  emoji: /* @__PURE__ */ __name(() => {
    if (emojiRegex2 === void 0) {
      emojiRegex2 = RegExp("^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$", "u");
    }
    return emojiRegex2;
  }, "emoji"),
  /**
  * Unused
  */
  uuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,
  /**
  * Unused
  */
  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,
  ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,
  /**
  * Unused
  */
  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,
  ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,
  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,
  nanoid: /^[a-zA-Z0-9_-]{21}$/,
  jwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/
};
function parseStringDef(def, refs) {
  const res = {
    type: "string"
  };
  if (def.checks) {
    for (const check2 of def.checks) {
      switch (check2.kind) {
        case "min":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          break;
        case "max":
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "email":
          switch (refs.emailStrategy) {
            case "format:email":
              addFormat(res, "email", check2.message, refs);
              break;
            case "format:idn-email":
              addFormat(res, "idn-email", check2.message, refs);
              break;
            case "pattern:zod":
              addPattern(res, zodPatterns.email, check2.message, refs);
              break;
          }
          break;
        case "url":
          addFormat(res, "uri", check2.message, refs);
          break;
        case "uuid":
          addFormat(res, "uuid", check2.message, refs);
          break;
        case "regex":
          addPattern(res, check2.regex, check2.message, refs);
          break;
        case "cuid":
          addPattern(res, zodPatterns.cuid, check2.message, refs);
          break;
        case "cuid2":
          addPattern(res, zodPatterns.cuid2, check2.message, refs);
          break;
        case "startsWith":
          addPattern(res, RegExp(\`^\${escapeLiteralCheckValue(check2.value, refs)}\`), check2.message, refs);
          break;
        case "endsWith":
          addPattern(res, RegExp(\`\${escapeLiteralCheckValue(check2.value, refs)}$\`), check2.message, refs);
          break;
        case "datetime":
          addFormat(res, "date-time", check2.message, refs);
          break;
        case "date":
          addFormat(res, "date", check2.message, refs);
          break;
        case "time":
          addFormat(res, "time", check2.message, refs);
          break;
        case "duration":
          addFormat(res, "duration", check2.message, refs);
          break;
        case "length":
          res.minLength = typeof res.minLength === "number" ? Math.max(res.minLength, check2.value) : check2.value;
          res.maxLength = typeof res.maxLength === "number" ? Math.min(res.maxLength, check2.value) : check2.value;
          break;
        case "includes": {
          addPattern(res, RegExp(escapeLiteralCheckValue(check2.value, refs)), check2.message, refs);
          break;
        }
        case "ip": {
          if (check2.version !== "v6") {
            addFormat(res, "ipv4", check2.message, refs);
          }
          if (check2.version !== "v4") {
            addFormat(res, "ipv6", check2.message, refs);
          }
          break;
        }
        case "base64url":
          addPattern(res, zodPatterns.base64url, check2.message, refs);
          break;
        case "jwt":
          addPattern(res, zodPatterns.jwt, check2.message, refs);
          break;
        case "cidr": {
          if (check2.version !== "v6") {
            addPattern(res, zodPatterns.ipv4Cidr, check2.message, refs);
          }
          if (check2.version !== "v4") {
            addPattern(res, zodPatterns.ipv6Cidr, check2.message, refs);
          }
          break;
        }
        case "emoji":
          addPattern(res, zodPatterns.emoji(), check2.message, refs);
          break;
        case "ulid": {
          addPattern(res, zodPatterns.ulid, check2.message, refs);
          break;
        }
        case "base64": {
          switch (refs.base64Strategy) {
            case "format:binary": {
              addFormat(res, "binary", check2.message, refs);
              break;
            }
            case "contentEncoding:base64": {
              res.contentEncoding = "base64";
              break;
            }
            case "pattern:zod": {
              addPattern(res, zodPatterns.base64, check2.message, refs);
              break;
            }
          }
          break;
        }
        case "nanoid": {
          addPattern(res, zodPatterns.nanoid, check2.message, refs);
        }
        case "toLowerCase":
        case "toUpperCase":
        case "trim":
          break;
        default:
          /* @__PURE__ */ ((_) => {
          })(check2);
      }
    }
  }
  return res;
}
__name(parseStringDef, "parseStringDef");
function escapeLiteralCheckValue(literal2, refs) {
  return refs.patternStrategy === "escape" ? escapeNonAlphaNumeric(literal2) : literal2;
}
__name(escapeLiteralCheckValue, "escapeLiteralCheckValue");
var ALPHA_NUMERIC = new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");
function escapeNonAlphaNumeric(source) {
  let result = "";
  for (let i = 0; i < source.length; i++) {
    if (!ALPHA_NUMERIC.has(source[i])) {
      result += "\\\\";
    }
    result += source[i];
  }
  return result;
}
__name(escapeNonAlphaNumeric, "escapeNonAlphaNumeric");
function addFormat(schema, value, message, refs) {
  var _a17;
  if (schema.format || ((_a17 = schema.anyOf) == null ? void 0 : _a17.some((x) => x.format))) {
    if (!schema.anyOf) {
      schema.anyOf = [];
    }
    if (schema.format) {
      schema.anyOf.push({
        format: schema.format
      });
      delete schema.format;
    }
    schema.anyOf.push({
      format: value,
      ...message && refs.errorMessages && {
        errorMessage: {
          format: message
        }
      }
    });
  } else {
    schema.format = value;
  }
}
__name(addFormat, "addFormat");
function addPattern(schema, regex, message, refs) {
  var _a17;
  if (schema.pattern || ((_a17 = schema.allOf) == null ? void 0 : _a17.some((x) => x.pattern))) {
    if (!schema.allOf) {
      schema.allOf = [];
    }
    if (schema.pattern) {
      schema.allOf.push({
        pattern: schema.pattern
      });
      delete schema.pattern;
    }
    schema.allOf.push({
      pattern: stringifyRegExpWithFlags(regex, refs),
      ...message && refs.errorMessages && {
        errorMessage: {
          pattern: message
        }
      }
    });
  } else {
    schema.pattern = stringifyRegExpWithFlags(regex, refs);
  }
}
__name(addPattern, "addPattern");
function stringifyRegExpWithFlags(regex, refs) {
  var _a17;
  if (!refs.applyRegexFlags || !regex.flags) {
    return regex.source;
  }
  const flags = {
    i: regex.flags.includes("i"),
    // Case-insensitive
    m: regex.flags.includes("m"),
    // \`^\` and \`$\` matches adjacent to newline characters
    s: regex.flags.includes("s")
  };
  const source = flags.i ? regex.source.toLowerCase() : regex.source;
  let pattern = "";
  let isEscaped = false;
  let inCharGroup = false;
  let inCharRange = false;
  for (let i = 0; i < source.length; i++) {
    if (isEscaped) {
      pattern += source[i];
      isEscaped = false;
      continue;
    }
    if (flags.i) {
      if (inCharGroup) {
        if (source[i].match(/[a-z]/)) {
          if (inCharRange) {
            pattern += source[i];
            pattern += \`\${source[i - 2]}-\${source[i]}\`.toUpperCase();
            inCharRange = false;
          } else if (source[i + 1] === "-" && ((_a17 = source[i + 2]) == null ? void 0 : _a17.match(/[a-z]/))) {
            pattern += source[i];
            inCharRange = true;
          } else {
            pattern += \`\${source[i]}\${source[i].toUpperCase()}\`;
          }
          continue;
        }
      } else if (source[i].match(/[a-z]/)) {
        pattern += \`[\${source[i]}\${source[i].toUpperCase()}]\`;
        continue;
      }
    }
    if (flags.m) {
      if (source[i] === "^") {
        pattern += \`(^|(?<=[\\r
]))\`;
        continue;
      } else if (source[i] === "$") {
        pattern += \`($|(?=[\\r
]))\`;
        continue;
      }
    }
    if (flags.s && source[i] === ".") {
      pattern += inCharGroup ? \`\${source[i]}\\r
\` : \`[\${source[i]}\\r
]\`;
      continue;
    }
    pattern += source[i];
    if (source[i] === "\\\\") {
      isEscaped = true;
    } else if (inCharGroup && source[i] === "]") {
      inCharGroup = false;
    } else if (!inCharGroup && source[i] === "[") {
      inCharGroup = true;
    }
  }
  try {
    new RegExp(pattern);
  } catch (e) {
    console.warn(\`Could not convert regex pattern at \${refs.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source\`);
    return regex.source;
  }
  return pattern;
}
__name(stringifyRegExpWithFlags, "stringifyRegExpWithFlags");
function parseRecordDef(def, refs) {
  var _a17, _b8, _c, _d, _e, _f;
  const schema = {
    type: "object",
    additionalProperties: (_a17 = parseDef(def.valueType._def, {
      ...refs,
      currentPath: [
        ...refs.currentPath,
        "additionalProperties"
      ]
    })) != null ? _a17 : refs.allowedAdditionalProperties
  };
  if (((_b8 = def.keyType) == null ? void 0 : _b8._def.typeName) === ZodFirstPartyTypeKind2.ZodString && ((_c = def.keyType._def.checks) == null ? void 0 : _c.length)) {
    const { type, ...keyType } = parseStringDef(def.keyType._def, refs);
    return {
      ...schema,
      propertyNames: keyType
    };
  } else if (((_d = def.keyType) == null ? void 0 : _d._def.typeName) === ZodFirstPartyTypeKind2.ZodEnum) {
    return {
      ...schema,
      propertyNames: {
        enum: def.keyType._def.values
      }
    };
  } else if (((_e = def.keyType) == null ? void 0 : _e._def.typeName) === ZodFirstPartyTypeKind2.ZodBranded && def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind2.ZodString && ((_f = def.keyType._def.type._def.checks) == null ? void 0 : _f.length)) {
    const { type, ...keyType } = parseBrandedDef(def.keyType._def, refs);
    return {
      ...schema,
      propertyNames: keyType
    };
  }
  return schema;
}
__name(parseRecordDef, "parseRecordDef");
function parseMapDef(def, refs) {
  if (refs.mapStrategy === "record") {
    return parseRecordDef(def, refs);
  }
  const keys = parseDef(def.keyType._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "items",
      "items",
      "0"
    ]
  }) || parseAnyDef();
  const values = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "items",
      "items",
      "1"
    ]
  }) || parseAnyDef();
  return {
    type: "array",
    maxItems: 125,
    items: {
      type: "array",
      items: [
        keys,
        values
      ],
      minItems: 2,
      maxItems: 2
    }
  };
}
__name(parseMapDef, "parseMapDef");
function parseNativeEnumDef(def) {
  const object3 = def.values;
  const actualKeys = Object.keys(def.values).filter((key) => {
    return typeof object3[object3[key]] !== "number";
  });
  const actualValues = actualKeys.map((key) => object3[key]);
  const parsedTypes = Array.from(new Set(actualValues.map((values) => typeof values)));
  return {
    type: parsedTypes.length === 1 ? parsedTypes[0] === "string" ? "string" : "number" : [
      "string",
      "number"
    ],
    enum: actualValues
  };
}
__name(parseNativeEnumDef, "parseNativeEnumDef");
function parseNeverDef() {
  return {
    not: parseAnyDef()
  };
}
__name(parseNeverDef, "parseNeverDef");
function parseNullDef() {
  return {
    type: "null"
  };
}
__name(parseNullDef, "parseNullDef");
var primitiveMappings = {
  ZodString: "string",
  ZodNumber: "number",
  ZodBigInt: "integer",
  ZodBoolean: "boolean",
  ZodNull: "null"
};
function parseUnionDef(def, refs) {
  const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;
  if (options.every((x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length))) {
    const types = options.reduce((types2, x) => {
      const type = primitiveMappings[x._def.typeName];
      return type && !types2.includes(type) ? [
        ...types2,
        type
      ] : types2;
    }, []);
    return {
      type: types.length > 1 ? types : types[0]
    };
  } else if (options.every((x) => x._def.typeName === "ZodLiteral" && !x.description)) {
    const types = options.reduce((acc, x) => {
      const type = typeof x._def.value;
      switch (type) {
        case "string":
        case "number":
        case "boolean":
          return [
            ...acc,
            type
          ];
        case "bigint":
          return [
            ...acc,
            "integer"
          ];
        case "object":
          if (x._def.value === null) return [
            ...acc,
            "null"
          ];
        case "symbol":
        case "undefined":
        case "function":
        default:
          return acc;
      }
    }, []);
    if (types.length === options.length) {
      const uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);
      return {
        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],
        enum: options.reduce((acc, x) => {
          return acc.includes(x._def.value) ? acc : [
            ...acc,
            x._def.value
          ];
        }, [])
      };
    }
  } else if (options.every((x) => x._def.typeName === "ZodEnum")) {
    return {
      type: "string",
      enum: options.reduce((acc, x) => [
        ...acc,
        ...x._def.values.filter((x2) => !acc.includes(x2))
      ], [])
    };
  }
  return asAnyOf(def, refs);
}
__name(parseUnionDef, "parseUnionDef");
var asAnyOf = /* @__PURE__ */ __name((def, refs) => {
  const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map((x, i) => parseDef(x._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "anyOf",
      \`\${i}\`
    ]
  })).filter((x) => !!x && (!refs.strictUnions || typeof x === "object" && Object.keys(x).length > 0));
  return anyOf.length ? {
    anyOf
  } : void 0;
}, "asAnyOf");
function parseNullableDef(def, refs) {
  if ([
    "ZodString",
    "ZodNumber",
    "ZodBigInt",
    "ZodBoolean",
    "ZodNull"
  ].includes(def.innerType._def.typeName) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {
    return {
      type: [
        primitiveMappings[def.innerType._def.typeName],
        "null"
      ]
    };
  }
  const base = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "anyOf",
      "0"
    ]
  });
  return base && {
    anyOf: [
      base,
      {
        type: "null"
      }
    ]
  };
}
__name(parseNullableDef, "parseNullableDef");
function parseNumberDef(def) {
  const res = {
    type: "number"
  };
  if (!def.checks) return res;
  for (const check2 of def.checks) {
    switch (check2.kind) {
      case "int":
        res.type = "integer";
        break;
      case "min":
        if (check2.inclusive) {
          res.minimum = check2.value;
        } else {
          res.exclusiveMinimum = check2.value;
        }
        break;
      case "max":
        if (check2.inclusive) {
          res.maximum = check2.value;
        } else {
          res.exclusiveMaximum = check2.value;
        }
        break;
      case "multipleOf":
        res.multipleOf = check2.value;
        break;
    }
  }
  return res;
}
__name(parseNumberDef, "parseNumberDef");
function parseObjectDef(def, refs) {
  const result = {
    type: "object",
    properties: {}
  };
  const required2 = [];
  const shape = def.shape();
  for (const propName in shape) {
    let propDef = shape[propName];
    if (propDef === void 0 || propDef._def === void 0) {
      continue;
    }
    const propOptional = safeIsOptional(propDef);
    const parsedDef = parseDef(propDef._def, {
      ...refs,
      currentPath: [
        ...refs.currentPath,
        "properties",
        propName
      ],
      propertyPath: [
        ...refs.currentPath,
        "properties",
        propName
      ]
    });
    if (parsedDef === void 0) {
      continue;
    }
    result.properties[propName] = parsedDef;
    if (!propOptional) {
      required2.push(propName);
    }
  }
  if (required2.length) {
    result.required = required2;
  }
  const additionalProperties = decideAdditionalProperties(def, refs);
  if (additionalProperties !== void 0) {
    result.additionalProperties = additionalProperties;
  }
  return result;
}
__name(parseObjectDef, "parseObjectDef");
function decideAdditionalProperties(def, refs) {
  if (def.catchall._def.typeName !== "ZodNever") {
    return parseDef(def.catchall._def, {
      ...refs,
      currentPath: [
        ...refs.currentPath,
        "additionalProperties"
      ]
    });
  }
  switch (def.unknownKeys) {
    case "passthrough":
      return refs.allowedAdditionalProperties;
    case "strict":
      return refs.rejectedAdditionalProperties;
    case "strip":
      return refs.removeAdditionalStrategy === "strict" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;
  }
}
__name(decideAdditionalProperties, "decideAdditionalProperties");
function safeIsOptional(schema) {
  try {
    return schema.isOptional();
  } catch (e) {
    return true;
  }
}
__name(safeIsOptional, "safeIsOptional");
var parseOptionalDef = /* @__PURE__ */ __name((def, refs) => {
  var _a17;
  if (refs.currentPath.toString() === ((_a17 = refs.propertyPath) == null ? void 0 : _a17.toString())) {
    return parseDef(def.innerType._def, refs);
  }
  const innerSchema = parseDef(def.innerType._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "anyOf",
      "1"
    ]
  });
  return innerSchema ? {
    anyOf: [
      {
        not: parseAnyDef()
      },
      innerSchema
    ]
  } : parseAnyDef();
}, "parseOptionalDef");
var parsePipelineDef = /* @__PURE__ */ __name((def, refs) => {
  if (refs.pipeStrategy === "input") {
    return parseDef(def.in._def, refs);
  } else if (refs.pipeStrategy === "output") {
    return parseDef(def.out._def, refs);
  }
  const a = parseDef(def.in._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "allOf",
      "0"
    ]
  });
  const b = parseDef(def.out._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "allOf",
      a ? "1" : "0"
    ]
  });
  return {
    allOf: [
      a,
      b
    ].filter((x) => x !== void 0)
  };
}, "parsePipelineDef");
function parsePromiseDef(def, refs) {
  return parseDef(def.type._def, refs);
}
__name(parsePromiseDef, "parsePromiseDef");
function parseSetDef(def, refs) {
  const items = parseDef(def.valueType._def, {
    ...refs,
    currentPath: [
      ...refs.currentPath,
      "items"
    ]
  });
  const schema = {
    type: "array",
    uniqueItems: true,
    items
  };
  if (def.minSize) {
    schema.minItems = def.minSize.value;
  }
  if (def.maxSize) {
    schema.maxItems = def.maxSize.value;
  }
  return schema;
}
__name(parseSetDef, "parseSetDef");
function parseTupleDef(def, refs) {
  if (def.rest) {
    return {
      type: "array",
      minItems: def.items.length,
      items: def.items.map((x, i) => parseDef(x._def, {
        ...refs,
        currentPath: [
          ...refs.currentPath,
          "items",
          \`\${i}\`
        ]
      })).reduce((acc, x) => x === void 0 ? acc : [
        ...acc,
        x
      ], []),
      additionalItems: parseDef(def.rest._def, {
        ...refs,
        currentPath: [
          ...refs.currentPath,
          "additionalItems"
        ]
      })
    };
  } else {
    return {
      type: "array",
      minItems: def.items.length,
      maxItems: def.items.length,
      items: def.items.map((x, i) => parseDef(x._def, {
        ...refs,
        currentPath: [
          ...refs.currentPath,
          "items",
          \`\${i}\`
        ]
      })).reduce((acc, x) => x === void 0 ? acc : [
        ...acc,
        x
      ], [])
    };
  }
}
__name(parseTupleDef, "parseTupleDef");
function parseUndefinedDef() {
  return {
    not: parseAnyDef()
  };
}
__name(parseUndefinedDef, "parseUndefinedDef");
function parseUnknownDef() {
  return parseAnyDef();
}
__name(parseUnknownDef, "parseUnknownDef");
var parseReadonlyDef = /* @__PURE__ */ __name((def, refs) => {
  return parseDef(def.innerType._def, refs);
}, "parseReadonlyDef");
var selectParser = /* @__PURE__ */ __name((def, typeName, refs) => {
  switch (typeName) {
    case ZodFirstPartyTypeKind2.ZodString:
      return parseStringDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNumber:
      return parseNumberDef(def);
    case ZodFirstPartyTypeKind2.ZodObject:
      return parseObjectDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBigInt:
      return parseBigintDef(def);
    case ZodFirstPartyTypeKind2.ZodBoolean:
      return parseBooleanDef();
    case ZodFirstPartyTypeKind2.ZodDate:
      return parseDateDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUndefined:
      return parseUndefinedDef();
    case ZodFirstPartyTypeKind2.ZodNull:
      return parseNullDef();
    case ZodFirstPartyTypeKind2.ZodArray:
      return parseArrayDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodUnion:
    case ZodFirstPartyTypeKind2.ZodDiscriminatedUnion:
      return parseUnionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodIntersection:
      return parseIntersectionDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodTuple:
      return parseTupleDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodRecord:
      return parseRecordDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLiteral:
      return parseLiteralDef(def);
    case ZodFirstPartyTypeKind2.ZodEnum:
      return parseEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNativeEnum:
      return parseNativeEnumDef(def);
    case ZodFirstPartyTypeKind2.ZodNullable:
      return parseNullableDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodOptional:
      return parseOptionalDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodMap:
      return parseMapDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodSet:
      return parseSetDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodLazy:
      return () => def.getter()._def;
    case ZodFirstPartyTypeKind2.ZodPromise:
      return parsePromiseDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodNaN:
    case ZodFirstPartyTypeKind2.ZodNever:
      return parseNeverDef();
    case ZodFirstPartyTypeKind2.ZodEffects:
      return parseEffectsDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodAny:
      return parseAnyDef();
    case ZodFirstPartyTypeKind2.ZodUnknown:
      return parseUnknownDef();
    case ZodFirstPartyTypeKind2.ZodDefault:
      return parseDefaultDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodBranded:
      return parseBrandedDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodReadonly:
      return parseReadonlyDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodCatch:
      return parseCatchDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodPipeline:
      return parsePipelineDef(def, refs);
    case ZodFirstPartyTypeKind2.ZodFunction:
    case ZodFirstPartyTypeKind2.ZodVoid:
    case ZodFirstPartyTypeKind2.ZodSymbol:
      return void 0;
    default:
      return /* @__PURE__ */ ((_) => void 0)(typeName);
  }
}, "selectParser");
function parseDef(def, refs, forceResolution = false) {
  var _a17;
  const seenItem = refs.seen.get(def);
  if (refs.override) {
    const overrideResult = (_a17 = refs.override) == null ? void 0 : _a17.call(refs, def, refs, seenItem, forceResolution);
    if (overrideResult !== ignoreOverride) {
      return overrideResult;
    }
  }
  if (seenItem && !forceResolution) {
    const seenSchema = get$ref(seenItem, refs);
    if (seenSchema !== void 0) {
      return seenSchema;
    }
  }
  const newItem = {
    def,
    path: refs.currentPath,
    jsonSchema: void 0
  };
  refs.seen.set(def, newItem);
  const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);
  const jsonSchema2 = typeof jsonSchemaOrGetter === "function" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;
  if (jsonSchema2) {
    addMeta(def, refs, jsonSchema2);
  }
  if (refs.postProcess) {
    const postProcessResult = refs.postProcess(jsonSchema2, def, refs);
    newItem.jsonSchema = jsonSchema2;
    return postProcessResult;
  }
  newItem.jsonSchema = jsonSchema2;
  return jsonSchema2;
}
__name(parseDef, "parseDef");
var get$ref = /* @__PURE__ */ __name((item, refs) => {
  switch (refs.$refStrategy) {
    case "root":
      return {
        $ref: item.path.join("/")
      };
    case "relative":
      return {
        $ref: getRelativePath(refs.currentPath, item.path)
      };
    case "none":
    case "seen": {
      if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {
        console.warn(\`Recursive reference detected at \${refs.currentPath.join("/")}! Defaulting to any\`);
        return parseAnyDef();
      }
      return refs.$refStrategy === "seen" ? parseAnyDef() : void 0;
    }
  }
}, "get$ref");
var addMeta = /* @__PURE__ */ __name((def, refs, jsonSchema2) => {
  if (def.description) {
    jsonSchema2.description = def.description;
  }
  return jsonSchema2;
}, "addMeta");
var getRefs = /* @__PURE__ */ __name((options) => {
  const _options = getDefaultOptions(options);
  const currentPath = _options.name !== void 0 ? [
    ..._options.basePath,
    _options.definitionPath,
    _options.name
  ] : _options.basePath;
  return {
    ..._options,
    currentPath,
    propertyPath: void 0,
    seen: new Map(Object.entries(_options.definitions).map(([name16, def]) => [
      def._def,
      {
        def: def._def,
        path: [
          ..._options.basePath,
          _options.definitionPath,
          name16
        ],
        // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
        jsonSchema: void 0
      }
    ]))
  };
}, "getRefs");
var zodToJsonSchema = /* @__PURE__ */ __name((schema, options) => {
  var _a17;
  const refs = getRefs(options);
  let definitions = typeof options === "object" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name24, schema2]) => {
    var _a24;
    return {
      ...acc,
      [name24]: (_a24 = parseDef(schema2._def, {
        ...refs,
        currentPath: [
          ...refs.basePath,
          refs.definitionPath,
          name24
        ]
      }, true)) != null ? _a24 : parseAnyDef()
    };
  }, {}) : void 0;
  const name16 = typeof options === "string" ? options : (options == null ? void 0 : options.nameStrategy) === "title" ? void 0 : options == null ? void 0 : options.name;
  const main = (_a17 = parseDef(schema._def, name16 === void 0 ? refs : {
    ...refs,
    currentPath: [
      ...refs.basePath,
      refs.definitionPath,
      name16
    ]
  }, false)) != null ? _a17 : parseAnyDef();
  const title = typeof options === "object" && options.name !== void 0 && options.nameStrategy === "title" ? options.name : void 0;
  if (title !== void 0) {
    main.title = title;
  }
  const combined = name16 === void 0 ? definitions ? {
    ...main,
    [refs.definitionPath]: definitions
  } : main : {
    $ref: [
      ...refs.$refStrategy === "relative" ? [] : refs.basePath,
      refs.definitionPath,
      name16
    ].join("/"),
    [refs.definitionPath]: {
      ...definitions,
      [name16]: main
    }
  };
  combined.$schema = "http://json-schema.org/draft-07/schema#";
  return combined;
}, "zodToJsonSchema");
var zod_to_json_schema_default = zodToJsonSchema;
function zod3Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  return jsonSchema(
    // defer json schema creation to avoid unnecessary computation when only validation is needed
    () => zod_to_json_schema_default(zodSchema2, {
      $refStrategy: useReferences ? "root" : "none"
    }),
    {
      validate: /* @__PURE__ */ __name(async (value) => {
        const result = await zodSchema2.safeParseAsync(value);
        return result.success ? {
          success: true,
          value: result.data
        } : {
          success: false,
          error: result.error
        };
      }, "validate")
    }
  );
}
__name(zod3Schema, "zod3Schema");
function zod4Schema(zodSchema2, options) {
  var _a17;
  const useReferences = (_a17 = options == null ? void 0 : options.useReferences) != null ? _a17 : false;
  return jsonSchema(
    // defer json schema creation to avoid unnecessary computation when only validation is needed
    () => toJSONSchema(zodSchema2, {
      target: "draft-7",
      io: "output",
      reused: useReferences ? "ref" : "inline"
    }),
    {
      validate: /* @__PURE__ */ __name(async (value) => {
        const result = await safeParseAsync2(zodSchema2, value);
        return result.success ? {
          success: true,
          value: result.data
        } : {
          success: false,
          error: result.error
        };
      }, "validate")
    }
  );
}
__name(zod4Schema, "zod4Schema");
function isZod4Schema(zodSchema2) {
  return "_zod" in zodSchema2;
}
__name(isZod4Schema, "isZod4Schema");
function zodSchema(zodSchema2, options) {
  if (isZod4Schema(zodSchema2)) {
    return zod4Schema(zodSchema2, options);
  } else {
    return zod3Schema(zodSchema2, options);
  }
}
__name(zodSchema, "zodSchema");
var schemaSymbol = Symbol.for("vercel.ai.schema");
function jsonSchema(jsonSchema2, { validate } = {}) {
  return {
    [schemaSymbol]: true,
    _type: void 0,
    // should never be used directly
    [validatorSymbol]: true,
    get jsonSchema() {
      if (typeof jsonSchema2 === "function") {
        jsonSchema2 = jsonSchema2();
      }
      return jsonSchema2;
    },
    validate
  };
}
__name(jsonSchema, "jsonSchema");
function isSchema(value) {
  return typeof value === "object" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && "jsonSchema" in value && "validate" in value;
}
__name(isSchema, "isSchema");
function asSchema(schema) {
  return schema == null ? jsonSchema({
    properties: {},
    additionalProperties: false
  }) : isSchema(schema) ? schema : typeof schema === "function" ? schema() : zodSchema(schema);
}
__name(asSchema, "asSchema");
var { btoa: btoa2, atob: atob2 } = globalThis;
function convertBase64ToUint8Array(base64String) {
  const base64Url = base64String.replace(/-/g, "+").replace(/_/g, "/");
  const latin1string = atob2(base64Url);
  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0));
}
__name(convertBase64ToUint8Array, "convertBase64ToUint8Array");
function convertUint8ArrayToBase64(array2) {
  let latin1string = "";
  for (let i = 0; i < array2.length; i++) {
    latin1string += String.fromCodePoint(array2[i]);
  }
  return btoa2(latin1string);
}
__name(convertUint8ArrayToBase64, "convertUint8ArrayToBase64");
function withoutTrailingSlash(url2) {
  return url2 == null ? void 0 : url2.replace(/\\/$/, "");
}
__name(withoutTrailingSlash, "withoutTrailingSlash");
function isAsyncIterable(obj) {
  return obj != null && typeof obj[Symbol.asyncIterator] === "function";
}
__name(isAsyncIterable, "isAsyncIterable");
async function* executeTool({ execute, input, options }) {
  const result = execute(input, options);
  if (isAsyncIterable(result)) {
    let lastOutput;
    for await (const output of result) {
      lastOutput = output;
      yield {
        type: "preliminary",
        output
      };
    }
    yield {
      type: "final",
      output: lastOutput
    };
  } else {
    yield {
      type: "final",
      output: await result
    };
  }
}
__name(executeTool, "executeTool");

// ../../node_modules/.pnpm/@ai-sdk+gateway@2.0.17_zod@4.1.11/node_modules/@ai-sdk/gateway/dist/index.mjs
var import_oidc = __toESM(require_index_browser(), 1);
var import_oidc2 = __toESM(require_index_browser(), 1);
var marker15 = "vercel.ai.gateway.error";
var symbol16 = Symbol.for(marker15);
var _a15;
var _b;
var GatewayError = class _GatewayError extends (_b = Error, _a15 = symbol16, _b) {
  static {
    __name(this, "_GatewayError");
  }
  constructor({ message, statusCode = 500, cause }) {
    super(message);
    this[_a15] = true;
    this.statusCode = statusCode;
    this.cause = cause;
  }
  /**
  * Checks if the given error is a Gateway Error.
  * @param {unknown} error - The error to check.
  * @returns {boolean} True if the error is a Gateway Error, false otherwise.
  */
  static isInstance(error45) {
    return _GatewayError.hasMarker(error45);
  }
  static hasMarker(error45) {
    return typeof error45 === "object" && error45 !== null && symbol16 in error45 && error45[symbol16] === true;
  }
};
var name14 = "GatewayAuthenticationError";
var marker22 = \`vercel.ai.gateway.error.\${name14}\`;
var symbol22 = Symbol.for(marker22);
var _a22;
var _b2;
var GatewayAuthenticationError = class _GatewayAuthenticationError extends (_b2 = GatewayError, _a22 = symbol22, _b2) {
  static {
    __name(this, "_GatewayAuthenticationError");
  }
  constructor({ message = "Authentication failed", statusCode = 401, cause } = {}) {
    super({
      message,
      statusCode,
      cause
    });
    this[_a22] = true;
    this.name = name14;
    this.type = "authentication_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol22 in error45;
  }
  /**
  * Creates a contextual error message when authentication fails
  */
  static createContextualError({ apiKeyProvided, oidcTokenProvided, message = "Authentication failed", statusCode = 401, cause }) {
    let contextualMessage;
    if (apiKeyProvided) {
      contextualMessage = \`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\`;
    } else if (oidcTokenProvided) {
      contextualMessage = \`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\`;
    } else {
      contextualMessage = \`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.\`;
    }
    return new _GatewayAuthenticationError({
      message: contextualMessage,
      statusCode,
      cause
    });
  }
};
var name22 = "GatewayInvalidRequestError";
var marker32 = \`vercel.ai.gateway.error.\${name22}\`;
var symbol32 = Symbol.for(marker32);
var _a32;
var _b3;
var GatewayInvalidRequestError = class extends (_b3 = GatewayError, _a32 = symbol32, _b3) {
  static {
    __name(this, "GatewayInvalidRequestError");
  }
  constructor({ message = "Invalid request", statusCode = 400, cause } = {}) {
    super({
      message,
      statusCode,
      cause
    });
    this[_a32] = true;
    this.name = name22;
    this.type = "invalid_request_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol32 in error45;
  }
};
var name32 = "GatewayRateLimitError";
var marker42 = \`vercel.ai.gateway.error.\${name32}\`;
var symbol42 = Symbol.for(marker42);
var _a42;
var _b4;
var GatewayRateLimitError = class extends (_b4 = GatewayError, _a42 = symbol42, _b4) {
  static {
    __name(this, "GatewayRateLimitError");
  }
  constructor({ message = "Rate limit exceeded", statusCode = 429, cause } = {}) {
    super({
      message,
      statusCode,
      cause
    });
    this[_a42] = true;
    this.name = name32;
    this.type = "rate_limit_exceeded";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol42 in error45;
  }
};
var name42 = "GatewayModelNotFoundError";
var marker52 = \`vercel.ai.gateway.error.\${name42}\`;
var symbol52 = Symbol.for(marker52);
var modelNotFoundParamSchema = lazyValidator(() => zodSchema(external_exports.object({
  modelId: external_exports.string()
})));
var _a52;
var _b5;
var GatewayModelNotFoundError = class extends (_b5 = GatewayError, _a52 = symbol52, _b5) {
  static {
    __name(this, "GatewayModelNotFoundError");
  }
  constructor({ message = "Model not found", statusCode = 404, modelId, cause } = {}) {
    super({
      message,
      statusCode,
      cause
    });
    this[_a52] = true;
    this.name = name42;
    this.type = "model_not_found";
    this.modelId = modelId;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol52 in error45;
  }
};
var name52 = "GatewayInternalServerError";
var marker62 = \`vercel.ai.gateway.error.\${name52}\`;
var symbol62 = Symbol.for(marker62);
var _a62;
var _b6;
var GatewayInternalServerError = class extends (_b6 = GatewayError, _a62 = symbol62, _b6) {
  static {
    __name(this, "GatewayInternalServerError");
  }
  constructor({ message = "Internal server error", statusCode = 500, cause } = {}) {
    super({
      message,
      statusCode,
      cause
    });
    this[_a62] = true;
    this.name = name52;
    this.type = "internal_server_error";
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol62 in error45;
  }
};
var name62 = "GatewayResponseError";
var marker72 = \`vercel.ai.gateway.error.\${name62}\`;
var symbol72 = Symbol.for(marker72);
var _a72;
var _b7;
var GatewayResponseError = class extends (_b7 = GatewayError, _a72 = symbol72, _b7) {
  static {
    __name(this, "GatewayResponseError");
  }
  constructor({ message = "Invalid response from Gateway", statusCode = 502, response, validationError, cause } = {}) {
    super({
      message,
      statusCode,
      cause
    });
    this[_a72] = true;
    this.name = name62;
    this.type = "response_error";
    this.response = response;
    this.validationError = validationError;
  }
  static isInstance(error45) {
    return GatewayError.hasMarker(error45) && symbol72 in error45;
  }
};
async function createGatewayErrorFromResponse({ response, statusCode, defaultMessage = "Gateway request failed", cause, authMethod }) {
  const parseResult = await safeValidateTypes({
    value: response,
    schema: gatewayErrorResponseSchema
  });
  if (!parseResult.success) {
    return new GatewayResponseError({
      message: \`Invalid error response format: \${defaultMessage}\`,
      statusCode,
      response,
      validationError: parseResult.error,
      cause
    });
  }
  const validatedResponse = parseResult.value;
  const errorType = validatedResponse.error.type;
  const message = validatedResponse.error.message;
  switch (errorType) {
    case "authentication_error":
      return GatewayAuthenticationError.createContextualError({
        apiKeyProvided: authMethod === "api-key",
        oidcTokenProvided: authMethod === "oidc",
        statusCode,
        cause
      });
    case "invalid_request_error":
      return new GatewayInvalidRequestError({
        message,
        statusCode,
        cause
      });
    case "rate_limit_exceeded":
      return new GatewayRateLimitError({
        message,
        statusCode,
        cause
      });
    case "model_not_found": {
      const modelResult = await safeValidateTypes({
        value: validatedResponse.error.param,
        schema: modelNotFoundParamSchema
      });
      return new GatewayModelNotFoundError({
        message,
        statusCode,
        modelId: modelResult.success ? modelResult.value.modelId : void 0,
        cause
      });
    }
    case "internal_server_error":
      return new GatewayInternalServerError({
        message,
        statusCode,
        cause
      });
    default:
      return new GatewayInternalServerError({
        message,
        statusCode,
        cause
      });
  }
}
__name(createGatewayErrorFromResponse, "createGatewayErrorFromResponse");
var gatewayErrorResponseSchema = lazyValidator(() => zodSchema(external_exports.object({
  error: external_exports.object({
    message: external_exports.string(),
    type: external_exports.string().nullish(),
    param: external_exports.unknown().nullish(),
    code: external_exports.union([
      external_exports.string(),
      external_exports.number()
    ]).nullish()
  })
})));
function asGatewayError(error45, authMethod) {
  var _a83;
  if (GatewayError.isInstance(error45)) {
    return error45;
  }
  if (APICallError.isInstance(error45)) {
    return createGatewayErrorFromResponse({
      response: extractApiCallResponse(error45),
      statusCode: (_a83 = error45.statusCode) != null ? _a83 : 500,
      defaultMessage: "Gateway request failed",
      cause: error45,
      authMethod
    });
  }
  return createGatewayErrorFromResponse({
    response: {},
    statusCode: 500,
    defaultMessage: error45 instanceof Error ? \`Gateway request failed: \${error45.message}\` : "Unknown Gateway error",
    cause: error45,
    authMethod
  });
}
__name(asGatewayError, "asGatewayError");
function extractApiCallResponse(error45) {
  if (error45.data !== void 0) {
    return error45.data;
  }
  if (error45.responseBody != null) {
    try {
      return JSON.parse(error45.responseBody);
    } catch (e) {
      return error45.responseBody;
    }
  }
  return {};
}
__name(extractApiCallResponse, "extractApiCallResponse");
var GATEWAY_AUTH_METHOD_HEADER = "ai-gateway-auth-method";
async function parseAuthMethod(headers) {
  const result = await safeValidateTypes({
    value: headers[GATEWAY_AUTH_METHOD_HEADER],
    schema: gatewayAuthMethodSchema
  });
  return result.success ? result.value : void 0;
}
__name(parseAuthMethod, "parseAuthMethod");
var gatewayAuthMethodSchema = lazyValidator(() => zodSchema(external_exports.union([
  external_exports.literal("api-key"),
  external_exports.literal("oidc")
])));
var GatewayFetchMetadata = class {
  static {
    __name(this, "GatewayFetchMetadata");
  }
  constructor(config2) {
    this.config = config2;
  }
  async getAvailableModels() {
    try {
      const { value } = await getFromApi({
        url: \`\${this.config.baseURL}/config\`,
        headers: await resolve(this.config.headers()),
        successfulResponseHandler: createJsonResponseHandler(gatewayAvailableModelsResponseSchema),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: /* @__PURE__ */ __name((data) => data, "errorToMessage")
        }),
        fetch: this.config.fetch
      });
      return value;
    } catch (error45) {
      throw await asGatewayError(error45);
    }
  }
  async getCredits() {
    try {
      const baseUrl = new URL(this.config.baseURL);
      const { value } = await getFromApi({
        url: \`\${baseUrl.origin}/v1/credits\`,
        headers: await resolve(this.config.headers()),
        successfulResponseHandler: createJsonResponseHandler(gatewayCreditsResponseSchema),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: /* @__PURE__ */ __name((data) => data, "errorToMessage")
        }),
        fetch: this.config.fetch
      });
      return value;
    } catch (error45) {
      throw await asGatewayError(error45);
    }
  }
};
var gatewayAvailableModelsResponseSchema = lazyValidator(() => zodSchema(external_exports.object({
  models: external_exports.array(external_exports.object({
    id: external_exports.string(),
    name: external_exports.string(),
    description: external_exports.string().nullish(),
    pricing: external_exports.object({
      input: external_exports.string(),
      output: external_exports.string(),
      input_cache_read: external_exports.string().nullish(),
      input_cache_write: external_exports.string().nullish()
    }).transform(({ input, output, input_cache_read, input_cache_write }) => ({
      input,
      output,
      ...input_cache_read ? {
        cachedInputTokens: input_cache_read
      } : {},
      ...input_cache_write ? {
        cacheCreationInputTokens: input_cache_write
      } : {}
    })).nullish(),
    specification: external_exports.object({
      specificationVersion: external_exports.literal("v2"),
      provider: external_exports.string(),
      modelId: external_exports.string()
    }),
    modelType: external_exports.enum([
      "language",
      "embedding",
      "image"
    ]).nullish()
  }))
})));
var gatewayCreditsResponseSchema = lazyValidator(() => zodSchema(external_exports.object({
  balance: external_exports.string(),
  total_used: external_exports.string()
}).transform(({ balance, total_used }) => ({
  balance,
  totalUsed: total_used
}))));
var GatewayLanguageModel = class {
  static {
    __name(this, "GatewayLanguageModel");
  }
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.supportedUrls = {
      "*/*": [
        /.*/
      ]
    };
  }
  get provider() {
    return this.config.provider;
  }
  async getArgs(options) {
    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;
    return {
      args: this.maybeEncodeFileParts(optionsWithoutSignal),
      warnings: []
    };
  }
  async doGenerate(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { responseHeaders, value: responseBody, rawValue: rawResponse } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(resolvedHeaders, options.headers, this.getModelConfigHeaders(this.modelId, false), await resolve(this.config.o11yHeaders)),
        body: args,
        successfulResponseHandler: createJsonResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: /* @__PURE__ */ __name((data) => data, "errorToMessage")
        }),
        ...abortSignal && {
          abortSignal
        },
        fetch: this.config.fetch
      });
      return {
        ...responseBody,
        request: {
          body: args
        },
        response: {
          headers: responseHeaders,
          body: rawResponse
        },
        warnings
      };
    } catch (error45) {
      throw await asGatewayError(error45, await parseAuthMethod(resolvedHeaders));
    }
  }
  async doStream(options) {
    const { args, warnings } = await this.getArgs(options);
    const { abortSignal } = options;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { value: response, responseHeaders } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(resolvedHeaders, options.headers, this.getModelConfigHeaders(this.modelId, true), await resolve(this.config.o11yHeaders)),
        body: args,
        successfulResponseHandler: createEventSourceResponseHandler(external_exports.any()),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: /* @__PURE__ */ __name((data) => data, "errorToMessage")
        }),
        ...abortSignal && {
          abortSignal
        },
        fetch: this.config.fetch
      });
      return {
        stream: response.pipeThrough(new TransformStream({
          start(controller) {
            if (warnings.length > 0) {
              controller.enqueue({
                type: "stream-start",
                warnings
              });
            }
          },
          transform(chunk2, controller) {
            if (chunk2.success) {
              const streamPart = chunk2.value;
              if (streamPart.type === "raw" && !options.includeRawChunks) {
                return;
              }
              if (streamPart.type === "response-metadata" && streamPart.timestamp && typeof streamPart.timestamp === "string") {
                streamPart.timestamp = new Date(streamPart.timestamp);
              }
              controller.enqueue(streamPart);
            } else {
              controller.error(chunk2.error);
            }
          }
        })),
        request: {
          body: args
        },
        response: {
          headers: responseHeaders
        }
      };
    } catch (error45) {
      throw await asGatewayError(error45, await parseAuthMethod(resolvedHeaders));
    }
  }
  isFilePart(part) {
    return part && typeof part === "object" && "type" in part && part.type === "file";
  }
  /**
  * Encodes file parts in the prompt to base64. Mutates the passed options
  * instance directly to avoid copying the file data.
  * @param options - The options to encode.
  * @returns The options with the file parts encoded.
  */
  maybeEncodeFileParts(options) {
    for (const message of options.prompt) {
      for (const part of message.content) {
        if (this.isFilePart(part)) {
          const filePart = part;
          if (filePart.data instanceof Uint8Array) {
            const buffer = Uint8Array.from(filePart.data);
            const base64Data = Buffer.from(buffer).toString("base64");
            filePart.data = new URL(\`data:\${filePart.mediaType || "application/octet-stream"};base64,\${base64Data}\`);
          }
        }
      }
    }
    return options;
  }
  getUrl() {
    return \`\${this.config.baseURL}/language-model\`;
  }
  getModelConfigHeaders(modelId, streaming) {
    return {
      "ai-language-model-specification-version": "2",
      "ai-language-model-id": modelId,
      "ai-language-model-streaming": String(streaming)
    };
  }
};
var GatewayEmbeddingModel = class {
  static {
    __name(this, "GatewayEmbeddingModel");
  }
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.maxEmbeddingsPerCall = 2048;
    this.supportsParallelCalls = true;
  }
  get provider() {
    return this.config.provider;
  }
  async doEmbed({ values, headers, abortSignal, providerOptions }) {
    var _a83;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { responseHeaders, value: responseBody, rawValue } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(resolvedHeaders, headers != null ? headers : {}, this.getModelConfigHeaders(), await resolve(this.config.o11yHeaders)),
        body: {
          input: values.length === 1 ? values[0] : values,
          ...providerOptions ? {
            providerOptions
          } : {}
        },
        successfulResponseHandler: createJsonResponseHandler(gatewayEmbeddingResponseSchema),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: /* @__PURE__ */ __name((data) => data, "errorToMessage")
        }),
        ...abortSignal && {
          abortSignal
        },
        fetch: this.config.fetch
      });
      return {
        embeddings: responseBody.embeddings,
        usage: (_a83 = responseBody.usage) != null ? _a83 : void 0,
        providerMetadata: responseBody.providerMetadata,
        response: {
          headers: responseHeaders,
          body: rawValue
        }
      };
    } catch (error45) {
      throw await asGatewayError(error45, await parseAuthMethod(resolvedHeaders));
    }
  }
  getUrl() {
    return \`\${this.config.baseURL}/embedding-model\`;
  }
  getModelConfigHeaders() {
    return {
      "ai-embedding-model-specification-version": "2",
      "ai-model-id": this.modelId
    };
  }
};
var gatewayEmbeddingResponseSchema = lazyValidator(() => zodSchema(external_exports.object({
  embeddings: external_exports.array(external_exports.array(external_exports.number())),
  usage: external_exports.object({
    tokens: external_exports.number()
  }).nullish(),
  providerMetadata: external_exports.record(external_exports.string(), external_exports.record(external_exports.string(), external_exports.unknown())).optional()
})));
var GatewayImageModel = class {
  static {
    __name(this, "GatewayImageModel");
  }
  constructor(modelId, config2) {
    this.modelId = modelId;
    this.config = config2;
    this.specificationVersion = "v2";
    this.maxImagesPerCall = Number.MAX_SAFE_INTEGER;
  }
  get provider() {
    return this.config.provider;
  }
  async doGenerate({ prompt, n, size, aspectRatio, seed, providerOptions, headers, abortSignal }) {
    var _a83;
    const resolvedHeaders = await resolve(this.config.headers());
    try {
      const { responseHeaders, value: responseBody, rawValue } = await postJsonToApi({
        url: this.getUrl(),
        headers: combineHeaders(resolvedHeaders, headers != null ? headers : {}, this.getModelConfigHeaders(), await resolve(this.config.o11yHeaders)),
        body: {
          prompt,
          n,
          ...size && {
            size
          },
          ...aspectRatio && {
            aspectRatio
          },
          ...seed && {
            seed
          },
          ...providerOptions && {
            providerOptions
          }
        },
        successfulResponseHandler: createJsonResponseHandler(gatewayImageResponseSchema),
        failedResponseHandler: createJsonErrorResponseHandler({
          errorSchema: external_exports.any(),
          errorToMessage: /* @__PURE__ */ __name((data) => data, "errorToMessage")
        }),
        ...abortSignal && {
          abortSignal
        },
        fetch: this.config.fetch
      });
      return {
        images: responseBody.images,
        // Always base64 strings from server
        warnings: (_a83 = responseBody.warnings) != null ? _a83 : [],
        providerMetadata: responseBody.providerMetadata,
        response: {
          timestamp: /* @__PURE__ */ new Date(),
          modelId: this.modelId,
          headers: responseHeaders
        }
      };
    } catch (error45) {
      throw asGatewayError(error45, await parseAuthMethod(resolvedHeaders));
    }
  }
  getUrl() {
    return \`\${this.config.baseURL}/image-model\`;
  }
  getModelConfigHeaders() {
    return {
      "ai-image-model-specification-version": "2",
      "ai-model-id": this.modelId
    };
  }
};
var providerMetadataEntrySchema = external_exports.object({
  images: external_exports.array(external_exports.unknown()).optional()
}).catchall(external_exports.unknown());
var gatewayImageResponseSchema = external_exports.object({
  images: external_exports.array(external_exports.string()),
  // Always base64 strings over the wire
  warnings: external_exports.array(external_exports.object({
    type: external_exports.literal("other"),
    message: external_exports.string()
  })).optional(),
  providerMetadata: external_exports.record(external_exports.string(), providerMetadataEntrySchema).optional()
});
async function getVercelRequestId() {
  var _a83;
  return (_a83 = (0, import_oidc.getContext)().headers) == null ? void 0 : _a83["x-vercel-id"];
}
__name(getVercelRequestId, "getVercelRequestId");
var VERSION2 = true ? "2.0.17" : "0.0.0-test";
var AI_GATEWAY_PROTOCOL_VERSION = "0.0.1";
function createGatewayProvider(options = {}) {
  var _a83, _b8;
  let pendingMetadata = null;
  let metadataCache = null;
  const cacheRefreshMillis = (_a83 = options.metadataCacheRefreshMillis) != null ? _a83 : 1e3 * 60 * 5;
  let lastFetchTime = 0;
  const baseURL = (_b8 = withoutTrailingSlash(options.baseURL)) != null ? _b8 : "https://ai-gateway.vercel.sh/v1/ai";
  const getHeaders = /* @__PURE__ */ __name(async () => {
    const auth = await getGatewayAuthToken(options);
    if (auth) {
      return withUserAgentSuffix({
        Authorization: \`Bearer \${auth.token}\`,
        "ai-gateway-protocol-version": AI_GATEWAY_PROTOCOL_VERSION,
        [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,
        ...options.headers
      }, \`ai-sdk/gateway/\${VERSION2}\`);
    }
    throw GatewayAuthenticationError.createContextualError({
      apiKeyProvided: false,
      oidcTokenProvided: false,
      statusCode: 401
    });
  }, "getHeaders");
  const createO11yHeaders = /* @__PURE__ */ __name(() => {
    const deploymentId = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_DEPLOYMENT_ID"
    });
    const environment = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_ENV"
    });
    const region = loadOptionalSetting({
      settingValue: void 0,
      environmentVariableName: "VERCEL_REGION"
    });
    return async () => {
      const requestId = await getVercelRequestId();
      return {
        ...deploymentId && {
          "ai-o11y-deployment-id": deploymentId
        },
        ...environment && {
          "ai-o11y-environment": environment
        },
        ...region && {
          "ai-o11y-region": region
        },
        ...requestId && {
          "ai-o11y-request-id": requestId
        }
      };
    };
  }, "createO11yHeaders");
  const createLanguageModel = /* @__PURE__ */ __name((modelId) => {
    return new GatewayLanguageModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  }, "createLanguageModel");
  const getAvailableModels = /* @__PURE__ */ __name(async () => {
    var _a93, _b9, _c;
    const now = (_c = (_b9 = (_a93 = options._internal) == null ? void 0 : _a93.currentDate) == null ? void 0 : _b9.call(_a93).getTime()) != null ? _c : Date.now();
    if (!pendingMetadata || now - lastFetchTime > cacheRefreshMillis) {
      lastFetchTime = now;
      pendingMetadata = new GatewayFetchMetadata({
        baseURL,
        headers: getHeaders,
        fetch: options.fetch
      }).getAvailableModels().then((metadata) => {
        metadataCache = metadata;
        return metadata;
      }).catch(async (error45) => {
        throw await asGatewayError(error45, await parseAuthMethod(await getHeaders()));
      });
    }
    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;
  }, "getAvailableModels");
  const getCredits = /* @__PURE__ */ __name(async () => {
    return new GatewayFetchMetadata({
      baseURL,
      headers: getHeaders,
      fetch: options.fetch
    }).getCredits().catch(async (error45) => {
      throw await asGatewayError(error45, await parseAuthMethod(await getHeaders()));
    });
  }, "getCredits");
  const provider = /* @__PURE__ */ __name(function(modelId) {
    if (new.target) {
      throw new Error("The Gateway Provider model function cannot be called with the new keyword.");
    }
    return createLanguageModel(modelId);
  }, "provider");
  provider.getAvailableModels = getAvailableModels;
  provider.getCredits = getCredits;
  provider.imageModel = (modelId) => {
    return new GatewayImageModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  provider.languageModel = createLanguageModel;
  provider.textEmbeddingModel = (modelId) => {
    return new GatewayEmbeddingModel(modelId, {
      provider: "gateway",
      baseURL,
      headers: getHeaders,
      fetch: options.fetch,
      o11yHeaders: createO11yHeaders()
    });
  };
  return provider;
}
__name(createGatewayProvider, "createGatewayProvider");
var gateway = createGatewayProvider();
async function getGatewayAuthToken(options) {
  const apiKey = loadOptionalSetting({
    settingValue: options.apiKey,
    environmentVariableName: "AI_GATEWAY_API_KEY"
  });
  if (apiKey) {
    return {
      token: apiKey,
      authMethod: "api-key"
    };
  }
  try {
    const oidcToken = await (0, import_oidc2.getVercelOidcToken)();
    return {
      token: oidcToken,
      authMethod: "oidc"
    };
  } catch (e) {
    return null;
  }
}
__name(getGatewayAuthToken, "getGatewayAuthToken");

// ../../node_modules/.pnpm/ai@5.0.104_zod@4.1.11/node_modules/ai/dist/index.mjs
var import_api = __toESM(require_src(), 1);
var import_api2 = __toESM(require_src(), 1);
var __defProp2 = Object.defineProperty;
var __export2 = /* @__PURE__ */ __name((target, all) => {
  for (var name16 in all) __defProp2(target, name16, {
    get: all[name16],
    enumerable: true
  });
}, "__export");
var name15 = "AI_NoOutputSpecifiedError";
var marker16 = \`vercel.ai.error.\${name15}\`;
var symbol17 = Symbol.for(marker16);
var _a16;
var NoOutputSpecifiedError = class extends AISDKError {
  static {
    __name(this, "NoOutputSpecifiedError");
  }
  // used in isInstance
  constructor({ message = "No output specified." } = {}) {
    super({
      name: name15,
      message
    });
    this[_a16] = true;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker16);
  }
};
_a16 = symbol17;
function formatWarning(warning) {
  const prefix = "AI SDK Warning:";
  switch (warning.type) {
    case "unsupported-setting": {
      let message = \`\${prefix} The "\${warning.setting}" setting is not supported by this model\`;
      if (warning.details) {
        message += \` - \${warning.details}\`;
      }
      return message;
    }
    case "unsupported-tool": {
      const toolName = "name" in warning.tool ? warning.tool.name : "unknown tool";
      let message = \`\${prefix} The tool "\${toolName}" is not supported by this model\`;
      if (warning.details) {
        message += \` - \${warning.details}\`;
      }
      return message;
    }
    case "other": {
      return \`\${prefix} \${warning.message}\`;
    }
    default: {
      return \`\${prefix} \${JSON.stringify(warning, null, 2)}\`;
    }
  }
}
__name(formatWarning, "formatWarning");
var FIRST_WARNING_INFO_MESSAGE = "AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.";
var hasLoggedBefore = false;
var logWarnings = /* @__PURE__ */ __name((warnings) => {
  if (warnings.length === 0) {
    return;
  }
  const logger = globalThis.AI_SDK_LOG_WARNINGS;
  if (logger === false) {
    return;
  }
  if (typeof logger === "function") {
    logger(warnings);
    return;
  }
  if (!hasLoggedBefore) {
    hasLoggedBefore = true;
    console.info(FIRST_WARNING_INFO_MESSAGE);
  }
  for (const warning of warnings) {
    console.warn(formatWarning(warning));
  }
}, "logWarnings");
var name23 = "AI_InvalidArgumentError";
var marker23 = \`vercel.ai.error.\${name23}\`;
var symbol23 = Symbol.for(marker23);
var _a23;
var InvalidArgumentError2 = class extends AISDKError {
  static {
    __name(this, "InvalidArgumentError");
  }
  constructor({ parameter, value, message }) {
    super({
      name: name23,
      message: \`Invalid argument for parameter \${parameter}: \${message}\`
    });
    this[_a23] = true;
    this.parameter = parameter;
    this.value = value;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker23);
  }
};
_a23 = symbol23;
var name33 = "AI_InvalidStreamPartError";
var marker33 = \`vercel.ai.error.\${name33}\`;
var symbol33 = Symbol.for(marker33);
var _a33;
_a33 = symbol33;
var name43 = "AI_InvalidToolInputError";
var marker43 = \`vercel.ai.error.\${name43}\`;
var symbol43 = Symbol.for(marker43);
var _a43;
var InvalidToolInputError = class extends AISDKError {
  static {
    __name(this, "InvalidToolInputError");
  }
  constructor({ toolInput, toolName, cause, message = \`Invalid input for tool \${toolName}: \${getErrorMessage(cause)}\` }) {
    super({
      name: name43,
      message,
      cause
    });
    this[_a43] = true;
    this.toolInput = toolInput;
    this.toolName = toolName;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker43);
  }
};
_a43 = symbol43;
var name53 = "AI_NoImageGeneratedError";
var marker53 = \`vercel.ai.error.\${name53}\`;
var symbol53 = Symbol.for(marker53);
var _a53;
_a53 = symbol53;
var name63 = "AI_NoObjectGeneratedError";
var marker63 = \`vercel.ai.error.\${name63}\`;
var symbol63 = Symbol.for(marker63);
var _a63;
var NoObjectGeneratedError = class extends AISDKError {
  static {
    __name(this, "NoObjectGeneratedError");
  }
  constructor({ message = "No object generated.", cause, text: text2, response, usage, finishReason }) {
    super({
      name: name63,
      message,
      cause
    });
    this[_a63] = true;
    this.text = text2;
    this.response = response;
    this.usage = usage;
    this.finishReason = finishReason;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker63);
  }
};
_a63 = symbol63;
var name72 = "AI_NoOutputGeneratedError";
var marker73 = \`vercel.ai.error.\${name72}\`;
var symbol73 = Symbol.for(marker73);
var _a73;
_a73 = symbol73;
var name82 = "AI_NoSuchToolError";
var marker82 = \`vercel.ai.error.\${name82}\`;
var symbol82 = Symbol.for(marker82);
var _a82;
var NoSuchToolError = class extends AISDKError {
  static {
    __name(this, "NoSuchToolError");
  }
  constructor({ toolName, availableTools = void 0, message = \`Model tried to call unavailable tool '\${toolName}'. \${availableTools === void 0 ? "No tools are available." : \`Available tools: \${availableTools.join(", ")}.\`}\` }) {
    super({
      name: name82,
      message
    });
    this[_a82] = true;
    this.toolName = toolName;
    this.availableTools = availableTools;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker82);
  }
};
_a82 = symbol82;
var name92 = "AI_ToolCallRepairError";
var marker92 = \`vercel.ai.error.\${name92}\`;
var symbol92 = Symbol.for(marker92);
var _a92;
var ToolCallRepairError = class extends AISDKError {
  static {
    __name(this, "ToolCallRepairError");
  }
  constructor({ cause, originalError, message = \`Error repairing tool call: \${getErrorMessage(cause)}\` }) {
    super({
      name: name92,
      message,
      cause
    });
    this[_a92] = true;
    this.originalError = originalError;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker92);
  }
};
_a92 = symbol92;
var UnsupportedModelVersionError = class extends AISDKError {
  static {
    __name(this, "UnsupportedModelVersionError");
  }
  constructor(options) {
    super({
      name: "AI_UnsupportedModelVersionError",
      message: \`Unsupported model version \${options.version} for provider "\${options.provider}" and model "\${options.modelId}". AI SDK 5 only supports models that implement specification version "v2".\`
    });
    this.version = options.version;
    this.provider = options.provider;
    this.modelId = options.modelId;
  }
};
var name102 = "AI_InvalidDataContentError";
var marker102 = \`vercel.ai.error.\${name102}\`;
var symbol102 = Symbol.for(marker102);
var _a102;
_a102 = symbol102;
var name112 = "AI_InvalidMessageRoleError";
var marker112 = \`vercel.ai.error.\${name112}\`;
var symbol112 = Symbol.for(marker112);
var _a112;
var InvalidMessageRoleError = class extends AISDKError {
  static {
    __name(this, "InvalidMessageRoleError");
  }
  constructor({ role, message = \`Invalid message role: '\${role}'. Must be one of: "system", "user", "assistant", "tool".\` }) {
    super({
      name: name112,
      message
    });
    this[_a112] = true;
    this.role = role;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker112);
  }
};
_a112 = symbol112;
var name122 = "AI_MessageConversionError";
var marker122 = \`vercel.ai.error.\${name122}\`;
var symbol122 = Symbol.for(marker122);
var _a122;
_a122 = symbol122;
var name132 = "AI_DownloadError";
var marker132 = \`vercel.ai.error.\${name132}\`;
var symbol132 = Symbol.for(marker132);
var _a132;
var DownloadError = class extends AISDKError {
  static {
    __name(this, "DownloadError");
  }
  constructor({ url: url2, statusCode, statusText, cause, message = cause == null ? \`Failed to download \${url2}: \${statusCode} \${statusText}\` : \`Failed to download \${url2}: \${cause}\` }) {
    super({
      name: name132,
      message,
      cause
    });
    this[_a132] = true;
    this.url = url2;
    this.statusCode = statusCode;
    this.statusText = statusText;
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker132);
  }
};
_a132 = symbol132;
var name142 = "AI_RetryError";
var marker142 = \`vercel.ai.error.\${name142}\`;
var symbol142 = Symbol.for(marker142);
var _a142;
var RetryError = class extends AISDKError {
  static {
    __name(this, "RetryError");
  }
  constructor({ message, reason, errors }) {
    super({
      name: name142,
      message
    });
    this[_a142] = true;
    this.reason = reason;
    this.errors = errors;
    this.lastError = errors[errors.length - 1];
  }
  static isInstance(error45) {
    return AISDKError.hasMarker(error45, marker142);
  }
};
_a142 = symbol142;
function resolveLanguageModel(model) {
  if (typeof model !== "string") {
    if (model.specificationVersion !== "v2") {
      throw new UnsupportedModelVersionError({
        version: model.specificationVersion,
        provider: model.provider,
        modelId: model.modelId
      });
    }
    return model;
  }
  return getGlobalProvider().languageModel(model);
}
__name(resolveLanguageModel, "resolveLanguageModel");
function getGlobalProvider() {
  var _a162;
  return (_a162 = globalThis.AI_SDK_DEFAULT_PROVIDER) != null ? _a162 : gateway;
}
__name(getGlobalProvider, "getGlobalProvider");
var imageMediaTypeSignatures = [
  {
    mediaType: "image/gif",
    bytesPrefix: [
      71,
      73,
      70
    ]
  },
  {
    mediaType: "image/png",
    bytesPrefix: [
      137,
      80,
      78,
      71
    ]
  },
  {
    mediaType: "image/jpeg",
    bytesPrefix: [
      255,
      216
    ]
  },
  {
    mediaType: "image/webp",
    bytesPrefix: [
      82,
      73,
      70,
      70,
      // "RIFF"
      null,
      null,
      null,
      null,
      // file size (variable)
      87,
      69,
      66,
      80
    ]
  },
  {
    mediaType: "image/bmp",
    bytesPrefix: [
      66,
      77
    ]
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [
      73,
      73,
      42,
      0
    ]
  },
  {
    mediaType: "image/tiff",
    bytesPrefix: [
      77,
      77,
      0,
      42
    ]
  },
  {
    mediaType: "image/avif",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      97,
      118,
      105,
      102
    ]
  },
  {
    mediaType: "image/heic",
    bytesPrefix: [
      0,
      0,
      0,
      32,
      102,
      116,
      121,
      112,
      104,
      101,
      105,
      99
    ]
  }
];
var stripID3 = /* @__PURE__ */ __name((data) => {
  const bytes = typeof data === "string" ? convertBase64ToUint8Array(data) : data;
  const id3Size = (bytes[6] & 127) << 21 | (bytes[7] & 127) << 14 | (bytes[8] & 127) << 7 | bytes[9] & 127;
  return bytes.slice(id3Size + 10);
}, "stripID3");
function stripID3TagsIfPresent(data) {
  const hasId3 = typeof data === "string" && data.startsWith("SUQz") || typeof data !== "string" && data.length > 10 && data[0] === 73 && // 'I'
  data[1] === 68 && // 'D'
  data[2] === 51;
  return hasId3 ? stripID3(data) : data;
}
__name(stripID3TagsIfPresent, "stripID3TagsIfPresent");
function detectMediaType({ data, signatures }) {
  const processedData = stripID3TagsIfPresent(data);
  const bytes = typeof processedData === "string" ? convertBase64ToUint8Array(processedData.substring(0, Math.min(processedData.length, 24))) : processedData;
  for (const signature of signatures) {
    if (bytes.length >= signature.bytesPrefix.length && signature.bytesPrefix.every((byte, index) => byte === null || bytes[index] === byte)) {
      return signature.mediaType;
    }
  }
  return void 0;
}
__name(detectMediaType, "detectMediaType");
var VERSION3 = true ? "5.0.104" : "0.0.0-test";
var download = /* @__PURE__ */ __name(async ({ url: url2 }) => {
  var _a162;
  const urlText = url2.toString();
  try {
    const response = await fetch(urlText, {
      headers: withUserAgentSuffix({}, \`ai-sdk/\${VERSION3}\`, getRuntimeEnvironmentUserAgent())
    });
    if (!response.ok) {
      throw new DownloadError({
        url: urlText,
        statusCode: response.status,
        statusText: response.statusText
      });
    }
    return {
      data: new Uint8Array(await response.arrayBuffer()),
      mediaType: (_a162 = response.headers.get("content-type")) != null ? _a162 : void 0
    };
  } catch (error45) {
    if (DownloadError.isInstance(error45)) {
      throw error45;
    }
    throw new DownloadError({
      url: urlText,
      cause: error45
    });
  }
}, "download");
var createDefaultDownloadFunction = /* @__PURE__ */ __name((download2 = download) => (requestedDownloads) => Promise.all(requestedDownloads.map(async (requestedDownload) => requestedDownload.isUrlSupportedByModel ? null : download2(requestedDownload))), "createDefaultDownloadFunction");
function splitDataUrl(dataUrl) {
  try {
    const [header, base64Content] = dataUrl.split(",");
    return {
      mediaType: header.split(";")[0].split(":")[1],
      base64Content
    };
  } catch (error45) {
    return {
      mediaType: void 0,
      base64Content: void 0
    };
  }
}
__name(splitDataUrl, "splitDataUrl");
var dataContentSchema = external_exports.union([
  external_exports.string(),
  external_exports.instanceof(Uint8Array),
  external_exports.instanceof(ArrayBuffer),
  external_exports.custom(
    // Buffer might not be available in some environments such as CloudFlare:
    (value) => {
      var _a162, _b8;
      return (_b8 = (_a162 = globalThis.Buffer) == null ? void 0 : _a162.isBuffer(value)) != null ? _b8 : false;
    },
    {
      message: "Must be a Buffer"
    }
  )
]);
function convertToLanguageModelV2DataContent(content) {
  if (content instanceof Uint8Array) {
    return {
      data: content,
      mediaType: void 0
    };
  }
  if (content instanceof ArrayBuffer) {
    return {
      data: new Uint8Array(content),
      mediaType: void 0
    };
  }
  if (typeof content === "string") {
    try {
      content = new URL(content);
    } catch (error45) {
    }
  }
  if (content instanceof URL && content.protocol === "data:") {
    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(content.toString());
    if (dataUrlMediaType == null || base64Content == null) {
      throw new AISDKError({
        name: "InvalidDataContentError",
        message: \`Invalid data URL format in content \${content.toString()}\`
      });
    }
    return {
      data: base64Content,
      mediaType: dataUrlMediaType
    };
  }
  return {
    data: content,
    mediaType: void 0
  };
}
__name(convertToLanguageModelV2DataContent, "convertToLanguageModelV2DataContent");
function convertDataContentToBase64String(content) {
  if (typeof content === "string") {
    return content;
  }
  if (content instanceof ArrayBuffer) {
    return convertUint8ArrayToBase64(new Uint8Array(content));
  }
  return convertUint8ArrayToBase64(content);
}
__name(convertDataContentToBase64String, "convertDataContentToBase64String");
async function convertToLanguageModelPrompt({ prompt, supportedUrls, download: download2 = createDefaultDownloadFunction() }) {
  const downloadedAssets = await downloadAssets(prompt.messages, download2, supportedUrls);
  return [
    ...prompt.system != null ? [
      {
        role: "system",
        content: prompt.system
      }
    ] : [],
    ...prompt.messages.map((message) => convertToLanguageModelMessage({
      message,
      downloadedAssets
    }))
  ];
}
__name(convertToLanguageModelPrompt, "convertToLanguageModelPrompt");
function convertToLanguageModelMessage({ message, downloadedAssets }) {
  const role = message.role;
  switch (role) {
    case "system": {
      return {
        role: "system",
        content: message.content,
        providerOptions: message.providerOptions
      };
    }
    case "user": {
      if (typeof message.content === "string") {
        return {
          role: "user",
          content: [
            {
              type: "text",
              text: message.content
            }
          ],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "user",
        content: message.content.map((part) => convertPartToLanguageModelPart(part, downloadedAssets)).filter((part) => part.type !== "text" || part.text !== ""),
        providerOptions: message.providerOptions
      };
    }
    case "assistant": {
      if (typeof message.content === "string") {
        return {
          role: "assistant",
          content: [
            {
              type: "text",
              text: message.content
            }
          ],
          providerOptions: message.providerOptions
        };
      }
      return {
        role: "assistant",
        content: message.content.filter(
          // remove empty text parts (no text, and no provider options):
          (part) => part.type !== "text" || part.text !== "" || part.providerOptions != null
        ).map((part) => {
          const providerOptions = part.providerOptions;
          switch (part.type) {
            case "file": {
              const { data, mediaType } = convertToLanguageModelV2DataContent(part.data);
              return {
                type: "file",
                data,
                filename: part.filename,
                mediaType: mediaType != null ? mediaType : part.mediaType,
                providerOptions
              };
            }
            case "reasoning": {
              return {
                type: "reasoning",
                text: part.text,
                providerOptions
              };
            }
            case "text": {
              return {
                type: "text",
                text: part.text,
                providerOptions
              };
            }
            case "tool-call": {
              return {
                type: "tool-call",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                input: part.input,
                providerExecuted: part.providerExecuted,
                providerOptions
              };
            }
            case "tool-result": {
              return {
                type: "tool-result",
                toolCallId: part.toolCallId,
                toolName: part.toolName,
                output: part.output,
                providerOptions
              };
            }
          }
        }),
        providerOptions: message.providerOptions
      };
    }
    case "tool": {
      return {
        role: "tool",
        content: message.content.map((part) => ({
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: part.output,
          providerOptions: part.providerOptions
        })),
        providerOptions: message.providerOptions
      };
    }
    default: {
      const _exhaustiveCheck = role;
      throw new InvalidMessageRoleError({
        role: _exhaustiveCheck
      });
    }
  }
}
__name(convertToLanguageModelMessage, "convertToLanguageModelMessage");
async function downloadAssets(messages, download2, supportedUrls) {
  const plannedDownloads = messages.filter((message) => message.role === "user").map((message) => message.content).filter((content) => Array.isArray(content)).flat().filter((part) => part.type === "image" || part.type === "file").map((part) => {
    var _a162;
    const mediaType = (_a162 = part.mediaType) != null ? _a162 : part.type === "image" ? "image/*" : void 0;
    let data = part.type === "image" ? part.image : part.data;
    if (typeof data === "string") {
      try {
        data = new URL(data);
      } catch (ignored) {
      }
    }
    return {
      mediaType,
      data
    };
  }).filter((part) => part.data instanceof URL).map((part) => ({
    url: part.data,
    isUrlSupportedByModel: part.mediaType != null && isUrlSupported({
      url: part.data.toString(),
      mediaType: part.mediaType,
      supportedUrls
    })
  }));
  const downloadedFiles = await download2(plannedDownloads);
  return Object.fromEntries(downloadedFiles.map((file2, index) => file2 == null ? null : [
    plannedDownloads[index].url.toString(),
    {
      data: file2.data,
      mediaType: file2.mediaType
    }
  ]).filter((file2) => file2 != null));
}
__name(downloadAssets, "downloadAssets");
function convertPartToLanguageModelPart(part, downloadedAssets) {
  var _a162;
  if (part.type === "text") {
    return {
      type: "text",
      text: part.text,
      providerOptions: part.providerOptions
    };
  }
  let originalData;
  const type = part.type;
  switch (type) {
    case "image":
      originalData = part.image;
      break;
    case "file":
      originalData = part.data;
      break;
    default:
      throw new Error(\`Unsupported part type: \${type}\`);
  }
  const { data: convertedData, mediaType: convertedMediaType } = convertToLanguageModelV2DataContent(originalData);
  let mediaType = convertedMediaType != null ? convertedMediaType : part.mediaType;
  let data = convertedData;
  if (data instanceof URL) {
    const downloadedFile = downloadedAssets[data.toString()];
    if (downloadedFile) {
      data = downloadedFile.data;
      mediaType != null ? mediaType : mediaType = downloadedFile.mediaType;
    }
  }
  switch (type) {
    case "image": {
      if (data instanceof Uint8Array || typeof data === "string") {
        mediaType = (_a162 = detectMediaType({
          data,
          signatures: imageMediaTypeSignatures
        })) != null ? _a162 : mediaType;
      }
      return {
        type: "file",
        mediaType: mediaType != null ? mediaType : "image/*",
        // any image
        filename: void 0,
        data,
        providerOptions: part.providerOptions
      };
    }
    case "file": {
      if (mediaType == null) {
        throw new Error(\`Media type is missing for file part\`);
      }
      return {
        type: "file",
        mediaType,
        filename: part.filename,
        data,
        providerOptions: part.providerOptions
      };
    }
  }
}
__name(convertPartToLanguageModelPart, "convertPartToLanguageModelPart");
function prepareCallSettings({ maxOutputTokens, temperature, topP, topK, presencePenalty, frequencyPenalty, seed, stopSequences }) {
  if (maxOutputTokens != null) {
    if (!Number.isInteger(maxOutputTokens)) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be an integer"
      });
    }
    if (maxOutputTokens < 1) {
      throw new InvalidArgumentError2({
        parameter: "maxOutputTokens",
        value: maxOutputTokens,
        message: "maxOutputTokens must be >= 1"
      });
    }
  }
  if (temperature != null) {
    if (typeof temperature !== "number") {
      throw new InvalidArgumentError2({
        parameter: "temperature",
        value: temperature,
        message: "temperature must be a number"
      });
    }
  }
  if (topP != null) {
    if (typeof topP !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topP",
        value: topP,
        message: "topP must be a number"
      });
    }
  }
  if (topK != null) {
    if (typeof topK !== "number") {
      throw new InvalidArgumentError2({
        parameter: "topK",
        value: topK,
        message: "topK must be a number"
      });
    }
  }
  if (presencePenalty != null) {
    if (typeof presencePenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "presencePenalty",
        value: presencePenalty,
        message: "presencePenalty must be a number"
      });
    }
  }
  if (frequencyPenalty != null) {
    if (typeof frequencyPenalty !== "number") {
      throw new InvalidArgumentError2({
        parameter: "frequencyPenalty",
        value: frequencyPenalty,
        message: "frequencyPenalty must be a number"
      });
    }
  }
  if (seed != null) {
    if (!Number.isInteger(seed)) {
      throw new InvalidArgumentError2({
        parameter: "seed",
        value: seed,
        message: "seed must be an integer"
      });
    }
  }
  return {
    maxOutputTokens,
    temperature,
    topP,
    topK,
    presencePenalty,
    frequencyPenalty,
    stopSequences,
    seed
  };
}
__name(prepareCallSettings, "prepareCallSettings");
function isNonEmptyObject(object22) {
  return object22 != null && Object.keys(object22).length > 0;
}
__name(isNonEmptyObject, "isNonEmptyObject");
function prepareToolsAndToolChoice({ tools, toolChoice, activeTools }) {
  if (!isNonEmptyObject(tools)) {
    return {
      tools: void 0,
      toolChoice: void 0
    };
  }
  const filteredTools = activeTools != null ? Object.entries(tools).filter(([name16]) => activeTools.includes(name16)) : Object.entries(tools);
  return {
    tools: filteredTools.map(([name16, tool2]) => {
      const toolType = tool2.type;
      switch (toolType) {
        case void 0:
        case "dynamic":
        case "function":
          return {
            type: "function",
            name: name16,
            description: tool2.description,
            inputSchema: asSchema(tool2.inputSchema).jsonSchema,
            providerOptions: tool2.providerOptions
          };
        case "provider-defined":
          return {
            type: "provider-defined",
            name: name16,
            id: tool2.id,
            args: tool2.args
          };
        default: {
          const exhaustiveCheck = toolType;
          throw new Error(\`Unsupported tool type: \${exhaustiveCheck}\`);
        }
      }
    }),
    toolChoice: toolChoice == null ? {
      type: "auto"
    } : typeof toolChoice === "string" ? {
      type: toolChoice
    } : {
      type: "tool",
      toolName: toolChoice.toolName
    }
  };
}
__name(prepareToolsAndToolChoice, "prepareToolsAndToolChoice");
var jsonValueSchema = external_exports.lazy(() => external_exports.union([
  external_exports.null(),
  external_exports.string(),
  external_exports.number(),
  external_exports.boolean(),
  external_exports.record(external_exports.string(), jsonValueSchema),
  external_exports.array(jsonValueSchema)
]));
var providerMetadataSchema = external_exports.record(external_exports.string(), external_exports.record(external_exports.string(), jsonValueSchema));
var textPartSchema = external_exports.object({
  type: external_exports.literal("text"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var imagePartSchema = external_exports.object({
  type: external_exports.literal("image"),
  image: external_exports.union([
    dataContentSchema,
    external_exports.instanceof(URL)
  ]),
  mediaType: external_exports.string().optional(),
  providerOptions: providerMetadataSchema.optional()
});
var filePartSchema = external_exports.object({
  type: external_exports.literal("file"),
  data: external_exports.union([
    dataContentSchema,
    external_exports.instanceof(URL)
  ]),
  filename: external_exports.string().optional(),
  mediaType: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var reasoningPartSchema = external_exports.object({
  type: external_exports.literal("reasoning"),
  text: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var toolCallPartSchema = external_exports.object({
  type: external_exports.literal("tool-call"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  input: external_exports.unknown(),
  providerOptions: providerMetadataSchema.optional(),
  providerExecuted: external_exports.boolean().optional()
});
var outputSchema = external_exports.discriminatedUnion("type", [
  external_exports.object({
    type: external_exports.literal("text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("error-text"),
    value: external_exports.string()
  }),
  external_exports.object({
    type: external_exports.literal("error-json"),
    value: jsonValueSchema
  }),
  external_exports.object({
    type: external_exports.literal("content"),
    value: external_exports.array(external_exports.union([
      external_exports.object({
        type: external_exports.literal("text"),
        text: external_exports.string()
      }),
      external_exports.object({
        type: external_exports.literal("media"),
        data: external_exports.string(),
        mediaType: external_exports.string()
      })
    ]))
  })
]);
var toolResultPartSchema = external_exports.object({
  type: external_exports.literal("tool-result"),
  toolCallId: external_exports.string(),
  toolName: external_exports.string(),
  output: outputSchema,
  providerOptions: providerMetadataSchema.optional()
});
var systemModelMessageSchema = external_exports.object({
  role: external_exports.literal("system"),
  content: external_exports.string(),
  providerOptions: providerMetadataSchema.optional()
});
var userModelMessageSchema = external_exports.object({
  role: external_exports.literal("user"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(external_exports.union([
      textPartSchema,
      imagePartSchema,
      filePartSchema
    ]))
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var assistantModelMessageSchema = external_exports.object({
  role: external_exports.literal("assistant"),
  content: external_exports.union([
    external_exports.string(),
    external_exports.array(external_exports.union([
      textPartSchema,
      filePartSchema,
      reasoningPartSchema,
      toolCallPartSchema,
      toolResultPartSchema
    ]))
  ]),
  providerOptions: providerMetadataSchema.optional()
});
var toolModelMessageSchema = external_exports.object({
  role: external_exports.literal("tool"),
  content: external_exports.array(toolResultPartSchema),
  providerOptions: providerMetadataSchema.optional()
});
var modelMessageSchema = external_exports.union([
  systemModelMessageSchema,
  userModelMessageSchema,
  assistantModelMessageSchema,
  toolModelMessageSchema
]);
async function standardizePrompt(prompt) {
  if (prompt.prompt == null && prompt.messages == null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (prompt.prompt != null && prompt.messages != null) {
    throw new InvalidPromptError({
      prompt,
      message: "prompt and messages cannot be defined at the same time"
    });
  }
  if (prompt.system != null && typeof prompt.system !== "string") {
    throw new InvalidPromptError({
      prompt,
      message: "system must be a string"
    });
  }
  let messages;
  if (prompt.prompt != null && typeof prompt.prompt === "string") {
    messages = [
      {
        role: "user",
        content: prompt.prompt
      }
    ];
  } else if (prompt.prompt != null && Array.isArray(prompt.prompt)) {
    messages = prompt.prompt;
  } else if (prompt.messages != null) {
    messages = prompt.messages;
  } else {
    throw new InvalidPromptError({
      prompt,
      message: "prompt or messages must be defined"
    });
  }
  if (messages.length === 0) {
    throw new InvalidPromptError({
      prompt,
      message: "messages must not be empty"
    });
  }
  const validationResult = await safeValidateTypes({
    value: messages,
    schema: external_exports.array(modelMessageSchema)
  });
  if (!validationResult.success) {
    throw new InvalidPromptError({
      prompt,
      message: "The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",
      cause: validationResult.error
    });
  }
  return {
    messages,
    system: prompt.system
  };
}
__name(standardizePrompt, "standardizePrompt");
function wrapGatewayError(error45) {
  if (GatewayAuthenticationError.isInstance(error45) || GatewayModelNotFoundError.isInstance(error45)) {
    return new AISDKError({
      name: "GatewayError",
      message: "Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",
      cause: error45
    });
  }
  return error45;
}
__name(wrapGatewayError, "wrapGatewayError");
function assembleOperationName({ operationId, telemetry }) {
  return {
    // standardized operation and resource name:
    "operation.name": \`\${operationId}\${(telemetry == null ? void 0 : telemetry.functionId) != null ? \` \${telemetry.functionId}\` : ""}\`,
    "resource.name": telemetry == null ? void 0 : telemetry.functionId,
    // detailed, AI SDK specific data:
    "ai.operationId": operationId,
    "ai.telemetry.functionId": telemetry == null ? void 0 : telemetry.functionId
  };
}
__name(assembleOperationName, "assembleOperationName");
function getBaseTelemetryAttributes({ model, settings, telemetry, headers }) {
  var _a162;
  return {
    "ai.model.provider": model.provider,
    "ai.model.id": model.modelId,
    // settings:
    ...Object.entries(settings).reduce((attributes, [key, value]) => {
      attributes[\`ai.settings.\${key}\`] = value;
      return attributes;
    }, {}),
    // add metadata as attributes:
    ...Object.entries((_a162 = telemetry == null ? void 0 : telemetry.metadata) != null ? _a162 : {}).reduce((attributes, [key, value]) => {
      attributes[\`ai.telemetry.metadata.\${key}\`] = value;
      return attributes;
    }, {}),
    // request headers
    ...Object.entries(headers != null ? headers : {}).reduce((attributes, [key, value]) => {
      if (value !== void 0) {
        attributes[\`ai.request.headers.\${key}\`] = value;
      }
      return attributes;
    }, {})
  };
}
__name(getBaseTelemetryAttributes, "getBaseTelemetryAttributes");
var noopTracer = {
  startSpan() {
    return noopSpan;
  },
  startActiveSpan(name16, arg1, arg2, arg3) {
    if (typeof arg1 === "function") {
      return arg1(noopSpan);
    }
    if (typeof arg2 === "function") {
      return arg2(noopSpan);
    }
    if (typeof arg3 === "function") {
      return arg3(noopSpan);
    }
  }
};
var noopSpan = {
  spanContext() {
    return noopSpanContext;
  },
  setAttribute() {
    return this;
  },
  setAttributes() {
    return this;
  },
  addEvent() {
    return this;
  },
  addLink() {
    return this;
  },
  addLinks() {
    return this;
  },
  setStatus() {
    return this;
  },
  updateName() {
    return this;
  },
  end() {
    return this;
  },
  isRecording() {
    return false;
  },
  recordException() {
    return this;
  }
};
var noopSpanContext = {
  traceId: "",
  spanId: "",
  traceFlags: 0
};
function getTracer({ isEnabled = false, tracer } = {}) {
  if (!isEnabled) {
    return noopTracer;
  }
  if (tracer) {
    return tracer;
  }
  return import_api.trace.getTracer("ai");
}
__name(getTracer, "getTracer");
function recordSpan({ name: name16, tracer, attributes, fn, endWhenDone = true }) {
  return tracer.startActiveSpan(name16, {
    attributes
  }, async (span) => {
    try {
      const result = await fn(span);
      if (endWhenDone) {
        span.end();
      }
      return result;
    } catch (error45) {
      try {
        recordErrorOnSpan(span, error45);
      } finally {
        span.end();
      }
      throw error45;
    }
  });
}
__name(recordSpan, "recordSpan");
function recordErrorOnSpan(span, error45) {
  if (error45 instanceof Error) {
    span.recordException({
      name: error45.name,
      message: error45.message,
      stack: error45.stack
    });
    span.setStatus({
      code: import_api2.SpanStatusCode.ERROR,
      message: error45.message
    });
  } else {
    span.setStatus({
      code: import_api2.SpanStatusCode.ERROR
    });
  }
}
__name(recordErrorOnSpan, "recordErrorOnSpan");
function selectTelemetryAttributes({ telemetry, attributes }) {
  if ((telemetry == null ? void 0 : telemetry.isEnabled) !== true) {
    return {};
  }
  return Object.entries(attributes).reduce((attributes2, [key, value]) => {
    if (value == null) {
      return attributes2;
    }
    if (typeof value === "object" && "input" in value && typeof value.input === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordInputs) === false) {
        return attributes2;
      }
      const result = value.input();
      return result == null ? attributes2 : {
        ...attributes2,
        [key]: result
      };
    }
    if (typeof value === "object" && "output" in value && typeof value.output === "function") {
      if ((telemetry == null ? void 0 : telemetry.recordOutputs) === false) {
        return attributes2;
      }
      const result = value.output();
      return result == null ? attributes2 : {
        ...attributes2,
        [key]: result
      };
    }
    return {
      ...attributes2,
      [key]: value
    };
  }, {});
}
__name(selectTelemetryAttributes, "selectTelemetryAttributes");
function stringifyForTelemetry(prompt) {
  return JSON.stringify(prompt.map((message) => ({
    ...message,
    content: typeof message.content === "string" ? message.content : message.content.map((part) => part.type === "file" ? {
      ...part,
      data: part.data instanceof Uint8Array ? convertDataContentToBase64String(part.data) : part.data
    } : part)
  })));
}
__name(stringifyForTelemetry, "stringifyForTelemetry");
function addLanguageModelUsage(usage1, usage2) {
  return {
    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),
    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),
    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens),
    reasoningTokens: addTokenCounts(usage1.reasoningTokens, usage2.reasoningTokens),
    cachedInputTokens: addTokenCounts(usage1.cachedInputTokens, usage2.cachedInputTokens)
  };
}
__name(addLanguageModelUsage, "addLanguageModelUsage");
function addTokenCounts(tokenCount1, tokenCount2) {
  return tokenCount1 == null && tokenCount2 == null ? void 0 : (tokenCount1 != null ? tokenCount1 : 0) + (tokenCount2 != null ? tokenCount2 : 0);
}
__name(addTokenCounts, "addTokenCounts");
function asArray(value) {
  return value === void 0 ? [] : Array.isArray(value) ? value : [
    value
  ];
}
__name(asArray, "asArray");
function getRetryDelayInMs({ error: error45, exponentialBackoffDelay }) {
  const headers = error45.responseHeaders;
  if (!headers) return exponentialBackoffDelay;
  let ms2;
  const retryAfterMs = headers["retry-after-ms"];
  if (retryAfterMs) {
    const timeoutMs = parseFloat(retryAfterMs);
    if (!Number.isNaN(timeoutMs)) {
      ms2 = timeoutMs;
    }
  }
  const retryAfter = headers["retry-after"];
  if (retryAfter && ms2 === void 0) {
    const timeoutSeconds = parseFloat(retryAfter);
    if (!Number.isNaN(timeoutSeconds)) {
      ms2 = timeoutSeconds * 1e3;
    } else {
      ms2 = Date.parse(retryAfter) - Date.now();
    }
  }
  if (ms2 != null && !Number.isNaN(ms2) && 0 <= ms2 && (ms2 < 60 * 1e3 || ms2 < exponentialBackoffDelay)) {
    return ms2;
  }
  return exponentialBackoffDelay;
}
__name(getRetryDelayInMs, "getRetryDelayInMs");
var retryWithExponentialBackoffRespectingRetryHeaders = /* @__PURE__ */ __name(({ maxRetries = 2, initialDelayInMs = 2e3, backoffFactor = 2, abortSignal } = {}) => async (f) => _retryWithExponentialBackoff(f, {
  maxRetries,
  delayInMs: initialDelayInMs,
  backoffFactor,
  abortSignal
}), "retryWithExponentialBackoffRespectingRetryHeaders");
async function _retryWithExponentialBackoff(f, { maxRetries, delayInMs, backoffFactor, abortSignal }, errors = []) {
  try {
    return await f();
  } catch (error45) {
    if (isAbortError(error45)) {
      throw error45;
    }
    if (maxRetries === 0) {
      throw error45;
    }
    const errorMessage = getErrorMessage2(error45);
    const newErrors = [
      ...errors,
      error45
    ];
    const tryNumber = newErrors.length;
    if (tryNumber > maxRetries) {
      throw new RetryError({
        message: \`Failed after \${tryNumber} attempts. Last error: \${errorMessage}\`,
        reason: "maxRetriesExceeded",
        errors: newErrors
      });
    }
    if (error45 instanceof Error && APICallError.isInstance(error45) && error45.isRetryable === true && tryNumber <= maxRetries) {
      await delay(getRetryDelayInMs({
        error: error45,
        exponentialBackoffDelay: delayInMs
      }), {
        abortSignal
      });
      return _retryWithExponentialBackoff(f, {
        maxRetries,
        delayInMs: backoffFactor * delayInMs,
        backoffFactor,
        abortSignal
      }, newErrors);
    }
    if (tryNumber === 1) {
      throw error45;
    }
    throw new RetryError({
      message: \`Failed after \${tryNumber} attempts with non-retryable error: '\${errorMessage}'\`,
      reason: "errorNotRetryable",
      errors: newErrors
    });
  }
}
__name(_retryWithExponentialBackoff, "_retryWithExponentialBackoff");
function prepareRetries({ maxRetries, abortSignal }) {
  if (maxRetries != null) {
    if (!Number.isInteger(maxRetries)) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be an integer"
      });
    }
    if (maxRetries < 0) {
      throw new InvalidArgumentError2({
        parameter: "maxRetries",
        value: maxRetries,
        message: "maxRetries must be >= 0"
      });
    }
  }
  const maxRetriesResult = maxRetries != null ? maxRetries : 2;
  return {
    maxRetries: maxRetriesResult,
    retry: retryWithExponentialBackoffRespectingRetryHeaders({
      maxRetries: maxRetriesResult,
      abortSignal
    })
  };
}
__name(prepareRetries, "prepareRetries");
function extractTextContent(content) {
  const parts = content.filter((content2) => content2.type === "text");
  if (parts.length === 0) {
    return void 0;
  }
  return parts.map((content2) => content2.text).join("");
}
__name(extractTextContent, "extractTextContent");
var DefaultGeneratedFile = class {
  static {
    __name(this, "DefaultGeneratedFile");
  }
  constructor({ data, mediaType }) {
    const isUint8Array = data instanceof Uint8Array;
    this.base64Data = isUint8Array ? void 0 : data;
    this.uint8ArrayData = isUint8Array ? data : void 0;
    this.mediaType = mediaType;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get base64() {
    if (this.base64Data == null) {
      this.base64Data = convertUint8ArrayToBase64(this.uint8ArrayData);
    }
    return this.base64Data;
  }
  // lazy conversion with caching to avoid unnecessary conversion overhead:
  get uint8Array() {
    if (this.uint8ArrayData == null) {
      this.uint8ArrayData = convertBase64ToUint8Array(this.base64Data);
    }
    return this.uint8ArrayData;
  }
};
async function parseToolCall({ toolCall, tools, repairToolCall, system, messages }) {
  try {
    if (tools == null) {
      throw new NoSuchToolError({
        toolName: toolCall.toolName
      });
    }
    try {
      return await doParseToolCall({
        toolCall,
        tools
      });
    } catch (error45) {
      if (repairToolCall == null || !(NoSuchToolError.isInstance(error45) || InvalidToolInputError.isInstance(error45))) {
        throw error45;
      }
      let repairedToolCall = null;
      try {
        repairedToolCall = await repairToolCall({
          toolCall,
          tools,
          inputSchema: /* @__PURE__ */ __name(({ toolName }) => {
            const { inputSchema } = tools[toolName];
            return asSchema(inputSchema).jsonSchema;
          }, "inputSchema"),
          system,
          messages,
          error: error45
        });
      } catch (repairError) {
        throw new ToolCallRepairError({
          cause: repairError,
          originalError: error45
        });
      }
      if (repairedToolCall == null) {
        throw error45;
      }
      return await doParseToolCall({
        toolCall: repairedToolCall,
        tools
      });
    }
  } catch (error45) {
    const parsedInput = await safeParseJSON({
      text: toolCall.input
    });
    const input = parsedInput.success ? parsedInput.value : toolCall.input;
    return {
      type: "tool-call",
      toolCallId: toolCall.toolCallId,
      toolName: toolCall.toolName,
      input,
      dynamic: true,
      invalid: true,
      error: error45
    };
  }
}
__name(parseToolCall, "parseToolCall");
async function doParseToolCall({ toolCall, tools }) {
  const toolName = toolCall.toolName;
  const tool2 = tools[toolName];
  if (tool2 == null) {
    throw new NoSuchToolError({
      toolName: toolCall.toolName,
      availableTools: Object.keys(tools)
    });
  }
  const schema = asSchema(tool2.inputSchema);
  const parseResult = toolCall.input.trim() === "" ? await safeValidateTypes({
    value: {},
    schema
  }) : await safeParseJSON({
    text: toolCall.input,
    schema
  });
  if (parseResult.success === false) {
    throw new InvalidToolInputError({
      toolName,
      toolInput: toolCall.input,
      cause: parseResult.error
    });
  }
  return tool2.type === "dynamic" ? {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName: toolCall.toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata,
    dynamic: true
  } : {
    type: "tool-call",
    toolCallId: toolCall.toolCallId,
    toolName,
    input: parseResult.value,
    providerExecuted: toolCall.providerExecuted,
    providerMetadata: toolCall.providerMetadata
  };
}
__name(doParseToolCall, "doParseToolCall");
var DefaultStepResult = class {
  static {
    __name(this, "DefaultStepResult");
  }
  constructor({ content, finishReason, usage, warnings, request, response, providerMetadata }) {
    this.content = content;
    this.finishReason = finishReason;
    this.usage = usage;
    this.warnings = warnings;
    this.request = request;
    this.response = response;
    this.providerMetadata = providerMetadata;
  }
  get text() {
    return this.content.filter((part) => part.type === "text").map((part) => part.text).join("");
  }
  get reasoning() {
    return this.content.filter((part) => part.type === "reasoning");
  }
  get reasoningText() {
    return this.reasoning.length === 0 ? void 0 : this.reasoning.map((part) => part.text).join("");
  }
  get files() {
    return this.content.filter((part) => part.type === "file").map((part) => part.file);
  }
  get sources() {
    return this.content.filter((part) => part.type === "source");
  }
  get toolCalls() {
    return this.content.filter((part) => part.type === "tool-call");
  }
  get staticToolCalls() {
    return this.toolCalls.filter((toolCall) => toolCall.dynamic !== true);
  }
  get dynamicToolCalls() {
    return this.toolCalls.filter((toolCall) => toolCall.dynamic === true);
  }
  get toolResults() {
    return this.content.filter((part) => part.type === "tool-result");
  }
  get staticToolResults() {
    return this.toolResults.filter((toolResult) => toolResult.dynamic !== true);
  }
  get dynamicToolResults() {
    return this.toolResults.filter((toolResult) => toolResult.dynamic === true);
  }
};
function stepCountIs(stepCount) {
  return ({ steps }) => steps.length === stepCount;
}
__name(stepCountIs, "stepCountIs");
async function isStopConditionMet({ stopConditions, steps }) {
  return (await Promise.all(stopConditions.map((condition) => condition({
    steps
  })))).some((result) => result);
}
__name(isStopConditionMet, "isStopConditionMet");
function createToolModelOutput({ output, tool: tool2, errorMode }) {
  if (errorMode === "text") {
    return {
      type: "error-text",
      value: getErrorMessage(output)
    };
  } else if (errorMode === "json") {
    return {
      type: "error-json",
      value: toJSONValue(output)
    };
  }
  if (tool2 == null ? void 0 : tool2.toModelOutput) {
    return tool2.toModelOutput(output);
  }
  return typeof output === "string" ? {
    type: "text",
    value: output
  } : {
    type: "json",
    value: toJSONValue(output)
  };
}
__name(createToolModelOutput, "createToolModelOutput");
function toJSONValue(value) {
  return value === void 0 ? null : value;
}
__name(toJSONValue, "toJSONValue");
function toResponseMessages({ content: inputContent, tools }) {
  const responseMessages = [];
  const content = inputContent.filter((part) => part.type !== "source").filter((part) => (part.type !== "tool-result" || part.providerExecuted) && (part.type !== "tool-error" || part.providerExecuted)).filter((part) => part.type !== "text" || part.text.length > 0).map((part) => {
    switch (part.type) {
      case "text":
        return {
          type: "text",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "reasoning":
        return {
          type: "reasoning",
          text: part.text,
          providerOptions: part.providerMetadata
        };
      case "file":
        return {
          type: "file",
          data: part.file.base64,
          mediaType: part.file.mediaType,
          providerOptions: part.providerMetadata
        };
      case "tool-call":
        return {
          type: "tool-call",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          input: part.input,
          providerExecuted: part.providerExecuted,
          providerOptions: part.providerMetadata
        };
      case "tool-result":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.output,
            errorMode: "none"
          }),
          providerExecuted: true,
          providerOptions: part.providerMetadata
        };
      case "tool-error":
        return {
          type: "tool-result",
          toolCallId: part.toolCallId,
          toolName: part.toolName,
          output: createToolModelOutput({
            tool: tools == null ? void 0 : tools[part.toolName],
            output: part.error,
            errorMode: "json"
          }),
          providerOptions: part.providerMetadata
        };
    }
  });
  if (content.length > 0) {
    responseMessages.push({
      role: "assistant",
      content
    });
  }
  const toolResultContent = inputContent.filter((part) => part.type === "tool-result" || part.type === "tool-error").filter((part) => !part.providerExecuted).map((toolResult) => ({
    type: "tool-result",
    toolCallId: toolResult.toolCallId,
    toolName: toolResult.toolName,
    output: createToolModelOutput({
      tool: tools == null ? void 0 : tools[toolResult.toolName],
      output: toolResult.type === "tool-result" ? toolResult.output : toolResult.error,
      errorMode: toolResult.type === "tool-error" ? "text" : "none"
    }),
    ...toolResult.providerMetadata != null ? {
      providerOptions: toolResult.providerMetadata
    } : {}
  }));
  if (toolResultContent.length > 0) {
    responseMessages.push({
      role: "tool",
      content: toolResultContent
    });
  }
  return responseMessages;
}
__name(toResponseMessages, "toResponseMessages");
var originalGenerateId = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
async function generateText({ model: modelArg, tools, toolChoice, system, prompt, messages, maxRetries: maxRetriesArg, abortSignal, headers, stopWhen = stepCountIs(1), experimental_output: output, experimental_telemetry: telemetry, providerOptions, experimental_activeTools, activeTools = experimental_activeTools, experimental_prepareStep, prepareStep = experimental_prepareStep, experimental_repairToolCall: repairToolCall, experimental_download: download2, experimental_context, _internal: { generateId: generateId3 = originalGenerateId, currentDate = /* @__PURE__ */ __name(() => /* @__PURE__ */ new Date(), "currentDate") } = {}, onStepFinish, ...settings }) {
  const model = resolveLanguageModel(modelArg);
  const stopConditions = asArray(stopWhen);
  const { maxRetries, retry } = prepareRetries({
    maxRetries: maxRetriesArg,
    abortSignal
  });
  const callSettings = prepareCallSettings(settings);
  const headersWithUserAgent = withUserAgentSuffix(headers != null ? headers : {}, \`ai/\${VERSION3}\`);
  const baseTelemetryAttributes = getBaseTelemetryAttributes({
    model,
    telemetry,
    headers: headersWithUserAgent,
    settings: {
      ...callSettings,
      maxRetries
    }
  });
  const initialPrompt = await standardizePrompt({
    system,
    prompt,
    messages
  });
  const tracer = getTracer(telemetry);
  try {
    return await recordSpan({
      name: "ai.generateText",
      attributes: selectTelemetryAttributes({
        telemetry,
        attributes: {
          ...assembleOperationName({
            operationId: "ai.generateText",
            telemetry
          }),
          ...baseTelemetryAttributes,
          // model:
          "ai.model.provider": model.provider,
          "ai.model.id": model.modelId,
          // specific settings that only make sense on the outer level:
          "ai.prompt": {
            input: /* @__PURE__ */ __name(() => JSON.stringify({
              system,
              prompt,
              messages
            }), "input")
          }
        }
      }),
      tracer,
      fn: /* @__PURE__ */ __name(async (span) => {
        var _a162, _b8, _c, _d, _e, _f, _g;
        const callSettings2 = prepareCallSettings(settings);
        let currentModelResponse;
        let clientToolCalls = [];
        let clientToolOutputs = [];
        const responseMessages = [];
        const steps = [];
        do {
          const stepInputMessages = [
            ...initialPrompt.messages,
            ...responseMessages
          ];
          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({
            model,
            steps,
            stepNumber: steps.length,
            messages: stepInputMessages
          }));
          const stepModel = resolveLanguageModel((_a162 = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _a162 : model);
          const promptMessages = await convertToLanguageModelPrompt({
            prompt: {
              system: (_b8 = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _b8 : initialPrompt.system,
              messages: (_c = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _c : stepInputMessages
            },
            supportedUrls: await stepModel.supportedUrls,
            download: download2
          });
          const { toolChoice: stepToolChoice, tools: stepTools } = prepareToolsAndToolChoice({
            tools,
            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,
            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools
          });
          currentModelResponse = await retry(() => {
            var _a17;
            return recordSpan({
              name: "ai.generateText.doGenerate",
              attributes: selectTelemetryAttributes({
                telemetry,
                attributes: {
                  ...assembleOperationName({
                    operationId: "ai.generateText.doGenerate",
                    telemetry
                  }),
                  ...baseTelemetryAttributes,
                  // model:
                  "ai.model.provider": stepModel.provider,
                  "ai.model.id": stepModel.modelId,
                  // prompt:
                  "ai.prompt.messages": {
                    input: /* @__PURE__ */ __name(() => stringifyForTelemetry(promptMessages), "input")
                  },
                  "ai.prompt.tools": {
                    // convert the language model level tools:
                    input: /* @__PURE__ */ __name(() => stepTools == null ? void 0 : stepTools.map((tool2) => JSON.stringify(tool2)), "input")
                  },
                  "ai.prompt.toolChoice": {
                    input: /* @__PURE__ */ __name(() => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0, "input")
                  },
                  // standardized gen-ai llm span attributes:
                  "gen_ai.system": stepModel.provider,
                  "gen_ai.request.model": stepModel.modelId,
                  "gen_ai.request.frequency_penalty": settings.frequencyPenalty,
                  "gen_ai.request.max_tokens": settings.maxOutputTokens,
                  "gen_ai.request.presence_penalty": settings.presencePenalty,
                  "gen_ai.request.stop_sequences": settings.stopSequences,
                  "gen_ai.request.temperature": (_a17 = settings.temperature) != null ? _a17 : void 0,
                  "gen_ai.request.top_k": settings.topK,
                  "gen_ai.request.top_p": settings.topP
                }
              }),
              tracer,
              fn: /* @__PURE__ */ __name(async (span2) => {
                var _a18, _b22, _c2, _d2, _e2, _f2, _g2, _h;
                const result = await stepModel.doGenerate({
                  ...callSettings2,
                  tools: stepTools,
                  toolChoice: stepToolChoice,
                  responseFormat: output == null ? void 0 : output.responseFormat,
                  prompt: promptMessages,
                  providerOptions,
                  abortSignal,
                  headers: headersWithUserAgent
                });
                const responseData = {
                  id: (_b22 = (_a18 = result.response) == null ? void 0 : _a18.id) != null ? _b22 : generateId3(),
                  timestamp: (_d2 = (_c2 = result.response) == null ? void 0 : _c2.timestamp) != null ? _d2 : currentDate(),
                  modelId: (_f2 = (_e2 = result.response) == null ? void 0 : _e2.modelId) != null ? _f2 : stepModel.modelId,
                  headers: (_g2 = result.response) == null ? void 0 : _g2.headers,
                  body: (_h = result.response) == null ? void 0 : _h.body
                };
                span2.setAttributes(selectTelemetryAttributes({
                  telemetry,
                  attributes: {
                    "ai.response.finishReason": result.finishReason,
                    "ai.response.text": {
                      output: /* @__PURE__ */ __name(() => extractTextContent(result.content), "output")
                    },
                    "ai.response.toolCalls": {
                      output: /* @__PURE__ */ __name(() => {
                        const toolCalls = asToolCalls(result.content);
                        return toolCalls == null ? void 0 : JSON.stringify(toolCalls);
                      }, "output")
                    },
                    "ai.response.id": responseData.id,
                    "ai.response.model": responseData.modelId,
                    "ai.response.timestamp": responseData.timestamp.toISOString(),
                    "ai.response.providerMetadata": JSON.stringify(result.providerMetadata),
                    // TODO rename telemetry attributes to inputTokens and outputTokens
                    "ai.usage.promptTokens": result.usage.inputTokens,
                    "ai.usage.completionTokens": result.usage.outputTokens,
                    // standardized gen-ai llm span attributes:
                    "gen_ai.response.finish_reasons": [
                      result.finishReason
                    ],
                    "gen_ai.response.id": responseData.id,
                    "gen_ai.response.model": responseData.modelId,
                    "gen_ai.usage.input_tokens": result.usage.inputTokens,
                    "gen_ai.usage.output_tokens": result.usage.outputTokens
                  }
                }));
                return {
                  ...result,
                  response: responseData
                };
              }, "fn")
            });
          });
          const stepToolCalls = await Promise.all(currentModelResponse.content.filter((part) => part.type === "tool-call").map((toolCall) => parseToolCall({
            toolCall,
            tools,
            repairToolCall,
            system,
            messages: stepInputMessages
          })));
          for (const toolCall of stepToolCalls) {
            if (toolCall.invalid) {
              continue;
            }
            const tool2 = tools[toolCall.toolName];
            if ((tool2 == null ? void 0 : tool2.onInputAvailable) != null) {
              await tool2.onInputAvailable({
                input: toolCall.input,
                toolCallId: toolCall.toolCallId,
                messages: stepInputMessages,
                abortSignal,
                experimental_context
              });
            }
          }
          const invalidToolCalls = stepToolCalls.filter((toolCall) => toolCall.invalid && toolCall.dynamic);
          clientToolOutputs = [];
          for (const toolCall of invalidToolCalls) {
            clientToolOutputs.push({
              type: "tool-error",
              toolCallId: toolCall.toolCallId,
              toolName: toolCall.toolName,
              input: toolCall.input,
              error: getErrorMessage2(toolCall.error),
              dynamic: true
            });
          }
          clientToolCalls = stepToolCalls.filter((toolCall) => !toolCall.providerExecuted);
          if (tools != null) {
            clientToolOutputs.push(...await executeTools({
              toolCalls: clientToolCalls.filter((toolCall) => !toolCall.invalid),
              tools,
              tracer,
              telemetry,
              messages: stepInputMessages,
              abortSignal,
              experimental_context
            }));
          }
          const stepContent = asContent({
            content: currentModelResponse.content,
            toolCalls: stepToolCalls,
            toolOutputs: clientToolOutputs
          });
          responseMessages.push(...toResponseMessages({
            content: stepContent,
            tools
          }));
          const currentStepResult = new DefaultStepResult({
            content: stepContent,
            finishReason: currentModelResponse.finishReason,
            usage: currentModelResponse.usage,
            warnings: currentModelResponse.warnings,
            providerMetadata: currentModelResponse.providerMetadata,
            request: (_f = currentModelResponse.request) != null ? _f : {},
            response: {
              ...currentModelResponse.response,
              // deep clone msgs to avoid mutating past messages in multi-step:
              messages: structuredClone(responseMessages)
            }
          });
          logWarnings((_g = currentModelResponse.warnings) != null ? _g : []);
          steps.push(currentStepResult);
          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));
        } while (
          // there are tool calls:
          clientToolCalls.length > 0 && // all current tool calls have outputs (incl. execution errors):
          clientToolOutputs.length === clientToolCalls.length && // continue until a stop condition is met:
          !await isStopConditionMet({
            stopConditions,
            steps
          })
        );
        span.setAttributes(selectTelemetryAttributes({
          telemetry,
          attributes: {
            "ai.response.finishReason": currentModelResponse.finishReason,
            "ai.response.text": {
              output: /* @__PURE__ */ __name(() => extractTextContent(currentModelResponse.content), "output")
            },
            "ai.response.toolCalls": {
              output: /* @__PURE__ */ __name(() => {
                const toolCalls = asToolCalls(currentModelResponse.content);
                return toolCalls == null ? void 0 : JSON.stringify(toolCalls);
              }, "output")
            },
            "ai.response.providerMetadata": JSON.stringify(currentModelResponse.providerMetadata),
            // TODO rename telemetry attributes to inputTokens and outputTokens
            "ai.usage.promptTokens": currentModelResponse.usage.inputTokens,
            "ai.usage.completionTokens": currentModelResponse.usage.outputTokens
          }
        }));
        const lastStep = steps[steps.length - 1];
        let resolvedOutput;
        if (lastStep.finishReason === "stop") {
          resolvedOutput = await (output == null ? void 0 : output.parseOutput({
            text: lastStep.text
          }, {
            response: lastStep.response,
            usage: lastStep.usage,
            finishReason: lastStep.finishReason
          }));
        }
        return new DefaultGenerateTextResult({
          steps,
          resolvedOutput
        });
      }, "fn")
    });
  } catch (error45) {
    throw wrapGatewayError(error45);
  }
}
__name(generateText, "generateText");
async function executeTools({ toolCalls, tools, tracer, telemetry, messages, abortSignal, experimental_context }) {
  const toolOutputs = await Promise.all(toolCalls.map(async ({ toolCallId, toolName, input }) => {
    const tool2 = tools[toolName];
    if ((tool2 == null ? void 0 : tool2.execute) == null) {
      return void 0;
    }
    return recordSpan({
      name: "ai.toolCall",
      attributes: selectTelemetryAttributes({
        telemetry,
        attributes: {
          ...assembleOperationName({
            operationId: "ai.toolCall",
            telemetry
          }),
          "ai.toolCall.name": toolName,
          "ai.toolCall.id": toolCallId,
          "ai.toolCall.args": {
            output: /* @__PURE__ */ __name(() => JSON.stringify(input), "output")
          }
        }
      }),
      tracer,
      fn: /* @__PURE__ */ __name(async (span) => {
        try {
          const stream = executeTool({
            execute: tool2.execute.bind(tool2),
            input,
            options: {
              toolCallId,
              messages,
              abortSignal,
              experimental_context
            }
          });
          let output;
          for await (const part of stream) {
            if (part.type === "final") {
              output = part.output;
            }
          }
          try {
            span.setAttributes(selectTelemetryAttributes({
              telemetry,
              attributes: {
                "ai.toolCall.result": {
                  output: /* @__PURE__ */ __name(() => JSON.stringify(output), "output")
                }
              }
            }));
          } catch (ignored) {
          }
          return {
            type: "tool-result",
            toolCallId,
            toolName,
            input,
            output,
            dynamic: tool2.type === "dynamic"
          };
        } catch (error45) {
          recordErrorOnSpan(span, error45);
          return {
            type: "tool-error",
            toolCallId,
            toolName,
            input,
            error: error45,
            dynamic: tool2.type === "dynamic"
          };
        }
      }, "fn")
    });
  }));
  return toolOutputs.filter((output) => output != null);
}
__name(executeTools, "executeTools");
var DefaultGenerateTextResult = class {
  static {
    __name(this, "DefaultGenerateTextResult");
  }
  constructor(options) {
    this.steps = options.steps;
    this.resolvedOutput = options.resolvedOutput;
  }
  get finalStep() {
    return this.steps[this.steps.length - 1];
  }
  get content() {
    return this.finalStep.content;
  }
  get text() {
    return this.finalStep.text;
  }
  get files() {
    return this.finalStep.files;
  }
  get reasoningText() {
    return this.finalStep.reasoningText;
  }
  get reasoning() {
    return this.finalStep.reasoning;
  }
  get toolCalls() {
    return this.finalStep.toolCalls;
  }
  get staticToolCalls() {
    return this.finalStep.staticToolCalls;
  }
  get dynamicToolCalls() {
    return this.finalStep.dynamicToolCalls;
  }
  get toolResults() {
    return this.finalStep.toolResults;
  }
  get staticToolResults() {
    return this.finalStep.staticToolResults;
  }
  get dynamicToolResults() {
    return this.finalStep.dynamicToolResults;
  }
  get sources() {
    return this.finalStep.sources;
  }
  get finishReason() {
    return this.finalStep.finishReason;
  }
  get warnings() {
    return this.finalStep.warnings;
  }
  get providerMetadata() {
    return this.finalStep.providerMetadata;
  }
  get response() {
    return this.finalStep.response;
  }
  get request() {
    return this.finalStep.request;
  }
  get usage() {
    return this.finalStep.usage;
  }
  get totalUsage() {
    return this.steps.reduce((totalUsage, step) => {
      return addLanguageModelUsage(totalUsage, step.usage);
    }, {
      inputTokens: void 0,
      outputTokens: void 0,
      totalTokens: void 0,
      reasoningTokens: void 0,
      cachedInputTokens: void 0
    });
  }
  get experimental_output() {
    if (this.resolvedOutput == null) {
      throw new NoOutputSpecifiedError();
    }
    return this.resolvedOutput;
  }
};
function asToolCalls(content) {
  const parts = content.filter((part) => part.type === "tool-call");
  if (parts.length === 0) {
    return void 0;
  }
  return parts.map((toolCall) => ({
    toolCallId: toolCall.toolCallId,
    toolName: toolCall.toolName,
    input: toolCall.input
  }));
}
__name(asToolCalls, "asToolCalls");
function asContent({ content, toolCalls, toolOutputs }) {
  return [
    ...content.map((part) => {
      switch (part.type) {
        case "text":
        case "reasoning":
        case "source":
          return part;
        case "file": {
          return {
            type: "file",
            file: new DefaultGeneratedFile(part)
          };
        }
        case "tool-call": {
          return toolCalls.find((toolCall) => toolCall.toolCallId === part.toolCallId);
        }
        case "tool-result": {
          const toolCall = toolCalls.find((toolCall2) => toolCall2.toolCallId === part.toolCallId);
          if (toolCall == null) {
            throw new Error(\`Tool call \${part.toolCallId} not found.\`);
          }
          if (part.isError) {
            return {
              type: "tool-error",
              toolCallId: part.toolCallId,
              toolName: part.toolName,
              input: toolCall.input,
              error: part.result,
              providerExecuted: true,
              dynamic: toolCall.dynamic
            };
          }
          return {
            type: "tool-result",
            toolCallId: part.toolCallId,
            toolName: part.toolName,
            input: toolCall.input,
            output: part.result,
            providerExecuted: true,
            dynamic: toolCall.dynamic
          };
        }
      }
    }),
    ...toolOutputs
  ];
}
__name(asContent, "asContent");
var JsonToSseTransformStream = class extends TransformStream {
  static {
    __name(this, "JsonToSseTransformStream");
  }
  constructor() {
    super({
      transform(part, controller) {
        controller.enqueue(\`data: \${JSON.stringify(part)}

\`);
      },
      flush(controller) {
        controller.enqueue("data: [DONE]\\n\\n");
      }
    });
  }
};
var uiMessageChunkSchema = lazyValidator(() => zodSchema(external_exports.union([
  external_exports.strictObject({
    type: external_exports.literal("text-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("text-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("error"),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-start"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-delta"),
    toolCallId: external_exports.string(),
    inputTextDelta: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-available"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-input-error"),
    toolCallId: external_exports.string(),
    toolName: external_exports.string(),
    input: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    providerMetadata: providerMetadataSchema.optional(),
    dynamic: external_exports.boolean().optional(),
    errorText: external_exports.string()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-available"),
    toolCallId: external_exports.string(),
    output: external_exports.unknown(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional(),
    preliminary: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("tool-output-error"),
    toolCallId: external_exports.string(),
    errorText: external_exports.string(),
    providerExecuted: external_exports.boolean().optional(),
    dynamic: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-start"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-delta"),
    id: external_exports.string(),
    delta: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("reasoning-end"),
    id: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-url"),
    sourceId: external_exports.string(),
    url: external_exports.string(),
    title: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("source-document"),
    sourceId: external_exports.string(),
    mediaType: external_exports.string(),
    title: external_exports.string(),
    filename: external_exports.string().optional(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("file"),
    url: external_exports.string(),
    mediaType: external_exports.string(),
    providerMetadata: providerMetadataSchema.optional()
  }),
  external_exports.strictObject({
    type: external_exports.custom((value) => typeof value === "string" && value.startsWith("data-"), {
      message: 'Type must start with "data-"'
    }),
    id: external_exports.string().optional(),
    data: external_exports.unknown(),
    transient: external_exports.boolean().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("start-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish-step")
  }),
  external_exports.strictObject({
    type: external_exports.literal("start"),
    messageId: external_exports.string().optional(),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("finish"),
    finishReason: external_exports.enum([
      "stop",
      "length",
      "content-filter",
      "tool-calls",
      "error",
      "other",
      "unknown"
    ]).optional(),
    messageMetadata: external_exports.unknown().optional()
  }),
  external_exports.strictObject({
    type: external_exports.literal("abort")
  }),
  external_exports.strictObject({
    type: external_exports.literal("message-metadata"),
    messageMetadata: external_exports.unknown()
  })
])));
function fixJson(input) {
  const stack = [
    "ROOT"
  ];
  let lastValidIndex = -1;
  let literalStart = null;
  function processValueStart(char, i, swapState) {
    {
      switch (char) {
        case '"': {
          lastValidIndex = i;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_STRING");
          break;
        }
        case "f":
        case "t":
        case "n": {
          lastValidIndex = i;
          literalStart = i;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_LITERAL");
          break;
        }
        case "-": {
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9": {
          lastValidIndex = i;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_NUMBER");
          break;
        }
        case "{": {
          lastValidIndex = i;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_OBJECT_START");
          break;
        }
        case "[": {
          lastValidIndex = i;
          stack.pop();
          stack.push(swapState);
          stack.push("INSIDE_ARRAY_START");
          break;
        }
      }
    }
  }
  __name(processValueStart, "processValueStart");
  function processAfterObjectValue(char, i) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_OBJECT_AFTER_COMMA");
        break;
      }
      case "}": {
        lastValidIndex = i;
        stack.pop();
        break;
      }
    }
  }
  __name(processAfterObjectValue, "processAfterObjectValue");
  function processAfterArrayValue(char, i) {
    switch (char) {
      case ",": {
        stack.pop();
        stack.push("INSIDE_ARRAY_AFTER_COMMA");
        break;
      }
      case "]": {
        lastValidIndex = i;
        stack.pop();
        break;
      }
    }
  }
  __name(processAfterArrayValue, "processAfterArrayValue");
  for (let i = 0; i < input.length; i++) {
    const char = input[i];
    const currentState = stack[stack.length - 1];
    switch (currentState) {
      case "ROOT":
        processValueStart(char, i, "FINISH");
        break;
      case "INSIDE_OBJECT_START": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
          case "}": {
            lastValidIndex = i;
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_COMMA": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_KEY": {
        switch (char) {
          case '"': {
            stack.pop();
            stack.push("INSIDE_OBJECT_AFTER_KEY");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_AFTER_KEY": {
        switch (char) {
          case ":": {
            stack.pop();
            stack.push("INSIDE_OBJECT_BEFORE_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_OBJECT_BEFORE_VALUE": {
        processValueStart(char, i, "INSIDE_OBJECT_AFTER_VALUE");
        break;
      }
      case "INSIDE_OBJECT_AFTER_VALUE": {
        processAfterObjectValue(char, i);
        break;
      }
      case "INSIDE_STRING": {
        switch (char) {
          case '"': {
            stack.pop();
            lastValidIndex = i;
            break;
          }
          case "\\\\": {
            stack.push("INSIDE_STRING_ESCAPE");
            break;
          }
          default: {
            lastValidIndex = i;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_START": {
        switch (char) {
          case "]": {
            lastValidIndex = i;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i;
            processValueStart(char, i, "INSIDE_ARRAY_AFTER_VALUE");
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_VALUE": {
        switch (char) {
          case ",": {
            stack.pop();
            stack.push("INSIDE_ARRAY_AFTER_COMMA");
            break;
          }
          case "]": {
            lastValidIndex = i;
            stack.pop();
            break;
          }
          default: {
            lastValidIndex = i;
            break;
          }
        }
        break;
      }
      case "INSIDE_ARRAY_AFTER_COMMA": {
        processValueStart(char, i, "INSIDE_ARRAY_AFTER_VALUE");
        break;
      }
      case "INSIDE_STRING_ESCAPE": {
        stack.pop();
        lastValidIndex = i;
        break;
      }
      case "INSIDE_NUMBER": {
        switch (char) {
          case "0":
          case "1":
          case "2":
          case "3":
          case "4":
          case "5":
          case "6":
          case "7":
          case "8":
          case "9": {
            lastValidIndex = i;
            break;
          }
          case "e":
          case "E":
          case "-":
          case ".": {
            break;
          }
          case ",": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i);
            }
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i);
            }
            break;
          }
          case "}": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
              processAfterObjectValue(char, i);
            }
            break;
          }
          case "]": {
            stack.pop();
            if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
              processAfterArrayValue(char, i);
            }
            break;
          }
          default: {
            stack.pop();
            break;
          }
        }
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, i + 1);
        if (!"false".startsWith(partialLiteral) && !"true".startsWith(partialLiteral) && !"null".startsWith(partialLiteral)) {
          stack.pop();
          if (stack[stack.length - 1] === "INSIDE_OBJECT_AFTER_VALUE") {
            processAfterObjectValue(char, i);
          } else if (stack[stack.length - 1] === "INSIDE_ARRAY_AFTER_VALUE") {
            processAfterArrayValue(char, i);
          }
        } else {
          lastValidIndex = i;
        }
        break;
      }
    }
  }
  let result = input.slice(0, lastValidIndex + 1);
  for (let i = stack.length - 1; i >= 0; i--) {
    const state = stack[i];
    switch (state) {
      case "INSIDE_STRING": {
        result += '"';
        break;
      }
      case "INSIDE_OBJECT_KEY":
      case "INSIDE_OBJECT_AFTER_KEY":
      case "INSIDE_OBJECT_AFTER_COMMA":
      case "INSIDE_OBJECT_START":
      case "INSIDE_OBJECT_BEFORE_VALUE":
      case "INSIDE_OBJECT_AFTER_VALUE": {
        result += "}";
        break;
      }
      case "INSIDE_ARRAY_START":
      case "INSIDE_ARRAY_AFTER_COMMA":
      case "INSIDE_ARRAY_AFTER_VALUE": {
        result += "]";
        break;
      }
      case "INSIDE_LITERAL": {
        const partialLiteral = input.substring(literalStart, input.length);
        if ("true".startsWith(partialLiteral)) {
          result += "true".slice(partialLiteral.length);
        } else if ("false".startsWith(partialLiteral)) {
          result += "false".slice(partialLiteral.length);
        } else if ("null".startsWith(partialLiteral)) {
          result += "null".slice(partialLiteral.length);
        }
      }
    }
  }
  return result;
}
__name(fixJson, "fixJson");
async function parsePartialJson(jsonText) {
  if (jsonText === void 0) {
    return {
      value: void 0,
      state: "undefined-input"
    };
  }
  let result = await safeParseJSON({
    text: jsonText
  });
  if (result.success) {
    return {
      value: result.value,
      state: "successful-parse"
    };
  }
  result = await safeParseJSON({
    text: fixJson(jsonText)
  });
  if (result.success) {
    return {
      value: result.value,
      state: "repaired-parse"
    };
  }
  return {
    value: void 0,
    state: "failed-parse"
  };
}
__name(parsePartialJson, "parsePartialJson");
var originalGenerateId2 = createIdGenerator({
  prefix: "aitxt",
  size: 24
});
var output_exports = {};
__export2(output_exports, {
  object: /* @__PURE__ */ __name(() => object2, "object"),
  text: /* @__PURE__ */ __name(() => text, "text")
});
var text = /* @__PURE__ */ __name(() => ({
  type: "text",
  responseFormat: {
    type: "text"
  },
  async parsePartial({ text: text2 }) {
    return {
      partial: text2
    };
  },
  async parseOutput({ text: text2 }) {
    return text2;
  }
}), "text");
var object2 = /* @__PURE__ */ __name(({ schema: inputSchema }) => {
  const schema = asSchema(inputSchema);
  return {
    type: "object",
    responseFormat: {
      type: "json",
      schema: schema.jsonSchema
    },
    async parsePartial({ text: text2 }) {
      const result = await parsePartialJson(text2);
      switch (result.state) {
        case "failed-parse":
        case "undefined-input":
          return void 0;
        case "repaired-parse":
        case "successful-parse":
          return {
            // Note: currently no validation of partial results:
            partial: result.value
          };
        default: {
          const _exhaustiveCheck = result.state;
          throw new Error(\`Unsupported parse state: \${_exhaustiveCheck}\`);
        }
      }
    },
    async parseOutput({ text: text2 }, context) {
      const parseResult = await safeParseJSON({
        text: text2
      });
      if (!parseResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: could not parse the response.",
          cause: parseResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      const validationResult = await safeValidateTypes({
        value: parseResult.value,
        schema
      });
      if (!validationResult.success) {
        throw new NoObjectGeneratedError({
          message: "No object generated: response did not match schema.",
          cause: validationResult.error,
          text: text2,
          response: context.response,
          usage: context.usage,
          finishReason: context.finishReason
        });
      }
      return validationResult.value;
    }
  };
}, "object");
var name152 = "AI_NoSuchProviderError";
var marker152 = \`vercel.ai.error.\${name152}\`;
var symbol152 = Symbol.for(marker152);
var _a152;
_a152 = symbol152;
var uiMessagesSchema = lazyValidator(() => zodSchema(external_exports.array(external_exports.object({
  id: external_exports.string(),
  role: external_exports.enum([
    "system",
    "user",
    "assistant"
  ]),
  metadata: external_exports.unknown().optional(),
  parts: external_exports.array(external_exports.union([
    external_exports.object({
      type: external_exports.literal("text"),
      text: external_exports.string(),
      state: external_exports.enum([
        "streaming",
        "done"
      ]).optional(),
      providerMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.literal("reasoning"),
      text: external_exports.string(),
      state: external_exports.enum([
        "streaming",
        "done"
      ]).optional(),
      providerMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.literal("source-url"),
      sourceId: external_exports.string(),
      url: external_exports.string(),
      title: external_exports.string().optional(),
      providerMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.literal("source-document"),
      sourceId: external_exports.string(),
      mediaType: external_exports.string(),
      title: external_exports.string(),
      filename: external_exports.string().optional(),
      providerMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.literal("file"),
      mediaType: external_exports.string(),
      filename: external_exports.string().optional(),
      url: external_exports.string(),
      providerMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.literal("step-start")
    }),
    external_exports.object({
      type: external_exports.string().startsWith("data-"),
      id: external_exports.string().optional(),
      data: external_exports.unknown()
    }),
    external_exports.object({
      type: external_exports.literal("dynamic-tool"),
      toolName: external_exports.string(),
      toolCallId: external_exports.string(),
      state: external_exports.literal("input-streaming"),
      input: external_exports.unknown().optional(),
      providerExecuted: external_exports.boolean().optional(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional()
    }),
    external_exports.object({
      type: external_exports.literal("dynamic-tool"),
      toolName: external_exports.string(),
      toolCallId: external_exports.string(),
      state: external_exports.literal("input-available"),
      input: external_exports.unknown(),
      providerExecuted: external_exports.boolean().optional(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.literal("dynamic-tool"),
      toolName: external_exports.string(),
      toolCallId: external_exports.string(),
      state: external_exports.literal("output-available"),
      input: external_exports.unknown(),
      providerExecuted: external_exports.boolean().optional(),
      output: external_exports.unknown(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional(),
      preliminary: external_exports.boolean().optional()
    }),
    external_exports.object({
      type: external_exports.literal("dynamic-tool"),
      toolName: external_exports.string(),
      toolCallId: external_exports.string(),
      state: external_exports.literal("output-error"),
      input: external_exports.unknown(),
      providerExecuted: external_exports.boolean().optional(),
      output: external_exports.never().optional(),
      errorText: external_exports.string(),
      callProviderMetadata: providerMetadataSchema.optional()
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("input-streaming"),
      providerExecuted: external_exports.boolean().optional(),
      input: external_exports.unknown().optional(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional(),
      approval: external_exports.never().optional()
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("input-available"),
      providerExecuted: external_exports.boolean().optional(),
      input: external_exports.unknown(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional(),
      approval: external_exports.never().optional()
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("approval-requested"),
      input: external_exports.unknown(),
      providerExecuted: external_exports.boolean().optional(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional(),
      approval: external_exports.object({
        id: external_exports.string(),
        approved: external_exports.never().optional(),
        reason: external_exports.never().optional()
      })
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("approval-responded"),
      input: external_exports.unknown(),
      providerExecuted: external_exports.boolean().optional(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional(),
      approval: external_exports.object({
        id: external_exports.string(),
        approved: external_exports.boolean(),
        reason: external_exports.string().optional()
      })
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("output-available"),
      providerExecuted: external_exports.boolean().optional(),
      input: external_exports.unknown(),
      output: external_exports.unknown(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional(),
      preliminary: external_exports.boolean().optional(),
      approval: external_exports.object({
        id: external_exports.string(),
        approved: external_exports.literal(true),
        reason: external_exports.string().optional()
      }).optional()
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("output-error"),
      providerExecuted: external_exports.boolean().optional(),
      input: external_exports.unknown(),
      output: external_exports.never().optional(),
      errorText: external_exports.string(),
      callProviderMetadata: providerMetadataSchema.optional(),
      approval: external_exports.object({
        id: external_exports.string(),
        approved: external_exports.literal(true),
        reason: external_exports.string().optional()
      }).optional()
    }),
    external_exports.object({
      type: external_exports.string().startsWith("tool-"),
      toolCallId: external_exports.string(),
      state: external_exports.literal("output-denied"),
      providerExecuted: external_exports.boolean().optional(),
      input: external_exports.unknown(),
      output: external_exports.never().optional(),
      errorText: external_exports.never().optional(),
      callProviderMetadata: providerMetadataSchema.optional(),
      approval: external_exports.object({
        id: external_exports.string(),
        approved: external_exports.literal(false),
        reason: external_exports.string().optional()
      })
    })
  ])).nonempty("Message must contain at least one part")
})).nonempty("Messages array must not be empty")));

// ../example/workflows/4_ai.ts
var getWeatherInformation = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/4_ai.ts//getWeatherInformation");
async function ai(prompt) {
  console.log("AI workflow started");
  const { text: text2 } = await generateText({
    model: "openai/o3",
    prompt
  });
  console.log(\`AI workflow completed. Result: \${text2}\`);
  return text2;
}
__name(ai, "ai");
async function agent(prompt) {
  console.log("Agent workflow started");
  const { text: text2 } = await generateText({
    model: "anthropic/claude-4-opus-20250514",
    prompt,
    tools: {
      getWeatherInformation: {
        description: "show the weather in a given city to the user",
        inputSchema: v4_default.object({
          city: v4_default.string()
        }),
        execute: getWeatherInformation
      }
    },
    // This can be a high as you want - no restriction on the lambda workflow runtime
    stopWhen: stepCountIs(10)
  });
  console.log(\`Agent workflow completed. Result: \${text2}\`);
  return text2;
}
__name(agent, "agent");
ai.workflowId = "workflow//example/workflows/4_ai.ts//ai";
agent.workflowId = "workflow//example/workflows/4_ai.ts//agent";

// ../example/workflows/97_bench.ts
var bench_exports = {};
__export(bench_exports, {
  noStepsWorkflow: () => noStepsWorkflow,
  oneStepWorkflow: () => oneStepWorkflow,
  streamWorkflow: () => streamWorkflow,
  tenParallelStepsWorkflow: () => tenParallelStepsWorkflow,
  tenSequentialStepsWorkflow: () => tenSequentialStepsWorkflow
});
var doWork = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/97_bench.ts//doWork");
async function noStepsWorkflow(input) {
  return input * 2;
}
__name(noStepsWorkflow, "noStepsWorkflow");
async function oneStepWorkflow(input) {
  const result = await doWork();
  return result + input;
}
__name(oneStepWorkflow, "oneStepWorkflow");
async function tenSequentialStepsWorkflow() {
  let result = 0;
  for (let i = 0; i < 10; i++) {
    result = await doWork();
  }
  return result;
}
__name(tenSequentialStepsWorkflow, "tenSequentialStepsWorkflow");
async function tenParallelStepsWorkflow() {
  const promises = [];
  for (let i = 0; i < 10; i++) {
    promises.push(doWork());
  }
  const results = await Promise.all(promises);
  return results.reduce((sum, val) => sum + val, 0);
}
__name(tenParallelStepsWorkflow, "tenParallelStepsWorkflow");
var genBenchStream = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/97_bench.ts//genBenchStream");
var doubleNumbers = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/97_bench.ts//doubleNumbers");
async function streamWorkflow() {
  const stream = await genBenchStream();
  const doubled = await doubleNumbers(stream);
  return doubled;
}
__name(streamWorkflow, "streamWorkflow");
noStepsWorkflow.workflowId = "workflow//example/workflows/97_bench.ts//noStepsWorkflow";
oneStepWorkflow.workflowId = "workflow//example/workflows/97_bench.ts//oneStepWorkflow";
tenSequentialStepsWorkflow.workflowId = "workflow//example/workflows/97_bench.ts//tenSequentialStepsWorkflow";
tenParallelStepsWorkflow.workflowId = "workflow//example/workflows/97_bench.ts//tenParallelStepsWorkflow";
streamWorkflow.workflowId = "workflow//example/workflows/97_bench.ts//streamWorkflow";

// ../example/workflows/98_duplicate_case.ts
var duplicate_case_exports = {};
__export(duplicate_case_exports, {
  add: () => add3,
  addTenWorkflow: () => addTenWorkflow
});
async function addTenWorkflow(input) {
  const a = await add3(input, 2);
  const b = await add3(a, 3);
  const c = await add3(b, 5);
  return c;
}
__name(addTenWorkflow, "addTenWorkflow");
var add3 = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/98_duplicate_case.ts//add");
addTenWorkflow.workflowId = "workflow//example/workflows/98_duplicate_case.ts//addTenWorkflow";

// ../example/workflows/99_e2e.ts
var e2e_exports = {};
__export(e2e_exports, {
  add: () => add4,
  addTenWorkflow: () => addTenWorkflow2,
  childWorkflow: () => childWorkflow,
  closureVariableWorkflow: () => closureVariableWorkflow,
  crossFileErrorWorkflow: () => crossFileErrorWorkflow,
  fetchWorkflow: () => fetchWorkflow,
  hookCleanupTestWorkflow: () => hookCleanupTestWorkflow,
  hookWorkflow: () => hookWorkflow,
  nestedErrorWorkflow: () => nestedErrorWorkflow,
  nullByteWorkflow: () => nullByteWorkflow,
  outputStreamInsideStepWorkflow: () => outputStreamInsideStepWorkflow,
  outputStreamWorkflow: () => outputStreamWorkflow,
  promiseAllWorkflow: () => promiseAllWorkflow,
  promiseAnyWorkflow: () => promiseAnyWorkflow,
  promiseRaceStressTestDelayStep: () => promiseRaceStressTestDelayStep,
  promiseRaceStressTestWorkflow: () => promiseRaceStressTestWorkflow,
  promiseRaceWorkflow: () => promiseRaceWorkflow,
  readableStreamWorkflow: () => readableStreamWorkflow,
  retryAttemptCounterWorkflow: () => retryAttemptCounterWorkflow,
  retryableAndFatalErrorWorkflow: () => retryableAndFatalErrorWorkflow,
  sleepingWorkflow: () => sleepingWorkflow,
  spawnWorkflowFromStepWorkflow: () => spawnWorkflowFromStepWorkflow,
  stepFunctionPassingWorkflow: () => stepFunctionPassingWorkflow,
  stepFunctionWithClosureWorkflow: () => stepFunctionWithClosureWorkflow,
  webhookWorkflow: () => webhookWorkflow,
  workflowAndStepMetadataWorkflow: () => workflowAndStepMetadataWorkflow
});

// ../example/workflows/helpers.ts
function throwError() {
  throw new Error("Error from imported helper module");
}
__name(throwError, "throwError");
function callThrower() {
  throwError();
}
__name(callThrower, "callThrower");

// ../example/workflows/99_e2e.ts
var add4 = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//add");
async function addTenWorkflow2(input) {
  const a = await add4(input, 2);
  const b = await add4(a, 3);
  const c = await add4(b, 5);
  return c;
}
__name(addTenWorkflow2, "addTenWorkflow");
function deepFunction() {
  throw new Error("Error from deeply nested function");
}
__name(deepFunction, "deepFunction");
function middleFunction() {
  deepFunction();
}
__name(middleFunction, "middleFunction");
function topLevelHelper() {
  middleFunction();
}
__name(topLevelHelper, "topLevelHelper");
async function nestedErrorWorkflow() {
  topLevelHelper();
  return "never reached";
}
__name(nestedErrorWorkflow, "nestedErrorWorkflow");
var randomDelay = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//randomDelay");
async function promiseAllWorkflow() {
  const [a, b, c] = await Promise.all([
    randomDelay("a"),
    randomDelay("b"),
    randomDelay("c")
  ]);
  return a + b + c;
}
__name(promiseAllWorkflow, "promiseAllWorkflow");
var specificDelay = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//specificDelay");
async function promiseRaceWorkflow() {
  const winner = await Promise.race([
    specificDelay(1e4, "a"),
    specificDelay(100, "b"),
    specificDelay(2e4, "c")
  ]);
  return winner;
}
__name(promiseRaceWorkflow, "promiseRaceWorkflow");
var stepThatFails = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepThatFails");
async function promiseAnyWorkflow() {
  const winner = await Promise.any([
    stepThatFails(),
    specificDelay(1e3, "b"),
    specificDelay(3e3, "c")
  ]);
  return winner;
}
__name(promiseAnyWorkflow, "promiseAnyWorkflow");
var genReadableStream = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//genReadableStream");
async function readableStreamWorkflow() {
  console.log("calling genReadableStream");
  const stream = await genReadableStream();
  console.log("genReadableStream returned", stream);
  return stream;
}
__name(readableStreamWorkflow, "readableStreamWorkflow");
async function hookWorkflow(token, customData) {
  const hook = createHook({
    token,
    metadata: {
      customData
    }
  });
  const payloads = [];
  for await (const payload of hook) {
    payloads.push(payload);
    if (payload.done) {
      break;
    }
  }
  return payloads;
}
__name(hookWorkflow, "hookWorkflow");
var sendWebhookResponse = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//sendWebhookResponse");
async function webhookWorkflow(token, token2, token3) {
  const payloads = [];
  const webhookWithDefaultResponse = createWebhook({
    token
  });
  const res = new Response("Hello from static response!", {
    status: 402
  });
  console.log("res", res);
  const webhookWithStaticResponse = createWebhook({
    token: token2,
    respondWith: res
  });
  const webhookWithManualResponse = createWebhook({
    token: token3,
    respondWith: "manual"
  });
  {
    const req = await webhookWithDefaultResponse;
    const body = await req.text();
    payloads.push({
      url: req.url,
      method: req.method,
      body
    });
  }
  {
    const req = await webhookWithStaticResponse;
    const body = await req.text();
    payloads.push({
      url: req.url,
      method: req.method,
      body
    });
  }
  {
    const req = await webhookWithManualResponse;
    const body = await sendWebhookResponse(req);
    payloads.push({
      url: req.url,
      method: req.method,
      body
    });
  }
  return payloads;
}
__name(webhookWorkflow, "webhookWorkflow");
async function sleepingWorkflow() {
  const startTime = Date.now();
  await sleep("10s");
  const endTime = Date.now();
  return {
    startTime,
    endTime
  };
}
__name(sleepingWorkflow, "sleepingWorkflow");
var nullByteStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//nullByteStep");
async function nullByteWorkflow() {
  const a = await nullByteStep();
  return a;
}
__name(nullByteWorkflow, "nullByteWorkflow");
var stepWithMetadata = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepWithMetadata");
async function workflowAndStepMetadataWorkflow() {
  const workflowMetadata = getWorkflowMetadata();
  const { stepMetadata, workflowMetadata: innerWorkflowMetadata } = await stepWithMetadata();
  return {
    workflowMetadata: {
      workflowRunId: workflowMetadata.workflowRunId,
      workflowStartedAt: workflowMetadata.workflowStartedAt,
      url: workflowMetadata.url
    },
    stepMetadata,
    innerWorkflowMetadata
  };
}
__name(workflowAndStepMetadataWorkflow, "workflowAndStepMetadataWorkflow");
var stepWithOutputStreamBinary = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepWithOutputStreamBinary");
var stepWithOutputStreamObject = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepWithOutputStreamObject");
var stepCloseOutputStream = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepCloseOutputStream");
async function outputStreamWorkflow() {
  const writable = getWritable();
  const namedWritable = getWritable({
    namespace: "test"
  });
  await sleep("1s");
  await stepWithOutputStreamBinary(writable, "Hello, world!");
  await sleep("1s");
  await stepWithOutputStreamBinary(namedWritable, "Hello, named stream!");
  await sleep("1s");
  await stepWithOutputStreamObject(writable, {
    foo: "test"
  });
  await sleep("1s");
  await stepWithOutputStreamObject(namedWritable, {
    foo: "bar"
  });
  await sleep("1s");
  await stepCloseOutputStream(writable);
  await stepCloseOutputStream(namedWritable);
  return "done";
}
__name(outputStreamWorkflow, "outputStreamWorkflow");
var stepWithOutputStreamInsideStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepWithOutputStreamInsideStep");
var stepWithNamedOutputStreamInsideStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepWithNamedOutputStreamInsideStep");
var stepCloseOutputStreamInsideStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepCloseOutputStreamInsideStep");
async function outputStreamInsideStepWorkflow() {
  await sleep("1s");
  await stepWithOutputStreamInsideStep("Hello from step!");
  await sleep("1s");
  await stepWithNamedOutputStreamInsideStep("step-ns", {
    message: "Hello from named stream in step!"
  });
  await sleep("1s");
  await stepWithOutputStreamInsideStep("Second message");
  await sleep("1s");
  await stepWithNamedOutputStreamInsideStep("step-ns", {
    counter: 42
  });
  await sleep("1s");
  await stepCloseOutputStreamInsideStep();
  await stepCloseOutputStreamInsideStep("step-ns");
  return "done";
}
__name(outputStreamInsideStepWorkflow, "outputStreamInsideStepWorkflow");
async function fetchWorkflow() {
  const response = await fetch2("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  return data;
}
__name(fetchWorkflow, "fetchWorkflow");
var promiseRaceStressTestDelayStep = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//promiseRaceStressTestDelayStep");
async function promiseRaceStressTestWorkflow() {
  const promises = /* @__PURE__ */ new Map();
  const done = [];
  for (let i = 0; i < 5; i++) {
    const resp = i;
    const dur = 1e3 * 5 * i;
    console.log(\`sched\`, resp, \`/\`, dur);
    promises.set(i, promiseRaceStressTestDelayStep(dur, resp));
  }
  while (promises.size > 0) {
    console.log(\`promises.size\`, promises.size);
    const res = await Promise.race(promises.values());
    console.log(res);
    done.push(res);
    promises.delete(res);
  }
  return done;
}
__name(promiseRaceStressTestWorkflow, "promiseRaceStressTestWorkflow");
var stepThatRetriesAndSucceeds = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepThatRetriesAndSucceeds");
async function retryAttemptCounterWorkflow() {
  console.log("Starting retry attempt counter workflow");
  const finalAttempt = await stepThatRetriesAndSucceeds();
  console.log(\`Workflow completed with final attempt: \${finalAttempt}\`);
  return {
    finalAttempt
  };
}
__name(retryAttemptCounterWorkflow, "retryAttemptCounterWorkflow");
var stepThatThrowsRetryableError = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepThatThrowsRetryableError");
async function crossFileErrorWorkflow() {
  callThrower();
  return "never reached";
}
__name(crossFileErrorWorkflow, "crossFileErrorWorkflow");
async function retryableAndFatalErrorWorkflow() {
  const retryableResult = await stepThatThrowsRetryableError();
  let gotFatalError = false;
  try {
    await stepThatFails();
  } catch (error45) {
    if (FatalError.is(error45)) {
      gotFatalError = true;
    }
  }
  return {
    retryableResult,
    gotFatalError
  };
}
__name(retryableAndFatalErrorWorkflow, "retryableAndFatalErrorWorkflow");
async function hookCleanupTestWorkflow(token, customData) {
  const hook = createHook({
    token,
    metadata: {
      customData
    }
  });
  const payload = await hook;
  return {
    message: payload.message,
    customData: payload.customData,
    hookCleanupTestData: "workflow_completed"
  };
}
__name(hookCleanupTestWorkflow, "hookCleanupTestWorkflow");
async function stepFunctionPassingWorkflow() {
  const result = await stepWithStepFunctionArg(doubleNumber);
  return result;
}
__name(stepFunctionPassingWorkflow, "stepFunctionPassingWorkflow");
var stepWithStepFunctionArg = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepWithStepFunctionArg");
var doubleNumber = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//doubleNumber");
async function stepFunctionWithClosureWorkflow() {
  const multiplier = 3;
  const prefix = "Result: ";
  const calculate = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepFunctionWithClosureWorkflow/calculate", () => ({
    multiplier,
    prefix
  }));
  const result = await stepThatCallsStepFn(calculate, 7);
  return result;
}
__name(stepFunctionWithClosureWorkflow, "stepFunctionWithClosureWorkflow");
var stepThatCallsStepFn = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//stepThatCallsStepFn");
async function closureVariableWorkflow(baseValue) {
  let multiplier = 3;
  const prefix = "Result: ";
  const calculate = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//closureVariableWorkflow/calculate", () => ({
    baseValue,
    multiplier,
    prefix
  }));
  const output = await calculate();
  return output;
}
__name(closureVariableWorkflow, "closureVariableWorkflow");
async function childWorkflow(value) {
  const doubled = await doubleValue(value);
  return {
    childResult: doubled,
    originalValue: value
  };
}
__name(childWorkflow, "childWorkflow");
var doubleValue = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//doubleValue");
var spawnChildWorkflow = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//spawnChildWorkflow");
var awaitWorkflowResult = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/99_e2e.ts//awaitWorkflowResult");
async function spawnWorkflowFromStepWorkflow(inputValue) {
  const childRunId = await spawnChildWorkflow(inputValue);
  const childResult = await awaitWorkflowResult(childRunId);
  return {
    parentInput: inputValue,
    childRunId,
    childResult
  };
}
__name(spawnWorkflowFromStepWorkflow, "spawnWorkflowFromStepWorkflow");
addTenWorkflow2.workflowId = "workflow//example/workflows/99_e2e.ts//addTenWorkflow";
nestedErrorWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//nestedErrorWorkflow";
promiseAllWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//promiseAllWorkflow";
promiseRaceWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//promiseRaceWorkflow";
promiseAnyWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//promiseAnyWorkflow";
readableStreamWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//readableStreamWorkflow";
hookWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//hookWorkflow";
webhookWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//webhookWorkflow";
sleepingWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//sleepingWorkflow";
nullByteWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//nullByteWorkflow";
workflowAndStepMetadataWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//workflowAndStepMetadataWorkflow";
outputStreamWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//outputStreamWorkflow";
outputStreamInsideStepWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//outputStreamInsideStepWorkflow";
fetchWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//fetchWorkflow";
promiseRaceStressTestWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//promiseRaceStressTestWorkflow";
retryAttemptCounterWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//retryAttemptCounterWorkflow";
crossFileErrorWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//crossFileErrorWorkflow";
retryableAndFatalErrorWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//retryableAndFatalErrorWorkflow";
hookCleanupTestWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//hookCleanupTestWorkflow";
stepFunctionPassingWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//stepFunctionPassingWorkflow";
stepFunctionWithClosureWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//stepFunctionWithClosureWorkflow";
closureVariableWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//closureVariableWorkflow";
childWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//childWorkflow";
spawnWorkflowFromStepWorkflow.workflowId = "workflow//example/workflows/99_e2e.ts//spawnWorkflowFromStepWorkflow";

// ../example/workflows/5_hooks.ts
var hooks_exports = {};
__export(hooks_exports, {
  withCreateHook: () => withCreateHook,
  withWorkflowMetadata: () => withWorkflowMetadata
});
var stepWithGetMetadata = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/5_hooks.ts//stepWithGetMetadata");
async function withWorkflowMetadata() {
  const ctx = getWorkflowMetadata();
  console.log("workflow context", ctx);
  const stepCtx = await stepWithGetMetadata();
  return {
    workflowCtx: ctx,
    stepCtx
  };
}
__name(withWorkflowMetadata, "withWorkflowMetadata");
var initiateOpenAIResponse = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/5_hooks.ts//initiateOpenAIResponse");
var getOpenAIResponse = globalThis[Symbol.for("WORKFLOW_USE_STEP")]("step//example/workflows/5_hooks.ts//getOpenAIResponse");
async function withCreateHook() {
  const respId = await initiateOpenAIResponse();
  const hook = createHook({
    token: \`openai:\${respId}\`
  });
  console.log("Registered hook:", hook.token);
  const payload = await hook;
  console.log("Received hook payload:", payload);
  if (payload.type === "response.completed") {
    const text2 = await getOpenAIResponse(payload.data.id);
    console.log("OpenAI response text:", text2);
  }
  console.log("Hook demo workflow completed");
}
__name(withCreateHook, "withCreateHook");
withWorkflowMetadata.workflowId = "workflow//example/workflows/5_hooks.ts//withWorkflowMetadata";
withCreateHook.workflowId = "workflow//example/workflows/5_hooks.ts//withCreateHook";

// virtual-entry.js
globalThis.__private_workflows = /* @__PURE__ */ new Map();
Object.values(control_flow_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(simple_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(batching_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(full_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(streams_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(ai_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(bench_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(duplicate_case_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(e2e_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
Object.values(hooks_exports).map((item) => item?.workflowId && globalThis.__private_workflows.set(item.workflowId, item));
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC5jaHVua0A0LjIuMC9ub2RlX21vZHVsZXMvbG9kYXNoLmNodW5rL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9tc0AyLjEuMy9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrb2lkY0AzLjAuNS9ub2RlX21vZHVsZXMvQHZlcmNlbC9vaWRjL2Rpc3QvZ2V0LWNvbnRleHQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2ZXJjZWwrb2lkY0AzLjAuNS9ub2RlX21vZHVsZXMvQHZlcmNlbC9vaWRjL2Rpc3QvaW5kZXgtYnJvd3Nlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3BsYXRmb3JtL25vZGUvZ2xvYmFsVGhpcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3BsYXRmb3JtL25vZGUvaW5kZXgudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9wbGF0Zm9ybS9pbmRleC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3ZlcnNpb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9pbnRlcm5hbC9zZW12ZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9pbnRlcm5hbC9nbG9iYWwtdXRpbHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9kaWFnL0NvbXBvbmVudExvZ2dlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvdHlwZXMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9kaWFnL2ludGVybmFsL2xvZ0xldmVsTG9nZ2VyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvYXBpL2RpYWcudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9iYWdnYWdlL2ludGVybmFsL2JhZ2dhZ2UtaW1wbC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2JhZ2dhZ2UvaW50ZXJuYWwvc3ltYm9sLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvYmFnZ2FnZS91dGlscy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvY29udGV4dC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWcvY29uc29sZUxvZ2dlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL21ldHJpY3MvTm9vcE1ldGVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvbWV0cmljcy9NZXRyaWMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9wcm9wYWdhdGlvbi9UZXh0TWFwUHJvcGFnYXRvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2NvbnRleHQvTm9vcENvbnRleHRNYW5hZ2VyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvYXBpL2NvbnRleHQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS90cmFjZV9mbGFncy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL2ludmFsaWQtc3Bhbi1jb25zdGFudHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy90cmFjZS9Ob25SZWNvcmRpbmdTcGFuLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvY29udGV4dC11dGlscy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL3NwYW5jb250ZXh0LXV0aWxzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL1Byb3h5VHJhY2VyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvTm9vcFRyYWNlclByb3ZpZGVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvUHJveHlUcmFjZXJQcm92aWRlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlL1NhbXBsaW5nUmVzdWx0LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2Uvc3Bhbl9raW5kLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2Uvc3RhdHVzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvaW50ZXJuYWwvdHJhY2VzdGF0ZS12YWxpZGF0b3JzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvaW50ZXJuYWwvdHJhY2VzdGF0ZS1pbXBsLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvdHJhY2UvaW50ZXJuYWwvdXRpbHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9jb250ZXh0LWFwaS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2RpYWctYXBpLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvbWV0cmljcy9Ob29wTWV0ZXJQcm92aWRlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2FwaS9tZXRyaWNzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjAvbm9kZV9tb2R1bGVzL0BvcGVudGVsZW1ldHJ5L2FwaS9zcmMvbWV0cmljcy1hcGkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9wcm9wYWdhdGlvbi9Ob29wVGV4dE1hcFByb3BhZ2F0b3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMC9ub2RlX21vZHVsZXMvQG9wZW50ZWxlbWV0cnkvYXBpL3NyYy9iYWdnYWdlL2NvbnRleHQtaGVscGVycy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2FwaS9wcm9wYWdhdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3Byb3BhZ2F0aW9uLWFwaS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2FwaS90cmFjZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL3RyYWNlLWFwaS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wL25vZGVfbW9kdWxlcy9Ab3BlbnRlbGVtZXRyeS9hcGkvc3JjL2luZGV4LnRzIiwgIi4uL2V4YW1wbGUvd29ya2Zsb3dzLzJfY29udHJvbF9mbG93LnRzIiwgIi4uL2V4YW1wbGUvd29ya2Zsb3dzLzFfc2ltcGxlLnRzIiwgIi4uL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMiLCAiLi4vZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzIiwgIi4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9pbmRleC50cyIsICIuLi8uLi9wYWNrYWdlcy9lcnJvcnMvc3JjL2luZGV4LnRzIiwgIi4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3N5bWJvbHMudHMiLCAiLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvd29ya2Zsb3cvZ2V0LXdvcmtmbG93LW1ldGFkYXRhLnRzIiwgIi4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3dvcmtmbG93L2NyZWF0ZS1ob29rLnRzIiwgIi4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NsZWVwLnRzIiwgIi4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3dvcmtmbG93L3dyaXRhYmxlLXN0cmVhbS50cyIsICIuLi8uLi9wYWNrYWdlcy93b3JrZmxvdy9zcmMvc3RkbGliLnRzIiwgIi4uL2V4YW1wbGUvd29ya2Zsb3dzLzNfc3RyZWFtcy50cyIsICIuLi9leGFtcGxlL3dvcmtmbG93cy80X2FpLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvYWktc2RrLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvYXBpLWNhbGwtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMi4wLjAvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9lbXB0eS1yZXNwb25zZS1ib2R5LWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvZ2V0LWVycm9yLW1lc3NhZ2UudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMi4wLjAvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvaW52YWxpZC1wcm9tcHQtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMi4wLjAvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMi4wLjAvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9qc29uLXBhcnNlLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbG9hZC1hcGkta2V5LWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvbm8tY29udGVudC1nZW5lcmF0ZWQtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMi4wLjAvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2Vycm9ycy9uby1zdWNoLW1vZGVsLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyQDIuMC4wL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL3NyYy9lcnJvcnMvdG9vLW1hbnktZW1iZWRkaW5nLXZhbHVlcy1mb3ItY2FsbC1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlckAyLjAuMC9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL3R5cGUtdmFsaWRhdGlvbi1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlckAyLjAuMC9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci9zcmMvZXJyb3JzL3Vuc3VwcG9ydGVkLWZ1bmN0aW9uYWxpdHktZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXJAMi4wLjAvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXIvc3JjL2pzb24tdmFsdWUvaXMtanNvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZXZlbnRzb3VyY2UtcGFyc2VyQDMuMC42L25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL2Vycm9ycy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZXZlbnRzb3VyY2UtcGFyc2VyQDMuMC42L25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS1wYXJzZXIvc3JjL3BhcnNlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9ldmVudHNvdXJjZS1wYXJzZXJAMy4wLjYvbm9kZV9tb2R1bGVzL2V2ZW50c291cmNlLXBhcnNlci9zcmMvc3RyZWFtLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvY2xhc3NpYy9leHRlcm5hbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL2NvcmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3V0aWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL2Vycm9ycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvcGFyc2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3JlZ2V4ZXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL2NoZWNrcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvZG9jLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS92ZXJzaW9ucy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvc2NoZW1hcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2FyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9hei5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvYmUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2NhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9jcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvZGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2RlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9lbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvZW8uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2VzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9mYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvZmkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2ZyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9mci1DQS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvaGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2h1LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9pZC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvaXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2l0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9qYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMva2EuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2ttLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9raC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMva28uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL2x0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9tay5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvbXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL25sLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9uby5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvb3RhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9wcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvcGwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL3B0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy9ydS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvc2wuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL3N2LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy90YS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvdGguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL3RyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy91ay5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvdWEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL3VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy92aS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2xvY2FsZXMvemgtQ04uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9sb2NhbGVzL3poLVRXLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvbG9jYWxlcy95by5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvcmVnaXN0cmllcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvYXBpLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS90by1qc29uLXNjaGVtYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvanNvbi1zY2hlbWEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jbGFzc2ljL2lzby5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NsYXNzaWMvZXJyb3JzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvY2xhc3NpYy9wYXJzZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NsYXNzaWMvc2NoZW1hcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3Y0L2NsYXNzaWMvY29tcGF0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvY2xhc3NpYy9jb2VyY2UuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92NC9jbGFzc2ljL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjQvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92My9ab2RFcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3YzL2xvY2FsZXMvZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92My9lcnJvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3BhcnNlVXRpbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RANC4xLjExL25vZGVfbW9kdWxlcy96b2QvdjMvdHlwZXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2NvbWJpbmUtaGVhZGVycy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvY29udmVydC1hc3luYy1pdGVyYXRvci10by1yZWFkYWJsZS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2RlbGF5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9kZWxheWVkLXByb21pc2UudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvZ2VuZXJhdGUtaWQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1lcnJvci1tZXNzYWdlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9nZXQtZnJvbS1hcGkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2hhbmRsZS1mZXRjaC1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaXMtYWJvcnQtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2dldC1ydW50aW1lLWVudmlyb25tZW50LXVzZXItYWdlbnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL25vcm1hbGl6ZS1oZWFkZXJzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy93aXRoLXVzZXItYWdlbnQtc3VmZml4LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy92ZXJzaW9uLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pbmplY3QtanNvbi1pbnN0cnVjdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvaXMtdXJsLXN1cHBvcnRlZC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvbG9hZC1hcGkta2V5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9sb2FkLW9wdGlvbmFsLXNldHRpbmcudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL2xvYWQtc2V0dGluZy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvbWVkaWEtdHlwZS10by1leHRlbnNpb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3BhcnNlLWpzb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3NlY3VyZS1qc29uLXBhcnNlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy92YWxpZGF0ZS10eXBlcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdmFsaWRhdG9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9wYXJzZS1qc29uLWV2ZW50LXN0cmVhbS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvcGFyc2UtcHJvdmlkZXItb3B0aW9ucy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvcG9zdC10by1hcGkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3R5cGVzL3Rvb2wudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3Byb3ZpZGVyLWRlZmluZWQtdG9vbC1mYWN0b3J5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9yZW1vdmUtdW5kZWZpbmVkLWVudHJpZXMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3Jlc29sdmUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC1zY2hlbWEudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9nZXQtcmVsYXRpdmUtcGF0aC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL29wdGlvbnMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9zZWxlY3QtcGFyc2VyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2Jvb2xlYW4udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2NhdGNoLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lbnVtLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2xpdGVyYWwudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvc3RyaW5nLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25hdGl2ZS1lbnVtLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5pb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udW1iZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29iamVjdC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3BpcGVsaW5lLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3R1cGxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlYWRvbmx5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2UtZGVmLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy96b2QtdG8tanNvbi1zY2hlbWEvcmVmcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL3pvZC10by1qc29uLXNjaGVtYS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvem9kLXRvLWpzb24tc2NoZW1hL2luZGV4LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9zY2hlbWEudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrcHJvdmlkZXItdXRpbHNAMy4wLjE4X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvcHJvdmlkZXItdXRpbHMvc3JjL3VpbnQ4LXV0aWxzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy93aXRob3V0LXRyYWlsaW5nLXNsYXNoLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pcy1hc3luYy1pdGVyYWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytwcm92aWRlci11dGlsc0AzLjAuMThfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9zcmMvdHlwZXMvZXhlY3V0ZS10b29sLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK3Byb3ZpZGVyLXV0aWxzQDMuMC4xOF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL3NyYy9pbmRleC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytnYXRld2F5QDIuMC4xN196b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL2dhdGV3YXkvc3JjL2dhdGV3YXktcHJvdmlkZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrZ2F0ZXdheUAyLjAuMTdfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvYXMtZ2F0ZXdheS1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytnYXRld2F5QDIuMC4xN196b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9jcmVhdGUtZ2F0ZXdheS1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytnYXRld2F5QDIuMC4xN196b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9nYXRld2F5LWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktYXV0aGVudGljYXRpb24tZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrZ2F0ZXdheUAyLjAuMTdfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvZ2F0ZXdheS1pbnZhbGlkLXJlcXVlc3QtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrZ2F0ZXdheUAyLjAuMTdfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvZ2F0ZXdheS1yYXRlLWxpbWl0LWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktbW9kZWwtbm90LWZvdW5kLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktaW50ZXJuYWwtc2VydmVyLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZXJyb3JzL2dhdGV3YXktcmVzcG9uc2UtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrZ2F0ZXdheUAyLjAuMTdfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9nYXRld2F5L3NyYy9lcnJvcnMvZXh0cmFjdC1hcGktY2FsbC1yZXNwb25zZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytnYXRld2F5QDIuMC4xN196b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL2dhdGV3YXkvc3JjL2Vycm9ycy9wYXJzZS1hdXRoLW1ldGhvZC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGFpLXNkaytnYXRld2F5QDIuMC4xN196b2RANC4xLjExL25vZGVfbW9kdWxlcy9AYWktc2RrL2dhdGV3YXkvc3JjL2dhdGV3YXktZmV0Y2gtbWV0YWRhdGEudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrZ2F0ZXdheUAyLjAuMTdfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LWxhbmd1YWdlLW1vZGVsLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvZ2F0ZXdheS1lbWJlZGRpbmctbW9kZWwudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BhaS1zZGsrZ2F0ZXdheUAyLjAuMTdfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvQGFpLXNkay9nYXRld2F5L3NyYy9nYXRld2F5LWltYWdlLW1vZGVsLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvdmVyY2VsLWVudmlyb25tZW50LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AYWktc2RrK2dhdGV3YXlAMi4wLjE3X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL0BhaS1zZGsvZ2F0ZXdheS9zcmMvdmVyc2lvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvaW5kZXgudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvbG9nZ2VyL2xvZy13YXJuaW5ncy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvbW9kZWwvcmVzb2x2ZS1tb2RlbC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZXJyb3IvaW5kZXgudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2Vycm9yL2ludmFsaWQtc3RyZWFtLXBhcnQtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2Vycm9yL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZXJyb3Ivbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9lcnJvci9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9lcnJvci9uby1vdXRwdXQtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9lcnJvci9uby1zcGVlY2gtZ2VuZXJhdGVkLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9lcnJvci9uby1zdWNoLXRvb2wtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2Vycm9yL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3Byb21wdC9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9wcm9tcHQvbWVzc2FnZS1jb252ZXJzaW9uLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL3JldHJ5LWVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3ZlcnNpb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3Byb21wdC9kYXRhLWNvbnRlbnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3Byb21wdC9zcGxpdC1kYXRhLXVybC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcHJvbXB0L3ByZXBhcmUtdG9vbHMtYW5kLXRvb2wtY2hvaWNlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL2lzLW5vbi1lbXB0eS1vYmplY3QudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3Byb21wdC9tZXNzYWdlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy90eXBlcy9wcm92aWRlci1tZXRhZGF0YS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdHlwZXMvanNvbi12YWx1ZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcHJvbXB0L2NvbnRlbnQtcGFydC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3RlbGVtZXRyeS9nZXQtdHJhY2VyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy90ZWxlbWV0cnkvbm9vcC10cmFjZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy90eXBlcy91c2FnZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdXRpbC9hcy1hcnJheS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdXRpbC9yZXRyeS13aXRoLWV4cG9uZW50aWFsLWJhY2tvZmYudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvcHJlcGFyZS1yZXRyaWVzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtdGV4dC1jb250ZW50LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3BhcnNlLXRvb2wtY2FsbC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdGVwLXJlc3VsdC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdG9wLWNvbmRpdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtdGV4dC90by1yZXNwb25zZS1tZXNzYWdlcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdXRpbC9wcmVwYXJlLWhlYWRlcnMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3RleHQtc3RyZWFtL3BpcGUtdGV4dC1zdHJlYW0tdG8tcmVzcG9uc2UudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL2NyZWF0ZS11aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vZ2V0LXJlc3BvbnNlLXVpLW1lc3NhZ2UtaWQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL3Byb2Nlc3MtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL21lcmdlLW9iamVjdHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL2ZpeC1qc29uLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91aS91aS1tZXNzYWdlcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdWktbWVzc2FnZS1zdHJlYW0vcGlwZS11aS1tZXNzYWdlLXN0cmVhbS10by1yZXNwb25zZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvY29uc3VtZS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvY3JlYXRlLXJlc29sdmFibGUtcHJvbWlzZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvbm93LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3J1bi10b29scy10cmFuc2Zvcm1hdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdWkvY29udmVydC10by1tb2RlbC1tZXNzYWdlcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvYWdlbnQvYWdlbnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2VtYmVkL2VtYmVkLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9lbWJlZC9lbWJlZC1tYW55LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL3NwbGl0LWFycmF5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS1pbWFnZS9nZW5lcmF0ZS1pbWFnZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L2dlbmVyYXRlLW9iamVjdC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtdGV4dC9leHRyYWN0LXJlYXNvbmluZy1jb250ZW50LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS1vYmplY3Qvb3V0cHV0LXN0cmF0ZWd5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS1vYmplY3QvcGFyc2UtYW5kLXZhbGlkYXRlLW9iamVjdC1yZXN1bHQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2dlbmVyYXRlLW9iamVjdC92YWxpZGF0ZS1vYmplY3QtZ2VuZXJhdGlvbi1pbnB1dC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZ2VuZXJhdGUtb2JqZWN0L3N0cmVhbS1vYmplY3QudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvY29zaW5lLXNpbWlsYXJpdHkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvZGF0YS11cmwudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvaXMtZGVlcC1lcXVhbC1kYXRhLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL3NlcmlhbC1qb2ItZXhlY3V0b3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3V0aWwvc2ltdWxhdGUtcmVhZGFibGUtc3RyZWFtLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS1zcGVlY2gvZ2VuZXJhdGUtc3BlZWNoLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS1zcGVlY2gvZ2VuZXJhdGVkLWF1ZGlvLWZpbGUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL2dlbmVyYXRlLXRleHQvb3V0cHV0LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3BydW5lLW1lc3NhZ2VzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9nZW5lcmF0ZS10ZXh0L3Ntb290aC1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL21pZGRsZXdhcmUvZGVmYXVsdC1zZXR0aW5ncy1taWRkbGV3YXJlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91dGlsL2dldC1wb3RlbnRpYWwtc3RhcnQtaW5kZXgudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL21pZGRsZXdhcmUvZXh0cmFjdC1yZWFzb25pbmctbWlkZGxld2FyZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvbWlkZGxld2FyZS9zaW11bGF0ZS1zdHJlYW1pbmctbWlkZGxld2FyZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvbWlkZGxld2FyZS93cmFwLWxhbmd1YWdlLW1vZGVsLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy9taWRkbGV3YXJlL3dyYXAtcHJvdmlkZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3JlZ2lzdHJ5L2N1c3RvbS1wcm92aWRlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcmVnaXN0cnkvbm8tc3VjaC1wcm92aWRlci1lcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvcmVnaXN0cnkvcHJvdmlkZXItcmVnaXN0cnkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3RyYW5zY3JpYmUvdHJhbnNjcmliZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvZXJyb3Ivbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL2NhbGwtY29tcGxldGlvbi1hcGkudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL3Byb2Nlc3MtdGV4dC1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL2NoYXQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL2NvbnZlcnQtZmlsZS1saXN0LXRvLWZpbGUtdWktcGFydHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL2RlZmF1bHQtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL2h0dHAtY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL2xhc3QtYXNzaXN0YW50LW1lc3NhZ2UtaXMtY29tcGxldGUtd2l0aC10b29sLWNhbGxzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91aS90cmFuc2Zvcm0tdGV4dC10by11aS1tZXNzYWdlLXN0cmVhbS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWlANS4wLjEwNF96b2RANC4xLjExL25vZGVfbW9kdWxlcy9haS9zcmMvdWkvdGV4dC1zdHJlYW0tY2hhdC10cmFuc3BvcnQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpL3ZhbGlkYXRlLXVpLW1lc3NhZ2VzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9haUA1LjAuMTA0X3pvZEA0LjEuMTEvbm9kZV9tb2R1bGVzL2FpL3NyYy91aS1tZXNzYWdlLXN0cmVhbS9jcmVhdGUtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FpQDUuMC4xMDRfem9kQDQuMS4xMS9ub2RlX21vZHVsZXMvYWkvc3JjL3VpLW1lc3NhZ2Utc3RyZWFtL3JlYWQtdWktbWVzc2FnZS1zdHJlYW0udHMiLCAiLi4vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMiLCAiLi4vZXhhbXBsZS93b3JrZmxvd3MvOThfZHVwbGljYXRlX2Nhc2UudHMiLCAiLi4vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzIiwgIi4uL2V4YW1wbGUvd29ya2Zsb3dzL2hlbHBlcnMudHMiLCAiLi4vZXhhbXBsZS93b3JrZmxvd3MvNV9ob29rcy50cyIsICJ2aXJ0dWFsLWVudHJ5LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi8gLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovIHZhciBJTkZJTklUWSA9IDEgLyAwLCBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSwgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCwgTkFOID0gMCAvIDA7XG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovIHZhciBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJywgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJywgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqLyB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG4vKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqLyB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqLyB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcbi8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqLyB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi8gdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcbi8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovIHZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi8gdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi8gdmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLCBuYXRpdmVNYXggPSBNYXRoLm1heDtcbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gKi8gZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IGxlbmd0aCArIHN0YXJ0O1xuICAgIH1cbiAgICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICB9XG4gICAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogZW5kIC0gc3RhcnQgPj4+IDA7XG4gICAgc3RhcnQgPj4+PSAwO1xuICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgIHdoaWxlKCsraW5kZXggPCBsZW5ndGgpe1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi8gZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqLyBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgIGlmICh0eXBlID09ICdudW1iZXInID8gaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSA6IHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gKiBlbGVtZW50cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAqXG4gKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICovIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgIGlmIChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gMCwgcmVzSW5kZXggPSAwLCByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcbiAgICB3aGlsZShpbmRleCA8IGxlbmd0aCl7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIGluZGV4ICs9IHNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi8gZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqLyBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqLyBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqLyBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi8gZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8IGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi8gZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICB9XG4gICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gdmFsdWUgPCAwID8gLTEgOiAxO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b0ludGVnZXIoMy4yKTtcbiAqIC8vID0+IDNcbiAqXG4gKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDBcbiAqXG4gKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAqIC8vID0+IDNcbiAqLyBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLCByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCA6IDA7XG59XG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqLyBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgfVxuICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IG90aGVyICsgJycgOiBvdGhlcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICB9XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgcmV0dXJuIGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOCkgOiByZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlO1xufVxubW9kdWxlLmV4cG9ydHMgPSBjaHVuaztcbiIsICIvKipcbiAqIEhlbHBlcnMuXG4gKi8gdmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICAgIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICsgSlNPTi5zdHJpbmdpZnkodmFsKSk7XG59O1xuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi8gZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gICAgc3RyID0gU3RyaW5nKHN0cik7XG4gICAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoc3RyKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgY2FzZSAneWVhcnMnOlxuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgY2FzZSAneXJzJzpcbiAgICAgICAgY2FzZSAneXInOlxuICAgICAgICBjYXNlICd5JzpcbiAgICAgICAgICAgIHJldHVybiBuICogeTtcbiAgICAgICAgY2FzZSAnd2Vla3MnOlxuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgY2FzZSAndyc6XG4gICAgICAgICAgICByZXR1cm4gbiAqIHc7XG4gICAgICAgIGNhc2UgJ2RheXMnOlxuICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgIHJldHVybiBuICogZDtcbiAgICAgICAgY2FzZSAnaG91cnMnOlxuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgY2FzZSAnaHJzJzpcbiAgICAgICAgY2FzZSAnaHInOlxuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgIHJldHVybiBuICogaDtcbiAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgIGNhc2UgJ21pbnMnOlxuICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgIHJldHVybiBuICogbTtcbiAgICAgICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgIGNhc2UgJ3NlY3MnOlxuICAgICAgICBjYXNlICdzZWMnOlxuICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIHJldHVybiBuICogcztcbiAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgICAgICBjYXNlICdtc2Vjcyc6XG4gICAgICAgIGNhc2UgJ21zZWMnOlxuICAgICAgICBjYXNlICdtcyc6XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqLyBmdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICAgIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgICBpZiAobXNBYnMgPj0gZCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICAgIH1cbiAgICBpZiAobXNBYnMgPj0gaCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICAgIH1cbiAgICBpZiAobXNBYnMgPj0gbSkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICAgIH1cbiAgICBpZiAobXNBYnMgPj0gcykge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICAgIH1cbiAgICByZXR1cm4gbXMgKyAnbXMnO1xufVxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovIGZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gICAgaWYgKG1zQWJzID49IGQpIHtcbiAgICAgICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgICB9XG4gICAgaWYgKG1zQWJzID49IGgpIHtcbiAgICAgICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gICAgfVxuICAgIGlmIChtc0FicyA+PSBtKSB7XG4gICAgICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gICAgfVxuICAgIGlmIChtc0FicyA+PSBzKSB7XG4gICAgICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gICAgfVxuICAgIHJldHVybiBtcyArICcgbXMnO1xufVxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqLyBmdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gICAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKT0+e1xuICAgIGZvcih2YXIgbmFtZSBpbiBhbGwpX19kZWZQcm9wKHRhcmdldCwgbmFtZSwge1xuICAgICAgICBnZXQ6IGFsbFtuYW1lXSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKT0+e1xuICAgIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKWlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpIF9fZGVmUHJvcCh0bywga2V5LCB7XG4gICAgICAgICAgICBnZXQ6ICgpPT5mcm9tW2tleV0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKT0+X19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pLCBtb2QpO1xudmFyIGdldF9jb250ZXh0X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGdldF9jb250ZXh0X2V4cG9ydHMsIHtcbiAgICBTWU1CT0xfRk9SX1JFUV9DT05URVhUOiAoKT0+U1lNQk9MX0ZPUl9SRVFfQ09OVEVYVCxcbiAgICBnZXRDb250ZXh0OiAoKT0+Z2V0Q29udGV4dFxufSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fdG9Db21tb25KUyhnZXRfY29udGV4dF9leHBvcnRzKTtcbmNvbnN0IFNZTUJPTF9GT1JfUkVRX0NPTlRFWFQgPSBTeW1ib2wuZm9yKFwiQHZlcmNlbC9yZXF1ZXN0LWNvbnRleHRcIik7XG5mdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICAgIGNvbnN0IGZyb21TeW1ib2wgPSBnbG9iYWxUaGlzO1xuICAgIHJldHVybiBmcm9tU3ltYm9sW1NZTUJPTF9GT1JfUkVRX0NPTlRFWFRdPy5nZXQ/LigpID8/IHt9O1xufVxuLy8gQW5ub3RhdGUgdGhlIENvbW1vbkpTIGV4cG9ydCBuYW1lcyBmb3IgRVNNIGltcG9ydCBpbiBub2RlOlxuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgU1lNQk9MX0ZPUl9SRVFfQ09OVEVYVCxcbiAgICBnZXRDb250ZXh0XG59KTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKT0+e1xuICAgIGZvcih2YXIgbmFtZSBpbiBhbGwpX19kZWZQcm9wKHRhcmdldCwgbmFtZSwge1xuICAgICAgICBnZXQ6IGFsbFtuYW1lXSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKT0+e1xuICAgIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKWlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpIF9fZGVmUHJvcCh0bywga2V5LCB7XG4gICAgICAgICAgICBnZXQ6ICgpPT5mcm9tW2tleV0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKT0+X19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pLCBtb2QpO1xudmFyIGluZGV4X2Jyb3dzZXJfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoaW5kZXhfYnJvd3Nlcl9leHBvcnRzLCB7XG4gICAgZ2V0Q29udGV4dDogKCk9PmltcG9ydF9nZXRfY29udGV4dC5nZXRDb250ZXh0LFxuICAgIGdldFZlcmNlbE9pZGNUb2tlbjogKCk9PmdldFZlcmNlbE9pZGNUb2tlbixcbiAgICBnZXRWZXJjZWxPaWRjVG9rZW5TeW5jOiAoKT0+Z2V0VmVyY2VsT2lkY1Rva2VuU3luY1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fdG9Db21tb25KUyhpbmRleF9icm93c2VyX2V4cG9ydHMpO1xudmFyIGltcG9ydF9nZXRfY29udGV4dCA9IHJlcXVpcmUoXCIuL2dldC1jb250ZXh0XCIpO1xuYXN5bmMgZnVuY3Rpb24gZ2V0VmVyY2VsT2lkY1Rva2VuKCkge1xuICAgIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gZ2V0VmVyY2VsT2lkY1Rva2VuU3luYygpIHtcbiAgICByZXR1cm4gXCJcIjtcbn1cbi8vIEFubm90YXRlIHRoZSBDb21tb25KUyBleHBvcnQgbmFtZXMgZm9yIEVTTSBpbXBvcnQgaW4gbm9kZTpcbjAgJiYgKG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGdldENvbnRleHQsXG4gICAgZ2V0VmVyY2VsT2lkY1Rva2VuLFxuICAgIGdldFZlcmNlbE9pZGNUb2tlblN5bmNcbn0pO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKiBvbmx5IGdsb2JhbHMgdGhhdCBjb21tb24gdG8gbm9kZSBhbmQgYnJvd3NlcnMgYXJlIGFsbG93ZWQgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBub2RlL25vLXVuc3VwcG9ydGVkLWZlYXR1cmVzL2VzLWJ1aWx0aW5zXG5leHBvcnQgY29uc3QgX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vZ2xvYmFsVGhpcyc7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9ub2RlJztcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyB0aGlzIGlzIGF1dG9nZW5lcmF0ZWQgZmlsZSwgc2VlIHNjcmlwdHMvdmVyc2lvbi11cGRhdGUuanNcbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzEuOS4wJztcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbmNvbnN0IHJlID0gL14oXFxkKylcXC4oXFxkKylcXC4oXFxkKykoLSguKykpPyQvO1xuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHRvIHRlc3QgYW4gQVBJIHZlcnNpb24gdG8gc2VlIGlmIGl0IGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgcHJvdmlkZWQgb3duVmVyc2lvbi5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gaGFzIHRoZSBmb2xsb3dpbmcgc2VtYW50aWNzOlxuICogLSBFeGFjdCBtYXRjaCBpcyBhbHdheXMgY29tcGF0aWJsZVxuICogLSBNYWpvciB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAqICAgIC0gMS54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMi54IHBhY2thZ2VcbiAqICAgIC0gMi54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMS54IHBhY2thZ2VcbiAqIC0gVGhlIG1pbm9yIHZlcnNpb24gb2YgdGhlIEFQSSBtb2R1bGUgcmVxdWVzdGluZyBhY2Nlc3MgdG8gdGhlIGdsb2JhbCBBUEkgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIG1pbm9yIHZlcnNpb24gb2YgdGhpcyBBUElcbiAqICAgIC0gMS4zIHBhY2thZ2UgbWF5IHVzZSAxLjQgZ2xvYmFsIGJlY2F1c2UgdGhlIGxhdGVyIGdsb2JhbCBjb250YWlucyBhbGwgZnVuY3Rpb25zIDEuMyBleHBlY3RzXG4gKiAgICAtIDEuNCBwYWNrYWdlIG1heSBOT1QgdXNlIDEuMyBnbG9iYWwgYmVjYXVzZSBpdCBtYXkgdHJ5IHRvIGNhbGwgZnVuY3Rpb25zIHdoaWNoIGRvbid0IGV4aXN0IG9uIDEuM1xuICogLSBJZiB0aGUgbWFqb3IgdmVyc2lvbiBpcyAwLCB0aGUgbWlub3IgdmVyc2lvbiBpcyB0cmVhdGVkIGFzIHRoZSBtYWpvciBhbmQgdGhlIHBhdGNoIGlzIHRyZWF0ZWQgYXMgdGhlIG1pbm9yXG4gKiAtIFBhdGNoIGFuZCBidWlsZCB0YWcgZGlmZmVyZW5jZXMgYXJlIG5vdCBjb25zaWRlcmVkIGF0IHRoaXMgdGltZVxuICpcbiAqIEBwYXJhbSBvd25WZXJzaW9uIHZlcnNpb24gd2hpY2ggc2hvdWxkIGJlIGNoZWNrZWQgYWdhaW5zdFxuICovXG5leHBvcnQgZnVuY3Rpb24gX21ha2VDb21wYXRpYmlsaXR5Q2hlY2soXG4gIG93blZlcnNpb246IHN0cmluZ1xuKTogKGdsb2JhbFZlcnNpb246IHN0cmluZykgPT4gYm9vbGVhbiB7XG4gIGNvbnN0IGFjY2VwdGVkVmVyc2lvbnMgPSBuZXcgU2V0PHN0cmluZz4oW293blZlcnNpb25dKTtcbiAgY29uc3QgcmVqZWN0ZWRWZXJzaW9ucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIGNvbnN0IG15VmVyc2lvbk1hdGNoID0gb3duVmVyc2lvbi5tYXRjaChyZSk7XG4gIGlmICghbXlWZXJzaW9uTWF0Y2gpIHtcbiAgICAvLyB3ZSBjYW5ub3QgZ3VhcmFudGVlIGNvbXBhdGliaWxpdHkgc28gd2UgYWx3YXlzIHJldHVybiBub29wXG4gICAgcmV0dXJuICgpID0+IGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgb3duVmVyc2lvblBhcnNlZCA9IHtcbiAgICBtYWpvcjogK215VmVyc2lvbk1hdGNoWzFdLFxuICAgIG1pbm9yOiArbXlWZXJzaW9uTWF0Y2hbMl0sXG4gICAgcGF0Y2g6ICtteVZlcnNpb25NYXRjaFszXSxcbiAgICBwcmVyZWxlYXNlOiBteVZlcnNpb25NYXRjaFs0XSxcbiAgfTtcblxuICAvLyBpZiBvd25WZXJzaW9uIGhhcyBhIHByZXJlbGVhc2UgdGFnLCB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAgaWYgKG93blZlcnNpb25QYXJzZWQucHJlcmVsZWFzZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzRXhhY3RtYXRjaChnbG9iYWxWZXJzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBnbG9iYWxWZXJzaW9uID09PSBvd25WZXJzaW9uO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfcmVqZWN0KHY6IHN0cmluZykge1xuICAgIHJlamVjdGVkVmVyc2lvbnMuYWRkKHYpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hY2NlcHQodjogc3RyaW5nKSB7XG4gICAgYWNjZXB0ZWRWZXJzaW9ucy5hZGQodik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gaXNDb21wYXRpYmxlKGdsb2JhbFZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmIChhY2NlcHRlZFZlcnNpb25zLmhhcyhnbG9iYWxWZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJlamVjdGVkVmVyc2lvbnMuaGFzKGdsb2JhbFZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZ2xvYmFsVmVyc2lvbk1hdGNoID0gZ2xvYmFsVmVyc2lvbi5tYXRjaChyZSk7XG4gICAgaWYgKCFnbG9iYWxWZXJzaW9uTWF0Y2gpIHtcbiAgICAgIC8vIGNhbm5vdCBwYXJzZSBvdGhlciB2ZXJzaW9uXG4gICAgICAvLyB3ZSBjYW5ub3QgZ3VhcmFudGVlIGNvbXBhdGliaWxpdHkgc28gd2UgYWx3YXlzIG5vb3BcbiAgICAgIHJldHVybiBfcmVqZWN0KGdsb2JhbFZlcnNpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGdsb2JhbFZlcnNpb25QYXJzZWQgPSB7XG4gICAgICBtYWpvcjogK2dsb2JhbFZlcnNpb25NYXRjaFsxXSxcbiAgICAgIG1pbm9yOiArZ2xvYmFsVmVyc2lvbk1hdGNoWzJdLFxuICAgICAgcGF0Y2g6ICtnbG9iYWxWZXJzaW9uTWF0Y2hbM10sXG4gICAgICBwcmVyZWxlYXNlOiBnbG9iYWxWZXJzaW9uTWF0Y2hbNF0sXG4gICAgfTtcblxuICAgIC8vIGlmIGdsb2JhbFZlcnNpb24gaGFzIGEgcHJlcmVsZWFzZSB0YWcsIHZlcnNpb25zIG11c3QgbWF0Y2ggZXhhY3RseVxuICAgIGlmIChnbG9iYWxWZXJzaW9uUGFyc2VkLnByZXJlbGVhc2UgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIF9yZWplY3QoZ2xvYmFsVmVyc2lvbik7XG4gICAgfVxuXG4gICAgLy8gbWFqb3IgdmVyc2lvbnMgbXVzdCBtYXRjaFxuICAgIGlmIChvd25WZXJzaW9uUGFyc2VkLm1ham9yICE9PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1ham9yKSB7XG4gICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICBpZiAob3duVmVyc2lvblBhcnNlZC5tYWpvciA9PT0gMCkge1xuICAgICAgaWYgKFxuICAgICAgICBvd25WZXJzaW9uUGFyc2VkLm1pbm9yID09PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1pbm9yICYmXG4gICAgICAgIG93blZlcnNpb25QYXJzZWQucGF0Y2ggPD0gZ2xvYmFsVmVyc2lvblBhcnNlZC5wYXRjaFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBfYWNjZXB0KGdsb2JhbFZlcnNpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICBpZiAob3duVmVyc2lvblBhcnNlZC5taW5vciA8PSBnbG9iYWxWZXJzaW9uUGFyc2VkLm1pbm9yKSB7XG4gICAgICByZXR1cm4gX2FjY2VwdChnbG9iYWxWZXJzaW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JlamVjdChnbG9iYWxWZXJzaW9uKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUZXN0IGFuIEFQSSB2ZXJzaW9uIHRvIHNlZSBpZiBpdCBpcyBjb21wYXRpYmxlIHdpdGggdGhpcyBBUEkuXG4gKlxuICogLSBFeGFjdCBtYXRjaCBpcyBhbHdheXMgY29tcGF0aWJsZVxuICogLSBNYWpvciB2ZXJzaW9ucyBtdXN0IG1hdGNoIGV4YWN0bHlcbiAqICAgIC0gMS54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMi54IHBhY2thZ2VcbiAqICAgIC0gMi54IHBhY2thZ2UgY2Fubm90IHVzZSBnbG9iYWwgMS54IHBhY2thZ2VcbiAqIC0gVGhlIG1pbm9yIHZlcnNpb24gb2YgdGhlIEFQSSBtb2R1bGUgcmVxdWVzdGluZyBhY2Nlc3MgdG8gdGhlIGdsb2JhbCBBUEkgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIG1pbm9yIHZlcnNpb24gb2YgdGhpcyBBUElcbiAqICAgIC0gMS4zIHBhY2thZ2UgbWF5IHVzZSAxLjQgZ2xvYmFsIGJlY2F1c2UgdGhlIGxhdGVyIGdsb2JhbCBjb250YWlucyBhbGwgZnVuY3Rpb25zIDEuMyBleHBlY3RzXG4gKiAgICAtIDEuNCBwYWNrYWdlIG1heSBOT1QgdXNlIDEuMyBnbG9iYWwgYmVjYXVzZSBpdCBtYXkgdHJ5IHRvIGNhbGwgZnVuY3Rpb25zIHdoaWNoIGRvbid0IGV4aXN0IG9uIDEuM1xuICogLSBJZiB0aGUgbWFqb3IgdmVyc2lvbiBpcyAwLCB0aGUgbWlub3IgdmVyc2lvbiBpcyB0cmVhdGVkIGFzIHRoZSBtYWpvciBhbmQgdGhlIHBhdGNoIGlzIHRyZWF0ZWQgYXMgdGhlIG1pbm9yXG4gKiAtIFBhdGNoIGFuZCBidWlsZCB0YWcgZGlmZmVyZW5jZXMgYXJlIG5vdCBjb25zaWRlcmVkIGF0IHRoaXMgdGltZVxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIHZlcnNpb24gb2YgdGhlIEFQSSByZXF1ZXN0aW5nIGFuIGluc3RhbmNlIG9mIHRoZSBnbG9iYWwgQVBJXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NvbXBhdGlibGUgPSBfbWFrZUNvbXBhdGliaWxpdHlDaGVjayhWRVJTSU9OKTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBNZXRlclByb3ZpZGVyIH0gZnJvbSAnLi4vbWV0cmljcy9NZXRlclByb3ZpZGVyJztcbmltcG9ydCB7IENvbnRleHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBEaWFnTG9nZ2VyIH0gZnJvbSAnLi4vZGlhZy90eXBlcyc7XG5pbXBvcnQgeyBfZ2xvYmFsVGhpcyB9IGZyb20gJy4uL3BsYXRmb3JtJztcbmltcG9ydCB7IFRleHRNYXBQcm9wYWdhdG9yIH0gZnJvbSAnLi4vcHJvcGFnYXRpb24vVGV4dE1hcFByb3BhZ2F0b3InO1xuaW1wb3J0IHR5cGUgeyBUcmFjZXJQcm92aWRlciB9IGZyb20gJy4uL3RyYWNlL3RyYWNlcl9wcm92aWRlcic7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5pbXBvcnQgeyBpc0NvbXBhdGlibGUgfSBmcm9tICcuL3NlbXZlcic7XG5cbmNvbnN0IG1ham9yID0gVkVSU0lPTi5zcGxpdCgnLicpWzBdO1xuY29uc3QgR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWSA9IFN5bWJvbC5mb3IoXG4gIGBvcGVudGVsZW1ldHJ5LmpzLmFwaS4ke21ham9yfWBcbik7XG5cbmNvbnN0IF9nbG9iYWwgPSBfZ2xvYmFsVGhpcyBhcyBPVGVsR2xvYmFsO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJHbG9iYWw8VHlwZSBleHRlbmRzIGtleW9mIE9UZWxHbG9iYWxBUEk+KFxuICB0eXBlOiBUeXBlLFxuICBpbnN0YW5jZTogT1RlbEdsb2JhbEFQSVtUeXBlXSxcbiAgZGlhZzogRGlhZ0xvZ2dlcixcbiAgYWxsb3dPdmVycmlkZSA9IGZhbHNlXG4pOiBib29sZWFuIHtcbiAgY29uc3QgYXBpID0gKF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0gPSBfZ2xvYmFsW1xuICAgIEdMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVlcbiAgXSA/PyB7XG4gICAgdmVyc2lvbjogVkVSU0lPTixcbiAgfSk7XG5cbiAgaWYgKCFhbGxvd092ZXJyaWRlICYmIGFwaVt0eXBlXSkge1xuICAgIC8vIGFscmVhZHkgcmVnaXN0ZXJlZCBhbiBBUEkgb2YgdGhpcyB0eXBlXG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgYEBvcGVudGVsZW1ldHJ5L2FwaTogQXR0ZW1wdGVkIGR1cGxpY2F0ZSByZWdpc3RyYXRpb24gb2YgQVBJOiAke3R5cGV9YFxuICAgICk7XG4gICAgZGlhZy5lcnJvcihlcnIuc3RhY2sgfHwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhcGkudmVyc2lvbiAhPT0gVkVSU0lPTikge1xuICAgIC8vIEFsbCByZWdpc3RlcmVkIEFQSXMgbXVzdCBiZSBvZiB0aGUgc2FtZSB2ZXJzaW9uIGV4YWN0bHlcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICBgQG9wZW50ZWxlbWV0cnkvYXBpOiBSZWdpc3RyYXRpb24gb2YgdmVyc2lvbiB2JHthcGkudmVyc2lvbn0gZm9yICR7dHlwZX0gZG9lcyBub3QgbWF0Y2ggcHJldmlvdXNseSByZWdpc3RlcmVkIEFQSSB2JHtWRVJTSU9OfWBcbiAgICApO1xuICAgIGRpYWcuZXJyb3IoZXJyLnN0YWNrIHx8IGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhcGlbdHlwZV0gPSBpbnN0YW5jZTtcbiAgZGlhZy5kZWJ1ZyhcbiAgICBgQG9wZW50ZWxlbWV0cnkvYXBpOiBSZWdpc3RlcmVkIGEgZ2xvYmFsIGZvciAke3R5cGV9IHYke1ZFUlNJT059LmBcbiAgKTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbDxUeXBlIGV4dGVuZHMga2V5b2YgT1RlbEdsb2JhbEFQST4oXG4gIHR5cGU6IFR5cGVcbik6IE9UZWxHbG9iYWxBUElbVHlwZV0gfCB1bmRlZmluZWQge1xuICBjb25zdCBnbG9iYWxWZXJzaW9uID0gX2dsb2JhbFtHTE9CQUxfT1BFTlRFTEVNRVRSWV9BUElfS0VZXT8udmVyc2lvbjtcbiAgaWYgKCFnbG9iYWxWZXJzaW9uIHx8ICFpc0NvbXBhdGlibGUoZ2xvYmFsVmVyc2lvbikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIF9nbG9iYWxbR0xPQkFMX09QRU5URUxFTUVUUllfQVBJX0tFWV0/Llt0eXBlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJHbG9iYWwodHlwZToga2V5b2YgT1RlbEdsb2JhbEFQSSwgZGlhZzogRGlhZ0xvZ2dlcikge1xuICBkaWFnLmRlYnVnKFxuICAgIGBAb3BlbnRlbGVtZXRyeS9hcGk6IFVucmVnaXN0ZXJpbmcgYSBnbG9iYWwgZm9yICR7dHlwZX0gdiR7VkVSU0lPTn0uYFxuICApO1xuICBjb25zdCBhcGkgPSBfZ2xvYmFsW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldO1xuXG4gIGlmIChhcGkpIHtcbiAgICBkZWxldGUgYXBpW3R5cGVdO1xuICB9XG59XG5cbnR5cGUgT1RlbEdsb2JhbCA9IHtcbiAgW0dMT0JBTF9PUEVOVEVMRU1FVFJZX0FQSV9LRVldPzogT1RlbEdsb2JhbEFQSTtcbn07XG5cbnR5cGUgT1RlbEdsb2JhbEFQSSA9IHtcbiAgdmVyc2lvbjogc3RyaW5nO1xuXG4gIGRpYWc/OiBEaWFnTG9nZ2VyO1xuICB0cmFjZT86IFRyYWNlclByb3ZpZGVyO1xuICBjb250ZXh0PzogQ29udGV4dE1hbmFnZXI7XG4gIG1ldHJpY3M/OiBNZXRlclByb3ZpZGVyO1xuICBwcm9wYWdhdGlvbj86IFRleHRNYXBQcm9wYWdhdG9yO1xufTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBnZXRHbG9iYWwgfSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuaW1wb3J0IHsgQ29tcG9uZW50TG9nZ2VyT3B0aW9ucywgRGlhZ0xvZ2dlciwgRGlhZ0xvZ0Z1bmN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogQ29tcG9uZW50IExvZ2dlciB3aGljaCBpcyBtZWFudCB0byBiZSB1c2VkIGFzIHBhcnQgb2YgYW55IGNvbXBvbmVudCB3aGljaFxuICogd2lsbCBhZGQgYXV0b21hdGljYWxseSBhZGRpdGlvbmFsIG5hbWVzcGFjZSBpbiBmcm9udCBvZiB0aGUgbG9nIG1lc3NhZ2UuXG4gKiBJdCB3aWxsIHRoZW4gZm9yd2FyZCBhbGwgbWVzc2FnZSB0byBnbG9iYWwgZGlhZyBsb2dnZXJcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBjTG9nZ2VyID0gZGlhZy5jcmVhdGVDb21wb25lbnRMb2dnZXIoeyBuYW1lc3BhY2U6ICdAb3BlbnRlbGVtZXRyeS9pbnN0cnVtZW50YXRpb24taHR0cCcgfSk7XG4gKiBjTG9nZ2VyLmRlYnVnKCd0ZXN0Jyk7XG4gKiAvLyBAb3BlbnRlbGVtZXRyeS9pbnN0cnVtZW50YXRpb24taHR0cCB0ZXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFnQ29tcG9uZW50TG9nZ2VyIGltcGxlbWVudHMgRGlhZ0xvZ2dlciB7XG4gIHByaXZhdGUgX25hbWVzcGFjZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBDb21wb25lbnRMb2dnZXJPcHRpb25zKSB7XG4gICAgdGhpcy5fbmFtZXNwYWNlID0gcHJvcHMubmFtZXNwYWNlIHx8ICdEaWFnQ29tcG9uZW50TG9nZ2VyJztcbiAgfVxuXG4gIHB1YmxpYyBkZWJ1ZyguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnZGVidWcnLCB0aGlzLl9uYW1lc3BhY2UsIGFyZ3MpO1xuICB9XG5cbiAgcHVibGljIGVycm9yKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuIGxvZ1Byb3h5KCdlcnJvcicsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgaW5mbyguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnaW5mbycsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgd2FybiguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgnd2FybicsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cblxuICBwdWJsaWMgdmVyYm9zZSguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybiBsb2dQcm94eSgndmVyYm9zZScsIHRoaXMuX25hbWVzcGFjZSwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbG9nUHJveHkoXG4gIGZ1bmNOYW1lOiBrZXlvZiBEaWFnTG9nZ2VyLFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgYXJnczogYW55XG4pOiB2b2lkIHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0R2xvYmFsKCdkaWFnJyk7XG4gIC8vIHNob3J0Y3V0IGlmIGxvZ2dlciBub3Qgc2V0XG4gIGlmICghbG9nZ2VyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXJncy51bnNoaWZ0KG5hbWVzcGFjZSk7XG4gIHJldHVybiBsb2dnZXJbZnVuY05hbWVdKC4uLihhcmdzIGFzIFBhcmFtZXRlcnM8RGlhZ0xvZ0Z1bmN0aW9uPikpO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCB0eXBlIERpYWdMb2dGdW5jdGlvbiA9IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDtcblxuLyoqXG4gKiBEZWZpbmVzIGFuIGludGVybmFsIGRpYWdub3N0aWMgbG9nZ2VyIGludGVyZmFjZSB3aGljaCBpcyB1c2VkIHRvIGxvZyBpbnRlcm5hbCBkaWFnbm9zdGljXG4gKiBtZXNzYWdlcywgeW91IGNhbiBzZXQgdGhlIGRlZmF1bHQgZGlhZ25vc3RpYyBsb2dnZXIgdmlhIHRoZSB7QGxpbmsgRGlhZ0FQSX0gc2V0TG9nZ2VyIGZ1bmN0aW9uLlxuICogQVBJIHByb3ZpZGVkIGltcGxlbWVudGF0aW9ucyBpbmNsdWRlIDotXG4gKiAtIGEgTm8tT3Age0BsaW5rIGNyZWF0ZU5vb3BEaWFnTG9nZ2VyfVxuICogLSBhIHtAbGluayBEaWFnTG9nTGV2ZWx9IGZpbHRlcmluZyB3cmFwcGVyIHtAbGluayBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXJ9XG4gKiAtIGEgZ2VuZXJhbCBDb25zb2xlIHtAbGluayBEaWFnQ29uc29sZUxvZ2dlcn0gdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaWFnTG9nZ2VyIHtcbiAgLyoqIExvZyBhbiBlcnJvciBzY2VuYXJpbyB0aGF0IHdhcyBub3QgZXhwZWN0ZWQgYW5kIGNhdXNlZCB0aGUgcmVxdWVzdGVkIG9wZXJhdGlvbiB0byBmYWlsLiAqL1xuICBlcnJvcjogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSB3YXJuaW5nIHNjZW5hcmlvIHRvIGluZm9ybSB0aGUgZGV2ZWxvcGVyIG9mIGFuIGlzc3VlcyB0aGF0IHNob3VsZCBiZSBpbnZlc3RpZ2F0ZWQuXG4gICAqIFRoZSByZXF1ZXN0ZWQgb3BlcmF0aW9uIG1heSBvciBtYXkgbm90IGhhdmUgc3VjY2VlZGVkIG9yIGNvbXBsZXRlZC5cbiAgICovXG4gIHdhcm46IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogTG9nIGEgZ2VuZXJhbCBpbmZvcm1hdGlvbmFsIG1lc3NhZ2UsIHRoaXMgc2hvdWxkIG5vdCBhZmZlY3QgZnVuY3Rpb25hbGl0eS5cbiAgICogVGhpcyBpcyBhbHNvIHRoZSBkZWZhdWx0IGxvZ2dpbmcgbGV2ZWwgc28gdGhpcyBzaG91bGQgTk9UIGJlIHVzZWQgZm9yIGxvZ2dpbmdcbiAgICogZGVidWdnaW5nIGxldmVsIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgaW5mbzogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBnZW5lcmFsIGRlYnVnIG1lc3NhZ2UgdGhhdCBjYW4gYmUgdXNlZnVsIGZvciBpZGVudGlmeWluZyBhIGZhaWx1cmUuXG4gICAqIEluZm9ybWF0aW9uIGxvZ2dlZCBhdCB0aGlzIGxldmVsIG1heSBpbmNsdWRlIGRpYWdub3N0aWMgZGV0YWlscyB0aGF0IHdvdWxkXG4gICAqIGhlbHAgaWRlbnRpZnkgYSBmYWlsdXJlIHNjZW5hcmlvLlxuICAgKiBGb3IgZXhhbXBsZTogTG9nZ2luZyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9mIGFzeW5jIG9wZXJhdGlvbnMuXG4gICAqL1xuICBkZWJ1ZzogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBkZXRhaWxlZCAodmVyYm9zZSkgdHJhY2UgbGV2ZWwgbG9nZ2luZyB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IGZhaWx1cmVzXG4gICAqIHdoZXJlIGRlYnVnIGxldmVsIGxvZ2dpbmcgd291bGQgYmUgaW5zdWZmaWNpZW50LCB0aGlzIGxldmVsIG9mIHRyYWNpbmcgY2FuIGluY2x1ZGVcbiAgICogaW5wdXQgYW5kIG91dHB1dCBwYXJhbWV0ZXJzIGFuZCBhcyBzdWNoIG1heSBpbmNsdWRlIFBJSSBpbmZvcm1hdGlvbiBwYXNzaW5nIHRocm91Z2hcbiAgICogdGhlIEFQSS4gQXMgc3VjaCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoaXMgbGV2ZWwgb2YgdHJhY2luZyBzaG91bGQgbm90IGJlIGVuYWJsZWRcbiAgICogaW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LlxuICAgKi9cbiAgdmVyYm9zZTogRGlhZ0xvZ0Z1bmN0aW9uO1xufVxuXG4vKipcbiAqIERlZmluZXMgdGhlIGF2YWlsYWJsZSBpbnRlcm5hbCBsb2dnaW5nIGxldmVscyBmb3IgdGhlIGRpYWdub3N0aWMgbG9nZ2VyLCB0aGUgbnVtZXJpYyB2YWx1ZXNcbiAqIG9mIHRoZSBsZXZlbHMgYXJlIGRlZmluZWQgdG8gbWF0Y2ggdGhlIG9yaWdpbmFsIHZhbHVlcyBmcm9tIHRoZSBpbml0aWFsIExvZ0xldmVsIHRvIGF2b2lkXG4gKiBjb21wYXRpYmlsaXR5L21pZ3JhdGlvbiBpc3N1ZXMgZm9yIGFueSBpbXBsZW1lbnRhdGlvbiB0aGF0IGFzc3VtZSB0aGUgbnVtZXJpYyBvcmRlcmluZy5cbiAqL1xuZXhwb3J0IGVudW0gRGlhZ0xvZ0xldmVsIHtcbiAgLyoqIERpYWdub3N0aWMgTG9nZ2luZyBsZXZlbCBzZXR0aW5nIHRvIGRpc2FibGUgYWxsIGxvZ2dpbmcgKGV4Y2VwdCBhbmQgZm9yY2VkIGxvZ3MpICovXG4gIE5PTkUgPSAwLFxuXG4gIC8qKiBJZGVudGlmaWVzIGFuIGVycm9yIHNjZW5hcmlvICovXG4gIEVSUk9SID0gMzAsXG5cbiAgLyoqIElkZW50aWZpZXMgYSB3YXJuaW5nIHNjZW5hcmlvICovXG4gIFdBUk4gPSA1MCxcblxuICAvKiogR2VuZXJhbCBpbmZvcm1hdGlvbmFsIGxvZyBtZXNzYWdlICovXG4gIElORk8gPSA2MCxcblxuICAvKiogR2VuZXJhbCBkZWJ1ZyBsb2cgbWVzc2FnZSAqL1xuICBERUJVRyA9IDcwLFxuXG4gIC8qKlxuICAgKiBEZXRhaWxlZCB0cmFjZSBsZXZlbCBsb2dnaW5nIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGRldmVsb3BtZW50LCBzaG91bGQgb25seSBiZSBzZXRcbiAgICogaW4gYSBkZXZlbG9wbWVudCBlbnZpcm9ubWVudC5cbiAgICovXG4gIFZFUkJPU0UgPSA4MCxcblxuICAvKiogVXNlZCB0byBzZXQgdGhlIGxvZ2dpbmcgbGV2ZWwgdG8gaW5jbHVkZSBhbGwgbG9nZ2luZyAqL1xuICBBTEwgPSA5OTk5LFxufVxuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgQ29tcG9uZW50TG9nZ2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50TG9nZ2VyT3B0aW9ucyB7XG4gIG5hbWVzcGFjZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpYWdMb2dnZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgRGlhZ0xvZ0xldmVsfSB1c2VkIHRvIGZpbHRlciBsb2dzIHNlbnQgdG8gdGhlIGxvZ2dlci5cbiAgICpcbiAgICogQGRlZmF1bHRWYWx1ZSBEaWFnTG9nTGV2ZWwuSU5GT1xuICAgKi9cbiAgbG9nTGV2ZWw/OiBEaWFnTG9nTGV2ZWw7XG5cbiAgLyoqXG4gICAqIFNldHRpbmcgdGhpcyB2YWx1ZSB0byBgdHJ1ZWAgd2lsbCBzdXBwcmVzcyB0aGUgd2FybmluZyBtZXNzYWdlIG5vcm1hbGx5IGVtaXR0ZWQgd2hlbiByZWdpc3RlcmluZyBhIGxvZ2dlciB3aGVuIGFub3RoZXIgbG9nZ2VyIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cbiAgICovXG4gIHN1cHByZXNzT3ZlcnJpZGVNZXNzYWdlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFnTG9nZ2VyQXBpIHtcbiAgLyoqXG4gICAqIFNldCB0aGUgZ2xvYmFsIERpYWdMb2dnZXIgYW5kIERpYWdMb2dMZXZlbC5cbiAgICogSWYgYSBnbG9iYWwgZGlhZyBsb2dnZXIgaXMgYWxyZWFkeSBzZXQsIHRoaXMgd2lsbCBvdmVycmlkZSBpdC5cbiAgICpcbiAgICogQHBhcmFtIGxvZ2dlciAtIFRoZSB7QGxpbmsgRGlhZ0xvZ2dlcn0gaW5zdGFuY2UgdG8gc2V0IGFzIHRoZSBkZWZhdWx0IGxvZ2dlci5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBEaWFnTG9nZ2VyT3B0aW9uc30gb2JqZWN0LiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHQgdmFsdWVzIHdpbGwgYmUgc2V0LlxuICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGxvZ2dlciB3YXMgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIGVsc2UgYGZhbHNlYFxuICAgKi9cbiAgc2V0TG9nZ2VyKGxvZ2dlcjogRGlhZ0xvZ2dlciwgb3B0aW9ucz86IERpYWdMb2dnZXJPcHRpb25zKTogYm9vbGVhbjtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGxvZ2dlciAtIFRoZSB7QGxpbmsgRGlhZ0xvZ2dlcn0gaW5zdGFuY2UgdG8gc2V0IGFzIHRoZSBkZWZhdWx0IGxvZ2dlci5cbiAgICogQHBhcmFtIGxvZ0xldmVsIC0gVGhlIHtAbGluayBEaWFnTG9nTGV2ZWx9IHVzZWQgdG8gZmlsdGVyIGxvZ3Mgc2VudCB0byB0aGUgbG9nZ2VyLiBJZiBub3QgcHJvdmlkZWQgaXQgd2lsbCBkZWZhdWx0IHRvIHtAbGluayBEaWFnTG9nTGV2ZWwuSU5GT30uXG4gICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbG9nZ2VyIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgZWxzZSBgZmFsc2VgXG4gICAqL1xuICBzZXRMb2dnZXIobG9nZ2VyOiBEaWFnTG9nZ2VyLCBsb2dMZXZlbD86IERpYWdMb2dMZXZlbCk6IGJvb2xlYW47XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGlhZ0xvZ0Z1bmN0aW9uLCBEaWFnTG9nZ2VyLCBEaWFnTG9nTGV2ZWwgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIoXG4gIG1heExldmVsOiBEaWFnTG9nTGV2ZWwsXG4gIGxvZ2dlcjogRGlhZ0xvZ2dlclxuKTogRGlhZ0xvZ2dlciB7XG4gIGlmIChtYXhMZXZlbCA8IERpYWdMb2dMZXZlbC5OT05FKSB7XG4gICAgbWF4TGV2ZWwgPSBEaWFnTG9nTGV2ZWwuTk9ORTtcbiAgfSBlbHNlIGlmIChtYXhMZXZlbCA+IERpYWdMb2dMZXZlbC5BTEwpIHtcbiAgICBtYXhMZXZlbCA9IERpYWdMb2dMZXZlbC5BTEw7XG4gIH1cblxuICAvLyBJbiBjYXNlIHRoZSBsb2dnZXIgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgbG9nZ2VyID0gbG9nZ2VyIHx8IHt9O1xuXG4gIGZ1bmN0aW9uIF9maWx0ZXJGdW5jKFxuICAgIGZ1bmNOYW1lOiBrZXlvZiBEaWFnTG9nZ2VyLFxuICAgIHRoZUxldmVsOiBEaWFnTG9nTGV2ZWxcbiAgKTogRGlhZ0xvZ0Z1bmN0aW9uIHtcbiAgICBjb25zdCB0aGVGdW5jID0gbG9nZ2VyW2Z1bmNOYW1lXTtcblxuICAgIGlmICh0eXBlb2YgdGhlRnVuYyA9PT0gJ2Z1bmN0aW9uJyAmJiBtYXhMZXZlbCA+PSB0aGVMZXZlbCkge1xuICAgICAgcmV0dXJuIHRoZUZ1bmMuYmluZChsb2dnZXIpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge307XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVycm9yOiBfZmlsdGVyRnVuYygnZXJyb3InLCBEaWFnTG9nTGV2ZWwuRVJST1IpLFxuICAgIHdhcm46IF9maWx0ZXJGdW5jKCd3YXJuJywgRGlhZ0xvZ0xldmVsLldBUk4pLFxuICAgIGluZm86IF9maWx0ZXJGdW5jKCdpbmZvJywgRGlhZ0xvZ0xldmVsLklORk8pLFxuICAgIGRlYnVnOiBfZmlsdGVyRnVuYygnZGVidWcnLCBEaWFnTG9nTGV2ZWwuREVCVUcpLFxuICAgIHZlcmJvc2U6IF9maWx0ZXJGdW5jKCd2ZXJib3NlJywgRGlhZ0xvZ0xldmVsLlZFUkJPU0UpLFxuICB9O1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERpYWdDb21wb25lbnRMb2dnZXIgfSBmcm9tICcuLi9kaWFnL0NvbXBvbmVudExvZ2dlcic7XG5pbXBvcnQgeyBjcmVhdGVMb2dMZXZlbERpYWdMb2dnZXIgfSBmcm9tICcuLi9kaWFnL2ludGVybmFsL2xvZ0xldmVsTG9nZ2VyJztcbmltcG9ydCB7XG4gIENvbXBvbmVudExvZ2dlck9wdGlvbnMsXG4gIERpYWdMb2dGdW5jdGlvbixcbiAgRGlhZ0xvZ2dlcixcbiAgRGlhZ0xvZ2dlckFwaSxcbiAgRGlhZ0xvZ0xldmVsLFxufSBmcm9tICcuLi9kaWFnL3R5cGVzJztcbmltcG9ydCB7XG4gIGdldEdsb2JhbCxcbiAgcmVnaXN0ZXJHbG9iYWwsXG4gIHVucmVnaXN0ZXJHbG9iYWwsXG59IGZyb20gJy4uL2ludGVybmFsL2dsb2JhbC11dGlscyc7XG5cbmNvbnN0IEFQSV9OQU1FID0gJ2RpYWcnO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgaW50ZXJuYWxcbiAqIGRpYWdub3N0aWMgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFnQVBJIGltcGxlbWVudHMgRGlhZ0xvZ2dlciwgRGlhZ0xvZ2dlckFwaSB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZT86IERpYWdBUEk7XG5cbiAgLyoqIEdldCB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBEaWFnQVBJIEFQSSAqL1xuICBwdWJsaWMgc3RhdGljIGluc3RhbmNlKCk6IERpYWdBUEkge1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IERpYWdBUEkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogUHJpdmF0ZSBpbnRlcm5hbCBjb25zdHJ1Y3RvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBmdW5jdGlvbiBfbG9nUHJveHkoZnVuY05hbWU6IGtleW9mIERpYWdMb2dnZXIpOiBEaWFnTG9nRnVuY3Rpb24ge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IGdldEdsb2JhbCgnZGlhZycpO1xuICAgICAgICAvLyBzaG9ydGN1dCBpZiBsb2dnZXIgbm90IHNldFxuICAgICAgICBpZiAoIWxvZ2dlcikgcmV0dXJuO1xuICAgICAgICByZXR1cm4gbG9nZ2VyW2Z1bmNOYW1lXSguLi5hcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVXNpbmcgc2VsZiBsb2NhbCB2YXJpYWJsZSBmb3IgbWluaWZpY2F0aW9uIHB1cnBvc2VzIGFzICd0aGlzJyBjYW5ub3QgYmUgbWluaWZpZWRcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIC8vIERpYWdBUEkgc3BlY2lmaWMgZnVuY3Rpb25zXG5cbiAgICBjb25zdCBzZXRMb2dnZXI6IERpYWdMb2dnZXJBcGlbJ3NldExvZ2dlciddID0gKFxuICAgICAgbG9nZ2VyLFxuICAgICAgb3B0aW9uc09yTG9nTGV2ZWwgPSB7IGxvZ0xldmVsOiBEaWFnTG9nTGV2ZWwuSU5GTyB9XG4gICAgKSA9PiB7XG4gICAgICBpZiAobG9nZ2VyID09PSBzZWxmKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzbid0IG11Y2ggd2UgY2FuIGRvIGhlcmUuXG4gICAgICAgIC8vIExvZ2dpbmcgdG8gdGhlIGNvbnNvbGUgbWlnaHQgYnJlYWsgdGhlIHVzZXIgYXBwbGljYXRpb24uXG4gICAgICAgIC8vIFRyeSB0byBsb2cgdG8gc2VsZi4gSWYgYSBsb2dnZXIgd2FzIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBpdCB3aWxsIHJlY2VpdmUgdGhlIGxvZy5cbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICdDYW5ub3QgdXNlIGRpYWcgYXMgdGhlIGxvZ2dlciBmb3IgaXRzZWxmLiBQbGVhc2UgdXNlIGEgRGlhZ0xvZ2dlciBpbXBsZW1lbnRhdGlvbiBsaWtlIENvbnNvbGVEaWFnTG9nZ2VyIG9yIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uJ1xuICAgICAgICApO1xuICAgICAgICBzZWxmLmVycm9yKGVyci5zdGFjayA/PyBlcnIubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zT3JMb2dMZXZlbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3B0aW9uc09yTG9nTGV2ZWwgPSB7XG4gICAgICAgICAgbG9nTGV2ZWw6IG9wdGlvbnNPckxvZ0xldmVsLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRMb2dnZXIgPSBnZXRHbG9iYWwoJ2RpYWcnKTtcbiAgICAgIGNvbnN0IG5ld0xvZ2dlciA9IGNyZWF0ZUxvZ0xldmVsRGlhZ0xvZ2dlcihcbiAgICAgICAgb3B0aW9uc09yTG9nTGV2ZWwubG9nTGV2ZWwgPz8gRGlhZ0xvZ0xldmVsLklORk8sXG4gICAgICAgIGxvZ2dlclxuICAgICAgKTtcbiAgICAgIC8vIFRoZXJlIGFscmVhZHkgaXMgYW4gbG9nZ2VyIHJlZ2lzdGVyZWQuIFdlJ2xsIGxldCBpdCBrbm93IGJlZm9yZSBvdmVyd3JpdGluZyBpdC5cbiAgICAgIGlmIChvbGRMb2dnZXIgJiYgIW9wdGlvbnNPckxvZ0xldmVsLnN1cHByZXNzT3ZlcnJpZGVNZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2sgPz8gJzxmYWlsZWQgdG8gZ2VuZXJhdGUgc3RhY2t0cmFjZT4nO1xuICAgICAgICBvbGRMb2dnZXIud2FybihgQ3VycmVudCBsb2dnZXIgd2lsbCBiZSBvdmVyd3JpdHRlbiBmcm9tICR7c3RhY2t9YCk7XG4gICAgICAgIG5ld0xvZ2dlci53YXJuKFxuICAgICAgICAgIGBDdXJyZW50IGxvZ2dlciB3aWxsIG92ZXJ3cml0ZSBvbmUgYWxyZWFkeSByZWdpc3RlcmVkIGZyb20gJHtzdGFja31gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWdpc3Rlckdsb2JhbCgnZGlhZycsIG5ld0xvZ2dlciwgc2VsZiwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIHNlbGYuc2V0TG9nZ2VyID0gc2V0TG9nZ2VyO1xuXG4gICAgc2VsZi5kaXNhYmxlID0gKCkgPT4ge1xuICAgICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgc2VsZik7XG4gICAgfTtcblxuICAgIHNlbGYuY3JlYXRlQ29tcG9uZW50TG9nZ2VyID0gKG9wdGlvbnM6IENvbXBvbmVudExvZ2dlck9wdGlvbnMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgRGlhZ0NvbXBvbmVudExvZ2dlcihvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgc2VsZi52ZXJib3NlID0gX2xvZ1Byb3h5KCd2ZXJib3NlJyk7XG4gICAgc2VsZi5kZWJ1ZyA9IF9sb2dQcm94eSgnZGVidWcnKTtcbiAgICBzZWxmLmluZm8gPSBfbG9nUHJveHkoJ2luZm8nKTtcbiAgICBzZWxmLndhcm4gPSBfbG9nUHJveHkoJ3dhcm4nKTtcbiAgICBzZWxmLmVycm9yID0gX2xvZ1Byb3h5KCdlcnJvcicpO1xuICB9XG5cbiAgcHVibGljIHNldExvZ2dlciE6IERpYWdMb2dnZXJBcGlbJ3NldExvZ2dlciddO1xuICAvKipcbiAgICpcbiAgICovXG4gIHB1YmxpYyBjcmVhdGVDb21wb25lbnRMb2dnZXIhOiAoXG4gICAgb3B0aW9uczogQ29tcG9uZW50TG9nZ2VyT3B0aW9uc1xuICApID0+IERpYWdMb2dnZXI7XG5cbiAgLy8gRGlhZ0xvZ2dlciBpbXBsZW1lbnRhdGlvblxuICBwdWJsaWMgdmVyYm9zZSE6IERpYWdMb2dGdW5jdGlvbjtcbiAgcHVibGljIGRlYnVnITogRGlhZ0xvZ0Z1bmN0aW9uO1xuICBwdWJsaWMgaW5mbyE6IERpYWdMb2dGdW5jdGlvbjtcbiAgcHVibGljIHdhcm4hOiBEaWFnTG9nRnVuY3Rpb247XG4gIHB1YmxpYyBlcnJvciE6IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogVW5yZWdpc3RlciB0aGUgZ2xvYmFsIGxvZ2dlciBhbmQgcmV0dXJuIHRvIE5vb3BcbiAgICovXG4gIHB1YmxpYyBkaXNhYmxlITogKCkgPT4gdm9pZDtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7IEJhZ2dhZ2UsIEJhZ2dhZ2VFbnRyeSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEJhZ2dhZ2VJbXBsIGltcGxlbWVudHMgQmFnZ2FnZSB7XG4gIHByaXZhdGUgX2VudHJpZXM6IE1hcDxzdHJpbmcsIEJhZ2dhZ2VFbnRyeT47XG5cbiAgY29uc3RydWN0b3IoZW50cmllcz86IE1hcDxzdHJpbmcsIEJhZ2dhZ2VFbnRyeT4pIHtcbiAgICB0aGlzLl9lbnRyaWVzID0gZW50cmllcyA/IG5ldyBNYXAoZW50cmllcykgOiBuZXcgTWFwKCk7XG4gIH1cblxuICBnZXRFbnRyeShrZXk6IHN0cmluZyk6IEJhZ2dhZ2VFbnRyeSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLl9lbnRyaWVzLmdldChrZXkpO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGVudHJ5KTtcbiAgfVxuXG4gIGdldEFsbEVudHJpZXMoKTogW3N0cmluZywgQmFnZ2FnZUVudHJ5XVtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9lbnRyaWVzLmVudHJpZXMoKSkubWFwKChbaywgdl0pID0+IFtrLCB2XSk7XG4gIH1cblxuICBzZXRFbnRyeShrZXk6IHN0cmluZywgZW50cnk6IEJhZ2dhZ2VFbnRyeSk6IEJhZ2dhZ2VJbXBsIHtcbiAgICBjb25zdCBuZXdCYWdnYWdlID0gbmV3IEJhZ2dhZ2VJbXBsKHRoaXMuX2VudHJpZXMpO1xuICAgIG5ld0JhZ2dhZ2UuX2VudHJpZXMuc2V0KGtleSwgZW50cnkpO1xuICAgIHJldHVybiBuZXdCYWdnYWdlO1xuICB9XG5cbiAgcmVtb3ZlRW50cnkoa2V5OiBzdHJpbmcpOiBCYWdnYWdlSW1wbCB7XG4gICAgY29uc3QgbmV3QmFnZ2FnZSA9IG5ldyBCYWdnYWdlSW1wbCh0aGlzLl9lbnRyaWVzKTtcbiAgICBuZXdCYWdnYWdlLl9lbnRyaWVzLmRlbGV0ZShrZXkpO1xuICAgIHJldHVybiBuZXdCYWdnYWdlO1xuICB9XG5cbiAgcmVtb3ZlRW50cmllcyguLi5rZXlzOiBzdHJpbmdbXSk6IEJhZ2dhZ2VJbXBsIHtcbiAgICBjb25zdCBuZXdCYWdnYWdlID0gbmV3IEJhZ2dhZ2VJbXBsKHRoaXMuX2VudHJpZXMpO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIG5ld0JhZ2dhZ2UuX2VudHJpZXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdCYWdnYWdlO1xuICB9XG5cbiAgY2xlYXIoKTogQmFnZ2FnZUltcGwge1xuICAgIHJldHVybiBuZXcgQmFnZ2FnZUltcGwoKTtcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogU3ltYm9sIHVzZWQgdG8gbWFrZSBCYWdnYWdlRW50cnlNZXRhZGF0YSBhbiBvcGFxdWUgdHlwZVxuICovXG5leHBvcnQgY29uc3QgYmFnZ2FnZUVudHJ5TWV0YWRhdGFTeW1ib2wgPSBTeW1ib2woJ0JhZ2dhZ2VFbnRyeU1ldGFkYXRhJyk7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGlhZ0FQSSB9IGZyb20gJy4uL2FwaS9kaWFnJztcbmltcG9ydCB7IEJhZ2dhZ2VJbXBsIH0gZnJvbSAnLi9pbnRlcm5hbC9iYWdnYWdlLWltcGwnO1xuaW1wb3J0IHsgYmFnZ2FnZUVudHJ5TWV0YWRhdGFTeW1ib2wgfSBmcm9tICcuL2ludGVybmFsL3N5bWJvbCc7XG5pbXBvcnQgeyBCYWdnYWdlLCBCYWdnYWdlRW50cnksIEJhZ2dhZ2VFbnRyeU1ldGFkYXRhIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IGRpYWcgPSBEaWFnQVBJLmluc3RhbmNlKCk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IEJhZ2dhZ2Ugd2l0aCBvcHRpb25hbCBlbnRyaWVzXG4gKlxuICogQHBhcmFtIGVudHJpZXMgQW4gYXJyYXkgb2YgYmFnZ2FnZSBlbnRyaWVzIHRoZSBuZXcgYmFnZ2FnZSBzaG91bGQgY29udGFpblxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFnZ2FnZShcbiAgZW50cmllczogUmVjb3JkPHN0cmluZywgQmFnZ2FnZUVudHJ5PiA9IHt9XG4pOiBCYWdnYWdlIHtcbiAgcmV0dXJuIG5ldyBCYWdnYWdlSW1wbChuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGVudHJpZXMpKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgc2VyaWFsaXphYmxlIEJhZ2dhZ2VFbnRyeU1ldGFkYXRhIG9iamVjdCBmcm9tIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBzdHIgc3RyaW5nIG1ldGFkYXRhLiBGb3JtYXQgaXMgY3VycmVudGx5IG5vdCBkZWZpbmVkIGJ5IHRoZSBzcGVjIGFuZCBoYXMgbm8gc3BlY2lhbCBtZWFuaW5nLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhZ2dhZ2VFbnRyeU1ldGFkYXRhRnJvbVN0cmluZyhcbiAgc3RyOiBzdHJpbmdcbik6IEJhZ2dhZ2VFbnRyeU1ldGFkYXRhIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgZGlhZy5lcnJvcihcbiAgICAgIGBDYW5ub3QgY3JlYXRlIGJhZ2dhZ2UgbWV0YWRhdGEgZnJvbSB1bmtub3duIHR5cGU6ICR7dHlwZW9mIHN0cn1gXG4gICAgKTtcbiAgICBzdHIgPSAnJztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgX19UWVBFX186IGJhZ2dhZ2VFbnRyeU1ldGFkYXRhU3ltYm9sLFxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuICB9O1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqIEdldCBhIGtleSB0byB1bmlxdWVseSBpZGVudGlmeSBhIGNvbnRleHQgdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0S2V5KGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcbiAgLy8gVGhlIHNwZWNpZmljYXRpb24gc3RhdGVzIHRoYXQgZm9yIHRoZSBzYW1lIGlucHV0LCBtdWx0aXBsZSBjYWxscyBzaG91bGRcbiAgLy8gcmV0dXJuIGRpZmZlcmVudCBrZXlzLiBEdWUgdG8gdGhlIG5hdHVyZSBvZiB0aGUgSlMgZGVwZW5kZW5jeSBtYW5hZ2VtZW50XG4gIC8vIHN5c3RlbSwgdGhpcyBjcmVhdGVzIHByb2JsZW1zIHdoZXJlIG11bHRpcGxlIHZlcnNpb25zIG9mIHNvbWUgcGFja2FnZVxuICAvLyBjb3VsZCBob2xkIGRpZmZlcmVudCBrZXlzIGZvciB0aGUgc2FtZSBwcm9wZXJ0eS5cbiAgLy9cbiAgLy8gVGhlcmVmb3JlLCB3ZSB1c2UgU3ltYm9sLmZvciB3aGljaCByZXR1cm5zIHRoZSBzYW1lIGtleSBmb3IgdGhlIHNhbWUgaW5wdXQuXG4gIHJldHVybiBTeW1ib2wuZm9yKGRlc2NyaXB0aW9uKTtcbn1cblxuY2xhc3MgQmFzZUNvbnRleHQgaW1wbGVtZW50cyBDb250ZXh0IHtcbiAgcHJpdmF0ZSBfY3VycmVudENvbnRleHQhOiBNYXA8c3ltYm9sLCB1bmtub3duPjtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgdmFsdWVzIGZyb20gYW4gb3B0aW9uYWwgcGFyZW50IGNvbnRleHQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnRDb250ZXh0IGEgY29udGV4dCBmcm9tIHdoaWNoIHRvIGluaGVyaXQgdmFsdWVzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJlbnRDb250ZXh0PzogTWFwPHN5bWJvbCwgdW5rbm93bj4pIHtcbiAgICAvLyBmb3IgbWluaWZpY2F0aW9uXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLl9jdXJyZW50Q29udGV4dCA9IHBhcmVudENvbnRleHQgPyBuZXcgTWFwKHBhcmVudENvbnRleHQpIDogbmV3IE1hcCgpO1xuXG4gICAgc2VsZi5nZXRWYWx1ZSA9IChrZXk6IHN5bWJvbCkgPT4gc2VsZi5fY3VycmVudENvbnRleHQuZ2V0KGtleSk7XG5cbiAgICBzZWxmLnNldFZhbHVlID0gKGtleTogc3ltYm9sLCB2YWx1ZTogdW5rbm93bik6IENvbnRleHQgPT4ge1xuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBCYXNlQ29udGV4dChzZWxmLl9jdXJyZW50Q29udGV4dCk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50Q29udGV4dC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9O1xuXG4gICAgc2VsZi5kZWxldGVWYWx1ZSA9IChrZXk6IHN5bWJvbCk6IENvbnRleHQgPT4ge1xuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBCYXNlQ29udGV4dChzZWxmLl9jdXJyZW50Q29udGV4dCk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50Q29udGV4dC5kZWxldGUoa2V5KTtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dC5cbiAgICpcbiAgICogQHBhcmFtIGtleSBrZXkgd2hpY2ggaWRlbnRpZmllcyBhIGNvbnRleHQgdmFsdWVcbiAgICovXG4gIHB1YmxpYyBnZXRWYWx1ZSE6IChrZXk6IHN5bWJvbCkgPT4gdW5rbm93bjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgZnJvbSB0aGlzIGNvbnRleHQgYW5kIGhhc1xuICAgKiB0aGUgZ2l2ZW4ga2V5IHNldCB0byB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgY29udGV4dCBrZXkgZm9yIHdoaWNoIHRvIHNldCB0aGUgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHNldCBmb3IgdGhlIGdpdmVuIGtleVxuICAgKi9cbiAgcHVibGljIHNldFZhbHVlITogKGtleTogc3ltYm9sLCB2YWx1ZTogdW5rbm93bikgPT4gQ29udGV4dDtcblxuICAvKipcbiAgICogUmV0dXJuIGEgbmV3IGNvbnRleHQgd2hpY2ggaW5oZXJpdHMgZnJvbSB0aGlzIGNvbnRleHQgYnV0IGRvZXNcbiAgICogbm90IGNvbnRhaW4gYSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleS5cbiAgICpcbiAgICogQHBhcmFtIGtleSBjb250ZXh0IGtleSBmb3Igd2hpY2ggdG8gY2xlYXIgYSB2YWx1ZVxuICAgKi9cbiAgcHVibGljIGRlbGV0ZVZhbHVlITogKGtleTogc3ltYm9sKSA9PiBDb250ZXh0O1xufVxuXG4vKiogVGhlIHJvb3QgY29udGV4dCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IHBhcmVudCBjb250ZXh0IHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbnRleHQgKi9cbmV4cG9ydCBjb25zdCBST09UX0NPTlRFWFQ6IENvbnRleHQgPSBuZXcgQmFzZUNvbnRleHQoKTtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEaWFnTG9nZ2VyLCBEaWFnTG9nRnVuY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcblxudHlwZSBDb25zb2xlTWFwS2V5cyA9ICdlcnJvcicgfCAnd2FybicgfCAnaW5mbycgfCAnZGVidWcnIHwgJ3RyYWNlJztcbmNvbnN0IGNvbnNvbGVNYXA6IHsgbjoga2V5b2YgRGlhZ0xvZ2dlcjsgYzogQ29uc29sZU1hcEtleXMgfVtdID0gW1xuICB7IG46ICdlcnJvcicsIGM6ICdlcnJvcicgfSxcbiAgeyBuOiAnd2FybicsIGM6ICd3YXJuJyB9LFxuICB7IG46ICdpbmZvJywgYzogJ2luZm8nIH0sXG4gIHsgbjogJ2RlYnVnJywgYzogJ2RlYnVnJyB9LFxuICB7IG46ICd2ZXJib3NlJywgYzogJ3RyYWNlJyB9LFxuXTtcblxuLyoqXG4gKiBBIHNpbXBsZSBJbW11dGFibGUgQ29uc29sZSBiYXNlZCBkaWFnbm9zdGljIGxvZ2dlciB3aGljaCB3aWxsIG91dHB1dCBhbnkgbWVzc2FnZXMgdG8gdGhlIENvbnNvbGUuXG4gKiBJZiB5b3Ugd2FudCB0byBsaW1pdCB0aGUgYW1vdW50IG9mIGxvZ2dpbmcgdG8gYSBzcGVjaWZpYyBsZXZlbCBvciBsb3dlciB1c2UgdGhlXG4gKiB7QGxpbmsgY3JlYXRlTG9nTGV2ZWxEaWFnTG9nZ2VyfVxuICovXG5leHBvcnQgY2xhc3MgRGlhZ0NvbnNvbGVMb2dnZXIgaW1wbGVtZW50cyBEaWFnTG9nZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZnVuY3Rpb24gX2NvbnNvbGVGdW5jKGZ1bmNOYW1lOiBDb25zb2xlTWFwS2V5cyk6IERpYWdMb2dGdW5jdGlvbiB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUpIHtcbiAgICAgICAgICAvLyBTb21lIGVudmlyb25tZW50cyBvbmx5IGV4cG9zZSB0aGUgY29uc29sZSB3aGVuIHRoZSBGMTIgZGV2ZWxvcGVyIGNvbnNvbGUgaXMgb3BlblxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgbGV0IHRoZUZ1bmMgPSBjb25zb2xlW2Z1bmNOYW1lXTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZUZ1bmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIE5vdCBhbGwgZW52aXJvbm1lbnRzIHN1cHBvcnQgYWxsIGZ1bmN0aW9uc1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIHRoZUZ1bmMgPSBjb25zb2xlLmxvZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBPbmUgbGFzdCBmaW5hbCBjaGVja1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlRnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoZUZ1bmMuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uc29sZU1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpc1tjb25zb2xlTWFwW2ldLm5dID0gX2NvbnNvbGVGdW5jKGNvbnNvbGVNYXBbaV0uYyk7XG4gICAgfVxuICB9XG5cbiAgLyoqIExvZyBhbiBlcnJvciBzY2VuYXJpbyB0aGF0IHdhcyBub3QgZXhwZWN0ZWQgYW5kIGNhdXNlZCB0aGUgcmVxdWVzdGVkIG9wZXJhdGlvbiB0byBmYWlsLiAqL1xuICBwdWJsaWMgZXJyb3IhOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIExvZyBhIHdhcm5pbmcgc2NlbmFyaW8gdG8gaW5mb3JtIHRoZSBkZXZlbG9wZXIgb2YgYW4gaXNzdWVzIHRoYXQgc2hvdWxkIGJlIGludmVzdGlnYXRlZC5cbiAgICogVGhlIHJlcXVlc3RlZCBvcGVyYXRpb24gbWF5IG9yIG1heSBub3QgaGF2ZSBzdWNjZWVkZWQgb3IgY29tcGxldGVkLlxuICAgKi9cbiAgcHVibGljIHdhcm4hOiBEaWFnTG9nRnVuY3Rpb247XG5cbiAgLyoqXG4gICAqIExvZyBhIGdlbmVyYWwgaW5mb3JtYXRpb25hbCBtZXNzYWdlLCB0aGlzIHNob3VsZCBub3QgYWZmZWN0IGZ1bmN0aW9uYWxpdHkuXG4gICAqIFRoaXMgaXMgYWxzbyB0aGUgZGVmYXVsdCBsb2dnaW5nIGxldmVsIHNvIHRoaXMgc2hvdWxkIE5PVCBiZSB1c2VkIGZvciBsb2dnaW5nXG4gICAqIGRlYnVnZ2luZyBsZXZlbCBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHB1YmxpYyBpbmZvITogRGlhZ0xvZ0Z1bmN0aW9uO1xuXG4gIC8qKlxuICAgKiBMb2cgYSBnZW5lcmFsIGRlYnVnIG1lc3NhZ2UgdGhhdCBjYW4gYmUgdXNlZnVsIGZvciBpZGVudGlmeWluZyBhIGZhaWx1cmUuXG4gICAqIEluZm9ybWF0aW9uIGxvZ2dlZCBhdCB0aGlzIGxldmVsIG1heSBpbmNsdWRlIGRpYWdub3N0aWMgZGV0YWlscyB0aGF0IHdvdWxkXG4gICAqIGhlbHAgaWRlbnRpZnkgYSBmYWlsdXJlIHNjZW5hcmlvLiBVc2VmdWwgc2NlbmFyaW9zIHdvdWxkIGJlIHRvIGxvZyB0aGUgZXhlY3V0aW9uXG4gICAqIG9yZGVyIG9mIGFzeW5jIG9wZXJhdGlvbnNcbiAgICovXG4gIHB1YmxpYyBkZWJ1ZyE6IERpYWdMb2dGdW5jdGlvbjtcblxuICAvKipcbiAgICogTG9nIGEgZGV0YWlsZWQgKHZlcmJvc2UpIHRyYWNlIGxldmVsIGxvZ2dpbmcgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBmYWlsdXJlc1xuICAgKiB3aGVyZSBkZWJ1ZyBsZXZlbCBsb2dnaW5nIHdvdWxkIGJlIGluc3VmZmljaWVudCwgdGhpcyBsZXZlbCBvZiB0cmFjaW5nIGNhbiBpbmNsdWRlXG4gICAqIGlucHV0IGFuZCBvdXRwdXQgcGFyYW1ldGVycyBhbmQgYXMgc3VjaCBtYXkgaW5jbHVkZSBQSUkgaW5mb3JtYXRpb24gcGFzc2luZyB0aHJvdWdoXG4gICAqIHRoZSBBUEkuIEFzIHN1Y2ggaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGxldmVsIG9mIHRyYWNpbmcgc2hvdWxkIG5vdCBiZSBlbmFibGVkXG4gICAqIGluIGEgcHJvZHVjdGlvbiBlbnZpcm9ubWVudC5cbiAgICovXG4gIHB1YmxpYyB2ZXJib3NlITogRGlhZ0xvZ0Z1bmN0aW9uO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE1ldGVyIH0gZnJvbSAnLi9NZXRlcic7XG5pbXBvcnQge1xuICBCYXRjaE9ic2VydmFibGVDYWxsYmFjayxcbiAgQ291bnRlcixcbiAgR2F1Z2UsXG4gIEhpc3RvZ3JhbSxcbiAgTWV0cmljQXR0cmlidXRlcyxcbiAgTWV0cmljT3B0aW9ucyxcbiAgT2JzZXJ2YWJsZSxcbiAgT2JzZXJ2YWJsZUNhbGxiYWNrLFxuICBPYnNlcnZhYmxlQ291bnRlcixcbiAgT2JzZXJ2YWJsZUdhdWdlLFxuICBPYnNlcnZhYmxlVXBEb3duQ291bnRlcixcbiAgVXBEb3duQ291bnRlcixcbn0gZnJvbSAnLi9NZXRyaWMnO1xuXG4vKipcbiAqIE5vb3BNZXRlciBpcyBhIG5vb3AgaW1wbGVtZW50YXRpb24gb2YgdGhlIHtAbGluayBNZXRlcn0gaW50ZXJmYWNlLiBJdCByZXVzZXNcbiAqIGNvbnN0YW50IE5vb3BNZXRyaWNzIGZvciBhbGwgb2YgaXRzIG1ldGhvZHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb29wTWV0ZXIgaW1wbGVtZW50cyBNZXRlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cblxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgTWV0ZXIuY3JlYXRlR2F1Z2V9XG4gICAqL1xuICBjcmVhdGVHYXVnZShfbmFtZTogc3RyaW5nLCBfb3B0aW9ucz86IE1ldHJpY09wdGlvbnMpOiBHYXVnZSB7XG4gICAgcmV0dXJuIE5PT1BfR0FVR0VfTUVUUklDO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIE1ldGVyLmNyZWF0ZUhpc3RvZ3JhbX1cbiAgICovXG4gIGNyZWF0ZUhpc3RvZ3JhbShfbmFtZTogc3RyaW5nLCBfb3B0aW9ucz86IE1ldHJpY09wdGlvbnMpOiBIaXN0b2dyYW0ge1xuICAgIHJldHVybiBOT09QX0hJU1RPR1JBTV9NRVRSSUM7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgTWV0ZXIuY3JlYXRlQ291bnRlcn1cbiAgICovXG4gIGNyZWF0ZUNvdW50ZXIoX25hbWU6IHN0cmluZywgX29wdGlvbnM/OiBNZXRyaWNPcHRpb25zKTogQ291bnRlciB7XG4gICAgcmV0dXJuIE5PT1BfQ09VTlRFUl9NRVRSSUM7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgTWV0ZXIuY3JlYXRlVXBEb3duQ291bnRlcn1cbiAgICovXG4gIGNyZWF0ZVVwRG93bkNvdW50ZXIoX25hbWU6IHN0cmluZywgX29wdGlvbnM/OiBNZXRyaWNPcHRpb25zKTogVXBEb3duQ291bnRlciB7XG4gICAgcmV0dXJuIE5PT1BfVVBfRE9XTl9DT1VOVEVSX01FVFJJQztcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBNZXRlci5jcmVhdGVPYnNlcnZhYmxlR2F1Z2V9XG4gICAqL1xuICBjcmVhdGVPYnNlcnZhYmxlR2F1Z2UoXG4gICAgX25hbWU6IHN0cmluZyxcbiAgICBfb3B0aW9ucz86IE1ldHJpY09wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZUdhdWdlIHtcbiAgICByZXR1cm4gTk9PUF9PQlNFUlZBQkxFX0dBVUdFX01FVFJJQztcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBNZXRlci5jcmVhdGVPYnNlcnZhYmxlQ291bnRlcn1cbiAgICovXG4gIGNyZWF0ZU9ic2VydmFibGVDb3VudGVyKFxuICAgIF9uYW1lOiBzdHJpbmcsXG4gICAgX29wdGlvbnM/OiBNZXRyaWNPcHRpb25zXG4gICk6IE9ic2VydmFibGVDb3VudGVyIHtcbiAgICByZXR1cm4gTk9PUF9PQlNFUlZBQkxFX0NPVU5URVJfTUVUUklDO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIE1ldGVyLmNyZWF0ZU9ic2VydmFibGVVcERvd25Db3VudGVyfVxuICAgKi9cbiAgY3JlYXRlT2JzZXJ2YWJsZVVwRG93bkNvdW50ZXIoXG4gICAgX25hbWU6IHN0cmluZyxcbiAgICBfb3B0aW9ucz86IE1ldHJpY09wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZVVwRG93bkNvdW50ZXIge1xuICAgIHJldHVybiBOT09QX09CU0VSVkFCTEVfVVBfRE9XTl9DT1VOVEVSX01FVFJJQztcbiAgfVxuXG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBNZXRlci5hZGRCYXRjaE9ic2VydmFibGVDYWxsYmFja31cbiAgICovXG4gIGFkZEJhdGNoT2JzZXJ2YWJsZUNhbGxiYWNrKFxuICAgIF9jYWxsYmFjazogQmF0Y2hPYnNlcnZhYmxlQ2FsbGJhY2ssXG4gICAgX29ic2VydmFibGVzOiBPYnNlcnZhYmxlW11cbiAgKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBNZXRlci5yZW1vdmVCYXRjaE9ic2VydmFibGVDYWxsYmFja31cbiAgICovXG4gIHJlbW92ZUJhdGNoT2JzZXJ2YWJsZUNhbGxiYWNrKF9jYWxsYmFjazogQmF0Y2hPYnNlcnZhYmxlQ2FsbGJhY2spOiB2b2lkIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBOb29wTWV0cmljIHt9XG5cbmV4cG9ydCBjbGFzcyBOb29wQ291bnRlck1ldHJpYyBleHRlbmRzIE5vb3BNZXRyaWMgaW1wbGVtZW50cyBDb3VudGVyIHtcbiAgYWRkKF92YWx1ZTogbnVtYmVyLCBfYXR0cmlidXRlczogTWV0cmljQXR0cmlidXRlcyk6IHZvaWQge31cbn1cblxuZXhwb3J0IGNsYXNzIE5vb3BVcERvd25Db3VudGVyTWV0cmljXG4gIGV4dGVuZHMgTm9vcE1ldHJpY1xuICBpbXBsZW1lbnRzIFVwRG93bkNvdW50ZXJcbntcbiAgYWRkKF92YWx1ZTogbnVtYmVyLCBfYXR0cmlidXRlczogTWV0cmljQXR0cmlidXRlcyk6IHZvaWQge31cbn1cblxuZXhwb3J0IGNsYXNzIE5vb3BHYXVnZU1ldHJpYyBleHRlbmRzIE5vb3BNZXRyaWMgaW1wbGVtZW50cyBHYXVnZSB7XG4gIHJlY29yZChfdmFsdWU6IG51bWJlciwgX2F0dHJpYnV0ZXM6IE1ldHJpY0F0dHJpYnV0ZXMpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBOb29wSGlzdG9ncmFtTWV0cmljIGV4dGVuZHMgTm9vcE1ldHJpYyBpbXBsZW1lbnRzIEhpc3RvZ3JhbSB7XG4gIHJlY29yZChfdmFsdWU6IG51bWJlciwgX2F0dHJpYnV0ZXM6IE1ldHJpY0F0dHJpYnV0ZXMpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBOb29wT2JzZXJ2YWJsZU1ldHJpYyB7XG4gIGFkZENhbGxiYWNrKF9jYWxsYmFjazogT2JzZXJ2YWJsZUNhbGxiYWNrKSB7fVxuXG4gIHJlbW92ZUNhbGxiYWNrKF9jYWxsYmFjazogT2JzZXJ2YWJsZUNhbGxiYWNrKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgTm9vcE9ic2VydmFibGVDb3VudGVyTWV0cmljXG4gIGV4dGVuZHMgTm9vcE9ic2VydmFibGVNZXRyaWNcbiAgaW1wbGVtZW50cyBPYnNlcnZhYmxlQ291bnRlciB7fVxuXG5leHBvcnQgY2xhc3MgTm9vcE9ic2VydmFibGVHYXVnZU1ldHJpY1xuICBleHRlbmRzIE5vb3BPYnNlcnZhYmxlTWV0cmljXG4gIGltcGxlbWVudHMgT2JzZXJ2YWJsZUdhdWdlIHt9XG5cbmV4cG9ydCBjbGFzcyBOb29wT2JzZXJ2YWJsZVVwRG93bkNvdW50ZXJNZXRyaWNcbiAgZXh0ZW5kcyBOb29wT2JzZXJ2YWJsZU1ldHJpY1xuICBpbXBsZW1lbnRzIE9ic2VydmFibGVVcERvd25Db3VudGVyIHt9XG5cbmV4cG9ydCBjb25zdCBOT09QX01FVEVSID0gbmV3IE5vb3BNZXRlcigpO1xuXG4vLyBTeW5jaHJvbm91cyBpbnN0cnVtZW50c1xuZXhwb3J0IGNvbnN0IE5PT1BfQ09VTlRFUl9NRVRSSUMgPSBuZXcgTm9vcENvdW50ZXJNZXRyaWMoKTtcbmV4cG9ydCBjb25zdCBOT09QX0dBVUdFX01FVFJJQyA9IG5ldyBOb29wR2F1Z2VNZXRyaWMoKTtcbmV4cG9ydCBjb25zdCBOT09QX0hJU1RPR1JBTV9NRVRSSUMgPSBuZXcgTm9vcEhpc3RvZ3JhbU1ldHJpYygpO1xuZXhwb3J0IGNvbnN0IE5PT1BfVVBfRE9XTl9DT1VOVEVSX01FVFJJQyA9IG5ldyBOb29wVXBEb3duQ291bnRlck1ldHJpYygpO1xuXG4vLyBBc3luY2hyb25vdXMgaW5zdHJ1bWVudHNcbmV4cG9ydCBjb25zdCBOT09QX09CU0VSVkFCTEVfQ09VTlRFUl9NRVRSSUMgPSBuZXcgTm9vcE9ic2VydmFibGVDb3VudGVyTWV0cmljKCk7XG5leHBvcnQgY29uc3QgTk9PUF9PQlNFUlZBQkxFX0dBVUdFX01FVFJJQyA9IG5ldyBOb29wT2JzZXJ2YWJsZUdhdWdlTWV0cmljKCk7XG5leHBvcnQgY29uc3QgTk9PUF9PQlNFUlZBQkxFX1VQX0RPV05fQ09VTlRFUl9NRVRSSUMgPVxuICBuZXcgTm9vcE9ic2VydmFibGVVcERvd25Db3VudGVyTWV0cmljKCk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbm8tb3AgTWV0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vb3BNZXRlcigpOiBNZXRlciB7XG4gIHJldHVybiBOT09QX01FVEVSO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF0dHJpYnV0ZXMsIEF0dHJpYnV0ZVZhbHVlIH0gZnJvbSAnLi4vY29tbW9uL0F0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHsgQmF0Y2hPYnNlcnZhYmxlUmVzdWx0LCBPYnNlcnZhYmxlUmVzdWx0IH0gZnJvbSAnLi9PYnNlcnZhYmxlUmVzdWx0JztcblxuLyoqXG4gKiBBZHZpc29yeSBvcHRpb25zIGluZmx1ZW5jaW5nIGFnZ3JlZ2F0aW9uIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAqIEBleHBlcmltZW50YWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXRyaWNBZHZpY2Uge1xuICAvKipcbiAgICogSGludCB0aGUgZXhwbGljaXQgYnVja2V0IGJvdW5kYXJpZXMgZm9yIFNESyBpZiB0aGUgbWV0cmljIGlzIGJlZW5cbiAgICogYWdncmVnYXRlZCB3aXRoIGEgSGlzdG9ncmFtQWdncmVnYXRvci5cbiAgICovXG4gIGV4cGxpY2l0QnVja2V0Qm91bmRhcmllcz86IG51bWJlcltdO1xufVxuXG4vKipcbiAqIE9wdGlvbnMgbmVlZGVkIGZvciBtZXRyaWMgY3JlYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXRyaWNPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgTWV0cmljLlxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB1bml0IG9mIHRoZSBNZXRyaWMgdmFsdWVzLlxuICAgKiBAZGVmYXVsdCAnJ1xuICAgKi9cbiAgdW5pdD86IHN0cmluZztcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoZSB0eXBlIG9mIHRoZSByZWNvcmRlZCB2YWx1ZS5cbiAgICogQGRlZmF1bHQge0BsaW5rIFZhbHVlVHlwZS5ET1VCTEV9XG4gICAqL1xuICB2YWx1ZVR5cGU/OiBWYWx1ZVR5cGU7XG5cbiAgLyoqXG4gICAqIFRoZSBhZHZpY2UgaW5mbHVlbmNpbmcgYWdncmVnYXRpb24gY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzLlxuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBhZHZpY2U/OiBNZXRyaWNBZHZpY2U7XG59XG5cbi8qKiBUaGUgVHlwZSBvZiB2YWx1ZS4gSXQgZGVzY3JpYmVzIGhvdyB0aGUgZGF0YSBpcyByZXBvcnRlZC4gKi9cbmV4cG9ydCBlbnVtIFZhbHVlVHlwZSB7XG4gIElOVCxcbiAgRE9VQkxFLFxufVxuXG4vKipcbiAqIENvdW50ZXIgaXMgdGhlIG1vc3QgY29tbW9uIHN5bmNocm9ub3VzIGluc3RydW1lbnQuIFRoaXMgaW5zdHJ1bWVudCBzdXBwb3J0c1xuICogYW4gYEFkZChpbmNyZW1lbnQpYCBmdW5jdGlvbiBmb3IgcmVwb3J0aW5nIGEgc3VtLCBhbmQgaXMgcmVzdHJpY3RlZCB0b1xuICogbm9uLW5lZ2F0aXZlIGluY3JlbWVudHMuIFRoZSBkZWZhdWx0IGFnZ3JlZ2F0aW9uIGlzIFN1bSwgYXMgZm9yIGFueSBhZGRpdGl2ZVxuICogaW5zdHJ1bWVudC5cbiAqXG4gKiBFeGFtcGxlIHVzZXMgZm9yIENvdW50ZXI6XG4gKiA8b2w+XG4gKiAgIDxsaT4gY291bnQgdGhlIG51bWJlciBvZiBieXRlcyByZWNlaXZlZC4gPC9saT5cbiAqICAgPGxpPiBjb3VudCB0aGUgbnVtYmVyIG9mIHJlcXVlc3RzIGNvbXBsZXRlZC4gPC9saT5cbiAqICAgPGxpPiBjb3VudCB0aGUgbnVtYmVyIG9mIGFjY291bnRzIGNyZWF0ZWQuIDwvbGk+XG4gKiAgIDxsaT4gY291bnQgdGhlIG51bWJlciBvZiBjaGVja3BvaW50cyBydW4uIDwvbGk+XG4gKiAgIDxsaT4gY291bnQgdGhlIG51bWJlciBvZiA1eHggZXJyb3JzLiA8L2xpPlxuICogPG9sPlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvdW50ZXI8XG4gIEF0dHJpYnV0ZXNUeXBlcyBleHRlbmRzIE1ldHJpY0F0dHJpYnV0ZXMgPSBNZXRyaWNBdHRyaWJ1dGVzLFxuPiB7XG4gIC8qKlxuICAgKiBJbmNyZW1lbnQgdmFsdWUgb2YgY291bnRlciBieSB0aGUgaW5wdXQuIElucHV0cyBtdXN0IG5vdCBiZSBuZWdhdGl2ZS5cbiAgICovXG4gIGFkZCh2YWx1ZTogbnVtYmVyLCBhdHRyaWJ1dGVzPzogQXR0cmlidXRlc1R5cGVzLCBjb250ZXh0PzogQ29udGV4dCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBEb3duQ291bnRlcjxcbiAgQXR0cmlidXRlc1R5cGVzIGV4dGVuZHMgTWV0cmljQXR0cmlidXRlcyA9IE1ldHJpY0F0dHJpYnV0ZXMsXG4+IHtcbiAgLyoqXG4gICAqIEluY3JlbWVudCB2YWx1ZSBvZiBjb3VudGVyIGJ5IHRoZSBpbnB1dC4gSW5wdXRzIG1heSBiZSBuZWdhdGl2ZS5cbiAgICovXG4gIGFkZCh2YWx1ZTogbnVtYmVyLCBhdHRyaWJ1dGVzPzogQXR0cmlidXRlc1R5cGVzLCBjb250ZXh0PzogQ29udGV4dCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2F1Z2U8XG4gIEF0dHJpYnV0ZXNUeXBlcyBleHRlbmRzIE1ldHJpY0F0dHJpYnV0ZXMgPSBNZXRyaWNBdHRyaWJ1dGVzLFxuPiB7XG4gIC8qKlxuICAgKiBSZWNvcmRzIGEgbWVhc3VyZW1lbnQuXG4gICAqL1xuICByZWNvcmQodmFsdWU6IG51bWJlciwgYXR0cmlidXRlcz86IEF0dHJpYnV0ZXNUeXBlcywgY29udGV4dD86IENvbnRleHQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhpc3RvZ3JhbTxcbiAgQXR0cmlidXRlc1R5cGVzIGV4dGVuZHMgTWV0cmljQXR0cmlidXRlcyA9IE1ldHJpY0F0dHJpYnV0ZXMsXG4+IHtcbiAgLyoqXG4gICAqIFJlY29yZHMgYSBtZWFzdXJlbWVudC4gVmFsdWUgb2YgdGhlIG1lYXN1cmVtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlLlxuICAgKi9cbiAgcmVjb3JkKHZhbHVlOiBudW1iZXIsIGF0dHJpYnV0ZXM/OiBBdHRyaWJ1dGVzVHlwZXMsIGNvbnRleHQ/OiBDb250ZXh0KTogdm9pZDtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBdHRyaWJ1dGVzfVxuICovXG5leHBvcnQgdHlwZSBNZXRyaWNBdHRyaWJ1dGVzID0gQXR0cmlidXRlcztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBwbGVhc2UgdXNlIHtAbGluayBBdHRyaWJ1dGVWYWx1ZX1cbiAqL1xuZXhwb3J0IHR5cGUgTWV0cmljQXR0cmlidXRlVmFsdWUgPSBBdHRyaWJ1dGVWYWx1ZTtcblxuLyoqXG4gKiBUaGUgb2JzZXJ2YWJsZSBjYWxsYmFjayBmb3IgT2JzZXJ2YWJsZSBpbnN0cnVtZW50cy5cbiAqL1xuZXhwb3J0IHR5cGUgT2JzZXJ2YWJsZUNhbGxiYWNrPFxuICBBdHRyaWJ1dGVzVHlwZXMgZXh0ZW5kcyBNZXRyaWNBdHRyaWJ1dGVzID0gTWV0cmljQXR0cmlidXRlcyxcbj4gPSAoXG4gIG9ic2VydmFibGVSZXN1bHQ6IE9ic2VydmFibGVSZXN1bHQ8QXR0cmlidXRlc1R5cGVzPlxuKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcblxuLyoqXG4gKiBUaGUgb2JzZXJ2YWJsZSBjYWxsYmFjayBmb3IgYSBiYXRjaCBvZiBPYnNlcnZhYmxlIGluc3RydW1lbnRzLlxuICovXG5leHBvcnQgdHlwZSBCYXRjaE9ic2VydmFibGVDYWxsYmFjazxcbiAgQXR0cmlidXRlc1R5cGVzIGV4dGVuZHMgTWV0cmljQXR0cmlidXRlcyA9IE1ldHJpY0F0dHJpYnV0ZXMsXG4+ID0gKFxuICBvYnNlcnZhYmxlUmVzdWx0OiBCYXRjaE9ic2VydmFibGVSZXN1bHQ8QXR0cmlidXRlc1R5cGVzPlxuKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcblxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhYmxlPFxuICBBdHRyaWJ1dGVzVHlwZXMgZXh0ZW5kcyBNZXRyaWNBdHRyaWJ1dGVzID0gTWV0cmljQXR0cmlidXRlcyxcbj4ge1xuICAvKipcbiAgICogU2V0cyB1cCBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtZXRyaWMgY29sbGVjdGlvbiBpcyBpbml0aWF0ZWQuXG4gICAqXG4gICAqIElmIHRoZSBmdW5jdGlvbiBpcyBhbHJlYWR5IGluIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBmb3IgdGhpcyBPYnNlcnZhYmxlLCB0aGUgZnVuY3Rpb24gaXMgbm90IGFkZGVkIGEgc2Vjb25kIHRpbWUuXG4gICAqL1xuICBhZGRDYWxsYmFjayhjYWxsYmFjazogT2JzZXJ2YWJsZUNhbGxiYWNrPEF0dHJpYnV0ZXNUeXBlcz4pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgY2FsbGJhY2sgcHJldmlvdXNseSByZWdpc3RlcmVkIHdpdGgge0BsaW5rIE9ic2VydmFibGUuYWRkQ2FsbGJhY2t9LlxuICAgKi9cbiAgcmVtb3ZlQ2FsbGJhY2soY2FsbGJhY2s6IE9ic2VydmFibGVDYWxsYmFjazxBdHRyaWJ1dGVzVHlwZXM+KTogdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgT2JzZXJ2YWJsZUNvdW50ZXI8XG4gIEF0dHJpYnV0ZXNUeXBlcyBleHRlbmRzIE1ldHJpY0F0dHJpYnV0ZXMgPSBNZXRyaWNBdHRyaWJ1dGVzLFxuPiA9IE9ic2VydmFibGU8QXR0cmlidXRlc1R5cGVzPjtcbmV4cG9ydCB0eXBlIE9ic2VydmFibGVVcERvd25Db3VudGVyPFxuICBBdHRyaWJ1dGVzVHlwZXMgZXh0ZW5kcyBNZXRyaWNBdHRyaWJ1dGVzID0gTWV0cmljQXR0cmlidXRlcyxcbj4gPSBPYnNlcnZhYmxlPEF0dHJpYnV0ZXNUeXBlcz47XG5leHBvcnQgdHlwZSBPYnNlcnZhYmxlR2F1Z2U8XG4gIEF0dHJpYnV0ZXNUeXBlcyBleHRlbmRzIE1ldHJpY0F0dHJpYnV0ZXMgPSBNZXRyaWNBdHRyaWJ1dGVzLFxuPiA9IE9ic2VydmFibGU8QXR0cmlidXRlc1R5cGVzPjtcbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5cbi8qKlxuICogSW5qZWN0cyBgQ29udGV4dGAgaW50byBhbmQgZXh0cmFjdHMgaXQgZnJvbSBjYXJyaWVycyB0aGF0IHRyYXZlbFxuICogaW4tYmFuZCBhY3Jvc3MgcHJvY2VzcyBib3VuZGFyaWVzLiBFbmNvZGluZyBpcyBleHBlY3RlZCB0byBjb25mb3JtIHRvIHRoZVxuICogSFRUUCBIZWFkZXIgRmllbGQgc2VtYW50aWNzLiBWYWx1ZXMgYXJlIG9mdGVuIGVuY29kZWQgYXMgUlBDL0hUVFAgcmVxdWVzdFxuICogaGVhZGVycy5cbiAqXG4gKiBUaGUgY2FycmllciBvZiBwcm9wYWdhdGVkIGRhdGEgb24gYm90aCB0aGUgY2xpZW50IChpbmplY3RvcikgYW5kIHNlcnZlclxuICogKGV4dHJhY3Rvcikgc2lkZSBpcyB1c3VhbGx5IGFuIG9iamVjdCBzdWNoIGFzIGh0dHAgaGVhZGVycy4gUHJvcGFnYXRpb24gaXNcbiAqIHVzdWFsbHkgaW1wbGVtZW50ZWQgdmlhIGxpYnJhcnktc3BlY2lmaWMgcmVxdWVzdCBpbnRlcmNlcHRvcnMsIHdoZXJlIHRoZVxuICogY2xpZW50LXNpZGUgaW5qZWN0cyB2YWx1ZXMgYW5kIHRoZSBzZXJ2ZXItc2lkZSBleHRyYWN0cyB0aGVtLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRNYXBQcm9wYWdhdG9yPENhcnJpZXIgPSBhbnk+IHtcbiAgLyoqXG4gICAqIEluamVjdHMgdmFsdWVzIGZyb20gYSBnaXZlbiBgQ29udGV4dGAgaW50byBhIGNhcnJpZXIuXG4gICAqXG4gICAqIE9wZW5UZWxlbWV0cnkgZGVmaW5lcyBhIGNvbW1vbiBzZXQgb2YgZm9ybWF0IHZhbHVlcyAoVGV4dE1hcFByb3BhZ2F0b3IpLFxuICAgKiBhbmQgZWFjaCBoYXMgYW4gZXhwZWN0ZWQgYGNhcnJpZXJgIHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZXh0IHRoZSBDb250ZXh0IGZyb20gd2hpY2ggdG8gZXh0cmFjdCB2YWx1ZXMgdG8gdHJhbnNtaXQgb3ZlclxuICAgKiAgICAgdGhlIHdpcmUuXG4gICAqIEBwYXJhbSBjYXJyaWVyIHRoZSBjYXJyaWVyIG9mIHByb3BhZ2F0aW9uIGZpZWxkcywgc3VjaCBhcyBodHRwIHJlcXVlc3RcbiAgICogICAgIGhlYWRlcnMuXG4gICAqIEBwYXJhbSBzZXR0ZXIgYW4gb3B0aW9uYWwge0BsaW5rIFRleHRNYXBTZXR0ZXJ9LiBJZiB1bmRlZmluZWQsIHZhbHVlcyB3aWxsIGJlXG4gICAqICAgICBzZXQgYnkgZGlyZWN0IG9iamVjdCBhc3NpZ25tZW50LlxuICAgKi9cbiAgaW5qZWN0KFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgY2FycmllcjogQ2FycmllcixcbiAgICBzZXR0ZXI6IFRleHRNYXBTZXR0ZXI8Q2Fycmllcj5cbiAgKTogdm9pZDtcblxuICAvKipcbiAgICogR2l2ZW4gYSBgQ29udGV4dGAgYW5kIGEgY2FycmllciwgZXh0cmFjdCBjb250ZXh0IHZhbHVlcyBmcm9tIGFcbiAgICogY2FycmllciBhbmQgcmV0dXJuIGEgbmV3IGNvbnRleHQsIGNyZWF0ZWQgZnJvbSB0aGUgb2xkIGNvbnRleHQsIHdpdGggdGhlXG4gICAqIGV4dHJhY3RlZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZXh0IHRoZSBDb250ZXh0IGZyb20gd2hpY2ggdG8gZXh0cmFjdCB2YWx1ZXMgdG8gdHJhbnNtaXQgb3ZlclxuICAgKiAgICAgdGhlIHdpcmUuXG4gICAqIEBwYXJhbSBjYXJyaWVyIHRoZSBjYXJyaWVyIG9mIHByb3BhZ2F0aW9uIGZpZWxkcywgc3VjaCBhcyBodHRwIHJlcXVlc3RcbiAgICogICAgIGhlYWRlcnMuXG4gICAqIEBwYXJhbSBnZXR0ZXIgYW4gb3B0aW9uYWwge0BsaW5rIFRleHRNYXBHZXR0ZXJ9LiBJZiB1bmRlZmluZWQsIGtleXMgd2lsbCBiZSBhbGxcbiAgICogICAgIG93biBwcm9wZXJ0aWVzLCBhbmQga2V5cyB3aWxsIGJlIGFjY2Vzc2VkIGJ5IGRpcmVjdCBvYmplY3QgYWNjZXNzLlxuICAgKi9cbiAgZXh0cmFjdChcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGNhcnJpZXI6IENhcnJpZXIsXG4gICAgZ2V0dGVyOiBUZXh0TWFwR2V0dGVyPENhcnJpZXI+XG4gICk6IENvbnRleHQ7XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGxpc3Qgb2YgYWxsIGZpZWxkcyB3aGljaCBtYXkgYmUgdXNlZCBieSB0aGUgcHJvcGFnYXRvci5cbiAgICovXG4gIGZpZWxkcygpOiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBBIHNldHRlciBpcyBzcGVjaWZpZWQgYnkgdGhlIGNhbGxlciB0byBkZWZpbmUgYSBzcGVjaWZpYyBtZXRob2RcbiAqIHRvIHNldCBrZXkvdmFsdWUgcGFpcnMgb24gdGhlIGNhcnJpZXIgd2l0aGluIGEgcHJvcGFnYXRvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0TWFwU2V0dGVyPENhcnJpZXIgPSBhbnk+IHtcbiAgLyoqXG4gICAqIENhbGxiYWNrIHVzZWQgdG8gc2V0IGEga2V5L3ZhbHVlIHBhaXIgb24gYW4gb2JqZWN0LlxuICAgKlxuICAgKiBTaG91bGQgYmUgY2FsbGVkIGJ5IHRoZSBwcm9wYWdhdG9yIGVhY2ggdGltZSBhIGtleS92YWx1ZSBwYWlyXG4gICAqIHNob3VsZCBiZSBzZXQsIGFuZCBzaG91bGQgc2V0IHRoYXQga2V5L3ZhbHVlIHBhaXIgb24gdGhlIHByb3BhZ2F0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBjYXJyaWVyIG9iamVjdCBvciBjbGFzcyB3aGljaCBjYXJyaWVzIGtleS92YWx1ZSBwYWlyc1xuICAgKiBAcGFyYW0ga2V5IHN0cmluZyBrZXkgdG8gbW9kaWZ5XG4gICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSB0byBiZSBzZXQgdG8gdGhlIGtleSBvbiB0aGUgY2FycmllclxuICAgKi9cbiAgc2V0KGNhcnJpZXI6IENhcnJpZXIsIGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZDtcbn1cblxuLyoqXG4gKiBBIGdldHRlciBpcyBzcGVjaWZpZWQgYnkgdGhlIGNhbGxlciB0byBkZWZpbmUgYSBzcGVjaWZpYyBtZXRob2RcbiAqIHRvIGdldCB0aGUgdmFsdWUgb2YgYSBrZXkgZnJvbSBhIGNhcnJpZXIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dE1hcEdldHRlcjxDYXJyaWVyID0gYW55PiB7XG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIGFsbCBrZXlzIGF2YWlsYWJsZSBvbiB0aGUgY2Fycmllci5cbiAgICpcbiAgICogQHBhcmFtIGNhcnJpZXJcbiAgICovXG4gIGtleXMoY2FycmllcjogQ2Fycmllcik6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGEgc3BlY2lmaWMga2V5IGZyb20gdGhlIGNhcnJpZXIuXG4gICAqXG4gICAqIEBwYXJhbSBjYXJyaWVyXG4gICAqIEBwYXJhbSBrZXlcbiAgICovXG4gIGdldChjYXJyaWVyOiBDYXJyaWVyLCBrZXk6IHN0cmluZyk6IHVuZGVmaW5lZCB8IHN0cmluZyB8IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFRleHRNYXBHZXR0ZXI6IFRleHRNYXBHZXR0ZXIgPSB7XG4gIGdldChjYXJyaWVyLCBrZXkpIHtcbiAgICBpZiAoY2FycmllciA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gY2FycmllcltrZXldO1xuICB9LFxuXG4gIGtleXMoY2Fycmllcikge1xuICAgIGlmIChjYXJyaWVyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGNhcnJpZXIpO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZXh0TWFwU2V0dGVyOiBUZXh0TWFwU2V0dGVyID0ge1xuICBzZXQoY2Fycmllciwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChjYXJyaWVyID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYXJyaWVyW2tleV0gPSB2YWx1ZTtcbiAgfSxcbn07XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUk9PVF9DT05URVhUIH0gZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCAqIGFzIHR5cGVzIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgTm9vcENvbnRleHRNYW5hZ2VyIGltcGxlbWVudHMgdHlwZXMuQ29udGV4dE1hbmFnZXIge1xuICBhY3RpdmUoKTogdHlwZXMuQ29udGV4dCB7XG4gICAgcmV0dXJuIFJPT1RfQ09OVEVYVDtcbiAgfVxuXG4gIHdpdGg8QSBleHRlbmRzIHVua25vd25bXSwgRiBleHRlbmRzICguLi5hcmdzOiBBKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBfY29udGV4dDogdHlwZXMuQ29udGV4dCxcbiAgICBmbjogRixcbiAgICB0aGlzQXJnPzogVGhpc1BhcmFtZXRlclR5cGU8Rj4sXG4gICAgLi4uYXJnczogQVxuICApOiBSZXR1cm5UeXBlPEY+IHtcbiAgICByZXR1cm4gZm4uY2FsbCh0aGlzQXJnLCAuLi5hcmdzKTtcbiAgfVxuXG4gIGJpbmQ8VD4oX2NvbnRleHQ6IHR5cGVzLkNvbnRleHQsIHRhcmdldDogVCk6IFQge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBlbmFibGUoKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBkaXNhYmxlKCk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTm9vcENvbnRleHRNYW5hZ2VyIH0gZnJvbSAnLi4vY29udGV4dC9Ob29wQ29udGV4dE1hbmFnZXInO1xuaW1wb3J0IHsgQ29udGV4dCwgQ29udGV4dE1hbmFnZXIgfSBmcm9tICcuLi9jb250ZXh0L3R5cGVzJztcbmltcG9ydCB7XG4gIGdldEdsb2JhbCxcbiAgcmVnaXN0ZXJHbG9iYWwsXG4gIHVucmVnaXN0ZXJHbG9iYWwsXG59IGZyb20gJy4uL2ludGVybmFsL2dsb2JhbC11dGlscyc7XG5pbXBvcnQgeyBEaWFnQVBJIH0gZnJvbSAnLi9kaWFnJztcblxuY29uc3QgQVBJX05BTUUgPSAnY29udGV4dCc7XG5jb25zdCBOT09QX0NPTlRFWFRfTUFOQUdFUiA9IG5ldyBOb29wQ29udGV4dE1hbmFnZXIoKTtcblxuLyoqXG4gKiBTaW5nbGV0b24gb2JqZWN0IHdoaWNoIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBvaW50IHRvIHRoZSBPcGVuVGVsZW1ldHJ5IENvbnRleHQgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0QVBJIHtcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlPzogQ29udGV4dEFQSTtcblxuICAvKiogRW1wdHkgcHJpdmF0ZSBjb25zdHJ1Y3RvciBwcmV2ZW50cyBlbmQgdXNlcnMgZnJvbSBjb25zdHJ1Y3RpbmcgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIEFQSSAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIENvbnRleHQgQVBJICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29udGV4dEFQSSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgQ29udGV4dEFQSSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgY29udGV4dCBtYW5hZ2VyLlxuICAgKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBjb250ZXh0IG1hbmFnZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBwdWJsaWMgc2V0R2xvYmFsQ29udGV4dE1hbmFnZXIoY29udGV4dE1hbmFnZXI6IENvbnRleHRNYW5hZ2VyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBjb250ZXh0TWFuYWdlciwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY29udGV4dFxuICAgKi9cbiAgcHVibGljIGFjdGl2ZSgpOiBDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS5hY3RpdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgZnVuY3Rpb24gd2l0aCBhbiBhY3RpdmUgY29udGV4dFxuICAgKlxuICAgKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGJlIGFjdGl2ZSBkdXJpbmcgZnVuY3Rpb24gZXhlY3V0aW9uXG4gICAqIEBwYXJhbSBmbiBmdW5jdGlvbiB0byBleGVjdXRlIGluIGEgY29udGV4dFxuICAgKiBAcGFyYW0gdGhpc0FyZyBvcHRpb25hbCByZWNlaXZlciB0byBiZSB1c2VkIGZvciBjYWxsaW5nIGZuXG4gICAqIEBwYXJhbSBhcmdzIG9wdGlvbmFsIGFyZ3VtZW50cyBmb3J3YXJkZWQgdG8gZm5cbiAgICovXG4gIHB1YmxpYyB3aXRoPEEgZXh0ZW5kcyB1bmtub3duW10sIEYgZXh0ZW5kcyAoLi4uYXJnczogQSkgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBmbjogRixcbiAgICB0aGlzQXJnPzogVGhpc1BhcmFtZXRlclR5cGU8Rj4sXG4gICAgLi4uYXJnczogQVxuICApOiBSZXR1cm5UeXBlPEY+IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGV4dE1hbmFnZXIoKS53aXRoKGNvbnRleHQsIGZuLCB0aGlzQXJnLCAuLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGEgY29udGV4dCB0byBhIHRhcmdldCBmdW5jdGlvbiBvciBldmVudCBlbWl0dGVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gYmluZCB0byB0aGUgZXZlbnQgZW1pdHRlciBvciBmdW5jdGlvbi4gRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgY29udGV4dFxuICAgKiBAcGFyYW0gdGFyZ2V0IGZ1bmN0aW9uIG9yIGV2ZW50IGVtaXR0ZXIgdG8gYmluZFxuICAgKi9cbiAgcHVibGljIGJpbmQ8VD4oY29udGV4dDogQ29udGV4dCwgdGFyZ2V0OiBUKTogVCB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRleHRNYW5hZ2VyKCkuYmluZChjb250ZXh0LCB0YXJnZXQpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0Q29udGV4dE1hbmFnZXIoKTogQ29udGV4dE1hbmFnZXIge1xuICAgIHJldHVybiBnZXRHbG9iYWwoQVBJX05BTUUpIHx8IE5PT1BfQ09OVEVYVF9NQU5BR0VSO1xuICB9XG5cbiAgLyoqIERpc2FibGUgYW5kIHJlbW92ZSB0aGUgZ2xvYmFsIGNvbnRleHQgbWFuYWdlciAqL1xuICBwdWJsaWMgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9nZXRDb250ZXh0TWFuYWdlcigpLmRpc2FibGUoKTtcbiAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICB9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNlRmxhZ3Mge1xuICAvKiogUmVwcmVzZW50cyBubyBmbGFnIHNldC4gKi9cbiAgTk9ORSA9IDB4MCxcbiAgLyoqIEJpdCB0byByZXByZXNlbnQgd2hldGhlciB0cmFjZSBpcyBzYW1wbGVkIGluIHRyYWNlIGZsYWdzLiAqL1xuICBTQU1QTEVEID0gMHgxIDw8IDAsXG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5pbXBvcnQgeyBUcmFjZUZsYWdzIH0gZnJvbSAnLi90cmFjZV9mbGFncyc7XG5cbmV4cG9ydCBjb25zdCBJTlZBTElEX1NQQU5JRCA9ICcwMDAwMDAwMDAwMDAwMDAwJztcbmV4cG9ydCBjb25zdCBJTlZBTElEX1RSQUNFSUQgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfU1BBTl9DT05URVhUOiBTcGFuQ29udGV4dCA9IHtcbiAgdHJhY2VJZDogSU5WQUxJRF9UUkFDRUlELFxuICBzcGFuSWQ6IElOVkFMSURfU1BBTklELFxuICB0cmFjZUZsYWdzOiBUcmFjZUZsYWdzLk5PTkUsXG59O1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEV4Y2VwdGlvbiB9IGZyb20gJy4uL2NvbW1vbi9FeGNlcHRpb24nO1xuaW1wb3J0IHsgVGltZUlucHV0IH0gZnJvbSAnLi4vY29tbW9uL1RpbWUnO1xuaW1wb3J0IHsgU3BhbkF0dHJpYnV0ZXMgfSBmcm9tICcuL2F0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgSU5WQUxJRF9TUEFOX0NPTlRFWFQgfSBmcm9tICcuL2ludmFsaWQtc3Bhbi1jb25zdGFudHMnO1xuaW1wb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBTcGFuQ29udGV4dCB9IGZyb20gJy4vc3Bhbl9jb250ZXh0JztcbmltcG9ydCB7IFNwYW5TdGF0dXMgfSBmcm9tICcuL3N0YXR1cyc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnLi9saW5rJztcblxuLyoqXG4gKiBUaGUgTm9uUmVjb3JkaW5nU3BhbiBpcyB0aGUgZGVmYXVsdCB7QGxpbmsgU3Bhbn0gdGhhdCBpcyB1c2VkIHdoZW4gbm8gU3BhblxuICogaW1wbGVtZW50YXRpb24gaXMgYXZhaWxhYmxlLiBBbGwgb3BlcmF0aW9ucyBhcmUgbm8tb3AgaW5jbHVkaW5nIGNvbnRleHRcbiAqIHByb3BhZ2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgTm9uUmVjb3JkaW5nU3BhbiBpbXBsZW1lbnRzIFNwYW4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zcGFuQ29udGV4dDogU3BhbkNvbnRleHQgPSBJTlZBTElEX1NQQU5fQ09OVEVYVFxuICApIHt9XG5cbiAgLy8gUmV0dXJucyBhIFNwYW5Db250ZXh0LlxuICBzcGFuQ29udGV4dCgpOiBTcGFuQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMuX3NwYW5Db250ZXh0O1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgc2V0QXR0cmlidXRlKF9rZXk6IHN0cmluZywgX3ZhbHVlOiB1bmtub3duKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICBzZXRBdHRyaWJ1dGVzKF9hdHRyaWJ1dGVzOiBTcGFuQXR0cmlidXRlcyk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgYWRkRXZlbnQoX25hbWU6IHN0cmluZywgX2F0dHJpYnV0ZXM/OiBTcGFuQXR0cmlidXRlcyk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkTGluayhfbGluazogTGluayk6IHRoaXMge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkTGlua3MoX2xpbmtzOiBMaW5rW10pOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIHNldFN0YXR1cyhfc3RhdHVzOiBTcGFuU3RhdHVzKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBCeSBkZWZhdWx0IGRvZXMgbm90aGluZ1xuICB1cGRhdGVOYW1lKF9uYW1lOiBzdHJpbmcpOiB0aGlzIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQgZG9lcyBub3RoaW5nXG4gIGVuZChfZW5kVGltZT86IFRpbWVJbnB1dCk6IHZvaWQge31cblxuICAvLyBpc1JlY29yZGluZyBhbHdheXMgcmV0dXJucyBmYWxzZSBmb3IgTm9uUmVjb3JkaW5nU3Bhbi5cbiAgaXNSZWNvcmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCBkb2VzIG5vdGhpbmdcbiAgcmVjb3JkRXhjZXB0aW9uKF9leGNlcHRpb246IEV4Y2VwdGlvbiwgX3RpbWU/OiBUaW1lSW5wdXQpOiB2b2lkIHt9XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dEtleSB9IGZyb20gJy4uL2NvbnRleHQvY29udGV4dCc7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBDb250ZXh0QVBJIH0gZnJvbSAnLi4vYXBpL2NvbnRleHQnO1xuXG4vKipcbiAqIHNwYW4ga2V5XG4gKi9cbmNvbnN0IFNQQU5fS0VZID0gY3JlYXRlQ29udGV4dEtleSgnT3BlblRlbGVtZXRyeSBDb250ZXh0IEtleSBTUEFOJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBzcGFuIGlmIG9uZSBleGlzdHNcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBjb250ZXh0IHRvIGdldCBzcGFuIGZyb21cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwYW4oY29udGV4dDogQ29udGV4dCk6IFNwYW4gfCB1bmRlZmluZWQge1xuICByZXR1cm4gKGNvbnRleHQuZ2V0VmFsdWUoU1BBTl9LRVkpIGFzIFNwYW4pIHx8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzcGFuIGZyb20gdGhlIGN1cnJlbnQgY29udGV4dCwgaWYgb25lIGV4aXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZVNwYW4oKTogU3BhbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBnZXRTcGFuKENvbnRleHRBUEkuZ2V0SW5zdGFuY2UoKS5hY3RpdmUoKSk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBzcGFuIG9uIGEgY29udGV4dFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gdXNlIGFzIHBhcmVudFxuICogQHBhcmFtIHNwYW4gc3BhbiB0byBzZXQgYWN0aXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTcGFuKGNvbnRleHQ6IENvbnRleHQsIHNwYW46IFNwYW4pOiBDb250ZXh0IHtcbiAgcmV0dXJuIGNvbnRleHQuc2V0VmFsdWUoU1BBTl9LRVksIHNwYW4pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBjdXJyZW50IHNwYW4gc3RvcmVkIGluIHRoZSBjb250ZXh0XG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBkZWxldGUgc3BhbiBmcm9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTcGFuKGNvbnRleHQ6IENvbnRleHQpOiBDb250ZXh0IHtcbiAgcmV0dXJuIGNvbnRleHQuZGVsZXRlVmFsdWUoU1BBTl9LRVkpO1xufVxuXG4vKipcbiAqIFdyYXAgc3BhbiBjb250ZXh0IGluIGEgTm9vcFNwYW4gYW5kIHNldCBhcyBzcGFuIGluIGEgbmV3XG4gKiBjb250ZXh0XG4gKlxuICogQHBhcmFtIGNvbnRleHQgY29udGV4dCB0byBzZXQgYWN0aXZlIHNwYW4gb25cbiAqIEBwYXJhbSBzcGFuQ29udGV4dCBzcGFuIGNvbnRleHQgdG8gYmUgd3JhcHBlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3BhbkNvbnRleHQoXG4gIGNvbnRleHQ6IENvbnRleHQsXG4gIHNwYW5Db250ZXh0OiBTcGFuQ29udGV4dFxuKTogQ29udGV4dCB7XG4gIHJldHVybiBzZXRTcGFuKGNvbnRleHQsIG5ldyBOb25SZWNvcmRpbmdTcGFuKHNwYW5Db250ZXh0KSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzcGFuIGNvbnRleHQgb2YgdGhlIHNwYW4gaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSBjb250ZXh0IGNvbnRleHQgdG8gZ2V0IHZhbHVlcyBmcm9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcGFuQ29udGV4dChjb250ZXh0OiBDb250ZXh0KTogU3BhbkNvbnRleHQgfCB1bmRlZmluZWQge1xuICByZXR1cm4gZ2V0U3Bhbihjb250ZXh0KT8uc3BhbkNvbnRleHQoKTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgSU5WQUxJRF9TUEFOSUQsIElOVkFMSURfVFJBQ0VJRCB9IGZyb20gJy4vaW52YWxpZC1zcGFuLWNvbnN0YW50cyc7XG5pbXBvcnQgeyBOb25SZWNvcmRpbmdTcGFuIH0gZnJvbSAnLi9Ob25SZWNvcmRpbmdTcGFuJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3BhbkNvbnRleHQgfSBmcm9tICcuL3NwYW5fY29udGV4dCc7XG5cbmNvbnN0IFZBTElEX1RSQUNFSURfUkVHRVggPSAvXihbMC05YS1mXXszMn0pJC9pO1xuY29uc3QgVkFMSURfU1BBTklEX1JFR0VYID0gL15bMC05YS1mXXsxNn0kL2k7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVHJhY2VJZCh0cmFjZUlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIFZBTElEX1RSQUNFSURfUkVHRVgudGVzdCh0cmFjZUlkKSAmJiB0cmFjZUlkICE9PSBJTlZBTElEX1RSQUNFSUQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU3BhbklkKHNwYW5JZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBWQUxJRF9TUEFOSURfUkVHRVgudGVzdChzcGFuSWQpICYmIHNwYW5JZCAhPT0gSU5WQUxJRF9TUEFOSUQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMge0BsaW5rIFNwYW5Db250ZXh0fSBpcyB2YWxpZC5cbiAqIEByZXR1cm4gdHJ1ZSBpZiB0aGlzIHtAbGluayBTcGFuQ29udGV4dH0gaXMgdmFsaWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYW5Db250ZXh0VmFsaWQoc3BhbkNvbnRleHQ6IFNwYW5Db250ZXh0KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgaXNWYWxpZFRyYWNlSWQoc3BhbkNvbnRleHQudHJhY2VJZCkgJiYgaXNWYWxpZFNwYW5JZChzcGFuQ29udGV4dC5zcGFuSWQpXG4gICk7XG59XG5cbi8qKlxuICogV3JhcCB0aGUgZ2l2ZW4ge0BsaW5rIFNwYW5Db250ZXh0fSBpbiBhIG5ldyBub24tcmVjb3JkaW5nIHtAbGluayBTcGFufVxuICpcbiAqIEBwYXJhbSBzcGFuQ29udGV4dCBzcGFuIGNvbnRleHQgdG8gYmUgd3JhcHBlZFxuICogQHJldHVybnMgYSBuZXcgbm9uLXJlY29yZGluZyB7QGxpbmsgU3Bhbn0gd2l0aCB0aGUgcHJvdmlkZWQgY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFNwYW5Db250ZXh0KHNwYW5Db250ZXh0OiBTcGFuQ29udGV4dCk6IFNwYW4ge1xuICByZXR1cm4gbmV3IE5vblJlY29yZGluZ1NwYW4oc3BhbkNvbnRleHQpO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRleHRBUEkgfSBmcm9tICcuLi9hcGkvY29udGV4dCc7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBnZXRTcGFuQ29udGV4dCwgc2V0U3BhbiB9IGZyb20gJy4uL3RyYWNlL2NvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgTm9uUmVjb3JkaW5nU3BhbiB9IGZyb20gJy4vTm9uUmVjb3JkaW5nU3Bhbic7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnLi9zcGFuJztcbmltcG9ydCB7IGlzU3BhbkNvbnRleHRWYWxpZCB9IGZyb20gJy4vc3BhbmNvbnRleHQtdXRpbHMnO1xuaW1wb3J0IHsgU3Bhbk9wdGlvbnMgfSBmcm9tICcuL1NwYW5PcHRpb25zJztcbmltcG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi9zcGFuX2NvbnRleHQnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZXInO1xuXG5jb25zdCBjb250ZXh0QXBpID0gQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpO1xuXG4vKipcbiAqIE5vLW9wIGltcGxlbWVudGF0aW9ucyBvZiB7QGxpbmsgVHJhY2VyfS5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vb3BUcmFjZXIgaW1wbGVtZW50cyBUcmFjZXIge1xuICAvLyBzdGFydFNwYW4gc3RhcnRzIGEgbm9vcCBzcGFuLlxuICBzdGFydFNwYW4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBTcGFuT3B0aW9ucyxcbiAgICBjb250ZXh0ID0gY29udGV4dEFwaS5hY3RpdmUoKVxuICApOiBTcGFuIHtcbiAgICBjb25zdCByb290ID0gQm9vbGVhbihvcHRpb25zPy5yb290KTtcbiAgICBpZiAocm9vdCkge1xuICAgICAgcmV0dXJuIG5ldyBOb25SZWNvcmRpbmdTcGFuKCk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50RnJvbUNvbnRleHQgPSBjb250ZXh0ICYmIGdldFNwYW5Db250ZXh0KGNvbnRleHQpO1xuXG4gICAgaWYgKFxuICAgICAgaXNTcGFuQ29udGV4dChwYXJlbnRGcm9tQ29udGV4dCkgJiZcbiAgICAgIGlzU3BhbkNvbnRleHRWYWxpZChwYXJlbnRGcm9tQ29udGV4dClcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgTm9uUmVjb3JkaW5nU3BhbihwYXJlbnRGcm9tQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgTm9uUmVjb3JkaW5nU3BhbigpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IFJldHVyblR5cGU8Rj4+KFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmbjogRlxuICApOiBSZXR1cm5UeXBlPEY+O1xuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0czogU3Bhbk9wdGlvbnMgfCB1bmRlZmluZWQsXG4gICAgZm46IEZcbiAgKTogUmV0dXJuVHlwZTxGPjtcbiAgc3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3BhbjogU3BhbikgPT4gUmV0dXJuVHlwZTxGPj4oXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdHM6IFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkLFxuICAgIGN0eDogQ29udGV4dCB8IHVuZGVmaW5lZCxcbiAgICBmbjogRlxuICApOiBSZXR1cm5UeXBlPEY+O1xuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiBSZXR1cm5UeXBlPEY+PihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgYXJnMj86IEYgfCBTcGFuT3B0aW9ucyxcbiAgICBhcmczPzogRiB8IENvbnRleHQsXG4gICAgYXJnND86IEZcbiAgKTogUmV0dXJuVHlwZTxGPiB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IG9wdHM6IFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIGxldCBjdHg6IENvbnRleHQgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGZuOiBGO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICBmbiA9IGFyZzIgYXMgRjtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIG9wdHMgPSBhcmcyIGFzIFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZm4gPSBhcmczIGFzIEY7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMgPSBhcmcyIGFzIFNwYW5PcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgY3R4ID0gYXJnMyBhcyBDb250ZXh0IHwgdW5kZWZpbmVkO1xuICAgICAgZm4gPSBhcmc0IGFzIEY7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50Q29udGV4dCA9IGN0eCA/PyBjb250ZXh0QXBpLmFjdGl2ZSgpO1xuICAgIGNvbnN0IHNwYW4gPSB0aGlzLnN0YXJ0U3BhbihuYW1lLCBvcHRzLCBwYXJlbnRDb250ZXh0KTtcbiAgICBjb25zdCBjb250ZXh0V2l0aFNwYW5TZXQgPSBzZXRTcGFuKHBhcmVudENvbnRleHQsIHNwYW4pO1xuXG4gICAgcmV0dXJuIGNvbnRleHRBcGkud2l0aChjb250ZXh0V2l0aFNwYW5TZXQsIGZuLCB1bmRlZmluZWQsIHNwYW4pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3BhbkNvbnRleHQoc3BhbkNvbnRleHQ6IGFueSk6IHNwYW5Db250ZXh0IGlzIFNwYW5Db250ZXh0IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHQgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHNwYW5Db250ZXh0WydzcGFuSWQnXSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHRbJ3RyYWNlSWQnXSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2Ygc3BhbkNvbnRleHRbJ3RyYWNlRmxhZ3MnXSA9PT0gJ251bWJlcidcbiAgKTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBOb29wVHJhY2VyIH0gZnJvbSAnLi9Ob29wVHJhY2VyJztcbmltcG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3Bhbk9wdGlvbnMgfSBmcm9tICcuL1NwYW5PcHRpb25zJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJy4vdHJhY2VyJztcbmltcG9ydCB7IFRyYWNlck9wdGlvbnMgfSBmcm9tICcuL3RyYWNlcl9vcHRpb25zJztcblxuY29uc3QgTk9PUF9UUkFDRVIgPSBuZXcgTm9vcFRyYWNlcigpO1xuXG4vKipcbiAqIFByb3h5IHRyYWNlciBwcm92aWRlZCBieSB0aGUgcHJveHkgdHJhY2VyIHByb3ZpZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm94eVRyYWNlciBpbXBsZW1lbnRzIFRyYWNlciB7XG4gIC8vIFdoZW4gYSByZWFsIGltcGxlbWVudGF0aW9uIGlzIHByb3ZpZGVkLCB0aGlzIHdpbGwgYmUgaXRcbiAgcHJpdmF0ZSBfZGVsZWdhdGU/OiBUcmFjZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfcHJvdmlkZXI6IFRyYWNlckRlbGVnYXRvcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSB2ZXJzaW9uPzogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBvcHRpb25zPzogVHJhY2VyT3B0aW9uc1xuICApIHt9XG5cbiAgc3RhcnRTcGFuKG5hbWU6IHN0cmluZywgb3B0aW9ucz86IFNwYW5PcHRpb25zLCBjb250ZXh0PzogQ29udGV4dCk6IFNwYW4ge1xuICAgIHJldHVybiB0aGlzLl9nZXRUcmFjZXIoKS5zdGFydFNwYW4obmFtZSwgb3B0aW9ucywgY29udGV4dCk7XG4gIH1cblxuICBzdGFydEFjdGl2ZVNwYW48RiBleHRlbmRzIChzcGFuOiBTcGFuKSA9PiB1bmtub3duPihcbiAgICBfbmFtZTogc3RyaW5nLFxuICAgIF9vcHRpb25zOiBGIHwgU3Bhbk9wdGlvbnMsXG4gICAgX2NvbnRleHQ/OiBGIHwgQ29udGV4dCxcbiAgICBfZm4/OiBGXG4gICk6IFJldHVyblR5cGU8Rj4ge1xuICAgIGNvbnN0IHRyYWNlciA9IHRoaXMuX2dldFRyYWNlcigpO1xuICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRyYWNlci5zdGFydEFjdGl2ZVNwYW4sIHRyYWNlciwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcnkgdG8gZ2V0IGEgdHJhY2VyIGZyb20gdGhlIHByb3h5IHRyYWNlciBwcm92aWRlci5cbiAgICogSWYgdGhlIHByb3h5IHRyYWNlciBwcm92aWRlciBoYXMgbm8gZGVsZWdhdGUsIHJldHVybiBhIG5vb3AgdHJhY2VyLlxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0VHJhY2VyKCkge1xuICAgIGlmICh0aGlzLl9kZWxlZ2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlO1xuICAgIH1cblxuICAgIGNvbnN0IHRyYWNlciA9IHRoaXMuX3Byb3ZpZGVyLmdldERlbGVnYXRlVHJhY2VyKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgdGhpcy52ZXJzaW9uLFxuICAgICAgdGhpcy5vcHRpb25zXG4gICAgKTtcblxuICAgIGlmICghdHJhY2VyKSB7XG4gICAgICByZXR1cm4gTk9PUF9UUkFDRVI7XG4gICAgfVxuXG4gICAgdGhpcy5fZGVsZWdhdGUgPSB0cmFjZXI7XG4gICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2VyRGVsZWdhdG9yIHtcbiAgZ2V0RGVsZWdhdGVUcmFjZXIoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHZlcnNpb24/OiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFRyYWNlck9wdGlvbnNcbiAgKTogVHJhY2VyIHwgdW5kZWZpbmVkO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE5vb3BUcmFjZXIgfSBmcm9tICcuL05vb3BUcmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyT3B0aW9ucyB9IGZyb20gJy4vdHJhY2VyX29wdGlvbnMnO1xuaW1wb3J0IHsgVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuL3RyYWNlcl9wcm92aWRlcic7XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIHtAbGluayBUcmFjZXJQcm92aWRlcn0gd2hpY2ggcmV0dXJucyBhbiBpbXBvdGVudFxuICogVHJhY2VyIGZvciBhbGwgY2FsbHMgdG8gYGdldFRyYWNlcmAuXG4gKlxuICogQWxsIG9wZXJhdGlvbnMgYXJlIG5vLW9wLlxuICovXG5leHBvcnQgY2xhc3MgTm9vcFRyYWNlclByb3ZpZGVyIGltcGxlbWVudHMgVHJhY2VyUHJvdmlkZXIge1xuICBnZXRUcmFjZXIoXG4gICAgX25hbWU/OiBzdHJpbmcsXG4gICAgX3ZlcnNpb24/OiBzdHJpbmcsXG4gICAgX29wdGlvbnM/OiBUcmFjZXJPcHRpb25zXG4gICk6IFRyYWNlciB7XG4gICAgcmV0dXJuIG5ldyBOb29wVHJhY2VyKCk7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuL3RyYWNlcic7XG5pbXBvcnQgeyBUcmFjZXJQcm92aWRlciB9IGZyb20gJy4vdHJhY2VyX3Byb3ZpZGVyJztcbmltcG9ydCB7IFByb3h5VHJhY2VyIH0gZnJvbSAnLi9Qcm94eVRyYWNlcic7XG5pbXBvcnQgeyBOb29wVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuL05vb3BUcmFjZXJQcm92aWRlcic7XG5pbXBvcnQgeyBUcmFjZXJPcHRpb25zIH0gZnJvbSAnLi90cmFjZXJfb3B0aW9ucyc7XG5cbmNvbnN0IE5PT1BfVFJBQ0VSX1BST1ZJREVSID0gbmV3IE5vb3BUcmFjZXJQcm92aWRlcigpO1xuXG4vKipcbiAqIFRyYWNlciBwcm92aWRlciB3aGljaCBwcm92aWRlcyB7QGxpbmsgUHJveHlUcmFjZXJ9cy5cbiAqXG4gKiBCZWZvcmUgYSBkZWxlZ2F0ZSBpcyBzZXQsIHRyYWNlcnMgcHJvdmlkZWQgYXJlIE5vT3AuXG4gKiAgIFdoZW4gYSBkZWxlZ2F0ZSBpcyBzZXQsIHRyYWNlcyBhcmUgcHJvdmlkZWQgZnJvbSB0aGUgZGVsZWdhdGUuXG4gKiAgIFdoZW4gYSBkZWxlZ2F0ZSBpcyBzZXQgYWZ0ZXIgdHJhY2VycyBoYXZlIGFscmVhZHkgYmVlbiBwcm92aWRlZCxcbiAqICAgYWxsIHRyYWNlcnMgYWxyZWFkeSBwcm92aWRlZCB3aWxsIHVzZSB0aGUgcHJvdmlkZWQgZGVsZWdhdGUgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm94eVRyYWNlclByb3ZpZGVyIGltcGxlbWVudHMgVHJhY2VyUHJvdmlkZXIge1xuICBwcml2YXRlIF9kZWxlZ2F0ZT86IFRyYWNlclByb3ZpZGVyO1xuXG4gIC8qKlxuICAgKiBHZXQgYSB7QGxpbmsgUHJveHlUcmFjZXJ9XG4gICAqL1xuICBnZXRUcmFjZXIobmFtZTogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nLCBvcHRpb25zPzogVHJhY2VyT3B0aW9ucyk6IFRyYWNlciB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZ2V0RGVsZWdhdGVUcmFjZXIobmFtZSwgdmVyc2lvbiwgb3B0aW9ucykgPz9cbiAgICAgIG5ldyBQcm94eVRyYWNlcih0aGlzLCBuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKVxuICAgICk7XG4gIH1cblxuICBnZXREZWxlZ2F0ZSgpOiBUcmFjZXJQcm92aWRlciB7XG4gICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRlID8/IE5PT1BfVFJBQ0VSX1BST1ZJREVSO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGVsZWdhdGUgdHJhY2VyIHByb3ZpZGVyXG4gICAqL1xuICBzZXREZWxlZ2F0ZShkZWxlZ2F0ZTogVHJhY2VyUHJvdmlkZXIpIHtcbiAgICB0aGlzLl9kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICB9XG5cbiAgZ2V0RGVsZWdhdGVUcmFjZXIoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHZlcnNpb24/OiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IFRyYWNlck9wdGlvbnNcbiAgKTogVHJhY2VyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGU/LmdldFRyYWNlcihuYW1lLCB2ZXJzaW9uLCBvcHRpb25zKTtcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFNwYW5BdHRyaWJ1dGVzIH0gZnJvbSAnLi9hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFRyYWNlU3RhdGUgfSBmcm9tICcuL3RyYWNlX3N0YXRlJztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCB1c2UgdGhlIG9uZSBkZWNsYXJlZCBpbiBAb3BlbnRlbGVtZXRyeS9zZGstdHJhY2UtYmFzZSBpbnN0ZWFkLlxuICogQSBzYW1wbGluZyBkZWNpc2lvbiB0aGF0IGRldGVybWluZXMgaG93IGEge0BsaW5rIFNwYW59IHdpbGwgYmUgcmVjb3JkZWRcbiAqIGFuZCBjb2xsZWN0ZWQuXG4gKi9cbmV4cG9ydCBlbnVtIFNhbXBsaW5nRGVjaXNpb24ge1xuICAvKipcbiAgICogYFNwYW4uaXNSZWNvcmRpbmcoKSA9PT0gZmFsc2VgLCBzcGFuIHdpbGwgbm90IGJlIHJlY29yZGVkIGFuZCBhbGwgZXZlbnRzXG4gICAqIGFuZCBhdHRyaWJ1dGVzIHdpbGwgYmUgZHJvcHBlZC5cbiAgICovXG4gIE5PVF9SRUNPUkQsXG4gIC8qKlxuICAgKiBgU3Bhbi5pc1JlY29yZGluZygpID09PSB0cnVlYCwgYnV0IGBTYW1wbGVkYCBmbGFnIGluIHtAbGluayBUcmFjZUZsYWdzfVxuICAgKiBNVVNUIE5PVCBiZSBzZXQuXG4gICAqL1xuICBSRUNPUkQsXG4gIC8qKlxuICAgKiBgU3Bhbi5pc1JlY29yZGluZygpID09PSB0cnVlYCBBTkQgYFNhbXBsZWRgIGZsYWcgaW4ge0BsaW5rIFRyYWNlRmxhZ3N9XG4gICAqIE1VU1QgYmUgc2V0LlxuICAgKi9cbiAgUkVDT1JEX0FORF9TQU1QTEVELFxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSB0aGUgb25lIGRlY2xhcmVkIGluIEBvcGVudGVsZW1ldHJ5L3Nkay10cmFjZS1iYXNlIGluc3RlYWQuXG4gKiBBIHNhbXBsaW5nIHJlc3VsdCBjb250YWlucyBhIGRlY2lzaW9uIGZvciBhIHtAbGluayBTcGFufSBhbmQgYWRkaXRpb25hbFxuICogYXR0cmlidXRlcyB0aGUgc2FtcGxlciB3b3VsZCBsaWtlIHRvIGFkZGVkIHRvIHRoZSBTcGFuLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNhbXBsaW5nUmVzdWx0IHtcbiAgLyoqXG4gICAqIEEgc2FtcGxpbmcgZGVjaXNpb24sIHJlZmVyIHRvIHtAbGluayBTYW1wbGluZ0RlY2lzaW9ufSBmb3IgZGV0YWlscy5cbiAgICovXG4gIGRlY2lzaW9uOiBTYW1wbGluZ0RlY2lzaW9uO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgYXR0cmlidXRlcyByZXR1cm5lZCBieSBTYW1wbGluZ1Jlc3VsdCBNVVNUIGJlIGltbXV0YWJsZS5cbiAgICogQ2FsbGVyIG1heSBjYWxsIHtAbGluayBTYW1wbGVyfS5zaG91bGRTYW1wbGUgYW55IG51bWJlciBvZiB0aW1lcyBhbmRcbiAgICogY2FuIHNhZmVseSBjYWNoZSB0aGUgcmV0dXJuZWQgdmFsdWUuXG4gICAqL1xuICBhdHRyaWJ1dGVzPzogUmVhZG9ubHk8U3BhbkF0dHJpYnV0ZXM+O1xuICAvKipcbiAgICogQSB7QGxpbmsgVHJhY2VTdGF0ZX0gdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUge0BsaW5rIFNwYW59IHRocm91Z2hcbiAgICogdGhlIG5ldyB7QGxpbmsgU3BhbkNvbnRleHR9LiBTYW1wbGVycyBTSE9VTEQgcmV0dXJuIHRoZSBUcmFjZVN0YXRlIGZyb21cbiAgICogdGhlIHBhc3NlZC1pbiB7QGxpbmsgQ29udGV4dH0gaWYgdGhleSBkbyBub3QgaW50ZW5kIHRvIGNoYW5nZSBpdC4gTGVhdmluZ1xuICAgKiB0aGUgdmFsdWUgdW5kZWZpbmVkIHdpbGwgYWxzbyBsZWF2ZSB0aGUgVHJhY2VTdGF0ZSB1bmNoYW5nZWQuXG4gICAqL1xuICB0cmFjZVN0YXRlPzogVHJhY2VTdGF0ZTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGVudW0gU3BhbktpbmQge1xuICAvKiogRGVmYXVsdCB2YWx1ZS4gSW5kaWNhdGVzIHRoYXQgdGhlIHNwYW4gaXMgdXNlZCBpbnRlcm5hbGx5LiAqL1xuICBJTlRFUk5BTCA9IDAsXG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IHRoZSBzcGFuIGNvdmVycyBzZXJ2ZXItc2lkZSBoYW5kbGluZyBvZiBhbiBSUEMgb3Igb3RoZXJcbiAgICogcmVtb3RlIHJlcXVlc3QuXG4gICAqL1xuICBTRVJWRVIgPSAxLFxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgc3BhbiBjb3ZlcnMgdGhlIGNsaWVudC1zaWRlIHdyYXBwZXIgYXJvdW5kIGFuIFJQQyBvclxuICAgKiBvdGhlciByZW1vdGUgcmVxdWVzdC5cbiAgICovXG4gIENMSUVOVCA9IDIsXG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IHRoZSBzcGFuIGRlc2NyaWJlcyBwcm9kdWNlciBzZW5kaW5nIGEgbWVzc2FnZSB0byBhXG4gICAqIGJyb2tlci4gVW5saWtlIGNsaWVudCBhbmQgc2VydmVyLCB0aGVyZSBpcyBubyBkaXJlY3QgY3JpdGljYWwgcGF0aCBsYXRlbmN5XG4gICAqIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHByb2R1Y2VyIGFuZCBjb25zdW1lciBzcGFucy5cbiAgICovXG4gIFBST0RVQ0VSID0gMyxcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHNwYW4gZGVzY3JpYmVzIGNvbnN1bWVyIHJlY2VpdmluZyBhIG1lc3NhZ2UgZnJvbSBhXG4gICAqIGJyb2tlci4gVW5saWtlIGNsaWVudCBhbmQgc2VydmVyLCB0aGVyZSBpcyBubyBkaXJlY3QgY3JpdGljYWwgcGF0aCBsYXRlbmN5XG4gICAqIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHByb2R1Y2VyIGFuZCBjb25zdW1lciBzcGFucy5cbiAgICovXG4gIENPTlNVTUVSID0gNCxcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTcGFuU3RhdHVzIHtcbiAgLyoqIFRoZSBzdGF0dXMgY29kZSBvZiB0aGlzIG1lc3NhZ2UuICovXG4gIGNvZGU6IFNwYW5TdGF0dXNDb2RlO1xuICAvKiogQSBkZXZlbG9wZXItZmFjaW5nIGVycm9yIG1lc3NhZ2UuICovXG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gZW51bWVyYXRpb24gb2Ygc3RhdHVzIGNvZGVzLlxuICovXG5leHBvcnQgZW51bSBTcGFuU3RhdHVzQ29kZSB7XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBzdGF0dXMuXG4gICAqL1xuICBVTlNFVCA9IDAsXG4gIC8qKlxuICAgKiBUaGUgb3BlcmF0aW9uIGhhcyBiZWVuIHZhbGlkYXRlZCBieSBhbiBBcHBsaWNhdGlvbiBkZXZlbG9wZXIgb3JcbiAgICogT3BlcmF0b3IgdG8gaGF2ZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgT0sgPSAxLFxuICAvKipcbiAgICogVGhlIG9wZXJhdGlvbiBjb250YWlucyBhbiBlcnJvci5cbiAgICovXG4gIEVSUk9SID0gMixcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBWQUxJRF9LRVlfQ0hBUl9SQU5HRSA9ICdbXzAtOWEtei0qL10nO1xuY29uc3QgVkFMSURfS0VZID0gYFthLXpdJHtWQUxJRF9LRVlfQ0hBUl9SQU5HRX17MCwyNTV9YDtcbmNvbnN0IFZBTElEX1ZFTkRPUl9LRVkgPSBgW2EtejAtOV0ke1ZBTElEX0tFWV9DSEFSX1JBTkdFfXswLDI0MH1AW2Etel0ke1ZBTElEX0tFWV9DSEFSX1JBTkdFfXswLDEzfWA7XG5jb25zdCBWQUxJRF9LRVlfUkVHRVggPSBuZXcgUmVnRXhwKGBeKD86JHtWQUxJRF9LRVl9fCR7VkFMSURfVkVORE9SX0tFWX0pJGApO1xuY29uc3QgVkFMSURfVkFMVUVfQkFTRV9SRUdFWCA9IC9eWyAtfl17MCwyNTV9WyEtfl0kLztcbmNvbnN0IElOVkFMSURfVkFMVUVfQ09NTUFfRVFVQUxfUkVHRVggPSAvLHw9LztcblxuLyoqXG4gKiBLZXkgaXMgb3BhcXVlIHN0cmluZyB1cCB0byAyNTYgY2hhcmFjdGVycyBwcmludGFibGUuIEl0IE1VU1QgYmVnaW4gd2l0aCBhXG4gKiBsb3dlcmNhc2UgbGV0dGVyLCBhbmQgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgbGV0dGVycyBhLXosIGRpZ2l0cyAwLTksXG4gKiB1bmRlcnNjb3JlcyBfLCBkYXNoZXMgLSwgYXN0ZXJpc2tzICosIGFuZCBmb3J3YXJkIHNsYXNoZXMgLy5cbiAqIEZvciBtdWx0aS10ZW5hbnQgdmVuZG9yIHNjZW5hcmlvcywgYW4gYXQgc2lnbiAoQCkgY2FuIGJlIHVzZWQgdG8gcHJlZml4IHRoZVxuICogdmVuZG9yIG5hbWUuIFZlbmRvcnMgU0hPVUxEIHNldCB0aGUgdGVuYW50IElEIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGtleS5cbiAqIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvdHJhY2UtY29udGV4dC8ja2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUtleShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gVkFMSURfS0VZX1JFR0VYLnRlc3Qoa2V5KTtcbn1cblxuLyoqXG4gKiBWYWx1ZSBpcyBvcGFxdWUgc3RyaW5nIHVwIHRvIDI1NiBjaGFyYWN0ZXJzIHByaW50YWJsZSBBU0NJSSBSRkMwMDIwXG4gKiBjaGFyYWN0ZXJzIChpLmUuLCB0aGUgcmFuZ2UgMHgyMCB0byAweDdFKSBleGNlcHQgY29tbWEgLCBhbmQgPS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVmFsdWUodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIFZBTElEX1ZBTFVFX0JBU0VfUkVHRVgudGVzdCh2YWx1ZSkgJiZcbiAgICAhSU5WQUxJRF9WQUxVRV9DT01NQV9FUVVBTF9SRUdFWC50ZXN0KHZhbHVlKVxuICApO1xufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFRyYWNlU3RhdGUgfSBmcm9tICcuLi90cmFjZV9zdGF0ZSc7XG5pbXBvcnQgeyB2YWxpZGF0ZUtleSwgdmFsaWRhdGVWYWx1ZSB9IGZyb20gJy4vdHJhY2VzdGF0ZS12YWxpZGF0b3JzJztcblxuY29uc3QgTUFYX1RSQUNFX1NUQVRFX0lURU1TID0gMzI7XG5jb25zdCBNQVhfVFJBQ0VfU1RBVEVfTEVOID0gNTEyO1xuY29uc3QgTElTVF9NRU1CRVJTX1NFUEFSQVRPUiA9ICcsJztcbmNvbnN0IExJU1RfTUVNQkVSX0tFWV9WQUxVRV9TUExJVFRFUiA9ICc9JztcblxuLyoqXG4gKiBUcmFjZVN0YXRlIG11c3QgYmUgYSBjbGFzcyBhbmQgbm90IGEgc2ltcGxlIG9iamVjdCB0eXBlIGJlY2F1c2Ugb2YgdGhlIHNwZWNcbiAqIHJlcXVpcmVtZW50IChodHRwczovL3d3dy53My5vcmcvVFIvdHJhY2UtY29udGV4dC8jdHJhY2VzdGF0ZS1maWVsZCkuXG4gKlxuICogSGVyZSBpcyB0aGUgbGlzdCBvZiBhbGxvd2VkIG11dGF0aW9uczpcbiAqIC0gTmV3IGtleS12YWx1ZSBwYWlyIHNob3VsZCBiZSBhZGRlZCBpbnRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RcbiAqIC0gVGhlIHZhbHVlIG9mIGFueSBrZXkgY2FuIGJlIHVwZGF0ZWQuIE1vZGlmaWVkIGtleXMgTVVTVCBiZSBtb3ZlZCB0byB0aGVcbiAqIGJlZ2lubmluZyBvZiB0aGUgbGlzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRyYWNlU3RhdGVJbXBsIGltcGxlbWVudHMgVHJhY2VTdGF0ZSB7XG4gIHByaXZhdGUgX2ludGVybmFsU3RhdGU6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IocmF3VHJhY2VTdGF0ZT86IHN0cmluZykge1xuICAgIGlmIChyYXdUcmFjZVN0YXRlKSB0aGlzLl9wYXJzZShyYXdUcmFjZVN0YXRlKTtcbiAgfVxuXG4gIHNldChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IFRyYWNlU3RhdGVJbXBsIHtcbiAgICAvLyBUT0RPOiBCZW5jaG1hcmsgdGhlIGRpZmZlcmVudCBhcHByb2FjaGVzKG1hcCB2cyBsaXN0KSBhbmRcbiAgICAvLyB1c2UgdGhlIGZhc3RlciBvbmUuXG4gICAgY29uc3QgdHJhY2VTdGF0ZSA9IHRoaXMuX2Nsb25lKCk7XG4gICAgaWYgKHRyYWNlU3RhdGUuX2ludGVybmFsU3RhdGUuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNlU3RhdGUuX2ludGVybmFsU3RhdGUuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHRyYWNlU3RhdGUuX2ludGVybmFsU3RhdGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB0cmFjZVN0YXRlO1xuICB9XG5cbiAgdW5zZXQoa2V5OiBzdHJpbmcpOiBUcmFjZVN0YXRlSW1wbCB7XG4gICAgY29uc3QgdHJhY2VTdGF0ZSA9IHRoaXMuX2Nsb25lKCk7XG4gICAgdHJhY2VTdGF0ZS5faW50ZXJuYWxTdGF0ZS5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gdHJhY2VTdGF0ZTtcbiAgfVxuXG4gIGdldChrZXk6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVybmFsU3RhdGUuZ2V0KGtleSk7XG4gIH1cblxuICBzZXJpYWxpemUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fa2V5cygpXG4gICAgICAucmVkdWNlKChhZ2c6IHN0cmluZ1tdLCBrZXkpID0+IHtcbiAgICAgICAgYWdnLnB1c2goa2V5ICsgTElTVF9NRU1CRVJfS0VZX1ZBTFVFX1NQTElUVEVSICsgdGhpcy5nZXQoa2V5KSk7XG4gICAgICAgIHJldHVybiBhZ2c7XG4gICAgICB9LCBbXSlcbiAgICAgIC5qb2luKExJU1RfTUVNQkVSU19TRVBBUkFUT1IpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcGFyc2UocmF3VHJhY2VTdGF0ZTogc3RyaW5nKSB7XG4gICAgaWYgKHJhd1RyYWNlU3RhdGUubGVuZ3RoID4gTUFYX1RSQUNFX1NUQVRFX0xFTikgcmV0dXJuO1xuICAgIHRoaXMuX2ludGVybmFsU3RhdGUgPSByYXdUcmFjZVN0YXRlXG4gICAgICAuc3BsaXQoTElTVF9NRU1CRVJTX1NFUEFSQVRPUilcbiAgICAgIC5yZXZlcnNlKCkgLy8gU3RvcmUgaW4gcmV2ZXJzZSBzbyBuZXcga2V5cyAoLnNldCguLi4pKSB3aWxsIGJlIHBsYWNlZCBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAucmVkdWNlKChhZ2c6IE1hcDxzdHJpbmcsIHN0cmluZz4sIHBhcnQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBsaXN0TWVtYmVyID0gcGFydC50cmltKCk7IC8vIE9wdGlvbmFsIFdoaXRlc3BhY2UgKE9XUykgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgaSA9IGxpc3RNZW1iZXIuaW5kZXhPZihMSVNUX01FTUJFUl9LRVlfVkFMVUVfU1BMSVRURVIpO1xuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBsaXN0TWVtYmVyLnNsaWNlKDAsIGkpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gbGlzdE1lbWJlci5zbGljZShpICsgMSwgcGFydC5sZW5ndGgpO1xuICAgICAgICAgIGlmICh2YWxpZGF0ZUtleShrZXkpICYmIHZhbGlkYXRlVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICBhZ2cuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDb25zaWRlciB0byBhZGQgd2FybmluZyBsb2dcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFnZztcbiAgICAgIH0sIG5ldyBNYXAoKSk7XG5cbiAgICAvLyBCZWNhdXNlIG9mIHRoZSByZXZlcnNlKCkgcmVxdWlyZW1lbnQsIHRydW5jIG11c3QgYmUgZG9uZSBhZnRlciBtYXAgaXMgY3JlYXRlZFxuICAgIGlmICh0aGlzLl9pbnRlcm5hbFN0YXRlLnNpemUgPiBNQVhfVFJBQ0VfU1RBVEVfSVRFTVMpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUgPSBuZXcgTWFwKFxuICAgICAgICBBcnJheS5mcm9tKHRoaXMuX2ludGVybmFsU3RhdGUuZW50cmllcygpKVxuICAgICAgICAgIC5yZXZlcnNlKCkgLy8gVXNlIHJldmVyc2Ugc2FtZSBhcyBvcmlnaW5hbCB0cmFjZXN0YXRlIHBhcnNlIGNoYWluXG4gICAgICAgICAgLnNsaWNlKDAsIE1BWF9UUkFDRV9TVEFURV9JVEVNUylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfa2V5cygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW50ZXJuYWxTdGF0ZS5rZXlzKCkpLnJldmVyc2UoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2Nsb25lKCk6IFRyYWNlU3RhdGVJbXBsIHtcbiAgICBjb25zdCB0cmFjZVN0YXRlID0gbmV3IFRyYWNlU3RhdGVJbXBsKCk7XG4gICAgdHJhY2VTdGF0ZS5faW50ZXJuYWxTdGF0ZSA9IG5ldyBNYXAodGhpcy5faW50ZXJuYWxTdGF0ZSk7XG4gICAgcmV0dXJuIHRyYWNlU3RhdGU7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBUcmFjZVN0YXRlIH0gZnJvbSAnLi4vdHJhY2Vfc3RhdGUnO1xuaW1wb3J0IHsgVHJhY2VTdGF0ZUltcGwgfSBmcm9tICcuL3RyYWNlc3RhdGUtaW1wbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFjZVN0YXRlKHJhd1RyYWNlU3RhdGU/OiBzdHJpbmcpOiBUcmFjZVN0YXRlIHtcbiAgcmV0dXJuIG5ldyBUcmFjZVN0YXRlSW1wbChyYXdUcmFjZVN0YXRlKTtcbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBTcGxpdCBtb2R1bGUtbGV2ZWwgdmFyaWFibGUgZGVmaW5pdGlvbiBpbnRvIHNlcGFyYXRlIGZpbGVzIHRvIGFsbG93XG4vLyB0cmVlLXNoYWtpbmcgb24gZWFjaCBhcGkgaW5zdGFuY2UuXG5pbXBvcnQgeyBDb250ZXh0QVBJIH0gZnJvbSAnLi9hcGkvY29udGV4dCc7XG4vKiogRW50cnlwb2ludCBmb3IgY29udGV4dCBBUEkgKi9cbmV4cG9ydCBjb25zdCBjb250ZXh0ID0gQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFNwbGl0IG1vZHVsZS1sZXZlbCB2YXJpYWJsZSBkZWZpbml0aW9uIGludG8gc2VwYXJhdGUgZmlsZXMgdG8gYWxsb3dcbi8vIHRyZWUtc2hha2luZyBvbiBlYWNoIGFwaSBpbnN0YW5jZS5cbmltcG9ydCB7IERpYWdBUEkgfSBmcm9tICcuL2FwaS9kaWFnJztcbi8qKlxuICogRW50cnlwb2ludCBmb3IgRGlhZyBBUEkuXG4gKiBEZWZpbmVzIERpYWdub3N0aWMgaGFuZGxlciB1c2VkIGZvciBpbnRlcm5hbCBkaWFnbm9zdGljIGxvZ2dpbmcgb3BlcmF0aW9ucy5cbiAqIFRoZSBkZWZhdWx0IHByb3ZpZGVzIGEgTm9vcCBEaWFnTG9nZ2VyIGltcGxlbWVudGF0aW9uIHdoaWNoIG1heSBiZSBjaGFuZ2VkIHZpYSB0aGVcbiAqIGRpYWcuc2V0TG9nZ2VyKGxvZ2dlcjogRGlhZ0xvZ2dlcikgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBkaWFnID0gRGlhZ0FQSS5pbnN0YW5jZSgpO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE1ldGVyLCBNZXRlck9wdGlvbnMgfSBmcm9tICcuL01ldGVyJztcbmltcG9ydCB7IE1ldGVyUHJvdmlkZXIgfSBmcm9tICcuL01ldGVyUHJvdmlkZXInO1xuaW1wb3J0IHsgTk9PUF9NRVRFUiB9IGZyb20gJy4vTm9vcE1ldGVyJztcblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUge0BsaW5rIE1ldGVyUHJvdmlkZXJ9IHdoaWNoIHJldHVybnMgYW4gaW1wb3RlbnQgTWV0ZXJcbiAqIGZvciBhbGwgY2FsbHMgdG8gYGdldE1ldGVyYFxuICovXG5leHBvcnQgY2xhc3MgTm9vcE1ldGVyUHJvdmlkZXIgaW1wbGVtZW50cyBNZXRlclByb3ZpZGVyIHtcbiAgZ2V0TWV0ZXIoX25hbWU6IHN0cmluZywgX3ZlcnNpb24/OiBzdHJpbmcsIF9vcHRpb25zPzogTWV0ZXJPcHRpb25zKTogTWV0ZXIge1xuICAgIHJldHVybiBOT09QX01FVEVSO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBOT09QX01FVEVSX1BST1ZJREVSID0gbmV3IE5vb3BNZXRlclByb3ZpZGVyKCk7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTWV0ZXIsIE1ldGVyT3B0aW9ucyB9IGZyb20gJy4uL21ldHJpY3MvTWV0ZXInO1xuaW1wb3J0IHsgTWV0ZXJQcm92aWRlciB9IGZyb20gJy4uL21ldHJpY3MvTWV0ZXJQcm92aWRlcic7XG5pbXBvcnQgeyBOT09QX01FVEVSX1BST1ZJREVSIH0gZnJvbSAnLi4vbWV0cmljcy9Ob29wTWV0ZXJQcm92aWRlcic7XG5pbXBvcnQge1xuICBnZXRHbG9iYWwsXG4gIHJlZ2lzdGVyR2xvYmFsLFxuICB1bnJlZ2lzdGVyR2xvYmFsLFxufSBmcm9tICcuLi9pbnRlcm5hbC9nbG9iYWwtdXRpbHMnO1xuaW1wb3J0IHsgRGlhZ0FQSSB9IGZyb20gJy4vZGlhZyc7XG5cbmNvbnN0IEFQSV9OQU1FID0gJ21ldHJpY3MnO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgTWV0cmljcyBBUElcbiAqL1xuZXhwb3J0IGNsYXNzIE1ldHJpY3NBUEkge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U/OiBNZXRyaWNzQVBJO1xuXG4gIC8qKiBFbXB0eSBwcml2YXRlIGNvbnN0cnVjdG9yIHByZXZlbnRzIGVuZCB1c2VycyBmcm9tIGNvbnN0cnVjdGluZyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQVBJICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgTWV0cmljcyBBUEkgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBNZXRyaWNzQVBJIHtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBNZXRyaWNzQVBJKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBnbG9iYWwgbWV0ZXIgcHJvdmlkZXIuXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWV0ZXIgcHJvdmlkZXIgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlLlxuICAgKi9cbiAgcHVibGljIHNldEdsb2JhbE1ldGVyUHJvdmlkZXIocHJvdmlkZXI6IE1ldGVyUHJvdmlkZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcmVnaXN0ZXJHbG9iYWwoQVBJX05BTUUsIHByb3ZpZGVyLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGdsb2JhbCBtZXRlciBwcm92aWRlci5cbiAgICovXG4gIHB1YmxpYyBnZXRNZXRlclByb3ZpZGVyKCk6IE1ldGVyUHJvdmlkZXIge1xuICAgIHJldHVybiBnZXRHbG9iYWwoQVBJX05BTUUpIHx8IE5PT1BfTUVURVJfUFJPVklERVI7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIG1ldGVyIGZyb20gdGhlIGdsb2JhbCBtZXRlciBwcm92aWRlci5cbiAgICovXG4gIHB1YmxpYyBnZXRNZXRlcihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmVyc2lvbj86IHN0cmluZyxcbiAgICBvcHRpb25zPzogTWV0ZXJPcHRpb25zXG4gICk6IE1ldGVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRNZXRlclByb3ZpZGVyKCkuZ2V0TWV0ZXIobmFtZSwgdmVyc2lvbiwgb3B0aW9ucyk7XG4gIH1cblxuICAvKiogUmVtb3ZlIHRoZSBnbG9iYWwgbWV0ZXIgcHJvdmlkZXIgKi9cbiAgcHVibGljIGRpc2FibGUoKTogdm9pZCB7XG4gICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgfVxufVxuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFNwbGl0IG1vZHVsZS1sZXZlbCB2YXJpYWJsZSBkZWZpbml0aW9uIGludG8gc2VwYXJhdGUgZmlsZXMgdG8gYWxsb3dcbi8vIHRyZWUtc2hha2luZyBvbiBlYWNoIGFwaSBpbnN0YW5jZS5cbmltcG9ydCB7IE1ldHJpY3NBUEkgfSBmcm9tICcuL2FwaS9tZXRyaWNzJztcbi8qKiBFbnRyeXBvaW50IGZvciBtZXRyaWNzIEFQSSAqL1xuZXhwb3J0IGNvbnN0IG1ldHJpY3MgPSBNZXRyaWNzQVBJLmdldEluc3RhbmNlKCk7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHsgVGV4dE1hcFByb3BhZ2F0b3IgfSBmcm9tICcuL1RleHRNYXBQcm9wYWdhdG9yJztcblxuLyoqXG4gKiBOby1vcCBpbXBsZW1lbnRhdGlvbnMgb2Yge0BsaW5rIFRleHRNYXBQcm9wYWdhdG9yfS5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vb3BUZXh0TWFwUHJvcGFnYXRvciBpbXBsZW1lbnRzIFRleHRNYXBQcm9wYWdhdG9yIHtcbiAgLyoqIE5vb3AgaW5qZWN0IGZ1bmN0aW9uIGRvZXMgbm90aGluZyAqL1xuICBpbmplY3QoX2NvbnRleHQ6IENvbnRleHQsIF9jYXJyaWVyOiB1bmtub3duKTogdm9pZCB7fVxuICAvKiogTm9vcCBleHRyYWN0IGZ1bmN0aW9uIGRvZXMgbm90aGluZyBhbmQgcmV0dXJucyB0aGUgaW5wdXQgY29udGV4dCAqL1xuICBleHRyYWN0KGNvbnRleHQ6IENvbnRleHQsIF9jYXJyaWVyOiB1bmtub3duKTogQ29udGV4dCB7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cbiAgZmllbGRzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb250ZXh0QVBJIH0gZnJvbSAnLi4vYXBpL2NvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dEtleSB9IGZyb20gJy4uL2NvbnRleHQvY29udGV4dCc7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC90eXBlcyc7XG5pbXBvcnQgeyBCYWdnYWdlIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogQmFnZ2FnZSBrZXlcbiAqL1xuY29uc3QgQkFHR0FHRV9LRVkgPSBjcmVhdGVDb250ZXh0S2V5KCdPcGVuVGVsZW1ldHJ5IEJhZ2dhZ2UgS2V5Jyk7XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIGN1cnJlbnQgYmFnZ2FnZSBmcm9tIHRoZSBnaXZlbiBjb250ZXh0XG4gKlxuICogQHBhcmFtIHtDb250ZXh0fSBDb250ZXh0IHRoYXQgbWFuYWdlIGFsbCBjb250ZXh0IHZhbHVlc1xuICogQHJldHVybnMge0JhZ2dhZ2V9IEV4dHJhY3RlZCBiYWdnYWdlIGZyb20gdGhlIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJhZ2dhZ2UoY29udGV4dDogQ29udGV4dCk6IEJhZ2dhZ2UgfCB1bmRlZmluZWQge1xuICByZXR1cm4gKGNvbnRleHQuZ2V0VmFsdWUoQkFHR0FHRV9LRVkpIGFzIEJhZ2dhZ2UpIHx8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBiYWdnYWdlIGZyb20gdGhlIGFjdGl2ZS9jdXJyZW50IGNvbnRleHRcbiAqXG4gKiBAcmV0dXJucyB7QmFnZ2FnZX0gRXh0cmFjdGVkIGJhZ2dhZ2UgZnJvbSB0aGUgY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlQmFnZ2FnZSgpOiBCYWdnYWdlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGdldEJhZ2dhZ2UoQ29udGV4dEFQSS5nZXRJbnN0YW5jZSgpLmFjdGl2ZSgpKTtcbn1cblxuLyoqXG4gKiBTdG9yZSBhIGJhZ2dhZ2UgaW4gdGhlIGdpdmVuIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0ge0NvbnRleHR9IENvbnRleHQgdGhhdCBtYW5hZ2UgYWxsIGNvbnRleHQgdmFsdWVzXG4gKiBAcGFyYW0ge0JhZ2dhZ2V9IGJhZ2dhZ2UgdGhhdCB3aWxsIGJlIHNldCBpbiB0aGUgYWN0dWFsIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEJhZ2dhZ2UoY29udGV4dDogQ29udGV4dCwgYmFnZ2FnZTogQmFnZ2FnZSk6IENvbnRleHQge1xuICByZXR1cm4gY29udGV4dC5zZXRWYWx1ZShCQUdHQUdFX0tFWSwgYmFnZ2FnZSk7XG59XG5cbi8qKlxuICogRGVsZXRlIHRoZSBiYWdnYWdlIHN0b3JlZCBpbiB0aGUgZ2l2ZW4gY29udGV4dFxuICpcbiAqIEBwYXJhbSB7Q29udGV4dH0gQ29udGV4dCB0aGF0IG1hbmFnZSBhbGwgY29udGV4dCB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUJhZ2dhZ2UoY29udGV4dDogQ29udGV4dCk6IENvbnRleHQge1xuICByZXR1cm4gY29udGV4dC5kZWxldGVWYWx1ZShCQUdHQUdFX0tFWSk7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvdHlwZXMnO1xuaW1wb3J0IHtcbiAgZ2V0R2xvYmFsLFxuICByZWdpc3Rlckdsb2JhbCxcbiAgdW5yZWdpc3Rlckdsb2JhbCxcbn0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcbmltcG9ydCB7IE5vb3BUZXh0TWFwUHJvcGFnYXRvciB9IGZyb20gJy4uL3Byb3BhZ2F0aW9uL05vb3BUZXh0TWFwUHJvcGFnYXRvcic7XG5pbXBvcnQge1xuICBkZWZhdWx0VGV4dE1hcEdldHRlcixcbiAgZGVmYXVsdFRleHRNYXBTZXR0ZXIsXG4gIFRleHRNYXBHZXR0ZXIsXG4gIFRleHRNYXBQcm9wYWdhdG9yLFxuICBUZXh0TWFwU2V0dGVyLFxufSBmcm9tICcuLi9wcm9wYWdhdGlvbi9UZXh0TWFwUHJvcGFnYXRvcic7XG5pbXBvcnQge1xuICBnZXRCYWdnYWdlLFxuICBnZXRBY3RpdmVCYWdnYWdlLFxuICBzZXRCYWdnYWdlLFxuICBkZWxldGVCYWdnYWdlLFxufSBmcm9tICcuLi9iYWdnYWdlL2NvbnRleHQtaGVscGVycyc7XG5pbXBvcnQgeyBjcmVhdGVCYWdnYWdlIH0gZnJvbSAnLi4vYmFnZ2FnZS91dGlscyc7XG5pbXBvcnQgeyBEaWFnQVBJIH0gZnJvbSAnLi9kaWFnJztcblxuY29uc3QgQVBJX05BTUUgPSAncHJvcGFnYXRpb24nO1xuY29uc3QgTk9PUF9URVhUX01BUF9QUk9QQUdBVE9SID0gbmV3IE5vb3BUZXh0TWFwUHJvcGFnYXRvcigpO1xuXG4vKipcbiAqIFNpbmdsZXRvbiBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyB0aGUgZW50cnkgcG9pbnQgdG8gdGhlIE9wZW5UZWxlbWV0cnkgUHJvcGFnYXRpb24gQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wYWdhdGlvbkFQSSB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZT86IFByb3BhZ2F0aW9uQVBJO1xuXG4gIC8qKiBFbXB0eSBwcml2YXRlIGNvbnN0cnVjdG9yIHByZXZlbnRzIGVuZCB1c2VycyBmcm9tIGNvbnN0cnVjdGluZyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQVBJICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKiBHZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgUHJvcGFnYXRvciBBUEkgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBQcm9wYWdhdGlvbkFQSSB7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgUHJvcGFnYXRpb25BUEkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHByb3BhZ2F0b3IuXG4gICAqXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHByb3BhZ2F0b3Igd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBwdWJsaWMgc2V0R2xvYmFsUHJvcGFnYXRvcihwcm9wYWdhdG9yOiBUZXh0TWFwUHJvcGFnYXRvcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiByZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgcHJvcGFnYXRvciwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmplY3QgY29udGV4dCBpbnRvIGEgY2FycmllciB0byBiZSBwcm9wYWdhdGVkIGludGVyLXByb2Nlc3NcbiAgICpcbiAgICogQHBhcmFtIGNvbnRleHQgQ29udGV4dCBjYXJyeWluZyB0cmFjaW5nIGRhdGEgdG8gaW5qZWN0XG4gICAqIEBwYXJhbSBjYXJyaWVyIGNhcnJpZXIgdG8gaW5qZWN0IGNvbnRleHQgaW50b1xuICAgKiBAcGFyYW0gc2V0dGVyIEZ1bmN0aW9uIHVzZWQgdG8gc2V0IHZhbHVlcyBvbiB0aGUgY2FycmllclxuICAgKi9cbiAgcHVibGljIGluamVjdDxDYXJyaWVyPihcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGNhcnJpZXI6IENhcnJpZXIsXG4gICAgc2V0dGVyOiBUZXh0TWFwU2V0dGVyPENhcnJpZXI+ID0gZGVmYXVsdFRleHRNYXBTZXR0ZXJcbiAgKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEdsb2JhbFByb3BhZ2F0b3IoKS5pbmplY3QoY29udGV4dCwgY2Fycmllciwgc2V0dGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGNvbnRleHQgZnJvbSBhIGNhcnJpZXJcbiAgICpcbiAgICogQHBhcmFtIGNvbnRleHQgQ29udGV4dCB3aGljaCB0aGUgbmV3bHkgY3JlYXRlZCBjb250ZXh0IHdpbGwgaW5oZXJpdCBmcm9tXG4gICAqIEBwYXJhbSBjYXJyaWVyIENhcnJpZXIgdG8gZXh0cmFjdCBjb250ZXh0IGZyb21cbiAgICogQHBhcmFtIGdldHRlciBGdW5jdGlvbiB1c2VkIHRvIGV4dHJhY3Qga2V5cyBmcm9tIGEgY2FycmllclxuICAgKi9cbiAgcHVibGljIGV4dHJhY3Q8Q2Fycmllcj4oXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBjYXJyaWVyOiBDYXJyaWVyLFxuICAgIGdldHRlcjogVGV4dE1hcEdldHRlcjxDYXJyaWVyPiA9IGRlZmF1bHRUZXh0TWFwR2V0dGVyXG4gICk6IENvbnRleHQge1xuICAgIHJldHVybiB0aGlzLl9nZXRHbG9iYWxQcm9wYWdhdG9yKCkuZXh0cmFjdChjb250ZXh0LCBjYXJyaWVyLCBnZXR0ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGxpc3Qgb2YgYWxsIGZpZWxkcyB3aGljaCBtYXkgYmUgdXNlZCBieSB0aGUgcHJvcGFnYXRvci5cbiAgICovXG4gIHB1YmxpYyBmaWVsZHMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLl9nZXRHbG9iYWxQcm9wYWdhdG9yKCkuZmllbGRzKCk7XG4gIH1cblxuICAvKiogUmVtb3ZlIHRoZSBnbG9iYWwgcHJvcGFnYXRvciAqL1xuICBwdWJsaWMgZGlzYWJsZSgpIHtcbiAgICB1bnJlZ2lzdGVyR2xvYmFsKEFQSV9OQU1FLCBEaWFnQVBJLmluc3RhbmNlKCkpO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUJhZ2dhZ2UgPSBjcmVhdGVCYWdnYWdlO1xuXG4gIHB1YmxpYyBnZXRCYWdnYWdlID0gZ2V0QmFnZ2FnZTtcblxuICBwdWJsaWMgZ2V0QWN0aXZlQmFnZ2FnZSA9IGdldEFjdGl2ZUJhZ2dhZ2U7XG5cbiAgcHVibGljIHNldEJhZ2dhZ2UgPSBzZXRCYWdnYWdlO1xuXG4gIHB1YmxpYyBkZWxldGVCYWdnYWdlID0gZGVsZXRlQmFnZ2FnZTtcblxuICBwcml2YXRlIF9nZXRHbG9iYWxQcm9wYWdhdG9yKCk6IFRleHRNYXBQcm9wYWdhdG9yIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsKEFQSV9OQU1FKSB8fCBOT09QX1RFWFRfTUFQX1BST1BBR0FUT1I7XG4gIH1cbn1cbiIsICIvKlxuICogQ29weXJpZ2h0IFRoZSBPcGVuVGVsZW1ldHJ5IEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBTcGxpdCBtb2R1bGUtbGV2ZWwgdmFyaWFibGUgZGVmaW5pdGlvbiBpbnRvIHNlcGFyYXRlIGZpbGVzIHRvIGFsbG93XG4vLyB0cmVlLXNoYWtpbmcgb24gZWFjaCBhcGkgaW5zdGFuY2UuXG5pbXBvcnQgeyBQcm9wYWdhdGlvbkFQSSB9IGZyb20gJy4vYXBpL3Byb3BhZ2F0aW9uJztcbi8qKiBFbnRyeXBvaW50IGZvciBwcm9wYWdhdGlvbiBBUEkgKi9cbmV4cG9ydCBjb25zdCBwcm9wYWdhdGlvbiA9IFByb3BhZ2F0aW9uQVBJLmdldEluc3RhbmNlKCk7XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0R2xvYmFsLFxuICByZWdpc3Rlckdsb2JhbCxcbiAgdW5yZWdpc3Rlckdsb2JhbCxcbn0gZnJvbSAnLi4vaW50ZXJuYWwvZ2xvYmFsLXV0aWxzJztcbmltcG9ydCB7IFByb3h5VHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuLi90cmFjZS9Qcm94eVRyYWNlclByb3ZpZGVyJztcbmltcG9ydCB7XG4gIGlzU3BhbkNvbnRleHRWYWxpZCxcbiAgd3JhcFNwYW5Db250ZXh0LFxufSBmcm9tICcuLi90cmFjZS9zcGFuY29udGV4dC11dGlscyc7XG5pbXBvcnQgeyBUcmFjZXIgfSBmcm9tICcuLi90cmFjZS90cmFjZXInO1xuaW1wb3J0IHsgVHJhY2VyUHJvdmlkZXIgfSBmcm9tICcuLi90cmFjZS90cmFjZXJfcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgZGVsZXRlU3BhbixcbiAgZ2V0QWN0aXZlU3BhbixcbiAgZ2V0U3BhbixcbiAgZ2V0U3BhbkNvbnRleHQsXG4gIHNldFNwYW4sXG4gIHNldFNwYW5Db250ZXh0LFxufSBmcm9tICcuLi90cmFjZS9jb250ZXh0LXV0aWxzJztcbmltcG9ydCB7IERpYWdBUEkgfSBmcm9tICcuL2RpYWcnO1xuXG5jb25zdCBBUElfTkFNRSA9ICd0cmFjZSc7XG5cbi8qKlxuICogU2luZ2xldG9uIG9iamVjdCB3aGljaCByZXByZXNlbnRzIHRoZSBlbnRyeSBwb2ludCB0byB0aGUgT3BlblRlbGVtZXRyeSBUcmFjaW5nIEFQSVxuICovXG5leHBvcnQgY2xhc3MgVHJhY2VBUEkge1xuICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U/OiBUcmFjZUFQSTtcblxuICBwcml2YXRlIF9wcm94eVRyYWNlclByb3ZpZGVyID0gbmV3IFByb3h5VHJhY2VyUHJvdmlkZXIoKTtcblxuICAvKiogRW1wdHkgcHJpdmF0ZSBjb25zdHJ1Y3RvciBwcmV2ZW50cyBlbmQgdXNlcnMgZnJvbSBjb25zdHJ1Y3RpbmcgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIEFQSSAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICAvKiogR2V0IHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIFRyYWNlIEFQSSAqL1xuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IFRyYWNlQVBJIHtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBUcmFjZUFQSSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgZ2xvYmFsIHRyYWNlci5cbiAgICpcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdHJhY2VyIHByb3ZpZGVyIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgcHVibGljIHNldEdsb2JhbFRyYWNlclByb3ZpZGVyKHByb3ZpZGVyOiBUcmFjZXJQcm92aWRlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSByZWdpc3Rlckdsb2JhbChcbiAgICAgIEFQSV9OQU1FLFxuICAgICAgdGhpcy5fcHJveHlUcmFjZXJQcm92aWRlcixcbiAgICAgIERpYWdBUEkuaW5zdGFuY2UoKVxuICAgICk7XG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMuX3Byb3h5VHJhY2VyUHJvdmlkZXIuc2V0RGVsZWdhdGUocHJvdmlkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc3VjY2VzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBnbG9iYWwgdHJhY2VyIHByb3ZpZGVyLlxuICAgKi9cbiAgcHVibGljIGdldFRyYWNlclByb3ZpZGVyKCk6IFRyYWNlclByb3ZpZGVyIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsKEFQSV9OQU1FKSB8fCB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSB0cmFjZXIgZnJvbSB0aGUgZ2xvYmFsIHRyYWNlciBwcm92aWRlci5cbiAgICovXG4gIHB1YmxpYyBnZXRUcmFjZXIobmFtZTogc3RyaW5nLCB2ZXJzaW9uPzogc3RyaW5nKTogVHJhY2VyIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUcmFjZXJQcm92aWRlcigpLmdldFRyYWNlcihuYW1lLCB2ZXJzaW9uKTtcbiAgfVxuXG4gIC8qKiBSZW1vdmUgdGhlIGdsb2JhbCB0cmFjZXIgcHJvdmlkZXIgKi9cbiAgcHVibGljIGRpc2FibGUoKSB7XG4gICAgdW5yZWdpc3Rlckdsb2JhbChBUElfTkFNRSwgRGlhZ0FQSS5pbnN0YW5jZSgpKTtcbiAgICB0aGlzLl9wcm94eVRyYWNlclByb3ZpZGVyID0gbmV3IFByb3h5VHJhY2VyUHJvdmlkZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB3cmFwU3BhbkNvbnRleHQgPSB3cmFwU3BhbkNvbnRleHQ7XG5cbiAgcHVibGljIGlzU3BhbkNvbnRleHRWYWxpZCA9IGlzU3BhbkNvbnRleHRWYWxpZDtcblxuICBwdWJsaWMgZGVsZXRlU3BhbiA9IGRlbGV0ZVNwYW47XG5cbiAgcHVibGljIGdldFNwYW4gPSBnZXRTcGFuO1xuXG4gIHB1YmxpYyBnZXRBY3RpdmVTcGFuID0gZ2V0QWN0aXZlU3BhbjtcblxuICBwdWJsaWMgZ2V0U3BhbkNvbnRleHQgPSBnZXRTcGFuQ29udGV4dDtcblxuICBwdWJsaWMgc2V0U3BhbiA9IHNldFNwYW47XG5cbiAgcHVibGljIHNldFNwYW5Db250ZXh0ID0gc2V0U3BhbkNvbnRleHQ7XG59XG4iLCAiLypcbiAqIENvcHlyaWdodCBUaGUgT3BlblRlbGVtZXRyeSBBdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gU3BsaXQgbW9kdWxlLWxldmVsIHZhcmlhYmxlIGRlZmluaXRpb24gaW50byBzZXBhcmF0ZSBmaWxlcyB0byBhbGxvd1xuLy8gdHJlZS1zaGFraW5nIG9uIGVhY2ggYXBpIGluc3RhbmNlLlxuaW1wb3J0IHsgVHJhY2VBUEkgfSBmcm9tICcuL2FwaS90cmFjZSc7XG4vKiogRW50cnlwb2ludCBmb3IgdHJhY2UgQVBJICovXG5leHBvcnQgY29uc3QgdHJhY2UgPSBUcmFjZUFQSS5nZXRJbnN0YW5jZSgpO1xuIiwgIi8qXG4gKiBDb3B5cmlnaHQgVGhlIE9wZW5UZWxlbWV0cnkgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCB7IEJhZ2dhZ2VFbnRyeSwgQmFnZ2FnZUVudHJ5TWV0YWRhdGEsIEJhZ2dhZ2UgfSBmcm9tICcuL2JhZ2dhZ2UvdHlwZXMnO1xuZXhwb3J0IHsgYmFnZ2FnZUVudHJ5TWV0YWRhdGFGcm9tU3RyaW5nIH0gZnJvbSAnLi9iYWdnYWdlL3V0aWxzJztcbmV4cG9ydCB7IEV4Y2VwdGlvbiB9IGZyb20gJy4vY29tbW9uL0V4Y2VwdGlvbic7XG5leHBvcnQgeyBIclRpbWUsIFRpbWVJbnB1dCB9IGZyb20gJy4vY29tbW9uL1RpbWUnO1xuZXhwb3J0IHsgQXR0cmlidXRlcywgQXR0cmlidXRlVmFsdWUgfSBmcm9tICcuL2NvbW1vbi9BdHRyaWJ1dGVzJztcblxuLy8gQ29udGV4dCBBUElzXG5leHBvcnQgeyBjcmVhdGVDb250ZXh0S2V5LCBST09UX0NPTlRFWFQgfSBmcm9tICcuL2NvbnRleHQvY29udGV4dCc7XG5leHBvcnQgeyBDb250ZXh0LCBDb250ZXh0TWFuYWdlciB9IGZyb20gJy4vY29udGV4dC90eXBlcyc7XG5leHBvcnQgdHlwZSB7IENvbnRleHRBUEkgfSBmcm9tICcuL2FwaS9jb250ZXh0JztcblxuLy8gRGlhZyBBUElzXG5leHBvcnQgeyBEaWFnQ29uc29sZUxvZ2dlciB9IGZyb20gJy4vZGlhZy9jb25zb2xlTG9nZ2VyJztcbmV4cG9ydCB7XG4gIERpYWdMb2dGdW5jdGlvbixcbiAgRGlhZ0xvZ2dlcixcbiAgRGlhZ0xvZ0xldmVsLFxuICBDb21wb25lbnRMb2dnZXJPcHRpb25zLFxuICBEaWFnTG9nZ2VyT3B0aW9ucyxcbn0gZnJvbSAnLi9kaWFnL3R5cGVzJztcbmV4cG9ydCB0eXBlIHsgRGlhZ0FQSSB9IGZyb20gJy4vYXBpL2RpYWcnO1xuXG4vLyBNZXRyaWNzIEFQSXNcbmV4cG9ydCB7IGNyZWF0ZU5vb3BNZXRlciB9IGZyb20gJy4vbWV0cmljcy9Ob29wTWV0ZXInO1xuZXhwb3J0IHsgTWV0ZXJPcHRpb25zLCBNZXRlciB9IGZyb20gJy4vbWV0cmljcy9NZXRlcic7XG5leHBvcnQgeyBNZXRlclByb3ZpZGVyIH0gZnJvbSAnLi9tZXRyaWNzL01ldGVyUHJvdmlkZXInO1xuZXhwb3J0IHtcbiAgVmFsdWVUeXBlLFxuICBDb3VudGVyLFxuICBHYXVnZSxcbiAgSGlzdG9ncmFtLFxuICBNZXRyaWNPcHRpb25zLFxuICBPYnNlcnZhYmxlLFxuICBPYnNlcnZhYmxlQ291bnRlcixcbiAgT2JzZXJ2YWJsZUdhdWdlLFxuICBPYnNlcnZhYmxlVXBEb3duQ291bnRlcixcbiAgVXBEb3duQ291bnRlcixcbiAgQmF0Y2hPYnNlcnZhYmxlQ2FsbGJhY2ssXG4gIE1ldHJpY0FkdmljZSxcbiAgTWV0cmljQXR0cmlidXRlcyxcbiAgTWV0cmljQXR0cmlidXRlVmFsdWUsXG4gIE9ic2VydmFibGVDYWxsYmFjayxcbn0gZnJvbSAnLi9tZXRyaWNzL01ldHJpYyc7XG5leHBvcnQge1xuICBCYXRjaE9ic2VydmFibGVSZXN1bHQsXG4gIE9ic2VydmFibGVSZXN1bHQsXG59IGZyb20gJy4vbWV0cmljcy9PYnNlcnZhYmxlUmVzdWx0JztcbmV4cG9ydCB0eXBlIHsgTWV0cmljc0FQSSB9IGZyb20gJy4vYXBpL21ldHJpY3MnO1xuXG4vLyBQcm9wYWdhdGlvbiBBUElzXG5leHBvcnQge1xuICBUZXh0TWFwUHJvcGFnYXRvcixcbiAgVGV4dE1hcFNldHRlcixcbiAgVGV4dE1hcEdldHRlcixcbiAgZGVmYXVsdFRleHRNYXBHZXR0ZXIsXG4gIGRlZmF1bHRUZXh0TWFwU2V0dGVyLFxufSBmcm9tICcuL3Byb3BhZ2F0aW9uL1RleHRNYXBQcm9wYWdhdG9yJztcbmV4cG9ydCB0eXBlIHsgUHJvcGFnYXRpb25BUEkgfSBmcm9tICcuL2FwaS9wcm9wYWdhdGlvbic7XG5cbi8vIFRyYWNlIEFQSXNcbmV4cG9ydCB7IFNwYW5BdHRyaWJ1dGVzLCBTcGFuQXR0cmlidXRlVmFsdWUgfSBmcm9tICcuL3RyYWNlL2F0dHJpYnV0ZXMnO1xuZXhwb3J0IHsgTGluayB9IGZyb20gJy4vdHJhY2UvbGluayc7XG5leHBvcnQgeyBQcm94eVRyYWNlciwgVHJhY2VyRGVsZWdhdG9yIH0gZnJvbSAnLi90cmFjZS9Qcm94eVRyYWNlcic7XG5leHBvcnQgeyBQcm94eVRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi90cmFjZS9Qcm94eVRyYWNlclByb3ZpZGVyJztcbmV4cG9ydCB7IFNhbXBsZXIgfSBmcm9tICcuL3RyYWNlL1NhbXBsZXInO1xuZXhwb3J0IHsgU2FtcGxpbmdEZWNpc2lvbiwgU2FtcGxpbmdSZXN1bHQgfSBmcm9tICcuL3RyYWNlL1NhbXBsaW5nUmVzdWx0JztcbmV4cG9ydCB7IFNwYW5Db250ZXh0IH0gZnJvbSAnLi90cmFjZS9zcGFuX2NvbnRleHQnO1xuZXhwb3J0IHsgU3BhbktpbmQgfSBmcm9tICcuL3RyYWNlL3NwYW5fa2luZCc7XG5leHBvcnQgeyBTcGFuIH0gZnJvbSAnLi90cmFjZS9zcGFuJztcbmV4cG9ydCB7IFNwYW5PcHRpb25zIH0gZnJvbSAnLi90cmFjZS9TcGFuT3B0aW9ucyc7XG5leHBvcnQgeyBTcGFuU3RhdHVzLCBTcGFuU3RhdHVzQ29kZSB9IGZyb20gJy4vdHJhY2Uvc3RhdHVzJztcbmV4cG9ydCB7IFRyYWNlRmxhZ3MgfSBmcm9tICcuL3RyYWNlL3RyYWNlX2ZsYWdzJztcbmV4cG9ydCB7IFRyYWNlU3RhdGUgfSBmcm9tICcuL3RyYWNlL3RyYWNlX3N0YXRlJztcbmV4cG9ydCB7IGNyZWF0ZVRyYWNlU3RhdGUgfSBmcm9tICcuL3RyYWNlL2ludGVybmFsL3V0aWxzJztcbmV4cG9ydCB7IFRyYWNlclByb3ZpZGVyIH0gZnJvbSAnLi90cmFjZS90cmFjZXJfcHJvdmlkZXInO1xuZXhwb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi90cmFjZS90cmFjZXInO1xuZXhwb3J0IHsgVHJhY2VyT3B0aW9ucyB9IGZyb20gJy4vdHJhY2UvdHJhY2VyX29wdGlvbnMnO1xuZXhwb3J0IHtcbiAgaXNTcGFuQ29udGV4dFZhbGlkLFxuICBpc1ZhbGlkVHJhY2VJZCxcbiAgaXNWYWxpZFNwYW5JZCxcbn0gZnJvbSAnLi90cmFjZS9zcGFuY29udGV4dC11dGlscyc7XG5leHBvcnQge1xuICBJTlZBTElEX1NQQU5JRCxcbiAgSU5WQUxJRF9UUkFDRUlELFxuICBJTlZBTElEX1NQQU5fQ09OVEVYVCxcbn0gZnJvbSAnLi90cmFjZS9pbnZhbGlkLXNwYW4tY29uc3RhbnRzJztcbmV4cG9ydCB0eXBlIHsgVHJhY2VBUEkgfSBmcm9tICcuL2FwaS90cmFjZSc7XG5cbi8vIFNwbGl0IG1vZHVsZS1sZXZlbCB2YXJpYWJsZSBkZWZpbml0aW9uIGludG8gc2VwYXJhdGUgZmlsZXMgdG8gYWxsb3dcbi8vIHRyZWUtc2hha2luZyBvbiBlYWNoIGFwaSBpbnN0YW5jZS5cbmltcG9ydCB7IGNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQtYXBpJztcbmltcG9ydCB7IGRpYWcgfSBmcm9tICcuL2RpYWctYXBpJztcbmltcG9ydCB7IG1ldHJpY3MgfSBmcm9tICcuL21ldHJpY3MtYXBpJztcbmltcG9ydCB7IHByb3BhZ2F0aW9uIH0gZnJvbSAnLi9wcm9wYWdhdGlvbi1hcGknO1xuaW1wb3J0IHsgdHJhY2UgfSBmcm9tICcuL3RyYWNlLWFwaSc7XG5cbi8vIE5hbWVkIGV4cG9ydC5cbmV4cG9ydCB7IGNvbnRleHQsIGRpYWcsIG1ldHJpY3MsIHByb3BhZ2F0aW9uLCB0cmFjZSB9O1xuLy8gRGVmYXVsdCBleHBvcnQuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbnRleHQsXG4gIGRpYWcsXG4gIG1ldHJpY3MsXG4gIHByb3BhZ2F0aW9uLFxuICB0cmFjZSxcbn07XG4iLCAiLyoqX19pbnRlcm5hbF93b3JrZmxvd3N7XCJ3b3JrZmxvd3NcIjp7XCJleGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50c1wiOntcImNvbnRyb2xfZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50cy8vY29udHJvbF9mbG93XCJ9fX0sXCJzdGVwc1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzJfY29udHJvbF9mbG93LnRzXCI6e1wiYWRkXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50cy8vYWRkXCJ9LFwiZGVsYXllZE1lc3NhZ2VcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzJfY29udHJvbF9mbG93LnRzLy9kZWxheWVkTWVzc2FnZVwifSxcImZhaWxpbmdTdGVwXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50cy8vZmFpbGluZ1N0ZXBcIn0sXCJyZXRyeWFibGVTdGVwXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50cy8vcmV0cnlhYmxlU3RlcFwifX19fSovO1xudmFyIGRlbGF5ZWRNZXNzYWdlID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvMl9jb250cm9sX2Zsb3cudHMvL2RlbGF5ZWRNZXNzYWdlXCIpO1xudmFyIGFkZCA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzJfY29udHJvbF9mbG93LnRzLy9hZGRcIik7XG52YXIgZmFpbGluZ1N0ZXAgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50cy8vZmFpbGluZ1N0ZXBcIik7XG52YXIgcmV0cnlhYmxlU3RlcCA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzJfY29udHJvbF9mbG93LnRzLy9yZXRyeWFibGVTdGVwXCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnRyb2xfZmxvdygpIHtcbiAgICBjb25zb2xlLmxvZygnQ29udHJvbCBmbG93IHdvcmtmbG93IHN0YXJ0ZWQnKTtcbiAgICAvLyBEZW1vIFByb21pc2UucmFjZVxuICAgIGNvbnN0IHJhY2VSZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICBkZWxheWVkTWVzc2FnZSgyMDAwLCAnSSB3b24gdGhlIHJhY2UhJyksXG4gICAgICAgIGRlbGF5ZWRNZXNzYWdlKDEwMDAwLCAnSSBsb3N0IHRoZSByYWNlJylcbiAgICBdKTtcbiAgICBjb25zb2xlLmxvZygnUmFjZSByZXN1bHQ6JywgcmFjZVJlc3VsdCk7XG4gICAgLy8gRGVtbyBQcm9taXNlLmFsbFxuICAgIGNvbnN0IGFsbFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGRlbGF5ZWRNZXNzYWdlKDEwMDAsICdGaXJzdCB0YXNrJyksXG4gICAgICAgIGRlbGF5ZWRNZXNzYWdlKDIwMDAsICdTZWNvbmQgdGFzaycpLFxuICAgICAgICBhZGQoMTAsIDIwKVxuICAgIF0pO1xuICAgIGNvbnNvbGUubG9nKCdBbGwgcmVzdWx0czonLCBhbGxSZXN1bHRzKTtcbiAgICAvLyBLaWNrIG9mZiBhIHN0ZXAgbm93LCBhbmQgcmVzb2x2ZSBpdCBsYXRlclxuICAgIGNvbnN0IGJhY2tncm91bmRQcm9taXNlID0gZGVsYXllZE1lc3NhZ2UoNTAwMCwgJ0JhY2tncm91bmQgdGFzayBjb21wbGV0ZWQnKTtcbiAgICBjb25zdCBmb3JlZ3JvdW5kUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZGVsYXllZE1lc3NhZ2UoMTAwMCwgJ0ZpcnN0IHRhc2snKSxcbiAgICAgICAgZGVsYXllZE1lc3NhZ2UoMjAwMCwgJ1NlY29uZCB0YXNrJylcbiAgICBdKTtcbiAgICBjb25zb2xlLmxvZygnRm9yZWdyb3VuZCByZXNwb25zZTonLCBmb3JlZ3JvdW5kUmVzdWx0cyk7XG4gICAgY29uc3QgYmFja2dyb3VuZFJlc3VsdCA9IGF3YWl0IGJhY2tncm91bmRQcm9taXNlO1xuICAgIGNvbnNvbGUubG9nKCdCYWNrZ3JvdW5kIHJlc3BvbnNlOicsIGJhY2tncm91bmRSZXN1bHQpO1xuICAgIC8vIERlbW8gZXJyb3IgaGFuZGxpbmcgLSBjYXRjaCByZWd1bGFyIGVycm9ycyBidXQgbGV0IEZhdGFsRXJyb3JzIGJ1YmJsZSB1cFxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZhaWxpbmdTdGVwKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gT25seSBGYXRhbEVycm9ycyB3aWxsIGJ1YmJsZSB1cCBoZXJlLiBOb24tZmF0YWwgZXJyb3JzIGFyZSByZXRyaWVkXG4gICAgICAgIGNvbnNvbGUubG9nKCdDYXVnaHQgZXJyb3I6JywgU3RyaW5nKGVycm9yKSk7XG4gICAgfVxuICAgIC8vIERlbW8gcmV0cnlhYmxlIGVycm9yIC0gdGhpcyB3aWxsIGZhaWwgdGhlIGZpcnN0IHRpbWUsXG4gICAgLy8gYW5kIHdpbGwgYmUgcmV0cmllZCBhZnRlciBvbmUgbWludXRlLlxuICAgIGF3YWl0IHJldHJ5YWJsZVN0ZXAoKTtcbiAgICBjb25zb2xlLmxvZygnQ29udHJvbCBmbG93IHdvcmtmbG93IGNvbXBsZXRlZC4gU2VlIGxvZ3MgZm9yIHJlc3VsdHMuJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmFjZVJlc3VsdCxcbiAgICAgICAgYWxsUmVzdWx0cyxcbiAgICAgICAgZm9yZWdyb3VuZFJlc3VsdHMsXG4gICAgICAgIGJhY2tncm91bmRSZXN1bHRcbiAgICB9O1xufVxuY29udHJvbF9mbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy8yX2NvbnRyb2xfZmxvdy50cy8vY29udHJvbF9mbG93XCI7XG4iLCAiLyoqX19pbnRlcm5hbF93b3JrZmxvd3N7XCJ3b3JrZmxvd3NcIjp7XCJleGFtcGxlL3dvcmtmbG93cy8xX3NpbXBsZS50c1wiOntcInNpbXBsZVwiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy8xX3NpbXBsZS50cy8vc2ltcGxlXCJ9fX0sXCJzdGVwc1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzFfc2ltcGxlLnRzXCI6e1wiYWRkXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8xX3NpbXBsZS50cy8vYWRkXCJ9fX19Ki87XG52YXIgYWRkID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvMV9zaW1wbGUudHMvL2FkZFwiKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaW1wbGUoaSkge1xuICAgIGNvbnNvbGUubG9nKCdTaW1wbGUgd29ya2Zsb3cgc3RhcnRlZCcpO1xuICAgIGNvbnN0IGEgPSBhd2FpdCBhZGQoaSwgNyk7XG4gICAgY29uc29sZS5sb2coJ1dvcmtmbG93IHN0ZXAgMSBjb21wbGV0ZWQgLSBSZXN1bHQ6JywgYSk7XG4gICAgY29uc3QgYiA9IGF3YWl0IGFkZChhLCA4KTtcbiAgICBjb25zb2xlLmxvZygnU2ltcGxlIHdvcmtmbG93IGNvbXBsZXRlZC4gUmVzdWx0OicsIGIpO1xuICAgIHJldHVybiBiO1xufVxuc2ltcGxlLndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy8xX3NpbXBsZS50cy8vc2ltcGxlXCI7XG4iLCAiaW1wb3J0IGNodW5rIGZyb20gXCJsb2Rhc2guY2h1bmtcIjtcbi8qKl9faW50ZXJuYWxfd29ya2Zsb3dze1wid29ya2Zsb3dzXCI6e1wiZXhhbXBsZS93b3JrZmxvd3MvNl9iYXRjaGluZy50c1wiOntcImJhdGNoSW5TdGVwXCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMvL2JhdGNoSW5TdGVwXCJ9LFwiYmF0Y2hPdmVyU3RlcHNcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvNl9iYXRjaGluZy50cy8vYmF0Y2hPdmVyU3RlcHNcIn19fSxcInN0ZXBzXCI6e1wiZXhhbXBsZS93b3JrZmxvd3MvNl9iYXRjaGluZy50c1wiOntcImxvZ0l0ZW1cIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMvL2xvZ0l0ZW1cIn0sXCJwcm9jZXNzSXRlbXNcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMvL3Byb2Nlc3NJdGVtc1wifX19fSovO1xuY29uc3QgQVJSQVlfTEVOR1RIID0gMjUwO1xuY29uc3QgQ0hVTktfU0laRSA9IDUwO1xuLyoqXG4gKiBQYXR0ZXJuIDE6IEVhY2ggaXRlbSBpbiBhIGJhdGNoIGdldHMgcHJvY2Vzc2VkIGluIGEgc3RlcCBmdW5jdGlvblxuICpcbiAqIElmIGEgc3RlcCBmYWlscywgZG9lc24ndCBmYWlsIHRoZSBlbnRpcmUgYmF0Y2guXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhdGNoT3ZlclN0ZXBzKCkge1xuICAgIGNvbnNvbGUubG9nKCdXb3JrZmxvdyBzdGFydGVkJyk7XG4gICAgY29uc3QgYXJyID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogQVJSQVlfTEVOR1RIXG4gICAgfSwgKF8sIGkpPT5pICsgMSk7XG4gICAgY29uc3QgY2h1bmtTaXplID0gQ0hVTktfU0laRTtcbiAgICBjb25zb2xlLmxvZyhgQ2h1bmtpbmcgYXJyYXkgd2l0aCBzaXplOiAke2Fyci5sZW5ndGh9IGFuZCBjaHVuayBzaXplOiAke2NodW5rU2l6ZX1gKTtcbiAgICBjb25zdCBjaHVua3MgPSBjaHVuayhhcnIsIGNodW5rU2l6ZSk7IC8vIENyZWF0ZSB0aGUgYmF0Y2hlc1xuICAgIGNvbnNvbGUubG9nKGBDcmVhdGVkICR7Y2h1bmtzLmxlbmd0aH0gY2h1bmtzICgke2NodW5rc1swXS5sZW5ndGh9IGl0ZW1zIGVhY2gpYCk7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGJhdGNoIHByb2Nlc3NpbmcnKTtcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgYmF0Y2hdIG9mIGNodW5rcy5lbnRyaWVzKCkpe1xuICAgICAgICBjb25zb2xlLmxvZyhgQmF0Y2ggJHtpbmRleCArIDF9LyR7Y2h1bmtzLmxlbmd0aH1gKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYmF0Y2gubWFwKGxvZ0l0ZW0pKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ0JhdGNoIHByb2Nlc3NpbmcgY29tcGxldGVkJyk7XG4gICAgY29uc29sZS5sb2coJ1dvcmtmbG93IGNvbXBsZXRlZCcpO1xufVxudmFyIGxvZ0l0ZW0gPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy82X2JhdGNoaW5nLnRzLy9sb2dJdGVtXCIpO1xuLyoqXG4gKiBQYXR0ZXJuIDI6IEVhY2ggYmF0Y2ggZ2V0cyBwcm9jZXNzZWQgaW4gYSBzdGVwIGZ1bmN0aW9uXG4gKlxuICogTk9URTogSWYgYSBiYXRjaCBmYWlscywgdGhlIGVudGlyZSBiYXRjaCB3aWxsIGJlIHJldHJpZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICovIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXRjaEluU3RlcCgpIHtcbiAgICBjb25zb2xlLmxvZygnV29ya2Zsb3cgc3RhcnRlZCcpO1xuICAgIGNvbnN0IGFyciA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IEFSUkFZX0xFTkdUSFxuICAgIH0sIChfLCBpKT0+aSArIDEpO1xuICAgIGNvbnN0IGNodW5rU2l6ZSA9IENIVU5LX1NJWkU7XG4gICAgY29uc29sZS5sb2coYENodW5raW5nIGFycmF5IHdpdGggc2l6ZTogJHthcnIubGVuZ3RofSBhbmQgY2h1bmsgc2l6ZTogJHtjaHVua1NpemV9YCk7XG4gICAgY29uc3QgY2h1bmtzID0gY2h1bmsoYXJyLCBjaHVua1NpemUpOyAvLyBDcmVhdGUgdGhlIGJhdGNoZXNcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCAke2NodW5rcy5sZW5ndGh9IGNodW5rcyAoJHtjaHVua3NbMF0ubGVuZ3RofSBpdGVtcyBlYWNoKWApO1xuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBiYXRjaCBwcm9jZXNzaW5nJyk7XG4gICAgZm9yIChjb25zdCBbaW5kZXgsIGJhdGNoXSBvZiBjaHVua3MuZW50cmllcygpKXtcbiAgICAgICAgY29uc29sZS5sb2coYEJhdGNoICR7aW5kZXggKyAxfS8ke2NodW5rcy5sZW5ndGh9YCk7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NJdGVtcyhiYXRjaCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdCYXRjaCBwcm9jZXNzaW5nIGNvbXBsZXRlZCcpO1xuICAgIGNvbnNvbGUubG9nKCdXb3JrZmxvdyBjb21wbGV0ZWQnKTtcbn1cbi8qKlxuICogU3RlcCBmdW5jdGlvbiB0aGF0IHByb2Nlc3NlcyBhIGJhdGNoIG9mIGl0ZW1zIHdpdGggaW50ZXJuYWwgcGFyYWxsZWxpc20uXG4gKiBDYWxsZWQgb25jZSBwZXIgYmF0Y2gsIHdpdGggYWxsIGl0ZW1zIHByb2Nlc3NlZCBpbiBwYXJhbGxlbCBpbnNpZGUgdGhlIHN0ZXAuXG4gKi8gdmFyIHByb2Nlc3NJdGVtcyA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMvL3Byb2Nlc3NJdGVtc1wiKTtcbmJhdGNoT3ZlclN0ZXBzLndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy82X2JhdGNoaW5nLnRzLy9iYXRjaE92ZXJTdGVwc1wiO1xuYmF0Y2hJblN0ZXAud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMvL2JhdGNoSW5TdGVwXCI7XG4iLCAiaW1wb3J0IHsgY3JlYXRlV2ViaG9vaywgc2xlZXAgfSBmcm9tIFwid29ya2Zsb3dcIjtcbi8qKl9faW50ZXJuYWxfd29ya2Zsb3dze1wid29ya2Zsb3dzXCI6e1wiZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzXCI6e1wiaGFuZGxlVXNlclNpZ251cFwiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy83X2Z1bGwudHMvL2hhbmRsZVVzZXJTaWdudXBcIn19fSxcInN0ZXBzXCI6e1wiZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzXCI6e1wiY3JlYXRlVXNlclwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzLy9jcmVhdGVVc2VyXCJ9LFwic2VuZE9uYm9hcmRpbmdFbWFpbFwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzLy9zZW5kT25ib2FyZGluZ0VtYWlsXCJ9LFwic2VuZFdlbGNvbWVFbWFpbFwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzLy9zZW5kV2VsY29tZUVtYWlsXCJ9fX19Ki87XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXNlclNpZ251cChlbWFpbCkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjcmVhdGVVc2VyKGVtYWlsKTtcbiAgICBhd2FpdCBzZW5kV2VsY29tZUVtYWlsKHVzZXIpO1xuICAgIGF3YWl0IHNsZWVwKCc1cycpO1xuICAgIGNvbnN0IHdlYmhvb2sgPSBjcmVhdGVXZWJob29rKCk7XG4gICAgYXdhaXQgc2VuZE9uYm9hcmRpbmdFbWFpbCh1c2VyLCB3ZWJob29rLnVybCk7XG4gICAgYXdhaXQgd2ViaG9vaztcbiAgICBjb25zb2xlLmxvZygnV2ViaG9vayBSZXNvbHZlZCcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgc3RhdHVzOiAnb25ib2FyZGVkJ1xuICAgIH07XG59XG52YXIgY3JlYXRlVXNlciA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzdfZnVsbC50cy8vY3JlYXRlVXNlclwiKTtcbnZhciBzZW5kV2VsY29tZUVtYWlsID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzLy9zZW5kV2VsY29tZUVtYWlsXCIpO1xudmFyIHNlbmRPbmJvYXJkaW5nRW1haWwgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy83X2Z1bGwudHMvL3NlbmRPbmJvYXJkaW5nRW1haWxcIik7XG5oYW5kbGVVc2VyU2lnbnVwLndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy83X2Z1bGwudHMvL2hhbmRsZVVzZXJTaWdudXBcIjtcbiIsICJpbXBvcnQgdHlwZSB7IFN0cmluZ1ZhbHVlIH0gZnJvbSAnbXMnO1xuaW1wb3J0IG1zIGZyb20gJ21zJztcblxuZXhwb3J0IGludGVyZmFjZSBQcm9taXNlV2l0aFJlc29sdmVyczxUPiB7XG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmU6ICh2YWx1ZTogVCkgPT4gdm9pZDtcbiAgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBgUHJvbWlzZS53aXRoUmVzb2x2ZXJzKClgLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS93aXRoUmVzb2x2ZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoUmVzb2x2ZXJzPFQ+KCk6IFByb21pc2VXaXRoUmVzb2x2ZXJzPFQ+IHtcbiAgbGV0IHJlc29sdmUhOiAodmFsdWU6IFQpID0+IHZvaWQ7XG4gIGxldCByZWplY3QhOiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8VD4oKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgIHJlamVjdCA9IF9yZWplY3Q7XG4gIH0pO1xuICByZXR1cm4geyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbGF6aWx5LWV2YWx1YXRlZCwgbWVtb2l6ZWQgdmVyc2lvbiBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb24uXG4gKlxuICogVGhlIHJldHVybmVkIG9iamVjdCBleHBvc2VzIGEgYHZhbHVlYCBnZXR0ZXIgdGhhdCBjYWxscyBgZm5gIG9ubHkgb25jZSxcbiAqIGNhY2hlcyBpdHMgcmVzdWx0LCBhbmQgcmV0dXJucyB0aGUgY2FjaGVkIHZhbHVlIG9uIHN1YnNlcXVlbnQgYWNjZXNzZXMuXG4gKlxuICogQHR5cGVQYXJhbSBUIC0gVGhlIHJldHVybiB0eXBlIG9mIHRoZSBwcm92aWRlZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb25jZSBhbmQgd2hvc2UgcmVzdWx0IHdpbGwgYmUgY2FjaGVkLlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggYSBgdmFsdWVgIHByb3BlcnR5IHRoYXQgcmV0dXJucyB0aGUgbWVtb2l6ZWQgcmVzdWx0IG9mIGBmbmAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbmNlPFQ+KGZuOiAoKSA9PiBUKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGZuKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCAndmFsdWUnLCB7IHZhbHVlIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGFyc2VzIGEgZHVyYXRpb24gcGFyYW1ldGVyIChzdHJpbmcsIG51bWJlciwgb3IgRGF0ZSkgYW5kIHJldHVybnMgYSBEYXRlIG9iamVjdFxuICogcmVwcmVzZW50aW5nIHdoZW4gdGhlIGR1cmF0aW9uIHNob3VsZCBlbGFwc2UuXG4gKlxuICogLSBGb3Igc3RyaW5nczogUGFyc2VzIGR1cmF0aW9uIHN0cmluZ3MgbGlrZSBcIjFzXCIsIFwiNW1cIiwgXCIxaFwiLCBldGMuIHVzaW5nIHRoZSBgbXNgIGxpYnJhcnlcbiAqIC0gRm9yIG51bWJlcnM6IFRyZWF0cyBhcyBtaWxsaXNlY29uZHMgZnJvbSBub3dcbiAqIC0gRm9yIERhdGUgb2JqZWN0czogUmV0dXJucyB0aGUgZGF0ZSBkaXJlY3RseSAoaGFuZGxlcyBib3RoIERhdGUgaW5zdGFuY2VzIGFuZCBkYXRlLWxpa2Ugb2JqZWN0cyBmcm9tIGRlc2VyaWFsaXphdGlvbilcbiAqXG4gKiBAcGFyYW0gcGFyYW0gLSBUaGUgZHVyYXRpb24gcGFyYW1ldGVyIChTdHJpbmdWYWx1ZSwgRGF0ZSwgb3IgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcylcbiAqIEByZXR1cm5zIEEgRGF0ZSBvYmplY3QgcmVwcmVzZW50aW5nIHdoZW4gdGhlIGR1cmF0aW9uIHNob3VsZCBlbGFwc2VcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgcGFyYW1ldGVyIGlzIGludmFsaWQgb3IgY2Fubm90IGJlIHBhcnNlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEdXJhdGlvblRvRGF0ZShwYXJhbTogU3RyaW5nVmFsdWUgfCBEYXRlIHwgbnVtYmVyKTogRGF0ZSB7XG4gIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgZHVyYXRpb25NcyA9IG1zKHBhcmFtKTtcbiAgICBpZiAodHlwZW9mIGR1cmF0aW9uTXMgIT09ICdudW1iZXInIHx8IGR1cmF0aW9uTXMgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBJbnZhbGlkIGR1cmF0aW9uOiBcIiR7cGFyYW19XCIuIEV4cGVjdGVkIGEgdmFsaWQgZHVyYXRpb24gc3RyaW5nIGxpa2UgXCIxc1wiLCBcIjFtXCIsIFwiMWhcIiwgZXRjLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpICsgZHVyYXRpb25Ncyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnbnVtYmVyJykge1xuICAgIGlmIChwYXJhbSA8IDAgfHwgIU51bWJlci5pc0Zpbml0ZShwYXJhbSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludmFsaWQgZHVyYXRpb246ICR7cGFyYW19LiBFeHBlY3RlZCBhIG5vbi1uZWdhdGl2ZSBmaW5pdGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSArIHBhcmFtKTtcbiAgfSBlbHNlIGlmIChcbiAgICBwYXJhbSBpbnN0YW5jZW9mIERhdGUgfHxcbiAgICAocGFyYW0gJiZcbiAgICAgIHR5cGVvZiBwYXJhbSA9PT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGVvZiAocGFyYW0gYXMgYW55KS5nZXRUaW1lID09PSAnZnVuY3Rpb24nKVxuICApIHtcbiAgICAvLyBIYW5kbGUgYm90aCBEYXRlIGluc3RhbmNlcyBhbmQgZGF0ZS1saWtlIG9iamVjdHMgKGZyb20gZGVzZXJpYWxpemF0aW9uKVxuICAgIHJldHVybiBwYXJhbSBpbnN0YW5jZW9mIERhdGUgPyBwYXJhbSA6IG5ldyBEYXRlKChwYXJhbSBhcyBhbnkpLmdldFRpbWUoKSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZHVyYXRpb24gcGFyYW1ldGVyLiBFeHBlY3RlZCBhIGR1cmF0aW9uIHN0cmluZywgbnVtYmVyIChtaWxsaXNlY29uZHMpLCBvciBEYXRlIG9iamVjdC5gXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IHBhcnNlRHVyYXRpb25Ub0RhdGUgfSBmcm9tICdAd29ya2Zsb3cvdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBTdHJ1Y3R1cmVkRXJyb3IgfSBmcm9tICdAd29ya2Zsb3cvd29ybGQnO1xuaW1wb3J0IHR5cGUgeyBTdHJpbmdWYWx1ZSB9IGZyb20gJ21zJztcblxuY29uc3QgQkFTRV9VUkwgPSAnaHR0cHM6Ly91c2V3b3JrZmxvdy5kZXYvZXJyJztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYW4gRXJyb3Igd2l0aG91dCByZWx5aW5nIG9uIE5vZGUuanMgdXRpbGl0aWVzLlxuICogVGhpcyBpcyBuZWVkZWQgZm9yIGVycm9yIGNsYXNzZXMgdGhhdCBjYW4gYmUgdXNlZCBpbiBWTSBjb250ZXh0cyB3aGVyZVxuICogTm9kZS5qcyBpbXBvcnRzIGFyZSBub3QgYXZhaWxhYmxlLlxuICovXG5mdW5jdGlvbiBpc0Vycm9yKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgeyBuYW1lOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAnbmFtZScgaW4gdmFsdWUgJiZcbiAgICAnbWVzc2FnZScgaW4gdmFsdWVcbiAgKTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEFsbCB0aGUgc2x1Z3Mgb2YgdGhlIGVycm9ycyB1c2VkIGZvciBkb2N1bWVudGF0aW9uIGxpbmtzLlxuICovXG5leHBvcnQgY29uc3QgRVJST1JfU0xVR1MgPSB7XG4gIE5PREVfSlNfTU9EVUxFX0lOX1dPUktGTE9XOiAnbm9kZS1qcy1tb2R1bGUtaW4td29ya2Zsb3cnLFxuICBTVEFSVF9JTlZBTElEX1dPUktGTE9XX0ZVTkNUSU9OOiAnc3RhcnQtaW52YWxpZC13b3JrZmxvdy1mdW5jdGlvbicsXG4gIFNFUklBTElaQVRJT05fRkFJTEVEOiAnc2VyaWFsaXphdGlvbi1mYWlsZWQnLFxuICBXRUJIT09LX0lOVkFMSURfUkVTUE9ORF9XSVRIX1ZBTFVFOiAnd2ViaG9vay1pbnZhbGlkLXJlc3BvbmQtd2l0aC12YWx1ZScsXG4gIFdFQkhPT0tfUkVTUE9OU0VfTk9UX1NFTlQ6ICd3ZWJob29rLXJlc3BvbnNlLW5vdC1zZW50JyxcbiAgRkVUQ0hfSU5fV09SS0ZMT1dfRlVOQ1RJT046ICdmZXRjaC1pbi13b3JrZmxvdycsXG59IGFzIGNvbnN0O1xuXG50eXBlIEVycm9yU2x1ZyA9ICh0eXBlb2YgRVJST1JfU0xVR1MpW2tleW9mIHR5cGVvZiBFUlJPUl9TTFVHU107XG5cbmludGVyZmFjZSBXb3JrZmxvd0Vycm9yT3B0aW9ucyBleHRlbmRzIEVycm9yT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgc2x1ZyBvZiB0aGUgZXJyb3IuIFRoaXMgd2lsbCBiZSB1c2VkIHRvIGdlbmVyYXRlIGEgbGluayB0byB0aGUgZXJyb3IgZG9jdW1lbnRhdGlvbi5cbiAgICovXG4gIHNsdWc/OiBFcnJvclNsdWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBXb3JrZmxvdy1yZWxhdGVkIGVycm9ycy5cbiAqXG4gKiBUaGlzIGVycm9yIGlzIHRocm93biBieSB0aGUgV29ya2Zsb3cgRGV2S2l0IHdoZW4gaW50ZXJuYWwgb3BlcmF0aW9ucyBmYWlsLlxuICogWW91IGNhbiB1c2UgdGhpcyBjbGFzcyB3aXRoIGBpbnN0YW5jZW9mYCB0byBjYXRjaCBhbnkgV29ya2Zsb3cgRGV2S2l0IGVycm9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogdHJ5IHtcbiAqICAgYXdhaXQgZ2V0UnVuKHJ1bklkKTtcbiAqIH0gY2F0Y2ggKGVycm9yKSB7XG4gKiAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFdvcmtmbG93RXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKCdXb3JrZmxvdyBEZXZLaXQgZXJyb3I6JywgZXJyb3IubWVzc2FnZSk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgV29ya2Zsb3dFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVhZG9ubHkgY2F1c2U/OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IFdvcmtmbG93RXJyb3JPcHRpb25zKSB7XG4gICAgY29uc3QgbXNnRG9jcyA9IG9wdGlvbnM/LnNsdWdcbiAgICAgID8gYCR7bWVzc2FnZX1cXG5cXG5MZWFybiBtb3JlOiAke0JBU0VfVVJMfS8ke29wdGlvbnMuc2x1Z31gXG4gICAgICA6IG1lc3NhZ2U7XG4gICAgc3VwZXIobXNnRG9jcywgeyBjYXVzZTogb3B0aW9ucz8uY2F1c2UgfSk7XG4gICAgdGhpcy5jYXVzZSA9IG9wdGlvbnM/LmNhdXNlO1xuXG4gICAgaWYgKG9wdGlvbnM/LmNhdXNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRoaXMuc3RhY2sgPSBgJHt0aGlzLnN0YWNrfVxcbkNhdXNlZCBieTogJHtvcHRpb25zLmNhdXNlLnN0YWNrfWA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGlzKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgV29ya2Zsb3dFcnJvciB7XG4gICAgcmV0dXJuIGlzRXJyb3IodmFsdWUpICYmIHZhbHVlLm5hbWUgPT09ICdXb3JrZmxvd0Vycm9yJztcbiAgfVxufVxuXG4vKipcbiAqIFRocm93biB3aGVuIGEgV29ya2Zsb3cgQVBJIHJlcXVlc3QgZmFpbHMuXG4gKlxuICogVGhpcyBlcnJvciBpcyB0aHJvd24gd2hlbiBIVFRQIHJlcXVlc3RzIHRvIHRoZSBXb3JrZmxvdyBiYWNrZW5kIGZhaWwsXG4gKiB0eXBpY2FsbHkgZHVlIHRvIG5ldHdvcmsgaXNzdWVzLCBpbnZhbGlkIHJlcXVlc3RzLCBvciBzZXJ2ZXIgZXJyb3JzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogdHJ5IHtcbiAqICAgYXdhaXQgc3RhcnRXb3JrZmxvdygnbXlXb3JrZmxvdycsIGlucHV0KTtcbiAqIH0gY2F0Y2ggKGVycm9yKSB7XG4gKiAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFdvcmtmbG93QVBJRXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmVycm9yKGBBUEkgZXJyb3IgKCR7ZXJyb3Iuc3RhdHVzfSk6YCwgZXJyb3IubWVzc2FnZSk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgV29ya2Zsb3dBUElFcnJvciBleHRlbmRzIFdvcmtmbG93RXJyb3Ige1xuICBzdGF0dXM/OiBudW1iZXI7XG4gIGNvZGU/OiBzdHJpbmc7XG4gIHVybD86IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHsgc3RhdHVzPzogbnVtYmVyOyB1cmw/OiBzdHJpbmc7IGNvZGU/OiBzdHJpbmc7IGNhdXNlPzogdW5rbm93biB9XG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIHtcbiAgICAgIGNhdXNlOiBvcHRpb25zPy5jYXVzZSxcbiAgICB9KTtcbiAgICB0aGlzLm5hbWUgPSAnV29ya2Zsb3dBUElFcnJvcic7XG4gICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zPy5zdGF0dXM7XG4gICAgdGhpcy5jb2RlID0gb3B0aW9ucz8uY29kZTtcbiAgICB0aGlzLnVybCA9IG9wdGlvbnM/LnVybDtcbiAgfVxuXG4gIHN0YXRpYyBpcyh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFdvcmtmbG93QVBJRXJyb3Ige1xuICAgIHJldHVybiBpc0Vycm9yKHZhbHVlKSAmJiB2YWx1ZS5uYW1lID09PSAnV29ya2Zsb3dBUElFcnJvcic7XG4gIH1cbn1cblxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIHdvcmtmbG93IHJ1biBmYWlscyBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIFRoaXMgZXJyb3IgaW5kaWNhdGVzIHRoYXQgdGhlIHdvcmtmbG93IGVuY291bnRlcmVkIGEgZmF0YWwgZXJyb3JcbiAqIGFuZCBjYW5ub3QgY29udGludWUuIFRoZSBgY2F1c2VgIHByb3BlcnR5IGNvbnRhaW5zIHRoZSB1bmRlcmx5aW5nXG4gKiBlcnJvciB3aXRoIGl0cyBtZXNzYWdlLCBzdGFjayB0cmFjZSwgYW5kIG9wdGlvbmFsIGVycm9yIGNvZGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogY29uc3QgcnVuID0gYXdhaXQgZ2V0UnVuKHJ1bklkKTtcbiAqIGlmIChydW4uc3RhdHVzID09PSAnZmFpbGVkJykge1xuICogICAvLyBXb3JrZmxvd1J1bkZhaWxlZEVycm9yIHdpbGwgYmUgdGhyb3duXG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFdvcmtmbG93UnVuRmFpbGVkRXJyb3IgZXh0ZW5kcyBXb3JrZmxvd0Vycm9yIHtcbiAgcnVuSWQ6IHN0cmluZztcbiAgZGVjbGFyZSBjYXVzZTogRXJyb3IgJiB7IGNvZGU/OiBzdHJpbmcgfTtcblxuICBjb25zdHJ1Y3RvcihydW5JZDogc3RyaW5nLCBlcnJvcjogU3RydWN0dXJlZEVycm9yKSB7XG4gICAgLy8gQ3JlYXRlIGEgcHJvcGVyIEVycm9yIGluc3RhbmNlIGZyb20gdGhlIFN0cnVjdHVyZWRFcnJvciB0byBzZXQgYXMgY2F1c2VcbiAgICAvLyBOT1RFOiBjdXN0b20gZXJyb3IgdHlwZXMgZG8gbm90IGdldCBzZXJpYWxpemVkL2Rlc2VyaWFsaXplZC4gRXZlcnl0aGluZyBpcyBhbiBFcnJvclxuICAgIGNvbnN0IGNhdXNlRXJyb3IgPSBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICBjYXVzZUVycm9yLnN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gICAgfVxuICAgIGlmIChlcnJvci5jb2RlKSB7XG4gICAgICAoY2F1c2VFcnJvciBhcyBhbnkpLmNvZGUgPSBlcnJvci5jb2RlO1xuICAgIH1cblxuICAgIHN1cGVyKGBXb3JrZmxvdyBydW4gXCIke3J1bklkfVwiIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsIHtcbiAgICAgIGNhdXNlOiBjYXVzZUVycm9yLFxuICAgIH0pO1xuICAgIHRoaXMubmFtZSA9ICdXb3JrZmxvd1J1bkZhaWxlZEVycm9yJztcbiAgICB0aGlzLnJ1bklkID0gcnVuSWQ7XG4gIH1cblxuICBzdGF0aWMgaXModmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBXb3JrZmxvd1J1bkZhaWxlZEVycm9yIHtcbiAgICByZXR1cm4gaXNFcnJvcih2YWx1ZSkgJiYgdmFsdWUubmFtZSA9PT0gJ1dvcmtmbG93UnVuRmFpbGVkRXJyb3InO1xuICB9XG59XG5cbi8qKlxuICogVGhyb3duIHdoZW4gYXR0ZW1wdGluZyB0byBnZXQgcmVzdWx0cyBmcm9tIGFuIGluY29tcGxldGUgd29ya2Zsb3cgcnVuLlxuICpcbiAqIFRoaXMgZXJyb3Igb2NjdXJzIHdoZW4geW91IHRyeSB0byBhY2Nlc3MgdGhlIHJlc3VsdCBvZiBhIHdvcmtmbG93XG4gKiB0aGF0IGlzIHN0aWxsIHJ1bm5pbmcgb3IgaGFzbid0IGNvbXBsZXRlZCB5ZXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBXb3JrZmxvd1J1bk5vdENvbXBsZXRlZEVycm9yIGV4dGVuZHMgV29ya2Zsb3dFcnJvciB7XG4gIHJ1bklkOiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHJ1bklkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSB7XG4gICAgc3VwZXIoYFdvcmtmbG93IHJ1biBcIiR7cnVuSWR9XCIgaGFzIG5vdCBjb21wbGV0ZWRgLCB7fSk7XG4gICAgdGhpcy5uYW1lID0gJ1dvcmtmbG93UnVuTm90Q29tcGxldGVkRXJyb3InO1xuICAgIHRoaXMucnVuSWQgPSBydW5JZDtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgfVxuXG4gIHN0YXRpYyBpcyh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFdvcmtmbG93UnVuTm90Q29tcGxldGVkRXJyb3Ige1xuICAgIHJldHVybiBpc0Vycm9yKHZhbHVlKSAmJiB2YWx1ZS5uYW1lID09PSAnV29ya2Zsb3dSdW5Ob3RDb21wbGV0ZWRFcnJvcic7XG4gIH1cbn1cblxuLyoqXG4gKiBUaHJvd24gd2hlbiB0aGUgV29ya2Zsb3cgcnVudGltZSBlbmNvdW50ZXJzIGFuIGludGVybmFsIGVycm9yLlxuICpcbiAqIFRoaXMgZXJyb3IgaW5kaWNhdGVzIGFuIGlzc3VlIHdpdGggd29ya2Zsb3cgZXhlY3V0aW9uLCBzdWNoIGFzXG4gKiBzZXJpYWxpemF0aW9uIGZhaWx1cmVzLCBzdGFydGluZyBhbiBpbnZhbGlkIHdvcmtmbG93IGZ1bmN0aW9uLCBvclxuICogb3RoZXIgcnVudGltZSBwcm9ibGVtcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFdvcmtmbG93UnVudGltZUVycm9yIGV4dGVuZHMgV29ya2Zsb3dFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IFdvcmtmbG93RXJyb3JPcHRpb25zKSB7XG4gICAgc3VwZXIobWVzc2FnZSwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICB9KTtcbiAgICB0aGlzLm5hbWUgPSAnV29ya2Zsb3dSdW50aW1lRXJyb3InO1xuICB9XG5cbiAgc3RhdGljIGlzKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgV29ya2Zsb3dSdW50aW1lRXJyb3Ige1xuICAgIHJldHVybiBpc0Vycm9yKHZhbHVlKSAmJiB2YWx1ZS5uYW1lID09PSAnV29ya2Zsb3dSdW50aW1lRXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBXb3JrZmxvd1J1bk5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBXb3JrZmxvd0Vycm9yIHtcbiAgcnVuSWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihydW5JZDogc3RyaW5nKSB7XG4gICAgc3VwZXIoYFdvcmtmbG93IHJ1biBcIiR7cnVuSWR9XCIgbm90IGZvdW5kYCwge30pO1xuICAgIHRoaXMubmFtZSA9ICdXb3JrZmxvd1J1bk5vdEZvdW5kRXJyb3InO1xuICAgIHRoaXMucnVuSWQgPSBydW5JZDtcbiAgfVxuXG4gIHN0YXRpYyBpcyh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFdvcmtmbG93UnVuTm90Rm91bmRFcnJvciB7XG4gICAgcmV0dXJuIGlzRXJyb3IodmFsdWUpICYmIHZhbHVlLm5hbWUgPT09ICdXb3JrZmxvd1J1bk5vdEZvdW5kRXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBXb3JrZmxvd1J1bkNhbmNlbGxlZEVycm9yIGV4dGVuZHMgV29ya2Zsb3dFcnJvciB7XG4gIHJ1bklkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocnVuSWQ6IHN0cmluZykge1xuICAgIHN1cGVyKGBXb3JrZmxvdyBydW4gXCIke3J1bklkfVwiIGNhbmNlbGxlZGAsIHt9KTtcbiAgICB0aGlzLm5hbWUgPSAnV29ya2Zsb3dSdW5DYW5jZWxsZWRFcnJvcic7XG4gICAgdGhpcy5ydW5JZCA9IHJ1bklkO1xuICB9XG5cbiAgc3RhdGljIGlzKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgV29ya2Zsb3dSdW5DYW5jZWxsZWRFcnJvciB7XG4gICAgcmV0dXJuIGlzRXJyb3IodmFsdWUpICYmIHZhbHVlLm5hbWUgPT09ICdXb3JrZmxvd1J1bkNhbmNlbGxlZEVycm9yJztcbiAgfVxufVxuXG4vKipcbiAqIEEgZmF0YWwgZXJyb3IgaXMgYW4gZXJyb3IgdGhhdCBjYW5ub3QgYmUgcmV0cmllZC5cbiAqIEl0IHdpbGwgY2F1c2UgdGhlIHN0ZXAgdG8gZmFpbCBhbmQgdGhlIGVycm9yIHdpbGxcbiAqIGJlIGJ1YmJsZWQgdXAgdG8gdGhlIHdvcmtmbG93IGxvZ2ljLlxuICovXG5leHBvcnQgY2xhc3MgRmF0YWxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgZmF0YWwgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdGYXRhbEVycm9yJztcbiAgfVxuXG4gIHN0YXRpYyBpcyh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEZhdGFsRXJyb3Ige1xuICAgIHJldHVybiBpc0Vycm9yKHZhbHVlKSAmJiB2YWx1ZS5uYW1lID09PSAnRmF0YWxFcnJvcic7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXRyeWFibGVFcnJvck9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgcmV0cnlpbmcgdGhlIHN0ZXAuXG4gICAqIENhbiBhbHNvIGJlIGEgZHVyYXRpb24gc3RyaW5nIChlLmcuLCBcIjVzXCIsIFwiMm1cIikgb3IgYSBEYXRlIG9iamVjdC5cbiAgICogSWYgbm90IHByb3ZpZGVkLCB0aGUgc3RlcCB3aWxsIGJlIHJldHJpZWQgYWZ0ZXIgMSBzZWNvbmQgKDEwMDAgbWlsbGlzZWNvbmRzKS5cbiAgICovXG4gIHJldHJ5QWZ0ZXI/OiBudW1iZXIgfCBTdHJpbmdWYWx1ZSB8IERhdGU7XG59XG5cbi8qKlxuICogQW4gZXJyb3IgdGhhdCBjYW4gaGFwcGVuIGR1cmluZyBhIHN0ZXAgZXhlY3V0aW9uLCBhbGxvd2luZ1xuICogZm9yIGNvbmZpZ3VyYXRpb24gb2YgdGhlIHJldHJ5IGJlaGF2aW9yLlxuICovXG5leHBvcnQgY2xhc3MgUmV0cnlhYmxlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBUaGUgRGF0ZSB3aGVuIHRoZSBzdGVwIHNob3VsZCBiZSByZXRyaWVkLlxuICAgKi9cbiAgcmV0cnlBZnRlcjogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM6IFJldHJ5YWJsZUVycm9yT3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1JldHJ5YWJsZUVycm9yJztcblxuICAgIGlmIChvcHRpb25zLnJldHJ5QWZ0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZXRyeUFmdGVyID0gcGFyc2VEdXJhdGlvblRvRGF0ZShvcHRpb25zLnJldHJ5QWZ0ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWZhdWx0IHRvIDEgc2Vjb25kICgxMDAwIG1pbGxpc2Vjb25kcylcbiAgICAgIHRoaXMucmV0cnlBZnRlciA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMDAwKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgaXModmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBSZXRyeWFibGVFcnJvciB7XG4gICAgcmV0dXJuIGlzRXJyb3IodmFsdWUpICYmIHZhbHVlLm5hbWUgPT09ICdSZXRyeWFibGVFcnJvcic7XG4gIH1cbn1cbiIsICJleHBvcnQgY29uc3QgV09SS0ZMT1dfVVNFX1NURVAgPSBTeW1ib2wuZm9yKCdXT1JLRkxPV19VU0VfU1RFUCcpO1xuZXhwb3J0IGNvbnN0IFdPUktGTE9XX0NSRUFURV9IT09LID0gU3ltYm9sLmZvcignV09SS0ZMT1dfQ1JFQVRFX0hPT0snKTtcbmV4cG9ydCBjb25zdCBXT1JLRkxPV19TTEVFUCA9IFN5bWJvbC5mb3IoJ1dPUktGTE9XX1NMRUVQJyk7XG5leHBvcnQgY29uc3QgV09SS0ZMT1dfQ09OVEVYVCA9IFN5bWJvbC5mb3IoJ1dPUktGTE9XX0NPTlRFWFQnKTtcbmV4cG9ydCBjb25zdCBXT1JLRkxPV19HRVRfU1RSRUFNX0lEID0gU3ltYm9sLmZvcignV09SS0ZMT1dfR0VUX1NUUkVBTV9JRCcpO1xuZXhwb3J0IGNvbnN0IFNUUkVBTV9OQU1FX1NZTUJPTCA9IFN5bWJvbC5mb3IoJ1dPUktGTE9XX1NUUkVBTV9OQU1FJyk7XG5leHBvcnQgY29uc3QgU1RSRUFNX1RZUEVfU1lNQk9MID0gU3ltYm9sLmZvcignV09SS0ZMT1dfU1RSRUFNX1RZUEUnKTtcbmV4cG9ydCBjb25zdCBCT0RZX0lOSVRfU1lNQk9MID0gU3ltYm9sLmZvcignQk9EWV9JTklUJyk7XG5leHBvcnQgY29uc3QgV0VCSE9PS19SRVNQT05TRV9XUklUQUJMRSA9IFN5bWJvbC5mb3IoXG4gICdXRUJIT09LX1JFU1BPTlNFX1dSSVRBQkxFJ1xuKTtcbiIsICJleHBvcnQgaW50ZXJmYWNlIFdvcmtmbG93TWV0YWRhdGEge1xuICAvKipcbiAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSB3b3JrZmxvdyBydW4uXG4gICAqL1xuICB3b3JrZmxvd1J1bklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRpbWVzdGFtcCB3aGVuIHRoZSB3b3JrZmxvdyBydW4gc3RhcnRlZC5cbiAgICovXG4gIHdvcmtmbG93U3RhcnRlZEF0OiBEYXRlO1xuXG4gIC8qKlxuICAgKiBUaGUgVVJMIHdoZXJlIHRoZSB3b3JrZmxvdyBjYW4gYmUgdHJpZ2dlcmVkLlxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBXT1JLRkxPV19DT05URVhUX1NZTUJPTCA9XG4gIC8qIEBfX1BVUkVfXyAqLyBTeW1ib2wuZm9yKCdXT1JLRkxPV19DT05URVhUJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JrZmxvd01ldGFkYXRhKCk6IFdvcmtmbG93TWV0YWRhdGEge1xuICAvLyBJbnNpZGUgdGhlIHdvcmtmbG93IFZNLCB0aGUgY29udGV4dCBpcyBzdG9yZWQgaW4gdGhlIGdsb2JhbFRoaXMgb2JqZWN0IGJlaGluZCBhIHN5bWJvbFxuICBjb25zdCBjdHggPSAoZ2xvYmFsVGhpcyBhcyBhbnkpW1dPUktGTE9XX0NPTlRFWFRfU1lNQk9MXSBhcyBXb3JrZmxvd01ldGFkYXRhO1xuICBpZiAoIWN0eCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdgZ2V0V29ya2Zsb3dNZXRhZGF0YSgpYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGEgd29ya2Zsb3cgb3Igc3RlcCBmdW5jdGlvbidcbiAgICApO1xuICB9XG4gIHJldHVybiBjdHg7XG59XG4iLCAiaW1wb3J0IHR5cGUge1xuICBIb29rLFxuICBIb29rT3B0aW9ucyxcbiAgUmVxdWVzdFdpdGhSZXNwb25zZSxcbiAgV2ViaG9vayxcbiAgV2ViaG9va09wdGlvbnMsXG59IGZyb20gJy4uL2NyZWF0ZS1ob29rLmpzJztcbmltcG9ydCB7IFdPUktGTE9XX0NSRUFURV9IT09LIH0gZnJvbSAnLi4vc3ltYm9scy5qcyc7XG5pbXBvcnQgeyBnZXRXb3JrZmxvd01ldGFkYXRhIH0gZnJvbSAnLi9nZXQtd29ya2Zsb3ctbWV0YWRhdGEuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSG9vazxUID0gYW55PihvcHRpb25zPzogSG9va09wdGlvbnMpOiBIb29rPFQ+IHtcbiAgLy8gSW5zaWRlIHRoZSB3b3JrZmxvdyBWTSwgdGhlIGhvb2sgZnVuY3Rpb24gaXMgc3RvcmVkIGluIHRoZSBnbG9iYWxUaGlzIG9iamVjdCBiZWhpbmQgYSBzeW1ib2xcbiAgY29uc3QgY3JlYXRlSG9va0ZuID0gKGdsb2JhbFRoaXMgYXMgYW55KVtcbiAgICBXT1JLRkxPV19DUkVBVEVfSE9PS1xuICBdIGFzIHR5cGVvZiBjcmVhdGVIb29rPFQ+O1xuICBpZiAoIWNyZWF0ZUhvb2tGbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdgY3JlYXRlSG9vaygpYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGEgd29ya2Zsb3cgZnVuY3Rpb24nXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlSG9va0ZuKG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV2ViaG9vayhcbiAgb3B0aW9uczogV2ViaG9va09wdGlvbnMgJiB7IHJlc3BvbmRXaXRoOiAnbWFudWFsJyB9XG4pOiBXZWJob29rPFJlcXVlc3RXaXRoUmVzcG9uc2U+O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVdlYmhvb2sob3B0aW9ucz86IFdlYmhvb2tPcHRpb25zKTogV2ViaG9vazxSZXF1ZXN0PjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXZWJob29rKFxuICBvcHRpb25zPzogV2ViaG9va09wdGlvbnNcbik6IFdlYmhvb2s8UmVxdWVzdD4gfCBXZWJob29rPFJlcXVlc3RXaXRoUmVzcG9uc2U+IHtcbiAgY29uc3QgeyByZXNwb25kV2l0aCwgLi4ucmVzdCB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgbGV0IG1ldGFkYXRhOiBQaWNrPFdlYmhvb2tPcHRpb25zLCAncmVzcG9uZFdpdGgnPiB8IHVuZGVmaW5lZDtcbiAgaWYgKHR5cGVvZiByZXNwb25kV2l0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtZXRhZGF0YSA9IHsgcmVzcG9uZFdpdGggfTtcbiAgfVxuXG4gIGNvbnN0IGhvb2sgPSBjcmVhdGVIb29rKHsgLi4ucmVzdCwgbWV0YWRhdGEgfSkgYXNcbiAgICB8IFdlYmhvb2s8UmVxdWVzdD5cbiAgICB8IFdlYmhvb2s8UmVxdWVzdFdpdGhSZXNwb25zZT47XG5cbiAgY29uc3QgeyB1cmwgfSA9IGdldFdvcmtmbG93TWV0YWRhdGEoKTtcbiAgaG9vay51cmwgPSBgJHt1cmx9Ly53ZWxsLWtub3duL3dvcmtmbG93L3YxL3dlYmhvb2svJHtlbmNvZGVVUklDb21wb25lbnQoaG9vay50b2tlbil9YDtcblxuICByZXR1cm4gaG9vaztcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFN0cmluZ1ZhbHVlIH0gZnJvbSAnbXMnO1xuaW1wb3J0IHsgV09SS0ZMT1dfU0xFRVAgfSBmcm9tICcuL3N5bWJvbHMuanMnO1xuXG4vKipcbiAqIFNsZWVwIHdpdGhpbiBhIHdvcmtmbG93IGZvciBhIGdpdmVuIGR1cmF0aW9uLlxuICpcbiAqIFRoaXMgaXMgYSBidWlsdC1pbiBydW50aW1lIGZ1bmN0aW9uIHRoYXQgdXNlcyB0aW1lciBldmVudHMgaW4gdGhlIGV2ZW50IGxvZy5cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb24gLSBUaGUgZHVyYXRpb24gdG8gc2xlZXAgZm9yLCB0aGlzIGlzIGEgc3RyaW5nIGluIHRoZSBmb3JtYXRcbiAqIG9mIGBcIjEwMDBtc1wiYCwgYFwiMXNcImAsIGBcIjFtXCJgLCBgXCIxaFwiYCwgb3IgYFwiMWRcImAuXG4gKiBAb3ZlcmxvYWRcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNsZWVwIGlzIGNvbXBsZXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXAoZHVyYXRpb246IFN0cmluZ1ZhbHVlKTogUHJvbWlzZTx2b2lkPjtcblxuLyoqXG4gKiBTbGVlcCB3aXRoaW4gYSB3b3JrZmxvdyB1bnRpbCBhIHNwZWNpZmljIGRhdGUuXG4gKlxuICogVGhpcyBpcyBhIGJ1aWx0LWluIHJ1bnRpbWUgZnVuY3Rpb24gdGhhdCB1c2VzIHRpbWVyIGV2ZW50cyBpbiB0aGUgZXZlbnQgbG9nLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gc2xlZXAgdW50aWwsIHRoaXMgbXVzdCBiZSBhIGZ1dHVyZSBkYXRlLlxuICogQG92ZXJsb2FkXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBzbGVlcCBpcyBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNsZWVwKGRhdGU6IERhdGUpOiBQcm9taXNlPHZvaWQ+O1xuXG4vKipcbiAqIFNsZWVwIHdpdGhpbiBhIHdvcmtmbG93IGZvciBhIGdpdmVuIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBUaGlzIGlzIGEgYnVpbHQtaW4gcnVudGltZSBmdW5jdGlvbiB0aGF0IHVzZXMgdGltZXIgZXZlbnRzIGluIHRoZSBldmVudCBsb2cuXG4gKlxuICogQHBhcmFtIGR1cmF0aW9uTXMgLSBUaGUgZHVyYXRpb24gdG8gc2xlZXAgZm9yIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBvdmVybG9hZFxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc2xlZXAgaXMgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzbGVlcChkdXJhdGlvbk1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXAocGFyYW06IFN0cmluZ1ZhbHVlIHwgRGF0ZSB8IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAvLyBJbnNpZGUgdGhlIHdvcmtmbG93IFZNLCB0aGUgc2xlZXAgZnVuY3Rpb24gaXMgc3RvcmVkIGluIHRoZSBnbG9iYWxUaGlzIG9iamVjdCBiZWhpbmQgYSBzeW1ib2xcbiAgY29uc3Qgc2xlZXBGbiA9IChnbG9iYWxUaGlzIGFzIGFueSlbV09SS0ZMT1dfU0xFRVBdO1xuICBpZiAoIXNsZWVwRm4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BzbGVlcCgpYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGEgd29ya2Zsb3cgZnVuY3Rpb24nKTtcbiAgfVxuICByZXR1cm4gc2xlZXBGbihwYXJhbSk7XG59XG4iLCAiaW1wb3J0IHsgU1RSRUFNX05BTUVfU1lNQk9MLCBXT1JLRkxPV19HRVRfU1RSRUFNX0lEIH0gZnJvbSAnLi4vc3ltYm9scy5qcyc7XG5pbXBvcnQgdHlwZSB7IFdvcmtmbG93V3JpdGFibGVTdHJlYW1PcHRpb25zIH0gZnJvbSAnLi4vd3JpdGFibGUtc3RyZWFtLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdyaXRhYmxlPFcgPSBhbnk+KFxuICBvcHRpb25zOiBXb3JrZmxvd1dyaXRhYmxlU3RyZWFtT3B0aW9ucyA9IHt9XG4pOiBXcml0YWJsZVN0cmVhbTxXPiB7XG4gIGNvbnN0IHsgbmFtZXNwYWNlIH0gPSBvcHRpb25zO1xuICBjb25zdCBuYW1lID0gKGdsb2JhbFRoaXMgYXMgYW55KVtXT1JLRkxPV19HRVRfU1RSRUFNX0lEXShuYW1lc3BhY2UpO1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShnbG9iYWxUaGlzLldyaXRhYmxlU3RyZWFtLnByb3RvdHlwZSwge1xuICAgIFtTVFJFQU1fTkFNRV9TWU1CT0xdOiB7XG4gICAgICB2YWx1ZTogbmFtZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICB9LFxuICB9KTtcbn1cbiIsICIvKipcbiAqIFRoaXMgaXMgdGhlIFwic3RhbmRhcmQgbGlicmFyeVwiIG9mIHN0ZXBzIHRoYXQgd2UgbWFrZSBhdmFpbGFibGUgdG8gYWxsIHdvcmtmbG93IHVzZXJzLlxuICogVGhlIGNhbiBiZSBpbXBvcnRlZCBsaWtlIHNvOiBgaW1wb3J0IHsgZmV0Y2ggfSBmcm9tICd3b3JrZmxvdydgLiBhbmQgdXNlZCBpbiB3b3JrZmxvdy5cbiAqIFRoZSBuZWVkIHRvIGJlIGV4cG9ydGVkIGRpcmVjdGx5IGluIHRoaXMgcGFja2FnZSBhbmQgY2Fubm90IGxpdmUgaW4gYGNvcmVgIHRvIHByZXZlbnRcbiAqIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBwb3N0LWNvbXBpbGF0aW9uLlxuICovXG5cbi8qKlxuICogQSBob2lzdGVkIGBmZXRjaCgpYCBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIGFzIGEgXCJzdGVwXCIgZnVuY3Rpb24sXG4gKiBmb3IgdXNlIHdpdGhpbiB3b3JrZmxvdyBmdW5jdGlvbnMuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmV0Y2hfQVBJXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaCguLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiBnbG9iYWxUaGlzLmZldGNoPikge1xuICAndXNlIHN0ZXAnO1xuICByZXR1cm4gZ2xvYmFsVGhpcy5mZXRjaCguLi5hcmdzKTtcbn1cbiIsICIvKipfX2ludGVybmFsX3dvcmtmbG93c3tcIndvcmtmbG93c1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzNfc3RyZWFtcy50c1wiOntcInN0cmVhbXNcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvM19zdHJlYW1zLnRzLy9zdHJlYW1zXCJ9fX0sXCJzdGVwc1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzNfc3RyZWFtcy50c1wiOntcImNvbnN1bWVTdHJlYW1zXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8zX3N0cmVhbXMudHMvL2NvbnN1bWVTdHJlYW1zXCJ9LFwiZ2VuU3RyZWFtXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8zX3N0cmVhbXMudHMvL2dlblN0cmVhbVwifX19fSovO1xuZXhwb3J0IHZhciBnZW5TdHJlYW0gPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8zX3N0cmVhbXMudHMvL2dlblN0cmVhbVwiKTtcbmV4cG9ydCB2YXIgY29uc3VtZVN0cmVhbXMgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy8zX3N0cmVhbXMudHMvL2NvbnN1bWVTdHJlYW1zXCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0cmVhbXMoKSB7XG4gICAgY29uc29sZS5sb2coJ1N0cmVhbXMgd29ya2Zsb3cgc3RhcnRlZCcpO1xuICAgIGNvbnN0IFtzMSwgczJdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZW5TdHJlYW0oKSxcbiAgICAgICAgZ2VuU3RyZWFtKClcbiAgICBdKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb25zdW1lU3RyZWFtcyhzMSwgczIpO1xuICAgIGNvbnNvbGUubG9nKGBTdHJlYW1zIHdvcmtmbG93IGNvbXBsZXRlZC4gUmVzdWx0OiAke3Jlc3VsdC5zbGljZSgwLCAxMDApfWApO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6ICdTdHJlYW1zIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICBkYXRhTGVuZ3RoOiByZXN1bHQubGVuZ3RoLFxuICAgICAgICBwcmV2aWV3OiByZXN1bHQuc2xpY2UoMCwgMTAwKVxuICAgIH07XG59XG5zdHJlYW1zLndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy8zX3N0cmVhbXMudHMvL3N0cmVhbXNcIjtcbiIsICJpbXBvcnQgeyBnZW5lcmF0ZVRleHQsIHN0ZXBDb3VudElzIH0gZnJvbSBcImFpXCI7XG5pbXBvcnQgeiBmcm9tIFwiem9kL3Y0XCI7XG4vKipfX2ludGVybmFsX3dvcmtmbG93c3tcIndvcmtmbG93c1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzRfYWkudHNcIjp7XCJhZ2VudFwiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy80X2FpLnRzLy9hZ2VudFwifSxcImFpXCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzRfYWkudHMvL2FpXCJ9fX0sXCJzdGVwc1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzRfYWkudHNcIjp7XCJnZXRXZWF0aGVySW5mb3JtYXRpb25cIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzRfYWkudHMvL2dldFdlYXRoZXJJbmZvcm1hdGlvblwifX19fSovO1xudmFyIGdldFdlYXRoZXJJbmZvcm1hdGlvbiA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzRfYWkudHMvL2dldFdlYXRoZXJJbmZvcm1hdGlvblwiKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhaShwcm9tcHQpIHtcbiAgICBjb25zb2xlLmxvZygnQUkgd29ya2Zsb3cgc3RhcnRlZCcpO1xuICAgIC8vIEFJIFNESydzIGBnZW5lcmF0ZVRleHRgIGp1c3Qgd29ya3MgbmF0aXZlbHkgaW4gYSB3b3JrZmxvdyB0aGFua3MgdG9cbiAgICAvLyB3b3JrZmxvdydzIGF1dG9tYXRpYyBmZXRjaCBob2lzdGluZyBmdW5jdGlvbmFsaXR5XG4gICAgY29uc3QgeyB0ZXh0IH0gPSBhd2FpdCBnZW5lcmF0ZVRleHQoe1xuICAgICAgICBtb2RlbDogJ29wZW5haS9vMycsXG4gICAgICAgIHByb21wdFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGBBSSB3b3JrZmxvdyBjb21wbGV0ZWQuIFJlc3VsdDogJHt0ZXh0fWApO1xuICAgIHJldHVybiB0ZXh0O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFnZW50KHByb21wdCkge1xuICAgIGNvbnNvbGUubG9nKCdBZ2VudCB3b3JrZmxvdyBzdGFydGVkJyk7XG4gICAgLy8gWW91IGNhbiBhbHNvIHByb3ZpZGUgdG9vbHMsIGFuZCBpZiB0aG9zZSB0b29scyBhcmUgYHN0ZXBzYCAtIHZvaWxhLCB5b3UgaGF2ZSB5b3Vyc2VsZlxuICAgIC8vIGEgZHVyYWJsZSBhZ2VudCB3aXRoIGZldGNoZXMgYW5kIHN0ZXBzIGJlaW5nIG9mZmxvYWRlZFxuICAgIGNvbnN0IHsgdGV4dCB9ID0gYXdhaXQgZ2VuZXJhdGVUZXh0KHtcbiAgICAgICAgbW9kZWw6ICdhbnRocm9waWMvY2xhdWRlLTQtb3B1cy0yMDI1MDUxNCcsXG4gICAgICAgIHByb21wdCxcbiAgICAgICAgdG9vbHM6IHtcbiAgICAgICAgICAgIGdldFdlYXRoZXJJbmZvcm1hdGlvbjoge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnc2hvdyB0aGUgd2VhdGhlciBpbiBhIGdpdmVuIGNpdHkgdG8gdGhlIHVzZXInLFxuICAgICAgICAgICAgICAgIGlucHV0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IHouc3RyaW5nKClcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBleGVjdXRlOiBnZXRXZWF0aGVySW5mb3JtYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgYSBoaWdoIGFzIHlvdSB3YW50IC0gbm8gcmVzdHJpY3Rpb24gb24gdGhlIGxhbWJkYSB3b3JrZmxvdyBydW50aW1lXG4gICAgICAgIHN0b3BXaGVuOiBzdGVwQ291bnRJcygxMClcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhgQWdlbnQgd29ya2Zsb3cgY29tcGxldGVkLiBSZXN1bHQ6ICR7dGV4dH1gKTtcbiAgICByZXR1cm4gdGV4dDtcbn1cbmFpLndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy80X2FpLnRzLy9haVwiO1xuYWdlbnQud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzRfYWkudHMvL2FnZW50XCI7XG4iLCAiLyoqXG4gKiBTeW1ib2wgdXNlZCBmb3IgaWRlbnRpZnlpbmcgQUkgU0RLIEVycm9yIGluc3RhbmNlcy5cbiAqIEVuYWJsZXMgY2hlY2tpbmcgaWYgYW4gZXJyb3IgaXMgYW4gaW5zdGFuY2Ugb2YgQUlTREtFcnJvciBhY3Jvc3MgcGFja2FnZSB2ZXJzaW9ucy5cbiAqL1xuY29uc3QgbWFya2VyID0gJ3ZlcmNlbC5haS5lcnJvcic7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogQ3VzdG9tIGVycm9yIGNsYXNzIGZvciBBSSBTREsgcmVsYXRlZCBlcnJvcnMuXG4gKiBAZXh0ZW5kcyBFcnJvclxuICovXG5leHBvcnQgY2xhc3MgQUlTREtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIC8qKlxuICAgKiBUaGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IsIGlmIGFueS5cbiAgICovXG4gIHJlYWRvbmx5IGNhdXNlPzogdW5rbm93bjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBBSSBTREsgRXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubWVzc2FnZSAtIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3Vua25vd259IFtwYXJhbXMuY2F1c2VdIC0gVGhlIHVuZGVybHlpbmcgY2F1c2Ugb2YgdGhlIGVycm9yLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWUsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBlcnJvciAtIFRoZSBlcnJvciB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBBSVNES0Vycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RhdGljIGhhc01hcmtlcihlcnJvcjogdW5rbm93biwgbWFya2VyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBtYXJrZXJTeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG4gICAgcmV0dXJuIChcbiAgICAgIGVycm9yICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG1hcmtlclN5bWJvbCBpbiBlcnJvciAmJlxuICAgICAgdHlwZW9mIGVycm9yW21hcmtlclN5bWJvbF0gPT09ICdib29sZWFuJyAmJlxuICAgICAgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gdHJ1ZVxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0FQSUNhbGxFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgQVBJQ2FsbEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB1cmw6IHN0cmluZztcbiAgcmVhZG9ubHkgcmVxdWVzdEJvZHlWYWx1ZXM6IHVua25vd247XG4gIHJlYWRvbmx5IHN0YXR1c0NvZGU/OiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgcmVhZG9ubHkgcmVzcG9uc2VCb2R5Pzogc3RyaW5nO1xuXG4gIHJlYWRvbmx5IGlzUmV0cnlhYmxlOiBib29sZWFuO1xuICByZWFkb25seSBkYXRhPzogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICB1cmwsXG4gICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgcmVzcG9uc2VCb2R5LFxuICAgIGNhdXNlLFxuICAgIGlzUmV0cnlhYmxlID0gc3RhdHVzQ29kZSAhPSBudWxsICYmXG4gICAgICAoc3RhdHVzQ29kZSA9PT0gNDA4IHx8IC8vIHJlcXVlc3QgdGltZW91dFxuICAgICAgICBzdGF0dXNDb2RlID09PSA0MDkgfHwgLy8gY29uZmxpY3RcbiAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDI5IHx8IC8vIHRvbyBtYW55IHJlcXVlc3RzXG4gICAgICAgIHN0YXR1c0NvZGUgPj0gNTAwKSwgLy8gc2VydmVyIGVycm9yXG4gICAgZGF0YSxcbiAgfToge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICB1cmw6IHN0cmluZztcbiAgICByZXF1ZXN0Qm9keVZhbHVlczogdW5rbm93bjtcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgcmVzcG9uc2VCb2R5Pzogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgICBpc1JldHJ5YWJsZT86IGJvb2xlYW47XG4gICAgZGF0YT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5yZXF1ZXN0Qm9keVZhbHVlcyA9IHJlcXVlc3RCb2R5VmFsdWVzO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5yZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZUhlYWRlcnM7XG4gICAgdGhpcy5yZXNwb25zZUJvZHkgPSByZXNwb25zZUJvZHk7XG4gICAgdGhpcy5pc1JldHJ5YWJsZSA9IGlzUmV0cnlhYmxlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEFQSUNhbGxFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9FbXB0eVJlc3BvbnNlQm9keUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBFbXB0eVJlc3BvbnNlQm9keUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSAnRW1wdHkgcmVzcG9uc2UgYm9keScgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgRW1wdHlSZXNwb25zZUJvZHlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcjogdW5rbm93biB8IHVuZGVmaW5lZCkge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiAndW5rbm93biBlcnJvcic7XG4gIH1cblxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIGFyZ3VtZW50IGlzIGludmFsaWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQXJndW1lbnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgYXJndW1lbnQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgICBhcmd1bWVudCxcbiAgfToge1xuICAgIGFyZ3VtZW50OiBzdHJpbmc7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNhdXNlPzogdW5rbm93bjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRBcmd1bWVudEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRQcm9tcHRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEEgcHJvbXB0IGlzIGludmFsaWQuIFRoaXMgZXJyb3Igc2hvdWxkIGJlIHRocm93biBieSBwcm92aWRlcnMgd2hlbiB0aGV5IGNhbm5vdFxuICogcHJvY2VzcyBhIHByb21wdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRQcm9tcHRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcHJvbXB0OiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIHByb21wdDogdW5rbm93bjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlOiBgSW52YWxpZCBwcm9tcHQ6ICR7bWVzc2FnZX1gLCBjYXVzZSB9KTtcblxuICAgIHRoaXMucHJvbXB0ID0gcHJvbXB0O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkUHJvbXB0RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogU2VydmVyIHJldHVybmVkIGEgcmVzcG9uc2Ugd2l0aCBpbnZhbGlkIGRhdGEgY29udGVudC5cbiAqIFRoaXMgc2hvdWxkIGJlIHRocm93biBieSBwcm92aWRlcnMgd2hlbiB0aGV5IGNhbm5vdCBwYXJzZSB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBkYXRhOiB1bmtub3duO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCByZXNwb25zZSBkYXRhOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfS5gLFxuICB9OiB7XG4gICAgZGF0YTogdW5rbm93bjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi9nZXQtZXJyb3ItbWVzc2FnZSc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfSlNPTlBhcnNlRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLy8gVE9ETyB2NTogcmVuYW1lIHRvIFBhcnNlRXJyb3JcbmV4cG9ydCBjbGFzcyBKU09OUGFyc2VFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHsgdGV4dCwgY2F1c2UgfTogeyB0ZXh0OiBzdHJpbmc7IGNhdXNlOiB1bmtub3duIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYEpTT04gcGFyc2luZyBmYWlsZWQ6IGAgK1xuICAgICAgICBgVGV4dDogJHt0ZXh0fS5cXG5gICtcbiAgICAgICAgYEVycm9yIG1lc3NhZ2U6ICR7Z2V0RXJyb3JNZXNzYWdlKGNhdXNlKX1gLFxuICAgICAgY2F1c2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBKU09OUGFyc2VFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Mb2FkQVBJS2V5RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIExvYWRBUElLZXlFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH06IHsgbWVzc2FnZTogc3RyaW5nIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIExvYWRBUElLZXlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Mb2FkU2V0dGluZ0Vycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBMb2FkU2V0dGluZ0Vycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfTogeyBtZXNzYWdlOiBzdHJpbmcgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTG9hZFNldHRpbmdFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob0NvbnRlbnRHZW5lcmF0ZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIHRoZSBBSSBwcm92aWRlciBmYWlscyB0byBnZW5lcmF0ZSBhbnkgY29udGVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vQ29udGVudEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdObyBjb250ZW50IGdlbmVyYXRlZC4nLFxuICB9OiB7IG1lc3NhZ2U/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob1N1Y2hNb2RlbEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBOb1N1Y2hNb2RlbEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBtb2RlbElkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG1vZGVsVHlwZTpcbiAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgIHwgJ3RleHRFbWJlZGRpbmdNb2RlbCdcbiAgICB8ICdpbWFnZU1vZGVsJ1xuICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICB8ICdzcGVlY2hNb2RlbCc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGVycm9yTmFtZSA9IG5hbWUsXG4gICAgbW9kZWxJZCxcbiAgICBtb2RlbFR5cGUsXG4gICAgbWVzc2FnZSA9IGBObyBzdWNoICR7bW9kZWxUeXBlfTogJHttb2RlbElkfWAsXG4gIH06IHtcbiAgICBlcnJvck5hbWU/OiBzdHJpbmc7XG4gICAgbW9kZWxJZDogc3RyaW5nO1xuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IGVycm9yTmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gICAgdGhpcy5tb2RlbFR5cGUgPSBtb2RlbFR5cGU7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vU3VjaE1vZGVsRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICcuL2FpLXNkay1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgcHJvdmlkZXI6IHN0cmluZztcbiAgcmVhZG9ubHkgbW9kZWxJZDogc3RyaW5nO1xuICByZWFkb25seSBtYXhFbWJlZGRpbmdzUGVyQ2FsbDogbnVtYmVyO1xuICByZWFkb25seSB2YWx1ZXM6IEFycmF5PHVua25vd24+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBwcm92aWRlcjogc3RyaW5nO1xuICAgIG1vZGVsSWQ6IHN0cmluZztcbiAgICBtYXhFbWJlZGRpbmdzUGVyQ2FsbDogbnVtYmVyO1xuICAgIHZhbHVlczogQXJyYXk8dW5rbm93bj47XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYFRvbyBtYW55IHZhbHVlcyBmb3IgYSBzaW5nbGUgZW1iZWRkaW5nIGNhbGwuIGAgK1xuICAgICAgICBgVGhlICR7b3B0aW9ucy5wcm92aWRlcn0gbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIiBjYW4gb25seSBlbWJlZCB1cCB0byBgICtcbiAgICAgICAgYCR7b3B0aW9ucy5tYXhFbWJlZGRpbmdzUGVyQ2FsbH0gdmFsdWVzIHBlciBjYWxsLCBidXQgJHtvcHRpb25zLnZhbHVlcy5sZW5ndGh9IHZhbHVlcyB3ZXJlIHByb3ZpZGVkLmAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3ZpZGVyID0gb3B0aW9ucy5wcm92aWRlcjtcbiAgICB0aGlzLm1vZGVsSWQgPSBvcHRpb25zLm1vZGVsSWQ7XG4gICAgdGhpcy5tYXhFbWJlZGRpbmdzUGVyQ2FsbCA9IG9wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGw7XG4gICAgdGhpcy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKFxuICAgIGVycm9yOiB1bmtub3duLFxuICApOiBlcnJvciBpcyBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnLi9haS1zZGstZXJyb3InO1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi9nZXQtZXJyb3ItbWVzc2FnZSc7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVHlwZVZhbGlkYXRpb25FcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVHlwZVZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgdmFsdWU6IHVua25vd247XG5cbiAgY29uc3RydWN0b3IoeyB2YWx1ZSwgY2F1c2UgfTogeyB2YWx1ZTogdW5rbm93bjsgY2F1c2U6IHVua25vd24gfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICBgVHlwZSB2YWxpZGF0aW9uIGZhaWxlZDogYCArXG4gICAgICAgIGBWYWx1ZTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LlxcbmAgK1xuICAgICAgICBgRXJyb3IgbWVzc2FnZTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gICAgICBjYXVzZSxcbiAgICB9KTtcblxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgVHlwZVZhbGlkYXRpb25FcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBzIGFuIGVycm9yIGludG8gYSBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKiBJZiB0aGUgY2F1c2UgaXMgYWxyZWFkeSBhIFR5cGVWYWxpZGF0aW9uRXJyb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZSwgaXQgcmV0dXJucyB0aGUgY2F1c2UuXG4gICAqIE90aGVyd2lzZSwgaXQgY3JlYXRlcyBhIG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHdyYXBwaW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMudmFsdWUgLSBUaGUgdmFsdWUgdGhhdCBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMuY2F1c2UgLSBUaGUgb3JpZ2luYWwgZXJyb3Igb3IgY2F1c2Ugb2YgdGhlIHZhbGlkYXRpb24gZmFpbHVyZS5cbiAgICogQHJldHVybnMge1R5cGVWYWxpZGF0aW9uRXJyb3J9IEEgVHlwZVZhbGlkYXRpb25FcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyB3cmFwKHtcbiAgICB2YWx1ZSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIHZhbHVlOiB1bmtub3duO1xuICAgIGNhdXNlOiB1bmtub3duO1xuICB9KTogVHlwZVZhbGlkYXRpb25FcnJvciB7XG4gICAgcmV0dXJuIFR5cGVWYWxpZGF0aW9uRXJyb3IuaXNJbnN0YW5jZShjYXVzZSkgJiYgY2F1c2UudmFsdWUgPT09IHZhbHVlXG4gICAgICA/IGNhdXNlXG4gICAgICA6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHsgdmFsdWUsIGNhdXNlIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJy4vYWktc2RrLWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdBSV9VbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGZ1bmN0aW9uYWxpdHk6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZnVuY3Rpb25hbGl0eSxcbiAgICBtZXNzYWdlID0gYCcke2Z1bmN0aW9uYWxpdHl9JyBmdW5jdGlvbmFsaXR5IG5vdCBzdXBwb3J0ZWQuYCxcbiAgfToge1xuICAgIGZ1bmN0aW9uYWxpdHk6IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuICAgIHRoaXMuZnVuY3Rpb25hbGl0eSA9IGZ1bmN0aW9uYWxpdHk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKU09OQXJyYXksIEpTT05PYmplY3QsIEpTT05WYWx1ZSB9IGZyb20gJy4vanNvbi12YWx1ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0pTT05WYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEpTT05WYWx1ZSB7XG4gIGlmIChcbiAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbidcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGlzSlNPTlZhbHVlKHZhbCksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSlNPTkFycmF5KHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSlNPTkFycmF5IHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSlNPTk9iamVjdCh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEpTT05PYmplY3Qge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGlzSlNPTlZhbHVlKHZhbCksXG4gICAgKVxuICApO1xufVxuIiwgIi8qKlxuICogVGhlIHR5cGUgb2YgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgRXJyb3JUeXBlID0gJ2ludmFsaWQtcmV0cnknIHwgJ3Vua25vd24tZmllbGQnXG5cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gZW5jb3VudGVyaW5nIGFuIGlzc3VlIGR1cmluZyBwYXJzaW5nLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBlcnJvciB0aGF0IG9jY3VycmVkLlxuICAgKi9cbiAgdHlwZTogRXJyb3JUeXBlXG5cbiAgLyoqXG4gICAqIEluIHRoZSBjYXNlIG9mIGFuIHVua25vd24gZmllbGQgZW5jb3VudGVyZWQgaW4gdGhlIHN0cmVhbSwgdGhpcyB3aWxsIGJlIHRoZSBmaWVsZCBuYW1lLlxuICAgKi9cbiAgZmllbGQ/OiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogSW4gdGhlIGNhc2Ugb2YgYW4gdW5rbm93biBmaWVsZCBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtLCB0aGlzIHdpbGwgYmUgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZC5cbiAgICovXG4gIHZhbHVlPzogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIFRoZSBsaW5lIHRoYXQgY2F1c2VkIHRoZSBlcnJvciwgaWYgYXZhaWxhYmxlLlxuICAgKi9cbiAgbGluZT86IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBvcHRpb25zOiB7dHlwZTogRXJyb3JUeXBlOyBmaWVsZD86IHN0cmluZzsgdmFsdWU/OiBzdHJpbmc7IGxpbmU/OiBzdHJpbmd9LFxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIHRoaXMubmFtZSA9ICdQYXJzZUVycm9yJ1xuICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZVxuICAgIHRoaXMuZmllbGQgPSBvcHRpb25zLmZpZWxkXG4gICAgdGhpcy52YWx1ZSA9IG9wdGlvbnMudmFsdWVcbiAgICB0aGlzLmxpbmUgPSBvcHRpb25zLmxpbmVcbiAgfVxufVxuIiwgIi8qKlxuICogRXZlbnRTb3VyY2UvU2VydmVyLVNlbnQgRXZlbnRzIHBhcnNlclxuICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZXJ2ZXItc2VudC1ldmVudHMuaHRtbFxuICovXG5pbXBvcnQge1BhcnNlRXJyb3J9IGZyb20gJy4vZXJyb3JzLnRzJ1xuaW1wb3J0IHR5cGUge0V2ZW50U291cmNlUGFyc2VyLCBQYXJzZXJDYWxsYmFja3N9IGZyb20gJy4vdHlwZXMudHMnXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmZ1bmN0aW9uIG5vb3AoX2FyZzogdW5rbm93bikge1xuICAvLyBpbnRlbnRpb25hbCBub29wXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBFdmVudFNvdXJjZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIGNhbGxiYWNrcyAtIENhbGxiYWNrcyB0byBpbnZva2Ugb24gZGlmZmVyZW50IHBhcnNpbmcgZXZlbnRzOlxuICogICAtIGBvbkV2ZW50YCB3aGVuIGEgbmV3IGV2ZW50IGlzIHBhcnNlZFxuICogICAtIGBvbkVycm9yYCB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuICogICAtIGBvblJldHJ5YCB3aGVuIGEgbmV3IHJlY29ubmVjdGlvbiBpbnRlcnZhbCBoYXMgYmVlbiBzZW50IGZyb20gdGhlIHNlcnZlclxuICogICAtIGBvbkNvbW1lbnRgIHdoZW4gYSBjb21tZW50IGlzIGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW1cbiAqXG4gKiBAcmV0dXJucyBBIG5ldyBFdmVudFNvdXJjZSBwYXJzZXIsIHdpdGggYHBhcnNlYCBhbmQgYHJlc2V0YCBtZXRob2RzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGNhbGxiYWNrczogUGFyc2VyQ2FsbGJhY2tzKTogRXZlbnRTb3VyY2VQYXJzZXIge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnYGNhbGxiYWNrc2AgbXVzdCBiZSBhbiBvYmplY3QsIGdvdCBhIGZ1bmN0aW9uIGluc3RlYWQuIERpZCB5b3UgbWVhbiBge29uRXZlbnQ6IGZufWA/JyxcbiAgICApXG4gIH1cblxuICBjb25zdCB7b25FdmVudCA9IG5vb3AsIG9uRXJyb3IgPSBub29wLCBvblJldHJ5ID0gbm9vcCwgb25Db21tZW50fSA9IGNhbGxiYWNrc1xuXG4gIGxldCBpbmNvbXBsZXRlTGluZSA9ICcnXG5cbiAgbGV0IGlzRmlyc3RDaHVuayA9IHRydWVcbiAgbGV0IGlkOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgbGV0IGRhdGEgPSAnJ1xuICBsZXQgZXZlbnRUeXBlID0gJydcblxuICBmdW5jdGlvbiBmZWVkKG5ld0NodW5rOiBzdHJpbmcpIHtcbiAgICAvLyBTdHJpcCBhbnkgVVRGOCBieXRlIG9yZGVyIG1hcmsgKEJPTSkgYXQgdGhlIHN0YXJ0IG9mIHRoZSBzdHJlYW1cbiAgICBjb25zdCBjaHVuayA9IGlzRmlyc3RDaHVuayA/IG5ld0NodW5rLnJlcGxhY2UoL15cXHhFRlxceEJCXFx4QkYvLCAnJykgOiBuZXdDaHVua1xuXG4gICAgLy8gSWYgdGhlcmUgd2FzIGEgcHJldmlvdXMgaW5jb21wbGV0ZSBsaW5lLCBhcHBlbmQgaXQgdG8gdGhlIG5ldyBjaHVuayxcbiAgICAvLyBzbyB3ZSBtYXkgcHJvY2VzcyBpdCB0b2dldGhlciBhcyBhIG5ldyAoaG9wZWZ1bGx5IGNvbXBsZXRlKSBjaHVuay5cbiAgICBjb25zdCBbY29tcGxldGUsIGluY29tcGxldGVdID0gc3BsaXRMaW5lcyhgJHtpbmNvbXBsZXRlTGluZX0ke2NodW5rfWApXG5cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgY29tcGxldGUpIHtcbiAgICAgIHBhcnNlTGluZShsaW5lKVxuICAgIH1cblxuICAgIGluY29tcGxldGVMaW5lID0gaW5jb21wbGV0ZVxuICAgIGlzRmlyc3RDaHVuayA9IGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxpbmUobGluZTogc3RyaW5nKSB7XG4gICAgLy8gSWYgdGhlIGxpbmUgaXMgZW1wdHkgKGEgYmxhbmsgbGluZSksIGRpc3BhdGNoIHRoZSBldmVudFxuICAgIGlmIChsaW5lID09PSAnJykge1xuICAgICAgZGlzcGF0Y2hFdmVudCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbGluZSBzdGFydHMgd2l0aCBhIFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopLCBpZ25vcmUgdGhlIGxpbmUuXG4gICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICBpZiAob25Db21tZW50KSB7XG4gICAgICAgIG9uQ29tbWVudChsaW5lLnNsaWNlKGxpbmUuc3RhcnRzV2l0aCgnOiAnKSA/IDIgOiAxKSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIElmIHRoZSBsaW5lIGNvbnRhaW5zIGEgVSswMDNBIENPTE9OIGNoYXJhY3RlciAoOilcbiAgICBjb25zdCBmaWVsZFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKCc6JylcbiAgICBpZiAoZmllbGRTZXBhcmF0b3JJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIENvbGxlY3QgdGhlIGNoYXJhY3RlcnMgb24gdGhlIGxpbmUgYmVmb3JlIHRoZSBmaXJzdCBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KSxcbiAgICAgIC8vIGFuZCBsZXQgYGZpZWxkYCBiZSB0aGF0IHN0cmluZy5cbiAgICAgIGNvbnN0IGZpZWxkID0gbGluZS5zbGljZSgwLCBmaWVsZFNlcGFyYXRvckluZGV4KVxuXG4gICAgICAvLyBDb2xsZWN0IHRoZSBjaGFyYWN0ZXJzIG9uIHRoZSBsaW5lIGFmdGVyIHRoZSBmaXJzdCBVKzAwM0EgQ09MT04gY2hhcmFjdGVyICg6KSxcbiAgICAgIC8vIGFuZCBsZXQgYHZhbHVlYCBiZSB0aGF0IHN0cmluZy4gSWYgdmFsdWUgc3RhcnRzIHdpdGggYSBVKzAwMjAgU1BBQ0UgY2hhcmFjdGVyLFxuICAgICAgLy8gcmVtb3ZlIGl0IGZyb20gdmFsdWUuXG4gICAgICBjb25zdCBvZmZzZXQgPSBsaW5lW2ZpZWxkU2VwYXJhdG9ySW5kZXggKyAxXSA9PT0gJyAnID8gMiA6IDFcbiAgICAgIGNvbnN0IHZhbHVlID0gbGluZS5zbGljZShmaWVsZFNlcGFyYXRvckluZGV4ICsgb2Zmc2V0KVxuXG4gICAgICBwcm9jZXNzRmllbGQoZmllbGQsIHZhbHVlLCBsaW5lKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCB0aGUgc3RyaW5nIGlzIG5vdCBlbXB0eSBidXQgZG9lcyBub3QgY29udGFpbiBhIFUrMDAzQSBDT0xPTiBjaGFyYWN0ZXIgKDopXG4gICAgLy8gUHJvY2VzcyB0aGUgZmllbGQgdXNpbmcgdGhlIHdob2xlIGxpbmUgYXMgdGhlIGZpZWxkIG5hbWUsIGFuZCBhbiBlbXB0eSBzdHJpbmcgYXMgdGhlIGZpZWxkIHZhbHVlLlxuICAgIC8vIPCfkYYgVGhpcyBpcyBhY2NvcmRpbmcgdG8gc3BlYy4gVGhhdCBtZWFucyB0aGF0IGEgbGluZSB0aGF0IGhhcyB0aGUgdmFsdWUgYGRhdGFgIHdpbGwgcmVzdWx0IGluXG4gICAgLy8gYSBuZXdsaW5lIGJlaW5nIGFkZGVkIHRvIHRoZSBjdXJyZW50IGBkYXRhYCBidWZmZXIsIGZvciBpbnN0YW5jZS5cbiAgICBwcm9jZXNzRmllbGQobGluZSwgJycsIGxpbmUpXG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzRmllbGQoZmllbGQ6IHN0cmluZywgdmFsdWU6IHN0cmluZywgbGluZTogc3RyaW5nKSB7XG4gICAgLy8gRmllbGQgbmFtZXMgbXVzdCBiZSBjb21wYXJlZCBsaXRlcmFsbHksIHdpdGggbm8gY2FzZSBmb2xkaW5nIHBlcmZvcm1lZC5cbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlICdldmVudCc6XG4gICAgICAgIC8vIFNldCB0aGUgYGV2ZW50IHR5cGVgIGJ1ZmZlciB0byBmaWVsZCB2YWx1ZVxuICAgICAgICBldmVudFR5cGUgPSB2YWx1ZVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZGF0YSc6XG4gICAgICAgIC8vIEFwcGVuZCB0aGUgZmllbGQgdmFsdWUgdG8gdGhlIGBkYXRhYCBidWZmZXIsIHRoZW4gYXBwZW5kIGEgc2luZ2xlIFUrMDAwQSBMSU5FIEZFRUQoTEYpXG4gICAgICAgIC8vIGNoYXJhY3RlciB0byB0aGUgYGRhdGFgIGJ1ZmZlci5cbiAgICAgICAgZGF0YSA9IGAke2RhdGF9JHt2YWx1ZX1cXG5gXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdpZCc6XG4gICAgICAgIC8vIElmIHRoZSBmaWVsZCB2YWx1ZSBkb2VzIG5vdCBjb250YWluIFUrMDAwMCBOVUxMLCB0aGVuIHNldCB0aGUgYElEYCBidWZmZXIgdG9cbiAgICAgICAgLy8gdGhlIGZpZWxkIHZhbHVlLiBPdGhlcndpc2UsIGlnbm9yZSB0aGUgZmllbGQuXG4gICAgICAgIGlkID0gdmFsdWUuaW5jbHVkZXMoJ1xcMCcpID8gdW5kZWZpbmVkIDogdmFsdWVcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3JldHJ5JzpcbiAgICAgICAgLy8gSWYgdGhlIGZpZWxkIHZhbHVlIGNvbnNpc3RzIG9mIG9ubHkgQVNDSUkgZGlnaXRzLCB0aGVuIGludGVycHJldCB0aGUgZmllbGQgdmFsdWUgYXMgYW5cbiAgICAgICAgLy8gaW50ZWdlciBpbiBiYXNlIHRlbiwgYW5kIHNldCB0aGUgZXZlbnQgc3RyZWFtJ3MgcmVjb25uZWN0aW9uIHRpbWUgdG8gdGhhdCBpbnRlZ2VyLlxuICAgICAgICAvLyBPdGhlcndpc2UsIGlnbm9yZSB0aGUgZmllbGQuXG4gICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgIG9uUmV0cnkocGFyc2VJbnQodmFsdWUsIDEwKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkVycm9yKFxuICAgICAgICAgICAgbmV3IFBhcnNlRXJyb3IoYEludmFsaWQgXFxgcmV0cnlcXGAgdmFsdWU6IFwiJHt2YWx1ZX1cImAsIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2ludmFsaWQtcmV0cnknLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgbGluZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgZmllbGQgaXMgaWdub3JlZC5cbiAgICAgICAgb25FcnJvcihcbiAgICAgICAgICBuZXcgUGFyc2VFcnJvcihcbiAgICAgICAgICAgIGBVbmtub3duIGZpZWxkIFwiJHtmaWVsZC5sZW5ndGggPiAyMCA/IGAke2ZpZWxkLnNsaWNlKDAsIDIwKX3igKZgIDogZmllbGR9XCJgLFxuICAgICAgICAgICAge3R5cGU6ICd1bmtub3duLWZpZWxkJywgZmllbGQsIHZhbHVlLCBsaW5lfSxcbiAgICAgICAgICApLFxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCgpIHtcbiAgICBjb25zdCBzaG91bGREaXNwYXRjaCA9IGRhdGEubGVuZ3RoID4gMFxuICAgIGlmIChzaG91bGREaXNwYXRjaCkge1xuICAgICAgb25FdmVudCh7XG4gICAgICAgIGlkLFxuICAgICAgICBldmVudDogZXZlbnRUeXBlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgLy8gSWYgdGhlIGRhdGEgYnVmZmVyJ3MgbGFzdCBjaGFyYWN0ZXIgaXMgYSBVKzAwMEEgTElORSBGRUVEIChMRikgY2hhcmFjdGVyLFxuICAgICAgICAvLyB0aGVuIHJlbW92ZSB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSB0aGUgZGF0YSBidWZmZXIuXG4gICAgICAgIGRhdGE6IGRhdGEuZW5kc1dpdGgoJ1xcbicpID8gZGF0YS5zbGljZSgwLCAtMSkgOiBkYXRhLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBSZXNldCBmb3IgdGhlIG5leHQgZXZlbnRcbiAgICBpZCA9IHVuZGVmaW5lZFxuICAgIGRhdGEgPSAnJ1xuICAgIGV2ZW50VHlwZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiByZXNldChvcHRpb25zOiB7Y29uc3VtZT86IGJvb2xlYW59ID0ge30pIHtcbiAgICBpZiAoaW5jb21wbGV0ZUxpbmUgJiYgb3B0aW9ucy5jb25zdW1lKSB7XG4gICAgICBwYXJzZUxpbmUoaW5jb21wbGV0ZUxpbmUpXG4gICAgfVxuXG4gICAgaXNGaXJzdENodW5rID0gdHJ1ZVxuICAgIGlkID0gdW5kZWZpbmVkXG4gICAgZGF0YSA9ICcnXG4gICAgZXZlbnRUeXBlID0gJydcbiAgICBpbmNvbXBsZXRlTGluZSA9ICcnXG4gIH1cblxuICByZXR1cm4ge2ZlZWQsIHJlc2V0fVxufVxuXG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gYGNodW5rYCwgc3BsaXQgaXQgaW50byBsaW5lcyBhY2NvcmRpbmcgdG8gc3BlYywgYW5kIHJldHVybiBhbnkgcmVtYWluaW5nIGluY29tcGxldGUgbGluZS5cbiAqXG4gKiBAcGFyYW0gY2h1bmsgLSBUaGUgY2h1bmsgdG8gc3BsaXQgaW50byBsaW5lc1xuICogQHJldHVybnMgQSB0dXBsZSBjb250YWluaW5nIGFuIGFycmF5IG9mIGNvbXBsZXRlIGxpbmVzLCBhbmQgYW55IHJlbWFpbmluZyBpbmNvbXBsZXRlIGxpbmVcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBzcGxpdExpbmVzKGNodW5rOiBzdHJpbmcpOiBbY29tcGxldGU6IEFycmF5PHN0cmluZz4sIGluY29tcGxldGU6IHN0cmluZ10ge1xuICAvKipcbiAgICogQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBhIGxpbmUgaXMgdGVybWluYXRlZCBieSBlaXRoZXI6XG4gICAqIC0gVSswMDBEIENBUlJJQUdFIFJFVFVSTiBVKzAwMEEgTElORSBGRUVEIChDUkxGKSBjaGFyYWN0ZXIgcGFpclxuICAgKiAtIGEgc2luZ2xlIFUrMDAwQSBMSU5FIEZFRUQoTEYpIGNoYXJhY3RlciBub3QgcHJlY2VkZWQgYnkgYSBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOKENSKSBjaGFyYWN0ZXJcbiAgICogLSBhIHNpbmdsZSBVKzAwMEQgQ0FSUklBR0UgUkVUVVJOKENSKSBjaGFyYWN0ZXIgbm90IGZvbGxvd2VkIGJ5IGEgVSswMDBBIExJTkUgRkVFRChMRikgY2hhcmFjdGVyXG4gICAqL1xuICBjb25zdCBsaW5lczogQXJyYXk8c3RyaW5nPiA9IFtdXG4gIGxldCBpbmNvbXBsZXRlTGluZSA9ICcnXG4gIGxldCBzZWFyY2hJbmRleCA9IDBcblxuICB3aGlsZSAoc2VhcmNoSW5kZXggPCBjaHVuay5sZW5ndGgpIHtcbiAgICAvLyBGaW5kIG5leHQgbGluZSB0ZXJtaW5hdG9yXG4gICAgY29uc3QgY3JJbmRleCA9IGNodW5rLmluZGV4T2YoJ1xccicsIHNlYXJjaEluZGV4KVxuICAgIGNvbnN0IGxmSW5kZXggPSBjaHVuay5pbmRleE9mKCdcXG4nLCBzZWFyY2hJbmRleClcblxuICAgIC8vIERldGVybWluZSBsaW5lIGVuZFxuICAgIGxldCBsaW5lRW5kID0gLTFcbiAgICBpZiAoY3JJbmRleCAhPT0gLTEgJiYgbGZJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIENSTEYgY2FzZVxuICAgICAgbGluZUVuZCA9IE1hdGgubWluKGNySW5kZXgsIGxmSW5kZXgpXG4gICAgfSBlbHNlIGlmIChjckluZGV4ICE9PSAtMSkge1xuICAgICAgLy8gQ1IgYXQgdGhlIGVuZCBvZiBhIGNodW5rIG1pZ2h0IGJlIHBhcnQgb2YgYSBDUkxGIHNlcXVlbmNlIHRoYXQgc3BhbnMgY2h1bmtzLFxuICAgICAgLy8gc28gd2Ugc2hvdWxkbid0IHRyZWF0IGl0IGFzIGEgbGluZSB0ZXJtaW5hdG9yICh5ZXQpXG4gICAgICBpZiAoY3JJbmRleCA9PT0gY2h1bmsubGVuZ3RoIC0gMSkge1xuICAgICAgICBsaW5lRW5kID0gLTFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmVFbmQgPSBjckluZGV4XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsZkluZGV4ICE9PSAtMSkge1xuICAgICAgbGluZUVuZCA9IGxmSW5kZXhcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IGxpbmUgaWYgdGVybWluYXRvciBmb3VuZFxuICAgIGlmIChsaW5lRW5kID09PSAtMSkge1xuICAgICAgLy8gTm8gdGVybWluYXRvciBmb3VuZCwgcmVzdCBpcyBpbmNvbXBsZXRlXG4gICAgICBpbmNvbXBsZXRlTGluZSA9IGNodW5rLnNsaWNlKHNlYXJjaEluZGV4KVxuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGluZSA9IGNodW5rLnNsaWNlKHNlYXJjaEluZGV4LCBsaW5lRW5kKVxuICAgICAgbGluZXMucHVzaChsaW5lKVxuXG4gICAgICAvLyBNb3ZlIHBhc3QgbGluZSB0ZXJtaW5hdG9yXG4gICAgICBzZWFyY2hJbmRleCA9IGxpbmVFbmQgKyAxXG4gICAgICBpZiAoY2h1bmtbc2VhcmNoSW5kZXggLSAxXSA9PT0gJ1xccicgJiYgY2h1bmtbc2VhcmNoSW5kZXhdID09PSAnXFxuJykge1xuICAgICAgICBzZWFyY2hJbmRleCsrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtsaW5lcywgaW5jb21wbGV0ZUxpbmVdXG59XG4iLCAiaW1wb3J0IHtjcmVhdGVQYXJzZXJ9IGZyb20gJy4vcGFyc2UudHMnXG5pbXBvcnQgdHlwZSB7RXZlbnRTb3VyY2VNZXNzYWdlLCBFdmVudFNvdXJjZVBhcnNlcn0gZnJvbSAnLi90eXBlcy50cydcblxuLyoqXG4gKiBPcHRpb25zIGZvciB0aGUgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbU9wdGlvbnMge1xuICAvKipcbiAgICogQmVoYXZpb3Igd2hlbiBhIHBhcnNpbmcgZXJyb3Igb2NjdXJzLlxuICAgKlxuICAgKiAtIEEgY3VzdG9tIGZ1bmN0aW9uIGNhbiBiZSBwcm92aWRlZCB0byBoYW5kbGUgdGhlIGVycm9yLlxuICAgKiAtIGAndGVybWluYXRlJ2Agd2lsbCBlcnJvciB0aGUgc3RyZWFtIGFuZCBzdG9wIHBhcnNpbmcuXG4gICAqIC0gQW55IG90aGVyIHZhbHVlIHdpbGwgaWdub3JlIHRoZSBlcnJvciBhbmQgY29udGludWUgcGFyc2luZy5cbiAgICpcbiAgICogQGRlZmF1bHRWYWx1ZSBgdW5kZWZpbmVkYFxuICAgKi9cbiAgb25FcnJvcj86ICgndGVybWluYXRlJyB8ICgoZXJyb3I6IEVycm9yKSA9PiB2b2lkKSkgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gYSByZWNvbm5lY3Rpb24gaW50ZXJ2YWwgaXMgc2VudCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwYXJhbSByZXRyeSAtIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHJlY29ubmVjdGluZy5cbiAgICovXG4gIG9uUmV0cnk/OiAoKHJldHJ5OiBudW1iZXIpID0+IHZvaWQpIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgY29tbWVudCBpcyBlbmNvdW50ZXJlZCBpbiB0aGUgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0gY29tbWVudCAtIFRoZSBjb21tZW50IGVuY291bnRlcmVkIGluIHRoZSBzdHJlYW0uXG4gICAqL1xuICBvbkNvbW1lbnQ/OiAoKGNvbW1lbnQ6IHN0cmluZykgPT4gdm9pZCkgfCB1bmRlZmluZWRcbn1cblxuLyoqXG4gKiBBIFRyYW5zZm9ybVN0cmVhbSB0aGF0IGluZ2VzdHMgYSBzdHJlYW0gb2Ygc3RyaW5ncyBhbmQgcHJvZHVjZXMgYSBzdHJlYW0gb2YgYEV2ZW50U291cmNlTWVzc2FnZWAuXG4gKlxuICogQGV4YW1wbGUgQmFzaWMgdXNhZ2VcbiAqIGBgYFxuICogY29uc3QgZXZlbnRTdHJlYW0gPVxuICogICByZXNwb25zZS5ib2R5XG4gKiAgICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKVxuICogICAgIC5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlIFRlcm1pbmF0ZSBzdHJlYW0gb24gcGFyc2luZyBlcnJvcnNcbiAqIGBgYFxuICogY29uc3QgZXZlbnRTdHJlYW0gPVxuICogIHJlc3BvbnNlLmJvZHlcbiAqICAgLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKVxuICogICAucGlwZVRocm91Z2gobmV3IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtKHt0ZXJtaW5hdGVPbkVycm9yOiB0cnVlfSkpXG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbTxzdHJpbmcsIEV2ZW50U291cmNlTWVzc2FnZT4ge1xuICBjb25zdHJ1Y3Rvcih7b25FcnJvciwgb25SZXRyeSwgb25Db21tZW50fTogU3RyZWFtT3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHBhcnNlciE6IEV2ZW50U291cmNlUGFyc2VyXG5cbiAgICBzdXBlcih7XG4gICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIHBhcnNlciA9IGNyZWF0ZVBhcnNlcih7XG4gICAgICAgICAgb25FdmVudDogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZXZlbnQpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25FcnJvciA9PT0gJ3Rlcm1pbmF0ZScpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgb25FcnJvcihlcnJvcilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWdub3JlIGJ5IGRlZmF1bHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmV0cnksXG4gICAgICAgICAgb25Db21tZW50LFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybShjaHVuaykge1xuICAgICAgICBwYXJzZXIuZmVlZChjaHVuaylcbiAgICAgIH0sXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQge3R5cGUgRXJyb3JUeXBlLCBQYXJzZUVycm9yfSBmcm9tICcuL2Vycm9ycy50cydcbmV4cG9ydCB0eXBlIHtFdmVudFNvdXJjZU1lc3NhZ2V9IGZyb20gJy4vdHlwZXMudHMnXG4iLCAiZXhwb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3BhcnNlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wYXQuanNcIjtcbi8vIHpvZC1zcGVjaWZpZWRcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgZW4gZnJvbSBcIi4uL2xvY2FsZXMvZW4uanNcIjtcbmNvbmZpZyhlbigpKTtcbmV4cG9ydCB7IGdsb2JhbFJlZ2lzdHJ5LCByZWdpc3RyeSwgY29uZmlnLCAkb3V0cHV0LCAkaW5wdXQsICRicmFuZCwgY2xvbmUsIHJlZ2V4ZXMsIHRyZWVpZnlFcnJvciwgcHJldHRpZnlFcnJvciwgZm9ybWF0RXJyb3IsIGZsYXR0ZW5FcnJvciwgdG9KU09OU2NoZW1hLCBUaW1lUHJlY2lzaW9uLCB1dGlsLCBORVZFUiB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5leHBvcnQgKiBhcyBsb2NhbGVzIGZyb20gXCIuLi9sb2NhbGVzL2luZGV4LmpzXCI7XG4vLyBpc29cbi8vIG11c3QgYmUgZXhwb3J0ZWQgZnJvbSB0b3AtbGV2ZWxcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9pc3N1ZXMvNDQ5MVxuZXhwb3J0IHsgWm9kSVNPRGF0ZVRpbWUsIFpvZElTT0RhdGUsIFpvZElTT1RpbWUsIFpvZElTT0R1cmF0aW9uIH0gZnJvbSBcIi4vaXNvLmpzXCI7XG5leHBvcnQgKiBhcyBpc28gZnJvbSBcIi4vaXNvLmpzXCI7XG5leHBvcnQgKiBhcyBjb2VyY2UgZnJvbSBcIi4vY29lcmNlLmpzXCI7XG4iLCAiZXhwb3J0ICogZnJvbSBcIi4vY29yZS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGFyc2UuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi92ZXJzaW9ucy5qc1wiO1xuZXhwb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgKiBhcyByZWdleGVzIGZyb20gXCIuL3JlZ2V4ZXMuanNcIjtcbmV4cG9ydCAqIGFzIGxvY2FsZXMgZnJvbSBcIi4uL2xvY2FsZXMvaW5kZXguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlZ2lzdHJpZXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RvYy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vYXBpLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90by1qc29uLXNjaGVtYS5qc1wiO1xuZXhwb3J0ICogYXMgSlNPTlNjaGVtYSBmcm9tIFwiLi9qc29uLXNjaGVtYS5qc1wiO1xuIiwgIi8qKiBBIHNwZWNpYWwgY29uc3RhbnQgd2l0aCB0eXBlIGBuZXZlcmAgKi8gZXhwb3J0IGNvbnN0IE5FVkVSID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIlxufSk7XG5leHBvcnQgLypAX19OT19TSURFX0VGRkVDVFNfXyovIGZ1bmN0aW9uICRjb25zdHJ1Y3RvcihuYW1lLCBpbml0aWFsaXplciwgcGFyYW1zKSB7XG4gICAgZnVuY3Rpb24gaW5pdChpbnN0LCBkZWYpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJfem9kXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBpbnN0Ll96b2QgPz8ge30sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS50cmFpdHMgPz8gKF9hLnRyYWl0cyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGluc3QuX3pvZC50cmFpdHMuYWRkKG5hbWUpO1xuICAgICAgICBpbml0aWFsaXplcihpbnN0LCBkZWYpO1xuICAgICAgICAvLyBzdXBwb3J0IHByb3RvdHlwZSBtb2RpZmljYXRpb25zXG4gICAgICAgIGZvcihjb25zdCBrIGluIF8ucHJvdG90eXBlKXtcbiAgICAgICAgICAgIGlmICghKGsgaW4gaW5zdCkpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBrLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IF8ucHJvdG90eXBlW2tdLmJpbmQoaW5zdClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGluc3QuX3pvZC5jb25zdHIgPSBfO1xuICAgICAgICBpbnN0Ll96b2QuZGVmID0gZGVmO1xuICAgIH1cbiAgICAvLyBkb2Vzbid0IHdvcmsgaWYgUGFyZW50IGhhcyBhIGNvbnN0cnVjdG9yIHdpdGggYXJndW1lbnRzXG4gICAgY29uc3QgUGFyZW50ID0gcGFyYW1zPy5QYXJlbnQgPz8gT2JqZWN0O1xuICAgIGNsYXNzIERlZmluaXRpb24gZXh0ZW5kcyBQYXJlbnQge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmaW5pdGlvbiwgXCJuYW1lXCIsIHtcbiAgICAgICAgdmFsdWU6IG5hbWVcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBfKGRlZikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGluc3QgPSBwYXJhbXM/LlBhcmVudCA/IG5ldyBEZWZpbml0aW9uKCkgOiB0aGlzO1xuICAgICAgICBpbml0KGluc3QsIGRlZik7XG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkuZGVmZXJyZWQgPz8gKF9hLmRlZmVycmVkID0gW10pO1xuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIGluc3QuX3pvZC5kZWZlcnJlZCl7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXywgXCJpbml0XCIsIHtcbiAgICAgICAgdmFsdWU6IGluaXRcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXywgU3ltYm9sLmhhc0luc3RhbmNlLCB7XG4gICAgICAgIHZhbHVlOiAoaW5zdCk9PntcbiAgICAgICAgICAgIGlmIChwYXJhbXM/LlBhcmVudCAmJiBpbnN0IGluc3RhbmNlb2YgcGFyYW1zLlBhcmVudCkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gaW5zdD8uX3pvZD8udHJhaXRzPy5oYXMobmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXywgXCJuYW1lXCIsIHtcbiAgICAgICAgdmFsdWU6IG5hbWVcbiAgICB9KTtcbiAgICByZXR1cm4gXztcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFVUSUxJVElFUyAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGNvbnN0ICRicmFuZCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmV4cG9ydCBjbGFzcyAkWm9kQXN5bmNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcihgRW5jb3VudGVyZWQgUHJvbWlzZSBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2UuIFVzZSAucGFyc2VBc3luYygpIGluc3RlYWQuYCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzICRab2RFbmNvZGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKXtcbiAgICAgICAgc3VwZXIoYEVuY291bnRlcmVkIHVuaWRpcmVjdGlvbmFsIHRyYW5zZm9ybSBkdXJpbmcgZW5jb2RlOiAke25hbWV9YCk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRW5jb2RlRXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgZ2xvYmFsQ29uZmlnID0ge307XG5leHBvcnQgZnVuY3Rpb24gY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcpIE9iamVjdC5hc3NpZ24oZ2xvYmFsQ29uZmlnLCBuZXdDb25maWcpO1xuICAgIHJldHVybiBnbG9iYWxDb25maWc7XG59XG4iLCAiLy8gZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RXF1YWwodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb3RFcXVhbCh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHt9XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoXykge31cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnVtVmFsdWVzKGVudHJpZXMpIHtcbiAgICBjb25zdCBudW1lcmljVmFsdWVzID0gT2JqZWN0LnZhbHVlcyhlbnRyaWVzKS5maWx0ZXIoKHYpPT50eXBlb2YgdiA9PT0gXCJudW1iZXJcIik7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZW50cmllcykuZmlsdGVyKChbaywgX10pPT5udW1lcmljVmFsdWVzLmluZGV4T2YoK2spID09PSAtMSkubWFwKChbXywgdl0pPT52KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwifFwiKSB7XG4gICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKT0+c3RyaW5naWZ5UHJpbWl0aXZlKHZhbCkpLmpvaW4oc2VwYXJhdG9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqc29uU3RyaW5naWZ5UmVwbGFjZXIoXywgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FjaGVkKGdldHRlcikge1xuICAgIGNvbnN0IHNldCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCB2YWx1ZSAoKSB7XG4gICAgICAgICAgICBpZiAoIXNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsdWVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhY2hlZCB2YWx1ZSBhbHJlYWR5IHNldFwiKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbnVsbGlzaChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuUmVnZXgoc291cmNlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBzb3VyY2Uuc3RhcnRzV2l0aChcIl5cIikgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBzb3VyY2UuZW5kc1dpdGgoXCIkXCIpID8gc291cmNlLmxlbmd0aCAtIDEgOiBzb3VyY2UubGVuZ3RoO1xuICAgIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcFN0cmluZyA9IHN0ZXAudG9TdHJpbmcoKTtcbiAgICBsZXQgc3RlcERlY0NvdW50ID0gKHN0ZXBTdHJpbmcuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBpZiAoc3RlcERlY0NvdW50ID09PSAwICYmIC9cXGQ/ZS1cXGQ/Ly50ZXN0KHN0ZXBTdHJpbmcpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gc3RlcFN0cmluZy5tYXRjaCgvXFxkP2UtKFxcZD8pLyk7XG4gICAgICAgIGlmIChtYXRjaD8uWzFdKSB7XG4gICAgICAgICAgICBzdGVwRGVjQ291bnQgPSBOdW1iZXIucGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiB2YWxJbnQgJSBzdGVwSW50IC8gMTAgKiogZGVjQ291bnQ7XG59XG5jb25zdCBFVkFMVUFUSU5HID0gU3ltYm9sKFwiZXZhbHVhdGluZ1wiKTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVMYXp5KG9iamVjdCwga2V5LCBnZXR0ZXIpIHtcbiAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgIGdldCAoKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IEVWQUxVQVRJTkcpIHtcbiAgICAgICAgICAgICAgICAvLyBDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQsIHJldHVybiB1bmRlZmluZWQgdG8gYnJlYWsgdGhlIGN5Y2xlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBFVkFMVUFUSU5HO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCAodikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAvLyBvYmplY3Rba2V5XSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdENsb25lKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Qcm9wKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VEZWZzKC4uLmRlZnMpIHtcbiAgICBjb25zdCBtZXJnZWREZXNjcmlwdG9ycyA9IHt9O1xuICAgIGZvciAoY29uc3QgZGVmIG9mIGRlZnMpe1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGRlZik7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkRGVzY3JpcHRvcnMsIGRlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LCBtZXJnZWREZXNjcmlwdG9ycyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEZWYoc2NoZW1hKSB7XG4gICAgcmV0dXJuIG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRBdFBhdGgob2JqLCBwYXRoKSB7XG4gICAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBwYXRoLnJlZHVjZSgoYWNjLCBrZXkpPT5hY2M/LltrZXldLCBvYmopO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2VBbGxPYmplY3QocHJvbWlzZXNPYmopIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvbWlzZXNPYmopO1xuICAgIGNvbnN0IHByb21pc2VzID0ga2V5cy5tYXAoKGtleSk9PnByb21pc2VzT2JqW2tleV0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigocmVzdWx0cyk9PntcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPYmogPSB7fTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgcmVzb2x2ZWRPYmpba2V5c1tpXV0gPSByZXN1bHRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZE9iajtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TdHJpbmcobGVuZ3RoID0gMTApIHtcbiAgICBjb25zdCBjaGFycyA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICBzdHIgKz0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV07XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjKHN0cikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIpO1xufVxuZXhwb3J0IGNvbnN0IGNhcHR1cmVTdGFja1RyYWNlID0gXCJjYXB0dXJlU3RhY2tUcmFjZVwiIGluIEVycm9yID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgOiAoLi4uX2FyZ3MpPT57fTtcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChkYXRhKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmIGRhdGEgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSk7XG59XG5leHBvcnQgY29uc3QgYWxsb3dzRXZhbCA9IGNhY2hlZCgoKT0+e1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3I/LnVzZXJBZ2VudD8uaW5jbHVkZXMoXCJDbG91ZGZsYXJlXCIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgRiA9IEZ1bmN0aW9uO1xuICAgICAgICBuZXcgRihcIlwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSk7XG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gICAgaWYgKGlzT2JqZWN0KG8pID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIG1vZGlmaWVkIGNvbnN0cnVjdG9yXG4gICAgY29uc3QgY3RvciA9IG8uY29uc3RydWN0b3I7XG4gICAgaWYgKGN0b3IgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgLy8gbW9kaWZpZWQgcHJvdG90eXBlXG4gICAgY29uc3QgcHJvdCA9IGN0b3IucHJvdG90eXBlO1xuICAgIGlmIChpc09iamVjdChwcm90KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAvLyBjdG9yIGRvZXNuJ3QgaGF2ZSBzdGF0aWMgYGlzUHJvdG90eXBlT2ZgXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm90LCBcImlzUHJvdG90eXBlT2ZcIikgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0Nsb25lKG8pIHtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChvKSkgcmV0dXJuIHtcbiAgICAgICAgLi4ub1xuICAgIH07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobykpIHJldHVybiBbXG4gICAgICAgIC4uLm9cbiAgICBdO1xuICAgIHJldHVybiBvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bUtleXMoZGF0YSkge1xuICAgIGxldCBrZXlDb3VudCA9IDA7XG4gICAgZm9yKGNvbnN0IGtleSBpbiBkYXRhKXtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlDb3VudCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlDb3VudDtcbn1cbmV4cG9ydCBjb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJuYW5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50XCI7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN5bWJvbFwiO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInByb21pc2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzZXRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmICh0eXBlb2YgRmlsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZTogJHt0fWApO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgcHJvcGVydHlLZXlUeXBlcyA9IG5ldyBTZXQoW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcInN5bWJvbFwiXG5dKTtcbmV4cG9ydCBjb25zdCBwcmltaXRpdmVUeXBlcyA9IG5ldyBTZXQoW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJ1bmRlZmluZWRcIlxuXSk7XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG59XG4vLyB6b2Qtc3BlY2lmaWMgdXRpbHNcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShpbnN0LCBkZWYsIHBhcmFtcykge1xuICAgIGNvbnN0IGNsID0gbmV3IGluc3QuX3pvZC5jb25zdHIoZGVmID8/IGluc3QuX3pvZC5kZWYpO1xuICAgIGlmICghZGVmIHx8IHBhcmFtcz8ucGFyZW50KSBjbC5fem9kLnBhcmVudCA9IGluc3Q7XG4gICAgcmV0dXJuIGNsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSB7XG4gICAgY29uc3QgcGFyYW1zID0gX3BhcmFtcztcbiAgICBpZiAoIXBhcmFtcykgcmV0dXJuIHt9O1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKSByZXR1cm4ge1xuICAgICAgICBlcnJvcjogKCk9PnBhcmFtc1xuICAgIH07XG4gICAgaWYgKHBhcmFtcz8ubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChwYXJhbXM/LmVycm9yICE9PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzcGVjaWZ5IGJvdGggYG1lc3NhZ2VgIGFuZCBgZXJyb3JgIHBhcmFtc1wiKTtcbiAgICAgICAgcGFyYW1zLmVycm9yID0gcGFyYW1zLm1lc3NhZ2U7XG4gICAgfVxuICAgIGRlbGV0ZSBwYXJhbXMubWVzc2FnZTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcy5lcnJvciA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHtcbiAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICBlcnJvcjogKCk9PnBhcmFtcy5lcnJvclxuICAgIH07XG4gICAgcmV0dXJuIHBhcmFtcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc3BhcmVudFByb3h5KGdldHRlcikge1xuICAgIGxldCB0YXJnZXQ7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQgKF8sIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IChfLCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzIChfLCBwcm9wKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lmhhcyh0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVQcm9wZXJ0eSAoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBvd25LZXlzIChfKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIChfLCBwcm9wKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eSAoXywgcHJvcCwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5UHJpbWl0aXZlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkgKyBcIm5cIjtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uYWxLZXlzKHNoYXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNoYXBlKS5maWx0ZXIoKGspPT57XG4gICAgICAgIHJldHVybiBzaGFwZVtrXS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIgJiYgc2hhcGVba10uX3pvZC5vcHRvdXQgPT09IFwib3B0aW9uYWxcIjtcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBOVU1CRVJfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBzYWZlaW50OiBbXG4gICAgICAgIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlxuICAgIF0sXG4gICAgaW50MzI6IFtcbiAgICAgICAgLTIxNDc0ODM2NDgsXG4gICAgICAgIDIxNDc0ODM2NDdcbiAgICBdLFxuICAgIHVpbnQzMjogW1xuICAgICAgICAwLFxuICAgICAgICA0Mjk0OTY3Mjk1XG4gICAgXSxcbiAgICBmbG9hdDMyOiBbXG4gICAgICAgIC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgsXG4gICAgICAgIDMuNDAyODIzNDY2Mzg1Mjg4NmUzOFxuICAgIF0sXG4gICAgZmxvYXQ2NDogW1xuICAgICAgICAtTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgIF1cbn07XG5leHBvcnQgY29uc3QgQklHSU5UX0ZPUk1BVF9SQU5HRVMgPSB7XG4gICAgaW50NjQ6IFtcbiAgICAgICAgLyogQF9fUFVSRV9fKi8gQmlnSW50KFwiLTkyMjMzNzIwMzY4NTQ3NzU4MDhcIiksXG4gICAgICAgIC8qIEBfX1BVUkVfXyovIEJpZ0ludChcIjkyMjMzNzIwMzY4NTQ3NzU4MDdcIilcbiAgICBdLFxuICAgIHVpbnQ2NDogW1xuICAgICAgICAvKiBAX19QVVJFX18qLyBCaWdJbnQoMCksXG4gICAgICAgIC8qIEBfX1BVUkVfXyovIEJpZ0ludChcIjE4NDQ2NzQ0MDczNzA5NTUxNjE1XCIpXG4gICAgXVxufTtcbmV4cG9ydCBmdW5jdGlvbiBwaWNrKHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUgKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gbWFzayl7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGN1cnJEZWYuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBuZXdTaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvbWl0KHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUgKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBtYXNrKXtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gY3VyckRlZi5zaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3U2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBuZXdTaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoc2NoZW1hLCBzaGFwZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChzaGFwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBleHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBjaGVja3MgPSBzY2hlbWEuX3pvZC5kZWYuY2hlY2tzO1xuICAgIGNvbnN0IGhhc0NoZWNrcyA9IGNoZWNrcyAmJiBjaGVja3MubGVuZ3RoID4gMDtcbiAgICBpZiAoaGFzQ2hlY2tzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdCBzY2hlbWFzIGNvbnRhaW5pbmcgcmVmaW5lbWVudHMgY2Fubm90IGJlIGV4dGVuZGVkLiBVc2UgYC5zYWZlRXh0ZW5kKClgIGluc3RlYWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSAoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlLFxuICAgICAgICAgICAgICAgIC4uLnNoYXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIF9zaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIF9zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tzOiBbXVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2FmZUV4dGVuZChzY2hlbWEsIHNoYXBlKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHNoYXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIHNhZmVFeHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIC4uLnNjaGVtYS5fem9kLmRlZixcbiAgICAgICAgZ2V0IHNoYXBlICgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUsXG4gICAgICAgICAgICAgICAgLi4uc2hhcGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IHNjaGVtYS5fem9kLmRlZi5jaGVja3NcbiAgICB9O1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoYSwgYikge1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhhLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSAoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uYS5fem9kLmRlZi5zaGFwZSxcbiAgICAgICAgICAgICAgICAuLi5iLl96b2QuZGVmLnNoYXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIF9zaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIF9zaGFwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNhdGNoYWxsICgpIHtcbiAgICAgICAgICAgIHJldHVybiBiLl96b2QuZGVmLmNhdGNoYWxsO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKGEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUgKCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5vbGRTaGFwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBtYXNrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9sZFNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IENsYXNzID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XVxuICAgICAgICAgICAgICAgICAgICB9KSA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IoY29uc3Qga2V5IGluIG9sZFNoYXBlKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG9sZFNoYXBlW2tleV0hLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzcyA/IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV1cbiAgICAgICAgICAgICAgICAgICAgfSkgOiBvbGRTaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBzaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgZGVmID0gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUgKCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHtcbiAgICAgICAgICAgICAgICAuLi5vbGRTaGFwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBtYXNrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBvdmVyd3JpdGUgd2l0aCBub24tb3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IoY29uc3Qga2V5IGluIG9sZFNoYXBlKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3ZlcndyaXRlIHdpdGggbm9uLW9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBuZXcgQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBzaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbi8vIGludmFsaWRfdHlwZSB8IHRvb19iaWcgfCB0b29fc21hbGwgfCBpbnZhbGlkX2Zvcm1hdCB8IG5vdF9tdWx0aXBsZV9vZiB8IHVucmVjb2duaXplZF9rZXlzIHwgaW52YWxpZF91bmlvbiB8IGludmFsaWRfa2V5IHwgaW52YWxpZF9lbGVtZW50IHwgaW52YWxpZF92YWx1ZSB8IGN1c3RvbVxuZXhwb3J0IGZ1bmN0aW9uIGFib3J0ZWQoeCwgc3RhcnRJbmRleCA9IDApIHtcbiAgICBpZiAoeC5hYm9ydGVkID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcbiAgICBmb3IobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgeC5pc3N1ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZiAoeC5pc3N1ZXNbaV0/LmNvbnRpbnVlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJlZml4SXNzdWVzKHBhdGgsIGlzc3Vlcykge1xuICAgIHJldHVybiBpc3N1ZXMubWFwKChpc3MpPT57XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gaXNzKS5wYXRoID8/IChfYS5wYXRoID0gW10pO1xuICAgICAgICBpc3MucGF0aC51bnNoaWZ0KHBhdGgpO1xuICAgICAgICByZXR1cm4gaXNzO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlPy5tZXNzYWdlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvbmZpZykge1xuICAgIGNvbnN0IGZ1bGwgPSB7XG4gICAgICAgIC4uLmlzcyxcbiAgICAgICAgcGF0aDogaXNzLnBhdGggPz8gW11cbiAgICB9O1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgIGlmICghaXNzLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVud3JhcE1lc3NhZ2UoaXNzLmluc3Q/Ll96b2QuZGVmPy5lcnJvcj8uKGlzcykpID8/IHVud3JhcE1lc3NhZ2UoY3R4Py5lcnJvcj8uKGlzcykpID8/IHVud3JhcE1lc3NhZ2UoY29uZmlnLmN1c3RvbUVycm9yPy4oaXNzKSkgPz8gdW53cmFwTWVzc2FnZShjb25maWcubG9jYWxlRXJyb3I/Lihpc3MpKSA/PyBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgZnVsbC5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgLy8gZGVsZXRlIChmdWxsIGFzIGFueSkuZGVmO1xuICAgIGRlbGV0ZSBmdWxsLmluc3Q7XG4gICAgZGVsZXRlIGZ1bGwuY29udGludWU7XG4gICAgaWYgKCFjdHg/LnJlcG9ydElucHV0KSB7XG4gICAgICAgIGRlbGV0ZSBmdWxsLmlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gZnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXphYmxlT3JpZ2luKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgU2V0KSByZXR1cm4gXCJzZXRcIjtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBNYXApIHJldHVybiBcIm1hcFwiO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlKSByZXR1cm4gXCJmaWxlXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHJldHVybiBcImFycmF5XCI7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzc3VlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbaXNzLCBpbnB1dCwgaW5zdF0gPSBhcmdzO1xuICAgIGlmICh0eXBlb2YgaXNzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBpc3MsXG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYW5FbnVtKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhvYmopLmZpbHRlcigoW2ssIF9dKT0+e1xuICAgICAgICAvLyByZXR1cm4gdHJ1ZSBpZiBOYU4sIG1lYW5pbmcgaXQncyBub3QgYSBudW1iZXIsIHRodXMgYSBzdHJpbmcga2V5XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oTnVtYmVyLnBhcnNlSW50KGssIDEwKSk7XG4gICAgfSkubWFwKChlbCk9PmVsWzFdKTtcbn1cbi8vIENvZGVjIHV0aWxpdHkgZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NCkge1xuICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJpbmFyeVN0cmluZy5sZW5ndGgpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspe1xuICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvQmFzZTY0KGJ5dGVzKSB7XG4gICAgbGV0IGJpbmFyeVN0cmluZyA9IFwiXCI7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgYmluYXJ5U3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShiaW5hcnlTdHJpbmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NHVybFRvVWludDhBcnJheShiYXNlNjR1cmwpIHtcbiAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjR1cmwucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIik7XG4gICAgY29uc3QgcGFkZGluZyA9IFwiPVwiLnJlcGVhdCgoNCAtIGJhc2U2NC5sZW5ndGggJSA0KSAlIDQpO1xuICAgIHJldHVybiBiYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0ICsgcGFkZGluZyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvQmFzZTY0dXJsKGJ5dGVzKSB7XG4gICAgcmV0dXJuIHVpbnQ4QXJyYXlUb0Jhc2U2NChieXRlcykucmVwbGFjZSgvXFwrL2csIFwiLVwiKS5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoLz0vZywgXCJcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9VaW50OEFycmF5KGhleCkge1xuICAgIGNvbnN0IGNsZWFuSGV4ID0gaGV4LnJlcGxhY2UoL14weC8sIFwiXCIpO1xuICAgIGlmIChjbGVhbkhleC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZyBsZW5ndGhcIik7XG4gICAgfVxuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY2xlYW5IZXgubGVuZ3RoIC8gMik7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGNsZWFuSGV4Lmxlbmd0aDsgaSArPSAyKXtcbiAgICAgICAgYnl0ZXNbaSAvIDJdID0gTnVtYmVyLnBhcnNlSW50KGNsZWFuSGV4LnNsaWNlKGksIGkgKyAyKSwgMTYpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvSGV4KGJ5dGVzKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMpLm1hcCgoYik9PmIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbn1cbi8vIGluc3RhbmNlb2ZcbmV4cG9ydCBjbGFzcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoLi4uX2FyZ3Mpe31cbn1cbiIsICJpbXBvcnQgeyAkY29uc3RydWN0b3IgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmNvbnN0IGluaXRpYWxpemVyID0gKGluc3QsIGRlZik9PntcbiAgICBpbnN0Lm5hbWUgPSBcIiRab2RFcnJvclwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcIl96b2RcIiwge1xuICAgICAgICB2YWx1ZTogaW5zdC5fem9kLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImlzc3Vlc1wiLCB7XG4gICAgICAgIHZhbHVlOiBkZWYsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgaW5zdC5tZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZGVmLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwidG9TdHJpbmdcIiwge1xuICAgICAgICB2YWx1ZTogKCk9Pmluc3QubWVzc2FnZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgJFpvZEVycm9yID0gJGNvbnN0cnVjdG9yKFwiJFpvZEVycm9yXCIsIGluaXRpYWxpemVyKTtcbmV4cG9ydCBjb25zdCAkWm9kUmVhbEVycm9yID0gJGNvbnN0cnVjdG9yKFwiJFpvZEVycm9yXCIsIGluaXRpYWxpemVyLCB7XG4gICAgUGFyZW50OiBFcnJvclxufSk7XG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkVycm9yKGVycm9yLCBtYXBwZXIgPSAoaXNzdWUpPT5pc3N1ZS5tZXNzYWdlKSB7XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgZm9yIChjb25zdCBzdWIgb2YgZXJyb3IuaXNzdWVzKXtcbiAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSA9IGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSB8fCBbXTtcbiAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvcm1FcnJvcnMucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZm9ybUVycm9ycyxcbiAgICAgICAgZmllbGRFcnJvcnNcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEVycm9yKGVycm9yLCBfbWFwcGVyKSB7XG4gICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fCBmdW5jdGlvbihpc3N1ZSkge1xuICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICB9O1xuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge1xuICAgICAgICBfZXJyb3JzOiBbXVxuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKT0+e1xuICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcyl7XG4gICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIgJiYgaXNzdWUuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlzc3VlLmVycm9ycy5tYXAoKGlzc3Vlcyk9PnByb2Nlc3NFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXNcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfa2V5XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGlzc3VlLmlzc3Vlc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfZWxlbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBpc3N1ZS5pc3N1ZXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvcnM6IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Vycm9yczogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9jZXNzRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBmaWVsZEVycm9ycztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmVlaWZ5RXJyb3IoZXJyb3IsIF9tYXBwZXIpIHtcbiAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8IGZ1bmN0aW9uKGlzc3VlKSB7XG4gICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBlcnJvcnM6IFtdXG4gICAgfTtcbiAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IsIHBhdGggPSBbXSk9PntcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpe1xuICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiICYmIGlzc3VlLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyByZWd1bGFyIHVuaW9uIGVycm9yXG4gICAgICAgICAgICAgICAgaXNzdWUuZXJyb3JzLm1hcCgoaXNzdWVzKT0+cHJvY2Vzc0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlc1xuICAgICAgICAgICAgICAgICAgICB9LCBpc3N1ZS5wYXRoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9rZXlcIikge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogaXNzdWUuaXNzdWVzXG4gICAgICAgICAgICAgICAgfSwgaXNzdWUucGF0aCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9lbGVtZW50XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGlzc3VlLmlzc3Vlc1xuICAgICAgICAgICAgICAgIH0sIGlzc3VlLnBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxscGF0aCA9IFtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgLi4uaXNzdWUucGF0aFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgY3VyciA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUoaSA8IGZ1bGxwYXRoLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gZnVsbHBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gZnVsbHBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5wcm9wZXJ0aWVzID8/IChjdXJyLnByb3BlcnRpZXMgPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBjdXJyLnByb3BlcnRpZXMpW2VsXSA/PyAoX2FbZWxdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnIucHJvcGVydGllc1tlbF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyLml0ZW1zID8/IChjdXJyLml0ZW1zID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gY3Vyci5pdGVtcylbZWxdID8/IChfYltlbF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3Vyci5pdGVtc1tlbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyLmVycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHByb2Nlc3NFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKiBGb3JtYXQgYSBab2RFcnJvciBhcyBhIGh1bWFuLXJlYWRhYmxlIHN0cmluZyBpbiB0aGUgZm9sbG93aW5nIGZvcm0uXG4gKlxuICogRnJvbVxuICpcbiAqIGBgYHRzXG4gKiBab2RFcnJvciB7XG4gKiAgIGlzc3VlczogW1xuICogICAgIHtcbiAqICAgICAgIGV4cGVjdGVkOiAnc3RyaW5nJyxcbiAqICAgICAgIGNvZGU6ICdpbnZhbGlkX3R5cGUnLFxuICogICAgICAgcGF0aDogWyAndXNlcm5hbWUnIF0sXG4gKiAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgc3RyaW5nJ1xuICogICAgIH0sXG4gKiAgICAge1xuICogICAgICAgZXhwZWN0ZWQ6ICdudW1iZXInLFxuICogICAgICAgY29kZTogJ2ludmFsaWRfdHlwZScsXG4gKiAgICAgICBwYXRoOiBbICdmYXZvcml0ZU51bWJlcnMnLCAxIF0sXG4gKiAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgbnVtYmVyJ1xuICogICAgIH1cbiAqICAgXTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIHRvXG4gKlxuICogYGBgXG4gKiB1c2VybmFtZVxuICogICBcdTI3MTYgRXhwZWN0ZWQgbnVtYmVyLCByZWNlaXZlZCBzdHJpbmcgYXQgXCJ1c2VybmFtZVxuICogZmF2b3JpdGVOdW1iZXJzWzBdXG4gKiAgIFx1MjcxNiBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCBudW1iZXJcbiAqIGBgYFxuICovIGV4cG9ydCBmdW5jdGlvbiB0b0RvdFBhdGgoX3BhdGgpIHtcbiAgICBjb25zdCBzZWdzID0gW107XG4gICAgY29uc3QgcGF0aCA9IF9wYXRoLm1hcCgoc2VnKT0+dHlwZW9mIHNlZyA9PT0gXCJvYmplY3RcIiA/IHNlZy5rZXkgOiBzZWcpO1xuICAgIGZvciAoY29uc3Qgc2VnIG9mIHBhdGgpe1xuICAgICAgICBpZiAodHlwZW9mIHNlZyA9PT0gXCJudW1iZXJcIikgc2Vncy5wdXNoKGBbJHtzZWd9XWApO1xuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2VnID09PSBcInN5bWJvbFwiKSBzZWdzLnB1c2goYFske0pTT04uc3RyaW5naWZ5KFN0cmluZyhzZWcpKX1dYCk7XG4gICAgICAgIGVsc2UgaWYgKC9bXlxcdyRdLy50ZXN0KHNlZykpIHNlZ3MucHVzaChgWyR7SlNPTi5zdHJpbmdpZnkoc2VnKX1dYCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNlZ3MubGVuZ3RoKSBzZWdzLnB1c2goXCIuXCIpO1xuICAgICAgICAgICAgc2Vncy5wdXNoKHNlZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlZ3Muam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmV0dGlmeUVycm9yKGVycm9yKSB7XG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICAvLyBzb3J0IGJ5IHBhdGggbGVuZ3RoXG4gICAgY29uc3QgaXNzdWVzID0gW1xuICAgICAgICAuLi5lcnJvci5pc3N1ZXNcbiAgICBdLnNvcnQoKGEsIGIpPT4oYS5wYXRoID8/IFtdKS5sZW5ndGggLSAoYi5wYXRoID8/IFtdKS5sZW5ndGgpO1xuICAgIC8vIFByb2Nlc3MgZWFjaCBpc3N1ZVxuICAgIGZvciAoY29uc3QgaXNzdWUgb2YgaXNzdWVzKXtcbiAgICAgICAgbGluZXMucHVzaChgXHUyNzE2ICR7aXNzdWUubWVzc2FnZX1gKTtcbiAgICAgICAgaWYgKGlzc3VlLnBhdGg/Lmxlbmd0aCkgbGluZXMucHVzaChgICBcdTIxOTIgYXQgJHt0b0RvdFBhdGgoaXNzdWUucGF0aCl9YCk7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgTWFwIHRvIGZvcm1hdHRlZCBzdHJpbmdcbiAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCAqIGFzIGVycm9ycyBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IF9wYXJzZSA9IChfRXJyKT0+KHNjaGVtYSwgdmFsdWUsIF9jdHgsIF9wYXJhbXMpPT57XG4gICAgICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHtcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZVxuICAgICAgICB9KSA6IHtcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgIH0sIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IG5ldyAoX3BhcmFtcz8uRXJyID8/IF9FcnIpKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpPT51dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSk7XG4gICAgICAgICAgICB1dGlsLmNhcHR1cmVTdGFja1RyYWNlKGUsIF9wYXJhbXM/LmNhbGxlZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gICAgfTtcbmV4cG9ydCBjb25zdCBwYXJzZSA9IC8qIEBfX1BVUkVfXyovIF9wYXJzZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3BhcnNlQXN5bmMgPSAoX0Vycik9PmFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4LCBwYXJhbXMpPT57XG4gICAgICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHtcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICAgIH0pIDoge1xuICAgICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IChwYXJhbXM/LkVyciA/PyBfRXJyKShyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKT0+dXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpO1xuICAgICAgICAgICAgdXRpbC5jYXB0dXJlU3RhY2tUcmFjZShlLCBwYXJhbXM/LmNhbGxlZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gICAgfTtcbmV4cG9ydCBjb25zdCBwYXJzZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3BhcnNlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlUGFyc2UgPSAoX0Vycik9PihzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBjdHggPSBfY3R4ID8ge1xuICAgICAgICAgICAgLi4uX2N0eCxcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZVxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgYXN5bmM6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5pc3N1ZXMubGVuZ3RoID8ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbmV3IChfRXJyID8/IGVycm9ycy4kWm9kRXJyb3IpKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpPT51dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSlcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQudmFsdWVcbiAgICAgICAgfTtcbiAgICB9O1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZSA9IC8qIEBfX1BVUkVfXyovIF9zYWZlUGFyc2UoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlUGFyc2VBc3luYyA9IChfRXJyKT0+YXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpPT57XG4gICAgICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHtcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICAgIH0pIDoge1xuICAgICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5pc3N1ZXMubGVuZ3RoID8ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbmV3IF9FcnIocmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcyk9PnV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKVxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdC52YWx1ZVxuICAgICAgICB9O1xuICAgIH07XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfc2FmZVBhcnNlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9lbmNvZGUgPSAoX0Vycik9PihzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IFwiYmFja3dhcmRcIlxuICAgICAgICB9KSA6IHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfcGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbiAgICB9O1xuZXhwb3J0IGNvbnN0IGVuY29kZSA9IC8qIEBfX1BVUkVfXyovIF9lbmNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9kZWNvZGUgPSAoX0Vycik9PihzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICByZXR1cm4gX3BhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xuICAgIH07XG5leHBvcnQgY29uc3QgZGVjb2RlID0gLyogQF9fUFVSRV9fKi8gX2RlY29kZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX2VuY29kZUFzeW5jID0gKF9FcnIpPT5hc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCk9PntcbiAgICAgICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwge1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCJcbiAgICAgICAgfSkgOiB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IFwiYmFja3dhcmRcIlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3BhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbiAgICB9O1xuZXhwb3J0IGNvbnN0IGVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX2VuY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfZGVjb2RlQXN5bmMgPSAoX0Vycik9PmFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICByZXR1cm4gX3BhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG4gICAgfTtcbmV4cG9ydCBjb25zdCBkZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9kZWNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVFbmNvZGUgPSAoX0Vycik9PihzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IFwiYmFja3dhcmRcIlxuICAgICAgICB9KSA6IHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfc2FmZVBhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIGN0eCk7XG4gICAgfTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlID0gLyogQF9fUFVSRV9fKi8gX3NhZmVFbmNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRGVjb2RlID0gKF9FcnIpPT4oc2NoZW1hLCB2YWx1ZSwgX2N0eCk9PntcbiAgICAgICAgcmV0dXJuIF9zYWZlUGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG4gICAgfTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlID0gLyogQF9fUFVSRV9fKi8gX3NhZmVEZWNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRW5jb2RlQXN5bmMgPSAoX0Vycik9PmFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IFwiYmFja3dhcmRcIlxuICAgICAgICB9KSA6IHtcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfc2FmZVBhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbiAgICB9O1xuZXhwb3J0IGNvbnN0IHNhZmVFbmNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRW5jb2RlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRGVjb2RlQXN5bmMgPSAoX0Vycik9PmFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4KT0+e1xuICAgICAgICByZXR1cm4gX3NhZmVQYXJzZUFzeW5jKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xuICAgIH07XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3NhZmVEZWNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG4iLCAiZXhwb3J0IGNvbnN0IGN1aWQgPSAvXltjQ11bXlxccy1dezgsfSQvO1xuZXhwb3J0IGNvbnN0IGN1aWQyID0gL15bMC05YS16XSskLztcbmV4cG9ydCBjb25zdCB1bGlkID0gL15bMC05QS1ISktNTlAtVFYtWmEtaGprbW5wLXR2LXpdezI2fSQvO1xuZXhwb3J0IGNvbnN0IHhpZCA9IC9eWzAtOWEtdkEtVl17MjB9JC87XG5leHBvcnQgY29uc3Qga3N1aWQgPSAvXltBLVphLXowLTldezI3fSQvO1xuZXhwb3J0IGNvbnN0IG5hbm9pZCA9IC9eW2EtekEtWjAtOV8tXXsyMX0kLztcbi8qKiBJU08gODYwMS0xIGR1cmF0aW9uIHJlZ2V4LiBEb2VzIG5vdCBzdXBwb3J0IHRoZSA4NjAxLTIgZXh0ZW5zaW9ucyBsaWtlIG5lZ2F0aXZlIGR1cmF0aW9ucyBvciBmcmFjdGlvbmFsL25lZ2F0aXZlIGNvbXBvbmVudHMuICovIGV4cG9ydCBjb25zdCBkdXJhdGlvbiA9IC9eUCg/OihcXGQrVyl8KD8hLipXKSg/PVxcZHxUXFxkKShcXGQrWSk/KFxcZCtNKT8oXFxkK0QpPyhUKD89XFxkKShcXGQrSCk/KFxcZCtNKT8oXFxkKyhbLixdXFxkKyk/Uyk/KT8pJC87XG4vKiogSW1wbGVtZW50cyBJU08gODYwMS0yIGV4dGVuc2lvbnMgbGlrZSBleHBsaWNpdCArLSBwcmVmaXhlcywgbWl4aW5nIHdlZWtzIHdpdGggb3RoZXIgdW5pdHMsIGFuZCBmcmFjdGlvbmFsL25lZ2F0aXZlIGNvbXBvbmVudHMuICovIGV4cG9ydCBjb25zdCBleHRlbmRlZER1cmF0aW9uID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8qKiBBIHJlZ2V4IGZvciBhbnkgVVVJRC1saWtlIGlkZW50aWZpZXI6IDgtNC00LTQtMTIgaGV4IHBhdHRlcm4gKi8gZXhwb3J0IGNvbnN0IGd1aWQgPSAvXihbMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXs0fS1bMC05YS1mQS1GXXsxMn0pJC87XG4vKiogUmV0dXJucyBhIHJlZ2V4IGZvciB2YWxpZGF0aW5nIGFuIFJGQyA5NTYyLzQxMjIgVVVJRC5cbiAqXG4gKiBAcGFyYW0gdmVyc2lvbiBPcHRpb25hbGx5IHNwZWNpZnkgYSB2ZXJzaW9uIDEtOC4gSWYgbm8gdmVyc2lvbiBpcyBzcGVjaWZpZWQsIGFsbCB2ZXJzaW9ucyBhcmUgc3VwcG9ydGVkLiAqLyBleHBvcnQgY29uc3QgdXVpZCA9ICh2ZXJzaW9uKT0+e1xuICAgIGlmICghdmVyc2lvbikgcmV0dXJuIC9eKFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVsxLThdWzAtOWEtZkEtRl17M30tWzg5YWJBQl1bMC05YS1mQS1GXXszfS1bMC05YS1mQS1GXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkLztcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXihbMC05YS1mQS1GXXs4fS1bMC05YS1mQS1GXXs0fS0ke3ZlcnNpb259WzAtOWEtZkEtRl17M30tWzg5YWJBQl1bMC05YS1mQS1GXXszfS1bMC05YS1mQS1GXXsxMn0pJGApO1xufTtcbmV4cG9ydCBjb25zdCB1dWlkNCA9IC8qQF9fUFVSRV9fKi8gdXVpZCg0KTtcbmV4cG9ydCBjb25zdCB1dWlkNiA9IC8qQF9fUFVSRV9fKi8gdXVpZCg2KTtcbmV4cG9ydCBjb25zdCB1dWlkNyA9IC8qQF9fUFVSRV9fKi8gdXVpZCg3KTtcbi8qKiBQcmFjdGljYWwgZW1haWwgdmFsaWRhdGlvbiAqLyBleHBvcnQgY29uc3QgZW1haWwgPSAvXig/IVxcLikoPyEuKlxcLlxcLikoW0EtWmEtejAtOV8nK1xcLVxcLl0qKVtBLVphLXowLTlfKy1dQChbQS1aYS16MC05XVtBLVphLXowLTlcXC1dKlxcLikrW0EtWmEtel17Mix9JC87XG4vKiogRXF1aXZhbGVudCB0byB0aGUgSFRNTDUgaW5wdXRbdHlwZT1lbWFpbF0gdmFsaWRhdGlvbiBpbXBsZW1lbnRlZCBieSBicm93c2Vycy4gU291cmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQvZW1haWwgKi8gZXhwb3J0IGNvbnN0IGh0bWw1RW1haWwgPSAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC87XG4vKiogVGhlIGNsYXNzaWMgZW1haWxyZWdleC5jb20gcmVnZXggZm9yIFJGQyA1MzIyLWNvbXBsaWFudCBlbWFpbHMgKi8gZXhwb3J0IGNvbnN0IHJmYzUzMjJFbWFpbCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuLyoqIEEgbG9vc2UgcmVnZXggdGhhdCBhbGxvd3MgVW5pY29kZSBjaGFyYWN0ZXJzLCBlbmZvcmNlcyBsZW5ndGggbGltaXRzLCBhbmQgdGhhdCdzIGFib3V0IGl0LiAqLyBleHBvcnQgY29uc3QgdW5pY29kZUVtYWlsID0gL15bXlxcc0BcIl17MSw2NH1AW15cXHNAXXsxLDI1NX0kL3U7XG5leHBvcnQgY29uc3QgaWRuRW1haWwgPSB1bmljb2RlRW1haWw7XG5leHBvcnQgY29uc3QgYnJvd3NlckVtYWlsID0gL15bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamkgPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xuZXhwb3J0IGZ1bmN0aW9uIGVtb2ppKCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKF9lbW9qaSwgXCJ1XCIpO1xufVxuZXhwb3J0IGNvbnN0IGlwdjQgPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuZXhwb3J0IGNvbnN0IGlwdjYgPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopKSQvO1xuZXhwb3J0IGNvbnN0IGNpZHJ2NCA9IC9eKCgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSgyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKFswLTldfFsxLTJdWzAtOV18M1swLTJdKSQvO1xuZXhwb3J0IGNvbnN0IGNpZHJ2NiA9IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7N31bMC05YS1mQS1GXXsxLDR9fDo6fChbMC05YS1mQS1GXXsxLDR9KT86OihbMC05YS1mQS1GXXsxLDR9Oj8pezAsNn0pXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuZXhwb3J0IGNvbnN0IGJhc2U2NCA9IC9eJHxeKD86WzAtOWEtekEtWisvXXs0fSkqKD86KD86WzAtOWEtekEtWisvXXsyfT09KXwoPzpbMC05YS16QS1aKy9dezN9PSkpPyQvO1xuZXhwb3J0IGNvbnN0IGJhc2U2NHVybCA9IC9eW0EtWmEtejAtOV8tXSokLztcbi8vIGJhc2VkIG9uIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNjE3OS9yZWd1bGFyLWV4cHJlc3Npb24tdG8tbWF0Y2gtZG5zLWhvc3RuYW1lLW9yLWlwLWFkZHJlc3Ncbi8vIGV4cG9ydCBjb25zdCBob3N0bmFtZTogUmVnRXhwID0gL14oW2EtekEtWjAtOS1dK1xcLikqW2EtekEtWjAtOS1dKyQvO1xuZXhwb3J0IGNvbnN0IGhvc3RuYW1lID0gL14oPz0uezEsMjUzfVxcLj8kKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86Wy0wLTlhLXpBLVpdezAsNjF9WzAtOWEtekEtWl0pPykqXFwuPyQvO1xuZXhwb3J0IGNvbnN0IGRvbWFpbiA9IC9eKFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pP1xcLikrW2EtekEtWl17Mix9JC87XG4vLyBodHRwczovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL3ZhbGlkYXRlLXBob25lLW51bWJlciNyNC0zIChyZWdleCBzYW5zIHNwYWNlcylcbmV4cG9ydCBjb25zdCBlMTY0ID0gL15cXCsoPzpbMC05XSl7NiwxNH1bMC05XSQvO1xuLy8gY29uc3QgZGF0ZVNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVNvdXJjZSA9IGAoPzooPzpcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oPzooPzowWzEzNTc4XXwxWzAyXSktKD86MFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KD86MFs0NjldfDExKS0oPzowWzEtOV18WzEyXVxcXFxkfDMwKXwoPzowMiktKD86MFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuZXhwb3J0IGNvbnN0IGRhdGUgPSAvKkBfX1BVUkVfXyovIG5ldyBSZWdFeHAoYF4ke2RhdGVTb3VyY2V9JGApO1xuZnVuY3Rpb24gdGltZVNvdXJjZShhcmdzKSB7XG4gICAgY29uc3QgaGhtbSA9IGAoPzpbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkYDtcbiAgICBjb25zdCByZWdleCA9IHR5cGVvZiBhcmdzLnByZWNpc2lvbiA9PT0gXCJudW1iZXJcIiA/IGFyZ3MucHJlY2lzaW9uID09PSAtMSA/IGAke2hobW19YCA6IGFyZ3MucHJlY2lzaW9uID09PSAwID8gYCR7aGhtbX06WzAtNV1cXFxcZGAgOiBgJHtoaG1tfTpbMC01XVxcXFxkXFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gIDogYCR7aGhtbX0oPzo6WzAtNV1cXFxcZCg/OlxcXFwuXFxcXGQrKT8pP2A7XG4gICAgcmV0dXJuIHJlZ2V4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpbWUoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lU291cmNlKGFyZ3MpfSRgKTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzE0MzIzMVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lKGFyZ3MpIHtcbiAgICBjb25zdCB0aW1lID0gdGltZVNvdXJjZSh7XG4gICAgICAgIHByZWNpc2lvbjogYXJncy5wcmVjaXNpb25cbiAgICB9KTtcbiAgICBjb25zdCBvcHRzID0gW1xuICAgICAgICBcIlpcIlxuICAgIF07XG4gICAgaWYgKGFyZ3MubG9jYWwpIG9wdHMucHVzaChcIlwiKTtcbiAgICAvLyBpZiAoYXJncy5vZmZzZXQpIG9wdHMucHVzaChgKFsrLV1cXFxcZHsyfTpcXFxcZHsyfSlgKTtcbiAgICBpZiAoYXJncy5vZmZzZXQpIG9wdHMucHVzaChgKFsrLV0oPzpbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKWApO1xuICAgIGNvbnN0IHRpbWVSZWdleCA9IGAke3RpbWV9KD86JHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtkYXRlU291cmNlfVQoPzoke3RpbWVSZWdleH0pJGApO1xufVxuZXhwb3J0IGNvbnN0IHN0cmluZyA9IChwYXJhbXMpPT57XG4gICAgY29uc3QgcmVnZXggPSBwYXJhbXMgPyBgW1xcXFxzXFxcXFNdeyR7cGFyYW1zPy5taW5pbXVtID8/IDB9LCR7cGFyYW1zPy5tYXhpbXVtID8/IFwiXCJ9fWAgOiBgW1xcXFxzXFxcXFNdKmA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn07XG5leHBvcnQgY29uc3QgYmlnaW50ID0gL14tP1xcZCtuPyQvO1xuZXhwb3J0IGNvbnN0IGludGVnZXIgPSAvXi0/XFxkKyQvO1xuZXhwb3J0IGNvbnN0IG51bWJlciA9IC9eLT9cXGQrKD86XFwuXFxkKyk/LztcbmV4cG9ydCBjb25zdCBib29sZWFuID0gL14oPzp0cnVlfGZhbHNlKSQvaTtcbmNvbnN0IF9udWxsID0gL15udWxsJC9pO1xuZXhwb3J0IHsgX251bGwgYXMgbnVsbCB9O1xuY29uc3QgX3VuZGVmaW5lZCA9IC9edW5kZWZpbmVkJC9pO1xuZXhwb3J0IHsgX3VuZGVmaW5lZCBhcyB1bmRlZmluZWQgfTtcbi8vIHJlZ2V4IGZvciBzdHJpbmcgd2l0aCBubyB1cHBlcmNhc2UgbGV0dGVyc1xuZXhwb3J0IGNvbnN0IGxvd2VyY2FzZSA9IC9eW15BLVpdKiQvO1xuLy8gcmVnZXggZm9yIHN0cmluZyB3aXRoIG5vIGxvd2VyY2FzZSBsZXR0ZXJzXG5leHBvcnQgY29uc3QgdXBwZXJjYXNlID0gL15bXmEtel0qJC87XG4vLyByZWdleCBmb3IgaGV4YWRlY2ltYWwgc3RyaW5ncyAoYW55IGxlbmd0aClcbmV4cG9ydCBjb25zdCBoZXggPSAvXlswLTlhLWZBLUZdKiQvO1xuLy8gSGFzaCByZWdleGVzIGZvciBkaWZmZXJlbnQgYWxnb3JpdGhtcyBhbmQgZW5jb2RpbmdzXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGJhc2U2NCByZWdleCB3aXRoIGV4YWN0IGxlbmd0aCBhbmQgcGFkZGluZ1xuZnVuY3Rpb24gZml4ZWRCYXNlNjQoYm9keUxlbmd0aCwgcGFkZGluZykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeW0EtWmEtejAtOSsvXXske2JvZHlMZW5ndGh9fSR7cGFkZGluZ30kYCk7XG59XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGJhc2U2NHVybCByZWdleCB3aXRoIGV4YWN0IGxlbmd0aCAobm8gcGFkZGluZylcbmZ1bmN0aW9uIGZpeGVkQmFzZTY0dXJsKGxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeW0EtWmEtejAtOV8tXXske2xlbmd0aH19JGApO1xufVxuLy8gTUQ1ICgxNiBieXRlcyk6IGJhc2U2NCA9IDI0IGNoYXJzIHRvdGFsICgyMiArIFwiPT1cIilcbmV4cG9ydCBjb25zdCBtZDVfaGV4ID0gL15bMC05YS1mQS1GXXszMn0kLztcbmV4cG9ydCBjb25zdCBtZDVfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCgyMiwgXCI9PVwiKTtcbmV4cG9ydCBjb25zdCBtZDVfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCgyMik7XG4vLyBTSEExICgyMCBieXRlcyk6IGJhc2U2NCA9IDI4IGNoYXJzIHRvdGFsICgyNyArIFwiPVwiKVxuZXhwb3J0IGNvbnN0IHNoYTFfaGV4ID0gL15bMC05YS1mQS1GXXs0MH0kLztcbmV4cG9ydCBjb25zdCBzaGExX2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoMjcsIFwiPVwiKTtcbmV4cG9ydCBjb25zdCBzaGExX2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoMjcpO1xuLy8gU0hBMjU2ICgzMiBieXRlcyk6IGJhc2U2NCA9IDQ0IGNoYXJzIHRvdGFsICg0MyArIFwiPVwiKVxuZXhwb3J0IGNvbnN0IHNoYTI1Nl9oZXggPSAvXlswLTlhLWZBLUZdezY0fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTI1Nl9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDQzLCBcIj1cIik7XG5leHBvcnQgY29uc3Qgc2hhMjU2X2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoNDMpO1xuLy8gU0hBMzg0ICg0OCBieXRlcyk6IGJhc2U2NCA9IDY0IGNoYXJzIHRvdGFsIChubyBwYWRkaW5nKVxuZXhwb3J0IGNvbnN0IHNoYTM4NF9oZXggPSAvXlswLTlhLWZBLUZdezk2fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTM4NF9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDY0LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBzaGEzODRfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg2NCk7XG4vLyBTSEE1MTIgKDY0IGJ5dGVzKTogYmFzZTY0ID0gODggY2hhcnMgdG90YWwgKDg2ICsgXCI9PVwiKVxuZXhwb3J0IGNvbnN0IHNoYTUxMl9oZXggPSAvXlswLTlhLWZBLUZdezEyOH0kLztcbmV4cG9ydCBjb25zdCBzaGE1MTJfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCg4NiwgXCI9PVwiKTtcbmV4cG9ydCBjb25zdCBzaGE1MTJfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg4Nik7XG4iLCAiLy8gaW1wb3J0IHsgJFpvZFR5cGUgfSBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCAqIGFzIHJlZ2V4ZXMgZnJvbSBcIi4vcmVnZXhlcy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1wiLCAoaW5zdCwgZGVmKT0+e1xuICAgIHZhciBfYTtcbiAgICBpbnN0Ll96b2QgPz8gKGluc3QuX3pvZCA9IHt9KTtcbiAgICBpbnN0Ll96b2QuZGVmID0gZGVmO1xuICAgIChfYSA9IGluc3QuX3pvZCkub25hdHRhY2ggPz8gKF9hLm9uYXR0YWNoID0gW10pO1xufSk7XG5jb25zdCBudW1lcmljT3JpZ2luTWFwID0ge1xuICAgIG51bWJlcjogXCJudW1iZXJcIixcbiAgICBiaWdpbnQ6IFwiYmlnaW50XCIsXG4gICAgb2JqZWN0OiBcImRhdGVcIlxufTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tMZXNzVGhhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tMZXNzVGhhblwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3Qgb3JpZ2luID0gbnVtZXJpY09yaWdpbk1hcFt0eXBlb2YgZGVmLnZhbHVlXTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgY29uc3QgY3VyciA9IChkZWYuaW5jbHVzaXZlID8gYmFnLm1heGltdW0gOiBiYWcuZXhjbHVzaXZlTWF4aW11bSkgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBpZiAoZGVmLnZhbHVlIDwgY3Vycikge1xuICAgICAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUpIGJhZy5tYXhpbXVtID0gZGVmLnZhbHVlO1xuICAgICAgICAgICAgZWxzZSBiYWcuZXhjbHVzaXZlTWF4aW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSA/IHBheWxvYWQudmFsdWUgPD0gZGVmLnZhbHVlIDogcGF5bG9hZC52YWx1ZSA8IGRlZi52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZGVmLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrR3JlYXRlclRoYW4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrR3JlYXRlclRoYW5cIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IG9yaWdpbiA9IG51bWVyaWNPcmlnaW5NYXBbdHlwZW9mIGRlZi52YWx1ZV07XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpPT57XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoZGVmLmluY2x1c2l2ZSA/IGJhZy5taW5pbXVtIDogYmFnLmV4Y2x1c2l2ZU1pbmltdW0pID8/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKGRlZi52YWx1ZSA+IGN1cnIpIHtcbiAgICAgICAgICAgIGlmIChkZWYuaW5jbHVzaXZlKSBiYWcubWluaW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgICAgIGVsc2UgYmFnLmV4Y2x1c2l2ZU1pbmltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUgPyBwYXlsb2FkLnZhbHVlID49IGRlZi52YWx1ZSA6IHBheWxvYWQudmFsdWUgPiBkZWYudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZGVmLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTXVsdGlwbGVPZiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNdWx0aXBsZU9mXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpbnN0Ll96b2QuYmFnKS5tdWx0aXBsZU9mID8/IChfYS5tdWx0aXBsZU9mID0gZGVmLnZhbHVlKTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSB0eXBlb2YgZGVmLnZhbHVlKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbWl4IG51bWJlciBhbmQgYmlnaW50IGluIG11bHRpcGxlX29mIGNoZWNrLlwiKTtcbiAgICAgICAgY29uc3QgaXNNdWx0aXBsZSA9IHR5cGVvZiBwYXlsb2FkLnZhbHVlID09PSBcImJpZ2ludFwiID8gcGF5bG9hZC52YWx1ZSAlIGRlZi52YWx1ZSA9PT0gQmlnSW50KDApIDogdXRpbC5mbG9hdFNhZmVSZW1haW5kZXIocGF5bG9hZC52YWx1ZSwgZGVmLnZhbHVlKSA9PT0gMDtcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHR5cGVvZiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgY29kZTogXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICAgICAgICAgIGRpdmlzb3I6IGRlZi52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tOdW1iZXJGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTnVtYmVyRm9ybWF0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTsgLy8gbm8gZm9ybWF0IGNoZWNrc1xuICAgIGRlZi5mb3JtYXQgPSBkZWYuZm9ybWF0IHx8IFwiZmxvYXQ2NFwiO1xuICAgIGNvbnN0IGlzSW50ID0gZGVmLmZvcm1hdD8uaW5jbHVkZXMoXCJpbnRcIik7XG4gICAgY29uc3Qgb3JpZ2luID0gaXNJbnQgPyBcImludFwiIDogXCJudW1iZXJcIjtcbiAgICBjb25zdCBbbWluaW11bSwgbWF4aW11bV0gPSB1dGlsLk5VTUJFUl9GT1JNQVRfUkFOR0VTW2RlZi5mb3JtYXRdO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KT0+e1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgYmFnLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICBiYWcubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgIGlmIChpc0ludCkgYmFnLnBhdHRlcm4gPSByZWdleGVzLmludGVnZXI7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGlzSW50KSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgLy8gaW52YWxpZF9mb3JtYXQgaXNzdWVcbiAgICAgICAgICAgICAgICAvLyBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAvLyAgIGV4cGVjdGVkOiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC8vICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC8vICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIC8vICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgLy8gICBpbnN0LFxuICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgIC8vIGludmFsaWRfdHlwZSBpc3N1ZVxuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogb3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGluc3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBub3RfbXVsdGlwbGVfb2YgaXNzdWVcbiAgICAgICAgICAgIC8vIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgLy8gICBjb2RlOiBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgICAgICAgICAgLy8gICBvcmlnaW46IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAvLyAgIGlucHV0LFxuICAgICAgICAgICAgLy8gICBpbnN0LFxuICAgICAgICAgICAgLy8gICBkaXZpc29yOiAxLFxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9vX2JpZ1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW50ZWdlcnMgbXVzdCBiZSB3aXRoaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0b29fc21hbGxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW50ZWdlcnMgbXVzdCBiZSB3aXRoaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA8IG1pbmltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgICAgIG1pbmltdW0sXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA+IG1heGltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICBtYXhpbXVtLFxuICAgICAgICAgICAgICAgIGluc3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0JpZ0ludEZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tCaWdJbnRGb3JtYXRcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpOyAvLyBubyBmb3JtYXQgY2hlY2tzXG4gICAgY29uc3QgW21pbmltdW0sIG1heGltdW1dID0gdXRpbC5CSUdJTlRfRk9STUFUX1JBTkdFU1tkZWYuZm9ybWF0XTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGRlZi5mb3JtYXQ7XG4gICAgICAgIGJhZy5taW5pbXVtID0gbWluaW11bTtcbiAgICAgICAgYmFnLm1heGltdW0gPSBtYXhpbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmIChpbnB1dCA8IG1pbmltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IG1pbmltdW0sXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dCA+IG1heGltdW0pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICBtYXhpbXVtLFxuICAgICAgICAgICAgICAgIGluc3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01heFNpemUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWF4U2l6ZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCk9PntcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwuc2l6ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KT0+e1xuICAgICAgICBjb25zdCBjdXJyID0gaW5zdC5fem9kLmJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKGRlZi5tYXhpbXVtIDwgY3VycikgaW5zdC5fem9kLmJhZy5tYXhpbXVtID0gZGVmLm1heGltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGlucHV0LnNpemU7XG4gICAgICAgIGlmIChzaXplIDw9IGRlZi5tYXhpbXVtKSByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB1dGlsLmdldFNpemFibGVPcmlnaW4oaW5wdXQpLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4aW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW5TaXplID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01pblNpemVcIiwgKGluc3QsIGRlZik9PntcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLnNpemUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgY3VyciA9IGluc3QuX3pvZC5iYWcubWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGlmIChkZWYubWluaW11bSA+IGN1cnIpIGluc3QuX3pvZC5iYWcubWluaW11bSA9IGRlZi5taW5pbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBpbnB1dC5zaXplO1xuICAgICAgICBpZiAoc2l6ZSA+PSBkZWYubWluaW11bSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogdXRpbC5nZXRTaXphYmxlT3JpZ2luKGlucHV0KSxcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluaW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tTaXplRXF1YWxzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1NpemVFcXVhbHNcIiwgKGluc3QsIGRlZik9PntcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLnNpemUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLm1pbmltdW0gPSBkZWYuc2l6ZTtcbiAgICAgICAgYmFnLm1heGltdW0gPSBkZWYuc2l6ZTtcbiAgICAgICAgYmFnLnNpemUgPSBkZWYuc2l6ZTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBzaXplID0gaW5wdXQuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPT09IGRlZi5zaXplKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IHNpemUgPiBkZWYuc2l6ZTtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHV0aWwuZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCksXG4gICAgICAgICAgICAuLi50b29CaWcgPyB7XG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLnNpemVcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYuc2l6ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnRcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01heExlbmd0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNYXhMZW5ndGhcIiwgKGluc3QsIGRlZik9PntcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLmxlbmd0aCAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KT0+e1xuICAgICAgICBjb25zdCBjdXJyID0gaW5zdC5fem9kLmJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKGRlZi5tYXhpbXVtIDwgY3VycikgaW5zdC5fem9kLmJhZy5tYXhpbXVtID0gZGVmLm1heGltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDw9IGRlZi5tYXhpbXVtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHV0aWwuZ2V0TGVuZ3RoYWJsZU9yaWdpbihpbnB1dCk7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4aW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW5MZW5ndGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWluTGVuZ3RoXCIsIChpbnN0LCBkZWYpPT57XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKT0+e1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5sZW5ndGggIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgY3VyciA9IGluc3QuX3pvZC5iYWcubWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGlmIChkZWYubWluaW11bSA+IGN1cnIpIGluc3QuX3pvZC5iYWcubWluaW11bSA9IGRlZi5taW5pbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA+PSBkZWYubWluaW11bSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB1dGlsLmdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluaW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tMZW5ndGhFcXVhbHMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTGVuZ3RoRXF1YWxzXCIsIChpbnN0LCBkZWYpPT57XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKT0+e1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5sZW5ndGggIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLm1pbmltdW0gPSBkZWYubGVuZ3RoO1xuICAgICAgICBiYWcubWF4aW11bSA9IGRlZi5sZW5ndGg7XG4gICAgICAgIGJhZy5sZW5ndGggPSBkZWYubGVuZ3RoO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gZGVmLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB1dGlsLmdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpO1xuICAgICAgICBjb25zdCB0b29CaWcgPSBsZW5ndGggPiBkZWYubGVuZ3RoO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIC4uLnRvb0JpZyA/IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubGVuZ3RoXG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICAgICAgbWluaW11bTogZGVmLmxlbmd0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnRcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1N0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tTdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZik9PntcbiAgICB2YXIgX2EsIF9iO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpPT57XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5mb3JtYXQgPSBkZWYuZm9ybWF0O1xuICAgICAgICBpZiAoZGVmLnBhdHRlcm4pIHtcbiAgICAgICAgICAgIGJhZy5wYXR0ZXJucyA/PyAoYmFnLnBhdHRlcm5zID0gbmV3IFNldCgpKTtcbiAgICAgICAgICAgIGJhZy5wYXR0ZXJucy5hZGQoZGVmLnBhdHRlcm4pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGRlZi5wYXR0ZXJuKSAoX2EgPSBpbnN0Ll96b2QpLmNoZWNrID8/IChfYS5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBkZWYucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAoZGVmLnBhdHRlcm4udGVzdChwYXlsb2FkLnZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgLi4uZGVmLnBhdHRlcm4gPyB7XG4gICAgICAgICAgICAgICAgcGF0dGVybjogZGVmLnBhdHRlcm4udG9TdHJpbmcoKVxuICAgICAgICAgICAgfSA6IHt9LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVsc2UgKF9iID0gaW5zdC5fem9kKS5jaGVjayA/PyAoX2IuY2hlY2sgPSAoKT0+e30pO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrUmVnZXggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrUmVnZXhcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kQ2hlY2tTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBkZWYucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAoZGVmLnBhdHRlcm4udGVzdChwYXlsb2FkLnZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJyZWdleFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBwYXR0ZXJuOiBkZWYucGF0dGVybi50b1N0cmluZygpLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tMb3dlckNhc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTG93ZXJDYXNlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5sb3dlcmNhc2UpO1xuICAgICRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tVcHBlckNhc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrVXBwZXJDYXNlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51cHBlcmNhc2UpO1xuICAgICRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tJbmNsdWRlcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tJbmNsdWRlc1wiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgZXNjYXBlZFJlZ2V4ID0gdXRpbC5lc2NhcGVSZWdleChkZWYuaW5jbHVkZXMpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKHR5cGVvZiBkZWYucG9zaXRpb24gPT09IFwibnVtYmVyXCIgPyBgXi57JHtkZWYucG9zaXRpb259fSR7ZXNjYXBlZFJlZ2V4fWAgOiBlc2NhcGVkUmVnZXgpO1xuICAgIGRlZi5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLnBhdHRlcm5zID8/IChiYWcucGF0dGVybnMgPSBuZXcgU2V0KCkpO1xuICAgICAgICBiYWcucGF0dGVybnMuYWRkKHBhdHRlcm4pO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZS5pbmNsdWRlcyhkZWYuaW5jbHVkZXMsIGRlZi5wb3NpdGlvbikpIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIGluY2x1ZGVzOiBkZWYuaW5jbHVkZXMsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrU3RhcnRzV2l0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tTdGFydHNXaXRoXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgXiR7dXRpbC5lc2NhcGVSZWdleChkZWYucHJlZml4KX0uKmApO1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHBhdHRlcm4pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KT0+e1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGJhZy5wYXR0ZXJucy5hZGQocGF0dGVybik7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpPT57XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlLnN0YXJ0c1dpdGgoZGVmLnByZWZpeCkpIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwic3RhcnRzX3dpdGhcIixcbiAgICAgICAgICAgIHByZWZpeDogZGVmLnByZWZpeCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tFbmRzV2l0aCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tFbmRzV2l0aFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYC4qJHt1dGlsLmVzY2FwZVJlZ2V4KGRlZi5zdWZmaXgpfSRgKTtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSBwYXR0ZXJuKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLnBhdHRlcm5zID8/IChiYWcucGF0dGVybnMgPSBuZXcgU2V0KCkpO1xuICAgICAgICBiYWcucGF0dGVybnMuYWRkKHBhdHRlcm4pO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZS5lbmRzV2l0aChkZWYuc3VmZml4KSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJlbmRzX3dpdGhcIixcbiAgICAgICAgICAgIHN1ZmZpeDogZGVmLnN1ZmZpeCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLyAgICAkWm9kQ2hlY2tQcm9wZXJ0eSAgICAvLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGhhbmRsZUNoZWNrUHJvcGVydHlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBwcm9wZXJ0eSkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKHByb3BlcnR5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RDaGVja1Byb3BlcnR5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1Byb3BlcnR5XCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnNjaGVtYS5fem9kLnJ1bih7XG4gICAgICAgICAgICB2YWx1ZTogcGF5bG9hZC52YWx1ZVtkZWYucHJvcGVydHldLFxuICAgICAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgICB9LCB7fSk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCk9PmhhbmRsZUNoZWNrUHJvcGVydHlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBkZWYucHJvcGVydHkpKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVDaGVja1Byb3BlcnR5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgZGVmLnByb3BlcnR5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW1lVHlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNaW1lVHlwZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgbWltZVNldCA9IG5ldyBTZXQoZGVmLm1pbWUpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KT0+e1xuICAgICAgICBpbnN0Ll96b2QuYmFnLm1pbWUgPSBkZWYubWltZTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgaWYgKG1pbWVTZXQuaGFzKHBheWxvYWQudmFsdWUudHlwZSkpIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlczogZGVmLm1pbWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZS50eXBlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tPdmVyd3JpdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrT3ZlcndyaXRlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi50eChwYXlsb2FkLnZhbHVlKTtcbiAgICB9O1xufSk7XG4iLCAiZXhwb3J0IGNsYXNzIERvYyB7XG4gICAgY29uc3RydWN0b3IoYXJncyA9IFtdKXtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gW107XG4gICAgICAgIHRoaXMuaW5kZW50ID0gMDtcbiAgICAgICAgaWYgKHRoaXMpIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgfVxuICAgIGluZGVudGVkKGZuKSB7XG4gICAgICAgIHRoaXMuaW5kZW50ICs9IDE7XG4gICAgICAgIGZuKHRoaXMpO1xuICAgICAgICB0aGlzLmluZGVudCAtPSAxO1xuICAgIH1cbiAgICB3cml0ZShhcmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYXJnKHRoaXMsIHtcbiAgICAgICAgICAgICAgICBleGVjdXRpb246IFwic3luY1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFyZyh0aGlzLCB7XG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uOiBcImFzeW5jXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhcmc7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdChcIlxcblwiKS5maWx0ZXIoKHgpPT54KTtcbiAgICAgICAgY29uc3QgbWluSW5kZW50ID0gTWF0aC5taW4oLi4ubGluZXMubWFwKCh4KT0+eC5sZW5ndGggLSB4LnRyaW1TdGFydCgpLmxlbmd0aCkpO1xuICAgICAgICBjb25zdCBkZWRlbnRlZCA9IGxpbmVzLm1hcCgoeCk9Pnguc2xpY2UobWluSW5kZW50KSkubWFwKCh4KT0+XCIgXCIucmVwZWF0KHRoaXMuaW5kZW50ICogMikgKyB4KTtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGRlZGVudGVkKXtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBpbGUoKSB7XG4gICAgICAgIGNvbnN0IEYgPSBGdW5jdGlvbjtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXM/LmFyZ3M7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzPy5jb250ZW50ID8/IFtcbiAgICAgICAgICAgIGBgXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGxpbmVzID0gW1xuICAgICAgICAgICAgLi4uY29udGVudC5tYXAoKHgpPT5gICAke3h9YClcbiAgICAgICAgXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cobGluZXMuam9pbihcIlxcblwiKSk7XG4gICAgICAgIHJldHVybiBuZXcgRiguLi5hcmdzLCBsaW5lcy5qb2luKFwiXFxuXCIpKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSB7XG4gICAgbWFqb3I6IDQsXG4gICAgbWlub3I6IDEsXG4gICAgcGF0Y2g6IDExXG59O1xuIiwgImltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHsgRG9jIH0gZnJvbSBcIi4vZG9jLmpzXCI7XG5pbXBvcnQgeyBwYXJzZSwgcGFyc2VBc3luYywgc2FmZVBhcnNlLCBzYWZlUGFyc2VBc3luYyB9IGZyb20gXCIuL3BhcnNlLmpzXCI7XG5pbXBvcnQgKiBhcyByZWdleGVzIGZyb20gXCIuL3JlZ2V4ZXMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL3ZlcnNpb25zLmpzXCI7XG5leHBvcnQgY29uc3QgJFpvZFR5cGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFR5cGVcIiwgKGluc3QsIGRlZik9PntcbiAgICB2YXIgX2E7XG4gICAgaW5zdCA/PyAoaW5zdCA9IHt9KTtcbiAgICBpbnN0Ll96b2QuZGVmID0gZGVmOyAvLyBzZXQgX2RlZiBwcm9wZXJ0eVxuICAgIGluc3QuX3pvZC5iYWcgPSBpbnN0Ll96b2QuYmFnIHx8IHt9OyAvLyBpbml0aWFsaXplIF9iYWcgb2JqZWN0XG4gICAgaW5zdC5fem9kLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIGNvbnN0IGNoZWNrcyA9IFtcbiAgICAgICAgLi4uaW5zdC5fem9kLmRlZi5jaGVja3MgPz8gW11cbiAgICBdO1xuICAgIC8vIGlmIGluc3QgaXMgaXRzZWxmIGEgY2hlY2tzLiRab2RDaGVjaywgcnVuIGl0IGFzIGEgY2hlY2tcbiAgICBpZiAoaW5zdC5fem9kLnRyYWl0cy5oYXMoXCIkWm9kQ2hlY2tcIikpIHtcbiAgICAgICAgY2hlY2tzLnVuc2hpZnQoaW5zdCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2ggb2YgY2hlY2tzKXtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBjaC5fem9kLm9uYXR0YWNoKXtcbiAgICAgICAgICAgIGZuKGluc3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaGVja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIGRlZmVycmVkIGluaXRpYWxpemVyXG4gICAgICAgIC8vIGluc3QuX3pvZC5wYXJzZSBpcyBub3QgeWV0IGRlZmluZWRcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS5kZWZlcnJlZCA/PyAoX2EuZGVmZXJyZWQgPSBbXSk7XG4gICAgICAgIGluc3QuX3pvZC5kZWZlcnJlZD8ucHVzaCgoKT0+e1xuICAgICAgICAgICAgaW5zdC5fem9kLnJ1biA9IGluc3QuX3pvZC5wYXJzZTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcnVuQ2hlY2tzID0gKHBheWxvYWQsIGNoZWNrcywgY3R4KT0+e1xuICAgICAgICAgICAgbGV0IGlzQWJvcnRlZCA9IHV0aWwuYWJvcnRlZChwYXlsb2FkKTtcbiAgICAgICAgICAgIGxldCBhc3luY1Jlc3VsdDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2ggb2YgY2hlY2tzKXtcbiAgICAgICAgICAgICAgICBpZiAoY2guX3pvZC5kZWYud2hlbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRSdW4gPSBjaC5fem9kLmRlZi53aGVuKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJ1bikgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Fib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJMZW4gPSBwYXlsb2FkLmlzc3Vlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgXyA9IGNoLl96b2QuY2hlY2socGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgaWYgKF8gaW5zdGFuY2VvZiBQcm9taXNlICYmIGN0eD8uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhc3luY1Jlc3VsdCB8fCBfIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBhc3luY1Jlc3VsdCA9IChhc3luY1Jlc3VsdCA/PyBQcm9taXNlLnJlc29sdmUoKSkudGhlbihhc3luYyAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgXztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRMZW4gPSBwYXlsb2FkLmlzc3Vlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dExlbiA9PT0gY3VyckxlbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Fib3J0ZWQpIGlzQWJvcnRlZCA9IHV0aWwuYWJvcnRlZChwYXlsb2FkLCBjdXJyTGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dExlbiA9IHBheWxvYWQuaXNzdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMZW4gPT09IGN1cnJMZW4pIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWJvcnRlZCkgaXNBYm9ydGVkID0gdXRpbC5hYm9ydGVkKHBheWxvYWQsIGN1cnJMZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3luY1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3luY1Jlc3VsdC50aGVuKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNvbnN0IGhhbmRsZUNoZWNrc1Jlc3VsdCA9IChcbiAgICAgICAgLy8gICBjaGVja1Jlc3VsdDogUGFyc2VQYXlsb2FkLFxuICAgICAgICAvLyAgIG9yaWdpbmFsUmVzdWx0OiBQYXJzZVBheWxvYWQsXG4gICAgICAgIC8vICAgY3R4OiBQYXJzZUNvbnRleHRJbnRlcm5hbFxuICAgICAgICAvLyApOiB1dGlsLk1heWJlQXN5bmM8UGFyc2VQYXlsb2FkPiA9PiB7XG4gICAgICAgIC8vICAgLy8gaWYgdGhlIGNoZWNrcyBtdXRhdGVkIHRoZSB2YWx1ZSAmJiB0aGVyZSBhcmUgbm8gaXNzdWVzLCByZS1wYXJzZSB0aGUgcmVzdWx0XG4gICAgICAgIC8vICAgaWYgKGNoZWNrUmVzdWx0LnZhbHVlICE9PSBvcmlnaW5hbFJlc3VsdC52YWx1ZSAmJiAhY2hlY2tSZXN1bHQuaXNzdWVzLmxlbmd0aClcbiAgICAgICAgLy8gICAgIHJldHVybiBpbnN0Ll96b2QucGFyc2UoY2hlY2tSZXN1bHQsIGN0eCk7XG4gICAgICAgIC8vICAgcmV0dXJuIG9yaWdpbmFsUmVzdWx0O1xuICAgICAgICAvLyB9O1xuICAgICAgICBjb25zdCBoYW5kbGVDYW5hcnlSZXN1bHQgPSAoY2FuYXJ5LCBwYXlsb2FkLCBjdHgpPT57XG4gICAgICAgICAgICAvLyBhYm9ydCBpZiB0aGUgY2FuYXJ5IGlzIGFib3J0ZWRcbiAgICAgICAgICAgIGlmICh1dGlsLmFib3J0ZWQoY2FuYXJ5KSkge1xuICAgICAgICAgICAgICAgIGNhbmFyeS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuYXJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcnVuIGNoZWNrcyBmaXJzdCwgdGhlblxuICAgICAgICAgICAgY29uc3QgY2hlY2tSZXN1bHQgPSBydW5DaGVja3MocGF5bG9hZCwgY2hlY2tzLCBjdHgpO1xuICAgICAgICAgICAgaWYgKGNoZWNrUmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguYXN5bmMgPT09IGZhbHNlKSB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGVja1Jlc3VsdC50aGVuKChjaGVja1Jlc3VsdCk9Pmluc3QuX3pvZC5wYXJzZShjaGVja1Jlc3VsdCwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdC5fem9kLnBhcnNlKGNoZWNrUmVzdWx0LCBjdHgpO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0Ll96b2QucnVuID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgICAgIGlmIChjdHguc2tpcENoZWNrcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0Ll96b2QucGFyc2UocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBydW4gY2FuYXJ5XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbCBwYXNzIChubyBjaGVja3MpXG4gICAgICAgICAgICAgICAgY29uc3QgY2FuYXJ5ID0gaW5zdC5fem9kLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgc2tpcENoZWNrczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjYW5hcnkgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5hcnkudGhlbigoY2FuYXJ5KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNhbmFyeVJlc3VsdChjYW5hcnksIHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2FuYXJ5UmVzdWx0KGNhbmFyeSwgcGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvcndhcmRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGluc3QuX3pvZC5wYXJzZShwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmFzeW5jID09PSBmYWxzZSkgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCk9PnJ1bkNoZWNrcyhyZXN1bHQsIGNoZWNrcywgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVuQ2hlY2tzKHJlc3VsdCwgY2hlY2tzLCBjdHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpbnN0W1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlKT0+e1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gc2FmZVBhcnNlKGluc3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gci5zdWNjZXNzID8ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogci5kYXRhXG4gICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiByLmVycm9yPy5pc3N1ZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzYWZlUGFyc2VBc3luYyhpbnN0LCB2YWx1ZSkudGhlbigocik9PnIuc3VjY2VzcyA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlczogci5lcnJvcj8uaXNzdWVzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgIHZlcnNpb246IDFcbiAgICB9O1xufSk7XG5leHBvcnQgeyBjbG9uZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCAkWm9kU3RyaW5nID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTdHJpbmdcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBbXG4gICAgICAgIC4uLmluc3Q/Ll96b2QuYmFnPy5wYXR0ZXJucyA/PyBbXVxuICAgIF0ucG9wKCkgPz8gcmVnZXhlcy5zdHJpbmcoaW5zdC5fem9kLmJhZyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF8pPT57XG4gICAgICAgIGlmIChkZWYuY29lcmNlKSB0cnkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IFN0cmluZyhwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoXykge31cbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3RcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RTdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBjaGVjayBpbml0aWFsaXphdGlvbiBtdXN0IGNvbWUgZmlyc3RcbiAgICBjaGVja3MuJFpvZENoZWNrU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RHVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RHVUlEXCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5ndWlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVVUlEXCIsIChpbnN0LCBkZWYpPT57XG4gICAgaWYgKGRlZi52ZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IHZlcnNpb25NYXAgPSB7XG4gICAgICAgICAgICB2MTogMSxcbiAgICAgICAgICAgIHYyOiAyLFxuICAgICAgICAgICAgdjM6IDMsXG4gICAgICAgICAgICB2NDogNCxcbiAgICAgICAgICAgIHY1OiA1LFxuICAgICAgICAgICAgdjY6IDYsXG4gICAgICAgICAgICB2NzogNyxcbiAgICAgICAgICAgIHY4OiA4XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHYgPSB2ZXJzaW9uTWFwW2RlZi52ZXJzaW9uXTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFVVSUQgdmVyc2lvbjogXCIke2RlZi52ZXJzaW9ufVwiYCk7XG4gICAgICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudXVpZCh2KSk7XG4gICAgfSBlbHNlIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudXVpZCgpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFbWFpbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW1haWxcIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmVtYWlsKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVSTFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVHJpbSB3aGl0ZXNwYWNlIGZyb20gaW5wdXRcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBwYXlsb2FkLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodHJpbW1lZCk7XG4gICAgICAgICAgICBpZiAoZGVmLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVmLmhvc3RuYW1lLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWYuaG9zdG5hbWUudGVzdCh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogXCJJbnZhbGlkIGhvc3RuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiByZWdleGVzLmhvc3RuYW1lLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWYucHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICBkZWYucHJvdG9jb2wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZi5wcm90b2NvbC50ZXN0KHVybC5wcm90b2NvbC5lbmRzV2l0aChcIjpcIikgPyB1cmwucHJvdG9jb2wuc2xpY2UoMCwgLTEpIDogdXJsLnByb3RvY29sKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW52YWxpZCBwcm90b2NvbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogZGVmLnByb3RvY29sLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aGUgb3V0cHV0IHZhbHVlIGJhc2VkIG9uIG5vcm1hbGl6ZSBmbGFnXG4gICAgICAgICAgICBpZiAoZGVmLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBub3JtYWxpemVkIFVSTFxuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB1cmwuaHJlZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgdGhlIG9yaWdpbmFsIGlucHV0ICh0cmltbWVkKVxuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB0cmltbWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFbW9qaSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW1vamlcIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmVtb2ppKCkpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE5hbm9JRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTmFub0lEXCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5uYW5vaWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENVSURcIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmN1aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENVSUQyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDVUlEMlwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuY3VpZDIpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVMSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVMSURcIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnVsaWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFhJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kWElEXCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy54aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEtTVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RLU1VJRFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMua3N1aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT0RhdGVUaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJU09EYXRlVGltZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZGF0ZXRpbWUoZGVmKSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPRGF0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPRGF0ZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZGF0ZSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPVGltZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudGltZShkZWYpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJU09EdXJhdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPRHVyYXRpb25cIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmR1cmF0aW9uKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJUHY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJUHY0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5pcHY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGBpcHY0YDtcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJUHY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJUHY2XCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5pcHY2KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLmZvcm1hdCA9IGBpcHY2YDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG5ldyBVUkwoYGh0dHA6Ly9bJHtwYXlsb2FkLnZhbHVlfV1gKTtcbiAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICB9IGNhdGNoICB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImlwdjZcIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ0lEUnY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDSURSdjRcIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmNpZHJ2NCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ0lEUnY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDSURSdjZcIiwgKGluc3QsIGRlZik9PntcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmNpZHJ2Nik7IC8vIG5vdCB1c2VkIGZvciB2YWxpZGF0aW9uXG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpPT57XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF5bG9hZC52YWx1ZS5zcGxpdChcIi9cIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAyKSB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIGNvbnN0IFthZGRyZXNzLCBwcmVmaXhdID0gcGFydHM7XG4gICAgICAgICAgICBpZiAoIXByZWZpeCkgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXhOdW0gPSBOdW1iZXIocHJlZml4KTtcbiAgICAgICAgICAgIGlmIChgJHtwcmVmaXhOdW19YCAhPT0gcHJlZml4KSB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIGlmIChwcmVmaXhOdW0gPCAwIHx8IHByZWZpeE51bSA+IDEyOCkgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBuZXcgVVJMKGBodHRwOi8vWyR7YWRkcmVzc31dYCk7XG4gICAgICAgIH0gY2F0Y2ggIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiY2lkcnY2XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gICBab2RCYXNlNjQgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQmFzZTY0KGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gXCJcIikgcmV0dXJuIHRydWU7XG4gICAgaWYgKGRhdGEubGVuZ3RoICUgNCAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXRvYihkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RCYXNlNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJhc2U2NFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuYmFzZTY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCk9PntcbiAgICAgICAgaW5zdC5fem9kLmJhZy5jb250ZW50RW5jb2RpbmcgPSBcImJhc2U2NFwiO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBpZiAoaXNWYWxpZEJhc2U2NChwYXlsb2FkLnZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJiYXNlNjRcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFpvZEJhc2U2NCAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRCYXNlNjRVUkwoZGF0YSkge1xuICAgIGlmICghcmVnZXhlcy5iYXNlNjR1cmwudGVzdChkYXRhKSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGJhc2U2NCA9IGRhdGEucmVwbGFjZSgvWy1fXS9nLCAoYyk9PmMgPT09IFwiLVwiID8gXCIrXCIgOiBcIi9cIik7XG4gICAgY29uc3QgcGFkZGVkID0gYmFzZTY0LnBhZEVuZChNYXRoLmNlaWwoYmFzZTY0Lmxlbmd0aCAvIDQpICogNCwgXCI9XCIpO1xuICAgIHJldHVybiBpc1ZhbGlkQmFzZTY0KHBhZGRlZCk7XG59XG5leHBvcnQgY29uc3QgJFpvZEJhc2U2NFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmFzZTY0VVJMXCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5iYXNlNjR1cmwpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KT0+e1xuICAgICAgICBpbnN0Ll96b2QuYmFnLmNvbnRlbnRFbmNvZGluZyA9IFwiYmFzZTY0dXJsXCI7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpPT57XG4gICAgICAgIGlmIChpc1ZhbGlkQmFzZTY0VVJMKHBheWxvYWQudmFsdWUpKSByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnRcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFMTY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RFMTY0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5lMTY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgWm9kSldUICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEpXVCh0b2tlbiwgYWxnb3JpdGhtID0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2Vuc1BhcnRzID0gdG9rZW4uc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAodG9rZW5zUGFydHMubGVuZ3RoICE9PSAzKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gdG9rZW5zUGFydHM7XG4gICAgICAgIGlmICghaGVhZGVyKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgcGFyc2VkSGVhZGVyID0gSlNPTi5wYXJzZShhdG9iKGhlYWRlcikpO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBwYXJzZWRIZWFkZXIgJiYgcGFyc2VkSGVhZGVyPy50eXAgIT09IFwiSldUXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwYXJzZWRIZWFkZXIuYWxnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGdvcml0aG0gJiYgKCEoXCJhbGdcIiBpbiBwYXJzZWRIZWFkZXIpIHx8IHBhcnNlZEhlYWRlci5hbGcgIT09IGFsZ29yaXRobSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RKV1QgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEpXVFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKT0+e1xuICAgICAgICBpZiAoaXNWYWxpZEpXVChwYXlsb2FkLnZhbHVlLCBkZWYuYWxnKSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJqd3RcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ3VzdG9tU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDdXN0b21TdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgaWYgKGRlZi5mbihwYXlsb2FkLnZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVtYmVyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROdW1iZXJcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBpbnN0Ll96b2QuYmFnLnBhdHRlcm4gPz8gcmVnZXhlcy5udW1iZXI7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpPT57XG4gICAgICAgIGlmIChkZWYuY29lcmNlKSB0cnkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IE51bWJlcihwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoXykge31cbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiICYmICFOdW1iZXIuaXNOYU4oaW5wdXQpICYmIE51bWJlci5pc0Zpbml0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlY2VpdmVkID0gdHlwZW9mIGlucHV0ID09PSBcIm51bWJlclwiID8gTnVtYmVyLmlzTmFOKGlucHV0KSA/IFwiTmFOXCIgOiAhTnVtYmVyLmlzRmluaXRlKGlucHV0KSA/IFwiSW5maW5pdHlcIiA6IHVuZGVmaW5lZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJudW1iZXJcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAuLi5yZWNlaXZlZCA/IHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZFxuICAgICAgICAgICAgfSA6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE51bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVtYmVyXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY2hlY2tzLiRab2RDaGVja051bWJlckZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZE51bWJlci5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3NwXG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQm9vbGVhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQm9vbGVhblwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMuYm9vbGVhbjtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCk9PntcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpIHRyeSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gQm9vbGVhbihwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoXykge31cbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcImJvb2xlYW5cIikgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RCaWdJbnQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJpZ0ludFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMuYmlnaW50O1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSkgdHJ5IHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBCaWdJbnQocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHt9XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSA9PT0gXCJiaWdpbnRcIikgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEJpZ0ludEZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmlnSW50XCIsIChpbnN0LCBkZWYpPT57XG4gICAgY2hlY2tzLiRab2RDaGVja0JpZ0ludEZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZEJpZ0ludC5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3Ncbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RTeW1ib2wgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN5bWJvbFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN5bWJvbFwiKSByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJzeW1ib2xcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3RcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVW5kZWZpbmVkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVbmRlZmluZWRcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSByZWdleGVzLnVuZGVmaW5lZDtcbiAgICBpbnN0Ll96b2QudmFsdWVzID0gbmV3IFNldChbXG4gICAgICAgIHVuZGVmaW5lZFxuICAgIF0pO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICBpbnN0Ll96b2Qub3B0b3V0ID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdWxsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROdWxsXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy5udWxsO1xuICAgIGluc3QuX3pvZC52YWx1ZXMgPSBuZXcgU2V0KFtcbiAgICAgICAgbnVsbFxuICAgIF0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibnVsbFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RBbnkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEFueVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCk9PnBheWxvYWQ7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVW5rbm93biA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVW5rbm93blwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCk9PnBheWxvYWQ7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmV2ZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE5ldmVyXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcIm5ldmVyXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFZvaWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFZvaWRcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpPT57XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwidm9pZFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2REYXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2REYXRlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IERhdGUocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChfZXJyKSB7fVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgaXNEYXRlID0gaW5wdXQgaW5zdGFuY2VvZiBEYXRlO1xuICAgICAgICBjb25zdCBpc1ZhbGlkRGF0ZSA9IGlzRGF0ZSAmJiAhTnVtYmVyLmlzTmFOKGlucHV0LmdldFRpbWUoKSk7XG4gICAgICAgIGlmIChpc1ZhbGlkRGF0ZSkgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgLi4uaXNEYXRlID8ge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcIkludmFsaWQgRGF0ZVwiXG4gICAgICAgICAgICB9IDoge30sXG4gICAgICAgICAgICBpbnN0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVBcnJheVJlc3VsdChyZXN1bHQsIGZpbmFsLCBpbmRleCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhpbmRleCwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbiAgICBmaW5hbC52YWx1ZVtpbmRleF0gPSByZXN1bHQudmFsdWU7XG59XG5leHBvcnQgY29uc3QgJFpvZEFycmF5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RBcnJheVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBBcnJheShpbnB1dC5sZW5ndGgpO1xuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGlucHV0W2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmVsZW1lbnQuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCk9PmhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQXJyYXlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCk9PnBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkOyAvL2hhbmRsZUFycmF5UmVzdWx0c0FzeW5jKHBhcnNlUmVzdWx0cywgZmluYWwpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5UmVzdWx0KHJlc3VsdCwgZmluYWwsIGtleSwgaW5wdXQpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoa2V5IGluIGlucHV0KSB7XG4gICAgICAgICAgICBmaW5hbC52YWx1ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWwudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVEZWYoZGVmKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRlZi5zaGFwZSk7XG4gICAgZm9yIChjb25zdCBrIG9mIGtleXMpe1xuICAgICAgICBpZiAoIWRlZi5zaGFwZT8uW2tdPy5fem9kPy50cmFpdHM/LmhhcyhcIiRab2RUeXBlXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWxlbWVudCBhdCBrZXkgXCIke2t9XCI6IGV4cGVjdGVkIGEgWm9kIHNjaGVtYWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG9rZXlzID0gdXRpbC5vcHRpb25hbEtleXMoZGVmLnNoYXBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5kZWYsXG4gICAgICAgIGtleXMsXG4gICAgICAgIGtleVNldDogbmV3IFNldChrZXlzKSxcbiAgICAgICAgbnVtS2V5czoga2V5cy5sZW5ndGgsXG4gICAgICAgIG9wdGlvbmFsS2V5czogbmV3IFNldChva2V5cylcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFuZGxlQ2F0Y2hhbGwocHJvbXMsIGlucHV0LCBwYXlsb2FkLCBjdHgsIGRlZiwgaW5zdCkge1xuICAgIGNvbnN0IHVucmVjb2duaXplZCA9IFtdO1xuICAgIC8vIGl0ZXJhdGUgb3ZlciBpbnB1dCBrZXlzXG4gICAgY29uc3Qga2V5U2V0ID0gZGVmLmtleVNldDtcbiAgICBjb25zdCBfY2F0Y2hhbGwgPSBkZWYuY2F0Y2hhbGwuX3pvZDtcbiAgICBjb25zdCB0ID0gX2NhdGNoYWxsLmRlZi50eXBlO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGlucHV0KSl7XG4gICAgICAgIGlmIChrZXlTZXQuaGFzKGtleSkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAodCA9PT0gXCJuZXZlclwiKSB7XG4gICAgICAgICAgICB1bnJlY29nbml6ZWQucHVzaChrZXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IF9jYXRjaGFsbC5ydW4oe1xuICAgICAgICAgICAgdmFsdWU6IGlucHV0W2tleV0sXG4gICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgIH0sIGN0eCk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbXMucHVzaChyLnRoZW4oKHIpPT5oYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0KSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlUHJvcGVydHlSZXN1bHQociwgcGF5bG9hZCwga2V5LCBpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVucmVjb2duaXplZC5sZW5ndGgpIHtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgICAgICAgICBrZXlzOiB1bnJlY29nbml6ZWQsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3RcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghcHJvbXMubGVuZ3RoKSByZXR1cm4gcGF5bG9hZDtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCk9PntcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgJFpvZE9iamVjdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kT2JqZWN0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgLy8gcmVxdWlyZXMgY2FzdCBiZWNhdXNlIHRlY2huaWNhbGx5ICRab2RPYmplY3QgZG9lc24ndCBleHRlbmRcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gY29uc3Qgc2ggPSBkZWYuc2hhcGU7XG4gICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmLCBcInNoYXBlXCIpO1xuICAgIGlmICghZGVzYz8uZ2V0KSB7XG4gICAgICAgIGNvbnN0IHNoID0gZGVmLnNoYXBlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVmLCBcInNoYXBlXCIsIHtcbiAgICAgICAgICAgIGdldDogKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2hcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWYsIFwic2hhcGVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3U2hcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBfbm9ybWFsaXplZCA9IHV0aWwuY2FjaGVkKCgpPT5ub3JtYWxpemVEZWYoZGVmKSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpPT57XG4gICAgICAgIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlO1xuICAgICAgICBjb25zdCBwcm9wVmFsdWVzID0ge307XG4gICAgICAgIGZvcihjb25zdCBrZXkgaW4gc2hhcGUpe1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trZXldID8/IChwcm9wVmFsdWVzW2tleV0gPSBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmaWVsZC52YWx1ZXMpcHJvcFZhbHVlc1trZXldLmFkZCh2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlcztcbiAgICB9KTtcbiAgICBjb25zdCBpc09iamVjdCA9IHV0aWwuaXNPYmplY3Q7XG4gICAgY29uc3QgY2F0Y2hhbGwgPSBkZWYuY2F0Y2hhbGw7XG4gICAgbGV0IHZhbHVlO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpPT57XG4gICAgICAgIHZhbHVlID8/ICh2YWx1ZSA9IF9ub3JtYWxpemVkLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSB7fTtcbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB2YWx1ZS5zaGFwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdmFsdWUua2V5cyl7XG4gICAgICAgICAgICBjb25zdCBlbCA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCByID0gZWwuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dFtrZXldLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHIudGhlbigocik9PmhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY2F0Y2hhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9tcy5sZW5ndGggPyBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKT0+cGF5bG9hZCkgOiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVDYXRjaGFsbChwcm9tcywgaW5wdXQsIHBheWxvYWQsIGN0eCwgX25vcm1hbGl6ZWQudmFsdWUsIGluc3QpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kT2JqZWN0SklUID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RPYmplY3RKSVRcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyByZXF1aXJlcyBjYXN0IGJlY2F1c2UgdGVjaG5pY2FsbHkgJFpvZE9iamVjdCBkb2Vzbid0IGV4dGVuZFxuICAgICRab2RPYmplY3QuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHN1cGVyUGFyc2UgPSBpbnN0Ll96b2QucGFyc2U7XG4gICAgY29uc3QgX25vcm1hbGl6ZWQgPSB1dGlsLmNhY2hlZCgoKT0+bm9ybWFsaXplRGVmKGRlZikpO1xuICAgIGNvbnN0IGdlbmVyYXRlRmFzdHBhc3MgPSAoc2hhcGUpPT57XG4gICAgICAgIGNvbnN0IGRvYyA9IG5ldyBEb2MoW1xuICAgICAgICAgICAgXCJzaGFwZVwiLFxuICAgICAgICAgICAgXCJwYXlsb2FkXCIsXG4gICAgICAgICAgICBcImN0eFwiXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gX25vcm1hbGl6ZWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHBhcnNlU3RyID0gKGtleSk9PntcbiAgICAgICAgICAgIGNvbnN0IGsgPSB1dGlsLmVzYyhrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGBzaGFwZVske2t9XS5fem9kLnJ1bih7IHZhbHVlOiBpbnB1dFske2t9XSwgaXNzdWVzOiBbXSB9LCBjdHgpYDtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jLndyaXRlKGBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7YCk7XG4gICAgICAgIGNvbnN0IGlkcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygbm9ybWFsaXplZC5rZXlzKXtcbiAgICAgICAgICAgIGlkc1trZXldID0gYGtleV8ke2NvdW50ZXIrK31gO1xuICAgICAgICB9XG4gICAgICAgIC8vIEE6IHByZXNlcnZlIGtleSBvcmRlciB7XG4gICAgICAgIGRvYy53cml0ZShgY29uc3QgbmV3UmVzdWx0ID0ge307YCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIG5vcm1hbGl6ZWQua2V5cyl7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGlkc1trZXldO1xuICAgICAgICAgICAgY29uc3QgayA9IHV0aWwuZXNjKGtleSk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoYGNvbnN0ICR7aWR9ID0gJHtwYXJzZVN0cihrZXkpfTtgKTtcbiAgICAgICAgICAgIGRvYy53cml0ZShgXG4gICAgICAgIGlmICgke2lkfS5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcGF5bG9hZC5pc3N1ZXMgPSBwYXlsb2FkLmlzc3Vlcy5jb25jYXQoJHtpZH0uaXNzdWVzLm1hcChpc3MgPT4gKHtcbiAgICAgICAgICAgIC4uLmlzcyxcbiAgICAgICAgICAgIHBhdGg6IGlzcy5wYXRoID8gWyR7a30sIC4uLmlzcy5wYXRoXSA6IFske2t9XVxuICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBpZiAoJHtpZH0udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgke2t9IGluIGlucHV0KSB7XG4gICAgICAgICAgICBuZXdSZXN1bHRbJHtrfV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Jlc3VsdFske2t9XSA9ICR7aWR9LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgYCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jLndyaXRlKGBwYXlsb2FkLnZhbHVlID0gbmV3UmVzdWx0O2ApO1xuICAgICAgICBkb2Mud3JpdGUoYHJldHVybiBwYXlsb2FkO2ApO1xuICAgICAgICBjb25zdCBmbiA9IGRvYy5jb21waWxlKCk7XG4gICAgICAgIHJldHVybiAocGF5bG9hZCwgY3R4KT0+Zm4oc2hhcGUsIHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbiAgICBsZXQgZmFzdHBhc3M7XG4gICAgY29uc3QgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuICAgIGNvbnN0IGppdCA9ICFjb3JlLmdsb2JhbENvbmZpZy5qaXRsZXNzO1xuICAgIGNvbnN0IGFsbG93c0V2YWwgPSB1dGlsLmFsbG93c0V2YWw7XG4gICAgY29uc3QgZmFzdEVuYWJsZWQgPSBqaXQgJiYgYWxsb3dzRXZhbC52YWx1ZTsgLy8gJiYgIWRlZi5jYXRjaGFsbDtcbiAgICBjb25zdCBjYXRjaGFsbCA9IGRlZi5jYXRjaGFsbDtcbiAgICBsZXQgdmFsdWU7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgdmFsdWUgPz8gKHZhbHVlID0gX25vcm1hbGl6ZWQudmFsdWUpO1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGppdCAmJiBmYXN0RW5hYmxlZCAmJiBjdHg/LmFzeW5jID09PSBmYWxzZSAmJiBjdHguaml0bGVzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gYWx3YXlzIHN5bmNocm9ub3VzXG4gICAgICAgICAgICBpZiAoIWZhc3RwYXNzKSBmYXN0cGFzcyA9IGdlbmVyYXRlRmFzdHBhc3MoZGVmLnNoYXBlKTtcbiAgICAgICAgICAgIHBheWxvYWQgPSBmYXN0cGFzcyhwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKCFjYXRjaGFsbCkgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2F0Y2hhbGwoW10sIGlucHV0LCBwYXlsb2FkLCBjdHgsIHZhbHVlLCBpbnN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXJQYXJzZShwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBmaW5hbCwgaW5zdCwgY3R4KSB7XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cyl7XG4gICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZmluYWwudmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gZmluYWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9uYWJvcnRlZCA9IHJlc3VsdHMuZmlsdGVyKChyKT0+IXV0aWwuYWJvcnRlZChyKSk7XG4gICAgaWYgKG5vbmFib3J0ZWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZpbmFsLnZhbHVlID0gbm9uYWJvcnRlZFswXS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5vbmFib3J0ZWRbMF07XG4gICAgfVxuICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgY29kZTogXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgICAgIGlucHV0OiBmaW5hbC52YWx1ZSxcbiAgICAgICAgaW5zdCxcbiAgICAgICAgZXJyb3JzOiByZXN1bHRzLm1hcCgocmVzdWx0KT0+cmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcyk9PnV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKVxuICAgIH0pO1xuICAgIHJldHVybiBmaW5hbDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kVW5pb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVuaW9uXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCk9PmRlZi5vcHRpb25zLnNvbWUoKG8pPT5vLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikgPyBcIm9wdGlvbmFsXCIgOiB1bmRlZmluZWQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpPT5kZWYub3B0aW9ucy5zb21lKChvKT0+by5fem9kLm9wdG91dCA9PT0gXCJvcHRpb25hbFwiKSA/IFwib3B0aW9uYWxcIiA6IHVuZGVmaW5lZCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCk9PntcbiAgICAgICAgaWYgKGRlZi5vcHRpb25zLmV2ZXJ5KChvKT0+by5fem9kLnZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2V0KGRlZi5vcHRpb25zLmZsYXRNYXAoKG9wdGlvbik9PkFycmF5LmZyb20ob3B0aW9uLl96b2QudmFsdWVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpPT57XG4gICAgICAgIGlmIChkZWYub3B0aW9ucy5ldmVyeSgobyk9Pm8uX3pvZC5wYXR0ZXJuKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybnMgPSBkZWYub3B0aW9ucy5tYXAoKG8pPT5vLl96b2QucGF0dGVybik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigke3BhdHRlcm5zLm1hcCgocCk9PnV0aWwuY2xlYW5SZWdleChwLnNvdXJjZSkpLmpvaW4oXCJ8XCIpfSkkYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBjb25zdCBzaW5nbGUgPSBkZWYub3B0aW9ucy5sZW5ndGggPT09IDE7XG4gICAgY29uc3QgZmlyc3QgPSBkZWYub3B0aW9uc1swXS5fem9kLnJ1bjtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBpZiAoc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXN5bmMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucyl7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYXN5bmMpIHJldHVybiBoYW5kbGVVbmlvblJlc3VsdHMocmVzdWx0cywgcGF5bG9hZCwgaW5zdCwgY3R4KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpLnRoZW4oKHJlc3VsdHMpPT57XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlVW5pb25SZXN1bHRzKHJlc3VsdHMsIHBheWxvYWQsIGluc3QsIGN0eCk7XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2REaXNjcmltaW5hdGVkVW5pb25cIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVW5pb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IF9zdXBlciA9IGluc3QuX3pvZC5wYXJzZTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCk9PntcbiAgICAgICAgY29uc3QgcHJvcFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucyl7XG4gICAgICAgICAgICBjb25zdCBwdiA9IG9wdGlvbi5fem9kLnByb3BWYWx1ZXM7XG4gICAgICAgICAgICBpZiAoIXB2IHx8IE9iamVjdC5rZXlzKHB2KS5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkaXNjcmltaW5hdGVkIHVuaW9uIG9wdGlvbiBhdCBpbmRleCBcIiR7ZGVmLm9wdGlvbnMuaW5kZXhPZihvcHRpb24pfVwiYCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhwdikpe1xuICAgICAgICAgICAgICAgIGlmICghcHJvcFZhbHVlc1trXSkgcHJvcFZhbHVlc1trXSA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB2KXtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trXS5hZGQodmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZXM7XG4gICAgfSk7XG4gICAgY29uc3QgZGlzYyA9IHV0aWwuY2FjaGVkKCgpPT57XG4gICAgICAgIGNvbnN0IG9wdHMgPSBkZWYub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb3B0cyl7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvLl96b2QucHJvcFZhbHVlcz8uW2RlZi5kaXNjcmltaW5hdG9yXTtcbiAgICAgICAgICAgIGlmICghdmFsdWVzIHx8IHZhbHVlcy5zaXplID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGlzY3JpbWluYXRlZCB1bmlvbiBvcHRpb24gYXQgaW5kZXggXCIke2RlZi5vcHRpb25zLmluZGV4T2Yobyl9XCJgKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZXMpe1xuICAgICAgICAgICAgICAgIGlmIChtYXAuaGFzKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIGRpc2NyaW1pbmF0b3IgdmFsdWUgXCIke1N0cmluZyh2KX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXAuc2V0KHYsIG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIXV0aWwuaXNPYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0ID0gZGlzYy52YWx1ZS5nZXQoaW5wdXQ/LltkZWYuZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi51bmlvbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gbWF0Y2hpbmcgZGlzY3JpbWluYXRvclxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF91bmlvblwiLFxuICAgICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICAgIG5vdGU6IFwiTm8gbWF0Y2hpbmcgZGlzY3JpbWluYXRvclwiLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcjogZGVmLmRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHBhdGg6IFtcbiAgICAgICAgICAgICAgICBkZWYuZGlzY3JpbWluYXRvclxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGluc3RcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSW50ZXJzZWN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJbnRlcnNlY3Rpb25cIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmxlZnQuX3pvZC5ydW4oe1xuICAgICAgICAgICAgdmFsdWU6IGlucHV0LFxuICAgICAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgICB9LCBjdHgpO1xuICAgICAgICBjb25zdCByaWdodCA9IGRlZi5yaWdodC5fem9kLnJ1bih7XG4gICAgICAgICAgICB2YWx1ZTogaW5wdXQsXG4gICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgIH0sIGN0eCk7XG4gICAgICAgIGNvbnN0IGFzeW5jID0gbGVmdCBpbnN0YW5jZW9mIFByb21pc2UgfHwgcmlnaHQgaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgICAgICBpZiAoYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgICAgICByaWdodFxuICAgICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhwYXlsb2FkLCBsZWZ0LCByaWdodCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhwYXlsb2FkLCBsZWZ0LCByaWdodCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIC8vIGNvbnN0IGFUeXBlID0gcGFyc2UudChhKTtcbiAgICAvLyBjb25zdCBiVHlwZSA9IHBhcnNlLnQoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogYVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoYSBpbnN0YW5jZW9mIERhdGUgJiYgYiBpbnN0YW5jZW9mIERhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHV0aWwuaXNQbGFpbk9iamVjdChhKSAmJiB1dGlsLmlzUGxhaW5PYmplY3QoYikpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IE9iamVjdC5rZXlzKGEpLmZpbHRlcigoa2V5KT0+YktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHtcbiAgICAgICAgICAgIC4uLmEsXG4gICAgICAgICAgICAuLi5iXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpe1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXJnZUVycm9yUGF0aDogW1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2hhcmVkVmFsdWUubWVyZ2VFcnJvclBhdGhcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogbmV3T2JqXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGEpICYmIEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVyZ2VFcnJvclBhdGg6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvcihsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKXtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VFcnJvclBhdGg6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2hhcmVkVmFsdWUubWVyZ2VFcnJvclBhdGhcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IG5ld0FycmF5XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgbWVyZ2VFcnJvclBhdGg6IFtdXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUludGVyc2VjdGlvblJlc3VsdHMocmVzdWx0LCBsZWZ0LCByaWdodCkge1xuICAgIGlmIChsZWZ0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0Lmlzc3Vlcy5wdXNoKC4uLmxlZnQuaXNzdWVzKTtcbiAgICB9XG4gICAgaWYgKHJpZ2h0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0Lmlzc3Vlcy5wdXNoKC4uLnJpZ2h0Lmlzc3Vlcyk7XG4gICAgfVxuICAgIGlmICh1dGlsLmFib3J0ZWQocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhsZWZ0LnZhbHVlLCByaWdodC52YWx1ZSk7XG4gICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbm1lcmdhYmxlIGludGVyc2VjdGlvbi4gRXJyb3IgcGF0aDogYCArIGAke0pTT04uc3RyaW5naWZ5KG1lcmdlZC5tZXJnZUVycm9yUGF0aCl9YCk7XG4gICAgfVxuICAgIHJlc3VsdC52YWx1ZSA9IG1lcmdlZC5kYXRhO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFR1cGxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUdXBsZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBpdGVtcyA9IGRlZi5pdGVtcztcbiAgICBjb25zdCBvcHRTdGFydCA9IGl0ZW1zLmxlbmd0aCAtIFtcbiAgICAgICAgLi4uaXRlbXNcbiAgICBdLnJldmVyc2UoKS5maW5kSW5kZXgoKGl0ZW0pPT5pdGVtLl96b2Qub3B0aW4gIT09IFwib3B0aW9uYWxcIik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gW107XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGlmICghZGVmLnJlc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0Lmxlbmd0aCA+IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQubGVuZ3RoIDwgb3B0U3RhcnQgLSAxO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAuLi50b29CaWcgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGl0ZW1zLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGl0ZW1zLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBcImFycmF5XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpe1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPj0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gb3B0U3RhcnQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaXRlbS5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0W2ldLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCk9PmhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVHVwbGVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3QgPSBpbnB1dC5zbGljZShpdGVtcy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiByZXN0KXtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnJlc3QuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZWwsXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCk9PmhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKSByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCk9PnBheWxvYWQpO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIGZpbmFsLCBpbmRleCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhpbmRleCwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbiAgICBmaW5hbC52YWx1ZVtpbmRleF0gPSByZXN1bHQudmFsdWU7XG59XG5leHBvcnQgY29uc3QgJFpvZFJlY29yZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUmVjb3JkXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpPT57XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCF1dGlsLmlzUGxhaW5PYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgaWYgKGRlZi5rZXlUeXBlLl96b2QudmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBkZWYua2V5VHlwZS5fem9kLnZhbHVlcztcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHZhbHVlcyl7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGtleSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0W2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdW5yZWNvZ25pemVkO1xuICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBpbnB1dCl7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5yZWNvZ25pemVkID0gdW5yZWNvZ25pemVkID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICB1bnJlY29nbml6ZWQucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bnJlY29nbml6ZWQgJiYgdW5yZWNvZ25pemVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAga2V5czogdW5yZWNvZ25pemVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBSZWZsZWN0Lm93bktleXMoaW5wdXQpKXtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIl9fcHJvdG9fX1wiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlSZXN1bHQgPSBkZWYua2V5VHlwZS5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHNjaGVtYXMgbm90IHN1cHBvcnRlZCBpbiBvYmplY3Qga2V5cyBjdXJyZW50bHlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXlSZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9rZXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlczoga2V5UmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcyk9PnV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSBrZXlSZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0W2tleV0sXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21zLnB1c2gocmVzdWx0LnRoZW4oKHJlc3VsdCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZVtrZXlSZXN1bHQudmFsdWVdID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCk9PnBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTWFwID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RNYXBcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIShpbnB1dCBpbnN0YW5jZW9mIE1hcCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm1hcFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBpbnB1dCl7XG4gICAgICAgICAgICBjb25zdCBrZXlSZXN1bHQgPSBkZWYua2V5VHlwZS5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVSZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXVxuICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChrZXlSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHZhbHVlUmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2goUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBrZXlSZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlUmVzdWx0XG4gICAgICAgICAgICAgICAgXSkudGhlbigoW2tleVJlc3VsdCwgdmFsdWVSZXN1bHRdKT0+e1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVNYXBSZXN1bHQoa2V5UmVzdWx0LCB2YWx1ZVJlc3VsdCwgcGF5bG9hZCwga2V5LCBpbnB1dCwgaW5zdCwgY3R4KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZU1hcFJlc3VsdChrZXlSZXN1bHQsIHZhbHVlUmVzdWx0LCBwYXlsb2FkLCBrZXksIGlucHV0LCBpbnN0LCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKT0+cGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZU1hcFJlc3VsdChrZXlSZXN1bHQsIHZhbHVlUmVzdWx0LCBmaW5hbCwga2V5LCBpbnB1dCwgaW5zdCwgY3R4KSB7XG4gICAgaWYgKGtleVJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh1dGlsLnByb3BlcnR5S2V5VHlwZXMuaGFzKHR5cGVvZiBrZXkpKSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIGtleVJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfa2V5XCIsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm1hcFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBrZXlSZXN1bHQuaXNzdWVzLm1hcCgoaXNzKT0+dXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh2YWx1ZVJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh1dGlsLnByb3BlcnR5S2V5VHlwZXMuaGFzKHR5cGVvZiBrZXkpKSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHZhbHVlUmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJtYXBcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZWxlbWVudFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgaXNzdWVzOiB2YWx1ZVJlc3VsdC5pc3N1ZXMubWFwKChpc3MpPT51dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluYWwudmFsdWUuc2V0KGtleVJlc3VsdC52YWx1ZSwgdmFsdWVSZXN1bHQudmFsdWUpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RTZXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFNldFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgU2V0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJzZXRcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpbnB1dCl7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpPT5oYW5kbGVTZXRSZXN1bHQocmVzdWx0LCBwYXlsb2FkKSkpO1xuICAgICAgICAgICAgfSBlbHNlIGhhbmRsZVNldFJlc3VsdChyZXN1bHQsIHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKT0+cGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVNldFJlc3VsdChyZXN1bHQsIGZpbmFsKSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5pc3N1ZXMpO1xuICAgIH1cbiAgICBmaW5hbC52YWx1ZS5hZGQocmVzdWx0LnZhbHVlKTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kRW51bSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW51bVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCB2YWx1ZXMgPSB1dGlsLmdldEVudW1WYWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgIGNvbnN0IHZhbHVlc1NldCA9IG5ldyBTZXQodmFsdWVzKTtcbiAgICBpbnN0Ll96b2QudmFsdWVzID0gdmFsdWVzU2V0O1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gbmV3IFJlZ0V4cChgXigke3ZhbHVlcy5maWx0ZXIoKGspPT51dGlsLnByb3BlcnR5S2V5VHlwZXMuaGFzKHR5cGVvZiBrKSkubWFwKChvKT0+dHlwZW9mIG8gPT09IFwic3RyaW5nXCIgPyB1dGlsLmVzY2FwZVJlZ2V4KG8pIDogby50b1N0cmluZygpKS5qb2luKFwifFwiKX0pJGApO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZXNTZXQuaGFzKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RMaXRlcmFsXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGlmIChkZWYudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGxpdGVyYWwgc2NoZW1hIHdpdGggbm8gdmFsaWQgdmFsdWVzXCIpO1xuICAgIH1cbiAgICBpbnN0Ll96b2QudmFsdWVzID0gbmV3IFNldChkZWYudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IG5ldyBSZWdFeHAoYF4oJHtkZWYudmFsdWVzLm1hcCgobyk9PnR5cGVvZiBvID09PSBcInN0cmluZ1wiID8gdXRpbC5lc2NhcGVSZWdleChvKSA6IG8gPyB1dGlsLmVzY2FwZVJlZ2V4KG8udG9TdHJpbmcoKSkgOiBTdHJpbmcobykpLmpvaW4oXCJ8XCIpfSkkYCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpPT57XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGluc3QuX3pvZC52YWx1ZXMuaGFzKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlczogZGVmLnZhbHVlcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RGaWxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RGaWxlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KT0+e1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgRmlsZSkgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZmlsZVwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RUcmFuc2Zvcm0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFRyYW5zZm9ybVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kRW5jb2RlRXJyb3IoaW5zdC5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBfb3V0ID0gZGVmLnRyYW5zZm9ybShwYXlsb2FkLnZhbHVlLCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKGN0eC5hc3luYykge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gX291dCBpbnN0YW5jZW9mIFByb21pc2UgPyBfb3V0IDogUHJvbWlzZS5yZXNvbHZlKF9vdXQpO1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50aGVuKChvdXRwdXQpPT57XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfb3V0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gX291dDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnB1dCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCAmJiBpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNvbnN0ICRab2RPcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kT3B0aW9uYWxcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5vcHRvdXQgPSBcIm9wdGlvbmFsXCI7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCk9PntcbiAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMgPyBuZXcgU2V0KFtcbiAgICAgICAgICAgIC4uLmRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMsXG4gICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgXSkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpPT57XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBkZWYuaW5uZXJUeXBlLl96b2QucGF0dGVybjtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPyBuZXcgUmVnRXhwKGBeKCR7dXRpbC5jbGVhblJlZ2V4KHBhdHRlcm4uc291cmNlKX0pPyRgKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBpZiAoZGVmLmlubmVyVHlwZS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSByZXR1cm4gcmVzdWx0LnRoZW4oKHIpPT5oYW5kbGVPcHRpb25hbFJlc3VsdChyLCBwYXlsb2FkLnZhbHVlKSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVsbGFibGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE51bGxhYmxlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCk9PmRlZi5pbm5lclR5cGUuX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCk9PmRlZi5pbm5lclR5cGUuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKT0+e1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gZGVmLmlubmVyVHlwZS5fem9kLnBhdHRlcm47XG4gICAgICAgIHJldHVybiBwYXR0ZXJuID8gbmV3IFJlZ0V4cChgXigke3V0aWwuY2xlYW5SZWdleChwYXR0ZXJuLnNvdXJjZSl9fG51bGwpJGApIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpPT57XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzID8gbmV3IFNldChbXG4gICAgICAgICAgICAuLi5kZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICBdKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYWxsb3cgbnVsbCB0byBwYXNzIHRocm91Z2hcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUgPT09IG51bGwpIHJldHVybiBwYXlsb2FkO1xuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRGVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRGVmYXVsdFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICAvLyBpbnN0Ll96b2QucWluID0gXCJ0cnVlXCI7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpPT5kZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIChkZWNvZGUpOiBhcHBseSBkZWZhdWx0cyBmb3IgdW5kZWZpbmVkIGlucHV0XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAkWm9kRGVmYXVsdCByZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlIGltbWVkaWF0ZWx5IGluIGZvcndhcmQgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICogSXQgZG9lc24ndCBwYXNzIHRoZSBkZWZhdWx0IHZhbHVlIGludG8gdGhlIHZhbGlkYXRvciAoXCJwcmVmYXVsdFwiKS4gVGhlcmUncyBubyByZWFzb24gdG8gcGFzcyB0aGUgZGVmYXVsdCB2YWx1ZSB0aHJvdWdoIHZhbGlkYXRpb24uIFRoZSB2YWxpZGl0eSBvZiB0aGUgZGVmYXVsdCBpcyBlbmZvcmNlZCBieSBUeXBlU2NyaXB0IHN0YXRpY2FsbHkuIE90aGVyd2lzZSwgaXQncyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIHVzZXIgdG8gZW5zdXJlIHRoZSBkZWZhdWx0IGlzIHZhbGlkLiBJbiB0aGUgY2FzZSBvZiBwaXBlcyB3aXRoIGRpdmVyZ2VudCBpbi9vdXQgdHlwZXMsIHlvdSBjYW4gc3BlY2lmeSB0aGUgZGVmYXVsdCBvbiB0aGUgYGluYCBzY2hlbWEgb2YgeW91ciBab2RQaXBlIHRvIHNldCBhIFwicHJlZmF1bHRcIiBmb3IgdGhlIHBpcGUuICAgKi8gcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb246IGNvbnRpbnVlIHdpdGggZGVmYXVsdCBoYW5kbGluZ1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCk9PmhhbmRsZURlZmF1bHRSZXN1bHQocmVzdWx0LCBkZWYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlRGVmYXVsdFJlc3VsdChyZXN1bHQsIGRlZik7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlRGVmYXVsdFJlc3VsdChwYXlsb2FkLCBkZWYpIHtcbiAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kUHJlZmF1bHQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFByZWZhdWx0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKT0+ZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYXBwbHkgcHJlZmF1bHQgZm9yIHVuZGVmaW5lZCBpbnB1dFxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTm9uT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE5vbk9wdGlvbmFsXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpPT57XG4gICAgICAgIGNvbnN0IHYgPSBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzO1xuICAgICAgICByZXR1cm4gdiA/IG5ldyBTZXQoW1xuICAgICAgICAgICAgLi4udlxuICAgICAgICBdLmZpbHRlcigoeCk9PnggIT09IHVuZGVmaW5lZCkpIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpPT57XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KT0+aGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZU5vbk9wdGlvbmFsUmVzdWx0KHJlc3VsdCwgaW5zdCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocGF5bG9hZCwgaW5zdCkge1xuICAgIGlmICghcGF5bG9hZC5pc3N1ZXMubGVuZ3RoICYmIHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBleHBlY3RlZDogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kU3VjY2VzcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU3VjY2Vzc1wiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kRW5jb2RlRXJyb3IoXCJab2RTdWNjZXNzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KT0+e1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDYXRjaCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2F0Y2hcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKT0+ZGVmLmlubmVyVHlwZS5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKT0+ZGVmLmlubmVyVHlwZS5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCk9PmRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpPT57XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFwcGx5IGNhdGNoIGxvZ2ljXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KT0+e1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpPT51dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3VlcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogcmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcyk9PnV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3VlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmFOID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROYU5cIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpPT57XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSAhPT0gXCJudW1iZXJcIiB8fCAhTnVtYmVyLmlzTmFOKHBheWxvYWQudmFsdWUpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcIm5hblwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RQaXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RQaXBlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpPT5kZWYuaW4uX3pvZC52YWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCk9PmRlZi5pbi5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKT0+ZGVmLm91dC5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwcm9wVmFsdWVzXCIsICgpPT5kZWYuaW4uX3pvZC5wcm9wVmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KT0+e1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGRlZi5vdXQuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyaWdodCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlnaHQudGhlbigocmlnaHQpPT5oYW5kbGVQaXBlUmVzdWx0KHJpZ2h0LCBkZWYuaW4sIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBpcGVSZXN1bHQocmlnaHQsIGRlZi5pbiwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmluLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnQudGhlbigobGVmdCk9PmhhbmRsZVBpcGVSZXN1bHQobGVmdCwgZGVmLm91dCwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZVBpcGVSZXN1bHQobGVmdCwgZGVmLm91dCwgY3R4KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVQaXBlUmVzdWx0KGxlZnQsIG5leHQsIGN0eCkge1xuICAgIGlmIChsZWZ0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gcHJldmVudCBmdXJ0aGVyIGNoZWNrc1xuICAgICAgICBsZWZ0LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQuX3pvZC5ydW4oe1xuICAgICAgICB2YWx1ZTogbGVmdC52YWx1ZSxcbiAgICAgICAgaXNzdWVzOiBsZWZ0Lmlzc3Vlc1xuICAgIH0sIGN0eCk7XG59XG5leHBvcnQgY29uc3QgJFpvZENvZGVjID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDb2RlY1wiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKT0+ZGVmLmluLl96b2QudmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpPT5kZWYuaW4uX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCk9PmRlZi5vdXQuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKT0+ZGVmLmluLl96b2QucHJvcFZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY3R4LmRpcmVjdGlvbiB8fCBcImZvcndhcmRcIjtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBkZWYuaW4uX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0LnRoZW4oKGxlZnQpPT5oYW5kbGVDb2RlY0FSZXN1bHQobGVmdCwgZGVmLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVDb2RlY0FSZXN1bHQobGVmdCwgZGVmLCBjdHgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBkZWYub3V0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmlnaHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0LnRoZW4oKHJpZ2h0KT0+aGFuZGxlQ29kZWNBUmVzdWx0KHJpZ2h0LCBkZWYsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjQVJlc3VsdChyaWdodCwgZGVmLCBjdHgpO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlQ29kZWNBUmVzdWx0KHJlc3VsdCwgZGVmLCBjdHgpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gcHJldmVudCBmdXJ0aGVyIGNoZWNrc1xuICAgICAgICByZXN1bHQuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGN0eC5kaXJlY3Rpb24gfHwgXCJmb3J3YXJkXCI7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCIpIHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSBkZWYudHJhbnNmb3JtKHJlc3VsdC52YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWVkIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkLnRoZW4oKHZhbHVlKT0+aGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHZhbHVlLCBkZWYub3V0LCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHRyYW5zZm9ybWVkLCBkZWYub3V0LCBjdHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gZGVmLnJldmVyc2VUcmFuc2Zvcm0ocmVzdWx0LnZhbHVlLCByZXN1bHQpO1xuICAgICAgICBpZiAodHJhbnNmb3JtZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQudGhlbigodmFsdWUpPT5oYW5kbGVDb2RlY1R4UmVzdWx0KHJlc3VsdCwgdmFsdWUsIGRlZi5pbiwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB0cmFuc2Zvcm1lZCwgZGVmLmluLCBjdHgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUNvZGVjVHhSZXN1bHQobGVmdCwgdmFsdWUsIG5leHRTY2hlbWEsIGN0eCkge1xuICAgIC8vIENoZWNrIGlmIHRyYW5zZm9ybSBhZGRlZCBhbnkgaXNzdWVzXG4gICAgaWYgKGxlZnQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBsZWZ0LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHRTY2hlbWEuX3pvZC5ydW4oe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaXNzdWVzOiBsZWZ0Lmlzc3Vlc1xuICAgIH0sIGN0eCk7XG59XG5leHBvcnQgY29uc3QgJFpvZFJlYWRvbmx5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RSZWFkb25seVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCk9PmRlZi5pbm5lclR5cGUuX3pvZC5wcm9wVmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKT0+ZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKT0+ZGVmLmlubmVyVHlwZS5fem9kLm9wdGluKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKT0+ZGVmLmlubmVyVHlwZS5fem9kLm9wdG91dCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oaGFuZGxlUmVhZG9ubHlSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVSZWFkb25seVJlc3VsdChyZXN1bHQpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVJlYWRvbmx5UmVzdWx0KHBheWxvYWQpIHtcbiAgICBwYXlsb2FkLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShwYXlsb2FkLnZhbHVlKTtcbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kVGVtcGxhdGVMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUZW1wbGF0ZUxpdGVyYWxcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcmVnZXhQYXJ0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiBkZWYucGFydHMpe1xuICAgICAgICBpZiAodHlwZW9mIHBhcnQgPT09IFwib2JqZWN0XCIgJiYgcGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaXMgWm9kIHNjaGVtYVxuICAgICAgICAgICAgaWYgKCFwYXJ0Ll96b2QucGF0dGVybikge1xuICAgICAgICAgICAgICAgIC8vIGlmICghc291cmNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBsaXRlcmFsIHBhcnQsIG5vIHBhdHRlcm4gZm91bmQ6ICR7W1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXJ0Ll96b2QudHJhaXRzXG4gICAgICAgICAgICAgICAgXS5zaGlmdCgpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gcGFydC5fem9kLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHAgPyBwYXJ0Ll96b2QucGF0dGVybi5zb3VyY2UgOiBwYXJ0Ll96b2QucGF0dGVybjtcbiAgICAgICAgICAgIGlmICghc291cmNlKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGVtcGxhdGUgbGl0ZXJhbCBwYXJ0OiAke3BhcnQuX3pvZC50cmFpdHN9YCk7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHNvdXJjZS5zdGFydHNXaXRoKFwiXlwiKSA/IDEgOiAwO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gc291cmNlLmVuZHNXaXRoKFwiJFwiKSA/IHNvdXJjZS5sZW5ndGggLSAxIDogc291cmNlLmxlbmd0aDtcbiAgICAgICAgICAgIHJlZ2V4UGFydHMucHVzaChzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcnQgPT09IG51bGwgfHwgdXRpbC5wcmltaXRpdmVUeXBlcy5oYXModHlwZW9mIHBhcnQpKSB7XG4gICAgICAgICAgICByZWdleFBhcnRzLnB1c2godXRpbC5lc2NhcGVSZWdleChgJHtwYXJ0fWApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBsaXRlcmFsIHBhcnQ6ICR7cGFydH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IG5ldyBSZWdFeHAoYF4ke3JlZ2V4UGFydHMuam9pbihcIlwiKX0kYCk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpPT57XG4gICAgICAgIGlmICh0eXBlb2YgcGF5bG9hZC52YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpbnN0Ll96b2QucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAoIWluc3QuX3pvZC5wYXR0ZXJuLnRlc3QocGF5bG9hZC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCA/PyBcInRlbXBsYXRlX2xpdGVyYWxcIixcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBpbnN0Ll96b2QucGF0dGVybi5zb3VyY2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RGdW5jdGlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRnVuY3Rpb25cIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fZGVmID0gZGVmO1xuICAgIGluc3QuX3pvZC5kZWYgPSBkZWY7XG4gICAgaW5zdC5pbXBsZW1lbnQgPSAoZnVuYyk9PntcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImltcGxlbWVudCgpIG11c3QgYmUgY2FsbGVkIHdpdGggYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGluc3QuX2RlZi5pbnB1dCA/IHBhcnNlKGluc3QuX2RlZi5pbnB1dCwgYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmdW5jLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIGlmIChpbnN0Ll9kZWYub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlKGluc3QuX2RlZi5vdXRwdXQsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgaW5zdC5pbXBsZW1lbnRBc3luYyA9IChmdW5jKT0+e1xuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW1wbGVtZW50QXN5bmMoKSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBpbnN0Ll9kZWYuaW5wdXQgPyBhd2FpdCBwYXJzZUFzeW5jKGluc3QuX2RlZi5pbnB1dCwgYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmdW5jLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIGlmIChpbnN0Ll9kZWYub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHBhcnNlQXN5bmMoaW5zdC5fZGVmLm91dHB1dCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCk9PntcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIG91dHB1dCBpcyBhIHByb21pc2UgdHlwZSB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHVzZSBhc3luYyBpbXBsZW1lbnRhdGlvblxuICAgICAgICBjb25zdCBoYXNQcm9taXNlT3V0cHV0ID0gaW5zdC5fZGVmLm91dHB1dCAmJiBpbnN0Ll9kZWYub3V0cHV0Ll96b2QuZGVmLnR5cGUgPT09IFwicHJvbWlzZVwiO1xuICAgICAgICBpZiAoaGFzUHJvbWlzZU91dHB1dCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGluc3QuaW1wbGVtZW50QXN5bmMocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gaW5zdC5pbXBsZW1lbnQocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbiAgICBpbnN0LmlucHV0ID0gKC4uLmFyZ3MpPT57XG4gICAgICAgIGNvbnN0IEYgPSBpbnN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG5ldyAkWm9kVHVwbGUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICByZXN0OiBhcmdzWzFdXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBpbnN0Ll9kZWYub3V0cHV0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEYoe1xuICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgaW5wdXQ6IGFyZ3NbMF0sXG4gICAgICAgICAgICBvdXRwdXQ6IGluc3QuX2RlZi5vdXRwdXRcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBpbnN0Lm91dHB1dCA9IChvdXRwdXQpPT57XG4gICAgICAgIGNvbnN0IEYgPSBpbnN0LmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEYoe1xuICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgaW5wdXQ6IGluc3QuX2RlZi5pbnB1dCxcbiAgICAgICAgICAgIG91dHB1dFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBpbnN0O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFByb21pc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFByb21pc2VcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCk9PntcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXlsb2FkLnZhbHVlKS50aGVuKChpbm5lcik9PmRlZi5pbm5lclR5cGUuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpbm5lcixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgICB9LCBjdHgpKTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZExhenkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZExhenlcIiwgKGluc3QsIGRlZik9PntcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gbGV0IF9pbm5lclR5cGUhOiBhbnk7XG4gICAgLy8gdXRpbC5kZWZpbmVMYXp5KGRlZiwgXCJnZXR0ZXJcIiwgKCkgPT4ge1xuICAgIC8vICAgaWYgKCFfaW5uZXJUeXBlKSB7XG4gICAgLy8gICAgIF9pbm5lclR5cGUgPSBkZWYuZ2V0dGVyKCk7XG4gICAgLy8gICB9XG4gICAgLy8gICByZXR1cm4gKCkgPT4gX2lubmVyVHlwZTtcbiAgICAvLyB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcImlubmVyVHlwZVwiLCAoKT0+ZGVmLmdldHRlcigpKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInBhdHRlcm5cIiwgKCk9Pmluc3QuX3pvZC5pbm5lclR5cGUuX3pvZC5wYXR0ZXJuKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCk9Pmluc3QuX3pvZC5pbm5lclR5cGUuX3pvZC5wcm9wVmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpPT5pbnN0Ll96b2QuaW5uZXJUeXBlLl96b2Qub3B0aW4gPz8gdW5kZWZpbmVkKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdG91dFwiLCAoKT0+aW5zdC5fem9kLmlubmVyVHlwZS5fem9kLm9wdG91dCA/PyB1bmRlZmluZWQpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpPT57XG4gICAgICAgIGNvbnN0IGlubmVyID0gaW5zdC5fem9kLmlubmVyVHlwZTtcbiAgICAgICAgcmV0dXJuIGlubmVyLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDdXN0b20gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEN1c3RvbVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNoZWNrcy4kWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgXyk9PntcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCk9PntcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCByID0gZGVmLmZuKGlucHV0KTtcbiAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gci50aGVuKChyKT0+aGFuZGxlUmVmaW5lUmVzdWx0KHIsIHBheWxvYWQsIGlucHV0LCBpbnN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlUmVmaW5lUmVzdWx0KHIsIHBheWxvYWQsIGlucHV0LCBpbnN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVJlZmluZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGlucHV0LCBpbnN0KSB7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgY29uc3QgX2lzcyA9IHtcbiAgICAgICAgICAgIGNvZGU6IFwiY3VzdG9tXCIsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBwYXRoOiBbXG4gICAgICAgICAgICAgICAgLi4uaW5zdC5fem9kLmRlZi5wYXRoID8/IFtdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgY29udGludWU6ICFpbnN0Ll96b2QuZGVmLmFib3J0XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbnN0Ll96b2QuZGVmLnBhcmFtcykgX2lzcy5wYXJhbXMgPSBpbnN0Ll96b2QuZGVmLnBhcmFtcztcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKF9pc3MpKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IHsgZGVmYXVsdCBhcyBhciB9IGZyb20gXCIuL2FyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGF6IH0gZnJvbSBcIi4vYXouanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgYmUgfSBmcm9tIFwiLi9iZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBjYSB9IGZyb20gXCIuL2NhLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNzIH0gZnJvbSBcIi4vY3MuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGEgfSBmcm9tIFwiLi9kYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBkZSB9IGZyb20gXCIuL2RlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVuIH0gZnJvbSBcIi4vZW4uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZW8gfSBmcm9tIFwiLi9lby5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlcyB9IGZyb20gXCIuL2VzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZhIH0gZnJvbSBcIi4vZmEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZmkgfSBmcm9tIFwiLi9maS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmciB9IGZyb20gXCIuL2ZyLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZyQ0EgfSBmcm9tIFwiLi9mci1DQS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBoZSB9IGZyb20gXCIuL2hlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGh1IH0gZnJvbSBcIi4vaHUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaWQgfSBmcm9tIFwiLi9pZC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpcyB9IGZyb20gXCIuL2lzLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGl0IH0gZnJvbSBcIi4vaXQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgamEgfSBmcm9tIFwiLi9qYS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBrYSB9IGZyb20gXCIuL2thLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGtoIH0gZnJvbSBcIi4va2guanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMga20gfSBmcm9tIFwiLi9rbS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBrbyB9IGZyb20gXCIuL2tvLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGx0IH0gZnJvbSBcIi4vbHQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbWsgfSBmcm9tIFwiLi9tay5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBtcyB9IGZyb20gXCIuL21zLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG5sIH0gZnJvbSBcIi4vbmwuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgbm8gfSBmcm9tIFwiLi9uby5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBvdGEgfSBmcm9tIFwiLi9vdGEuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcHMgfSBmcm9tIFwiLi9wcy5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwbCB9IGZyb20gXCIuL3BsLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHB0IH0gZnJvbSBcIi4vcHQuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcnUgfSBmcm9tIFwiLi9ydS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzbCB9IGZyb20gXCIuL3NsLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN2IH0gZnJvbSBcIi4vc3YuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdGEgfSBmcm9tIFwiLi90YS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0aCB9IGZyb20gXCIuL3RoLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHRyIH0gZnJvbSBcIi4vdHIuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdWEgfSBmcm9tIFwiLi91YS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB1ayB9IGZyb20gXCIuL3VrLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVyIH0gZnJvbSBcIi4vdXIuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmkgfSBmcm9tIFwiLi92aS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB6aENOIH0gZnJvbSBcIi4vemgtQ04uanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgemhUVyB9IGZyb20gXCIuL3poLVRXLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHlvIH0gZnJvbSBcIi4veW8uanNcIjtcbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNjJEXHUwNjMxXHUwNjQxXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDY0QVx1MDYyQVwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjJEXHUwNjQ4XHUwNjRBXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkRcdTA2NDhcdTA2NEFcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDRcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNjI4XHUwNjMxXHUwNjRBXHUwNjJGIFx1MDYyNVx1MDY0NFx1MDY0M1x1MDYyQVx1MDYzMVx1MDY0OFx1MDY0Nlx1MDY0QVwiLFxuICAgICAgICB1cmw6IFwiXHUwNjMxXHUwNjI3XHUwNjI4XHUwNjM3XCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDYyNVx1MDY0QVx1MDY0NVx1MDY0OFx1MDYyQ1x1MDY0QVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA2MkFcdTA2MjdcdTA2MzFcdTA2NEFcdTA2MkUgXHUwNjQ4XHUwNjQ4XHUwNjQyXHUwNjJBIFx1MDYyOFx1MDY0NVx1MDYzOVx1MDY0QVx1MDYyN1x1MDYzMSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTA2MkFcdTA2MjdcdTA2MzFcdTA2NEFcdTA2MkUgXHUwNjI4XHUwNjQ1XHUwNjM5XHUwNjRBXHUwNjI3XHUwNjMxIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDY0OFx1MDY0Mlx1MDYyQSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDY0NVx1MDYyRlx1MDYyOSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNjM5XHUwNjQ2XHUwNjQ4XHUwNjI3XHUwNjQ2IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTA2MzlcdTA2NDZcdTA2NDhcdTA2MjdcdTA2NDYgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNjQ1XHUwNjJGXHUwNjQ5IFx1MDYzOVx1MDY0Nlx1MDYyN1x1MDY0OFx1MDY0QVx1MDY0NiBcdTA2MjhcdTA2MzVcdTA2NEFcdTA2M0FcdTA2MjkgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwNjQ1XHUwNjJGXHUwNjQ5IFx1MDYzOVx1MDY0Nlx1MDYyN1x1MDY0OFx1MDY0QVx1MDY0NiBcdTA2MjhcdTA2MzVcdTA2NEFcdTA2M0FcdTA2MjkgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYyOFx1MDYyQVx1MDYzMVx1MDY0NVx1MDY0QVx1MDYzMiBiYXNlNjQtZW5jb2RlZFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYyOFx1MDYyQVx1MDYzMVx1MDY0NVx1MDY0QVx1MDYzMiBiYXNlNjR1cmwtZW5jb2RlZFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjM5XHUwNjQ0XHUwNjQ5IFx1MDY0N1x1MDY0QVx1MDYyNlx1MDYyOSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNjMxXHUwNjQyXHUwNjQ1IFx1MDY0N1x1MDYyN1x1MDYyQVx1MDY0MSBcdTA2MjhcdTA2NDVcdTA2MzlcdTA2NEFcdTA2MjdcdTA2MzEgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NFwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDRcdTA2MjdcdTA2MkEgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NFx1MDYyOTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyNVx1MDYyRlx1MDYyRVx1MDYyN1x1MDY0NCAke2lzc3VlLmV4cGVjdGVkfVx1MDYwQyBcdTA2NDhcdTA2NDRcdTA2NDNcdTA2NDYgXHUwNjJBXHUwNjQ1IFx1MDYyNVx1MDYyRlx1MDYyRVx1MDYyN1x1MDY0NCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NFx1MDYyN1x1MDYyQSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0XHUwNjI5OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjI1XHUwNjJGXHUwNjJFXHUwNjI3XHUwNjQ0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjI3XHUwNjJFXHUwNjJBXHUwNjRBXHUwNjI3XHUwNjMxIFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MjdcdTA2NDZcdTA2MkFcdTA2NDJcdTA2MjdcdTA2MjEgXHUwNjIzXHUwNjJEXHUwNjJGIFx1MDY0N1x1MDYzMFx1MDY0NyBcdTA2MjdcdTA2NDRcdTA2MkVcdTA2NEFcdTA2MjdcdTA2MzFcdTA2MjdcdTA2MkE6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYCBcdTA2MjNcdTA2NDNcdTA2MjhcdTA2MzEgXHUwNjQ1XHUwNjQ2IFx1MDYyN1x1MDY0NFx1MDY0NFx1MDYyN1x1MDYzMlx1MDY0NTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyM1x1MDY0NiBcdTA2MkFcdTA2NDNcdTA2NDhcdTA2NDYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2NDRcdTA2NDJcdTA2NEFcdTA2NDVcdTA2MjlcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjNcdTA2NDNcdTA2MjhcdTA2MzEgXHUwNjQ1XHUwNjQ2IFx1MDYyN1x1MDY0NFx1MDY0NFx1MDYyN1x1MDYzMlx1MDY0NTogXHUwNjRBXHUwNjQxXHUwNjJBXHUwNjMxXHUwNjM2IFx1MDYyM1x1MDY0NiBcdTA2MkFcdTA2NDNcdTA2NDhcdTA2NDYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2NDRcdTA2NDJcdTA2NEFcdTA2NDVcdTA2MjlcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyM1x1MDYzNVx1MDYzQVx1MDYzMSBcdTA2NDVcdTA2NDYgXHUwNjI3XHUwNjQ0XHUwNjQ0XHUwNjI3XHUwNjMyXHUwNjQ1OiBcdTA2NEFcdTA2NDFcdTA2MkFcdTA2MzFcdTA2MzYgXHUwNjQ0XHUwNjQwICR7aXNzdWUub3JpZ2lufSBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjQzXHUwNjQ4XHUwNjQ2ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjIzXHUwNjM1XHUwNjNBXHUwNjMxIFx1MDY0NVx1MDY0NiBcdTA2MjdcdTA2NDRcdTA2NDRcdTA2MjdcdTA2MzJcdTA2NDU6IFx1MDY0QVx1MDY0MVx1MDYyQVx1MDYzMVx1MDYzNiBcdTA2NDRcdTA2NDAgJHtpc3N1ZS5vcmlnaW59IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2NDNcdTA2NDhcdTA2NDYgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MjhcdTA2MkZcdTA2MjMgXHUwNjI4XHUwNjQwIFwiJHtpc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2NDZcdTA2MkFcdTA2NDdcdTA2NEEgXHUwNjI4XHUwNjQwIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBcdTA2NDZcdTA2NEVcdTA2MzUgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NDogXHUwNjRBXHUwNjJDXHUwNjI4IFx1MDYyM1x1MDY0NiBcdTA2NEFcdTA2MkFcdTA2MzZcdTA2NDVcdTA2NTFcdTA2NEVcdTA2NDYgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUwNjQ2XHUwNjRFXHUwNjM1IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQ6IFx1MDY0QVx1MDYyQ1x1MDYyOCBcdTA2MjNcdTA2NDYgXHUwNjRBXHUwNjM3XHUwNjI3XHUwNjI4XHUwNjQyIFx1MDYyN1x1MDY0NFx1MDY0Nlx1MDY0NVx1MDYzNyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDRgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDY0Mlx1MDY0NSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0OiBcdTA2NEFcdTA2MkNcdTA2MjggXHUwNjIzXHUwNjQ2IFx1MDY0QVx1MDY0M1x1MDY0OFx1MDY0NiBcdTA2NDVcdTA2NDYgXHUwNjQ1XHUwNjM2XHUwNjI3XHUwNjM5XHUwNjQxXHUwNjI3XHUwNjJBICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDVcdTA2MzlcdTA2MzFcdTA2NDEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjI3XHUwNjJBXCIgOiBcIlwifSBcdTA2M0FcdTA2MzFcdTA2NEFcdTA2Mjgke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjI5XCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCJcdTA2MEMgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDYzOVx1MDYzMVx1MDY0MSBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0IFx1MDY0MVx1MDY0QSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA2NDVcdTA2MkZcdTA2MkVcdTA2NDQgXHUwNjNBXHUwNjRBXHUwNjMxIFx1MDY0NVx1MDY0Mlx1MDYyOFx1MDY0OFx1MDY0NFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ1XHUwNjJGXHUwNjJFXHUwNjQ0IFx1MDYzQVx1MDY0QVx1MDYzMSBcdTA2NDVcdTA2NDJcdTA2MjhcdTA2NDhcdTA2NDQgXHUwNjQxXHUwNjRBICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDY0NVx1MDYyRlx1MDYyRVx1MDY0NCBcdTA2M0FcdTA2NEFcdTA2MzEgXHUwNjQ1XHUwNjQyXHUwNjI4XHUwNjQ4XHUwNjQ0XCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwic2ltdm9sXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcImJheXRcIixcbiAgICAgICAgICAgIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRcIixcbiAgICAgICAgICAgIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm9sbWFsXHUwMTMxZFx1MDEzMXJcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBhZGRyZXNzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdGV0aW1lXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdGVcIixcbiAgICAgICAgdGltZTogXCJJU08gdGltZVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gZHVyYXRpb25cIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkZHJlc3NcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkZHJlc3NcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgcmFuZ2VcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgcmFuZ2VcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIHN0cmluZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgc3RyaW5nXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgbnVtYmVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnB1dFwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5cjogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLmV4cGVjdGVkfSwgZGF4aWwgb2xhbiAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBzZVx1MDBFN2ltOiBhXHUwMTVGYVx1MDExRlx1MDEzMWRha1x1MDEzMWxhcmRhbiBiaXJpIG9sbWFsXHUwMTMxZFx1MDEzMXI6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFx1MDBDN294IGJcdTAwRjZ5XHUwMEZDazogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLm9yaWdpbiA/PyBcImRcdTAyNTl5XHUwMjU5clwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN294IGJcdTAwRjZ5XHUwMEZDazogZ1x1MDBGNnpsXHUwMjU5bmlsXHUwMjU5biAke2lzc3VlLm9yaWdpbiA/PyBcImRcdTAyNTl5XHUwMjU5clwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBcdTAwQzdveCBraVx1MDBFN2lrOiBnXHUwMEY2emxcdTAyNTluaWxcdTAyNTluICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN294IGtpXHUwMEU3aWs6IGdcdTAwRjZ6bFx1MDI1OW5pbFx1MDI1OW4gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIG1cdTAyNTl0bjogXCIke19pc3N1ZS5wcmVmaXh9XCIgaWxcdTAyNTkgYmFcdTAxNUZsYW1hbFx1MDEzMWRcdTAxMzFyYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46IFwiJHtfaXNzdWUuc3VmZml4fVwiIGlsXHUwMjU5IGJpdG1cdTAyNTlsaWRpcmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgZGF4aWwgb2xtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiBtXHUwMjU5dG46ICR7X2lzc3VlLnBhdHRlcm59IFx1MDE1RmFibG9udW5hIHV5XHUwMTFGdW4gb2xtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWWFubFx1MDEzMVx1MDE1RiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFlhbmxcdTAxMzFcdTAxNUYgXHUwMjU5ZFx1MDI1OWQ6ICR7aXNzdWUuZGl2aXNvcn0gaWxcdTAyNTkgYlx1MDBGNmxcdTAwRkNuXHUwMjU5IGJpbFx1MDI1OW4gb2xtYWxcdTAxMzFkXHUwMTMxcmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRhblx1MDEzMW5tYXlhbiBhXHUwMEU3YXIke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwibGFyXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gZGF4aWxpbmRcdTAyNTkgeWFubFx1MDEzMVx1MDE1RiBhXHUwMEU3YXJgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5clwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGRheGlsaW5kXHUwMjU5IHlhbmxcdTAxMzFcdTAxNUYgZFx1MDI1OXlcdTAyNTlyYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBZYW5sXHUwMTMxXHUwMTVGIGRcdTAyNTl5XHUwMjU5cmA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmZ1bmN0aW9uIGdldEJlbGFydXNpYW5QbHVyYWwoY291bnQsIG9uZSwgZmV3LCBtYW55KSB7XG4gICAgY29uc3QgYWJzQ291bnQgPSBNYXRoLmFicyhjb3VudCk7XG4gICAgY29uc3QgbGFzdERpZ2l0ID0gYWJzQ291bnQgJSAxMDtcbiAgICBjb25zdCBsYXN0VHdvRGlnaXRzID0gYWJzQ291bnQgJSAxMDA7XG4gICAgaWYgKGxhc3RUd29EaWdpdHMgPj0gMTEgJiYgbGFzdFR3b0RpZ2l0cyA8PSAxOSkge1xuICAgICAgICByZXR1cm4gbWFueTtcbiAgICB9XG4gICAgaWYgKGxhc3REaWdpdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gb25lO1xuICAgIH1cbiAgICBpZiAobGFzdERpZ2l0ID49IDIgJiYgbGFzdERpZ2l0IDw9IDQpIHtcbiAgICAgICAgcmV0dXJuIGZldztcbiAgICB9XG4gICAgcmV0dXJuIG1hbnk7XG59XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0MVx1MDQ1Nlx1MDQzQ1x1MDQzMlx1MDQzMFx1MDQzQlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NDFcdTA0NTZcdTA0M0NcdTA0MzJcdTA0MzBcdTA0M0JcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0MVx1MDQ1Nlx1MDQzQ1x1MDQzMlx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ1RVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgIG9uZTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDRCXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzBcdTA0NUVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDM1XHUwNDQ2XHUwNDRDXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMFx1MDQ1RVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0NEJcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQzMFx1MDQ1RVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0M0NcdTA0MzVcdTA0NDZcdTA0NENcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA0M0JcdTA0NTZcdTA0M0FcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDNDXHUwNDMwXHUwNDQxXHUwNDU2XHUwNDVFXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNDQzXHUwNDMyXHUwNDNFXHUwNDM0XCIsXG4gICAgICAgIGVtYWlsOiBcImVtYWlsIFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzMFx1MDQ0MVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDQ0RFx1MDQzQ1x1MDQzRVx1MDQzNFx1MDQzN1x1MDQ1NlwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIFx1MDQ1NiBcdTA0NDdcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MDQ0N1x1MDQzMFx1MDQ0MVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDQ2XHUwNDRGXHUwNDMzXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDQ2XHUwNDRDXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzBcdTA0NDFcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzMFx1MDQ0MVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTA0MzRcdTA0NEJcdTA0NEZcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0RcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwNDM0XHUwNDRCXHUwNDRGXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEXCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA0NDBcdTA0MzBcdTA0MzRcdTA0M0VcdTA0M0EgXHUwNDQzIFx1MDQ0NFx1MDQzMFx1MDQ0MFx1MDQzQ1x1MDQzMFx1MDQ0Nlx1MDQzNSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQSBcdTA0NDMgXHUwNDQ0XHUwNDMwXHUwNDQwXHUwNDNDXHUwNDMwXHUwNDQ2XHUwNDM1IGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQVwiLFxuICAgICAgICBlMTY0OiBcIlx1MDQzRFx1MDQ0M1x1MDQzQ1x1MDQzMFx1MDQ0MCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNDQzXHUwNDMyXHUwNDNFXHUwNDM0XCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NUVcdTA0MzJcdTA0M0VcdTA0MzQ6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQ1RVx1MDQ0MVx1MDQ0RiAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDMwXHUwNDQyXHUwNDQwXHUwNDRCXHUwNDNDXHUwNDMwXHUwNDNEXHUwNDMwICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ1RVx1MDQzMlx1MDQzRVx1MDQzNDogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQzMlx1MDQzMFx1MDQ0MFx1MDQ0Qlx1MDQ0Rlx1MDQzRFx1MDQ0MjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDVFXHUwNDQxXHUwNDRGIFx1MDQzMFx1MDQzNFx1MDQzN1x1MDQ1Nlx1MDQzRCBcdTA0MzcgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFZhbHVlID0gTnVtYmVyKGlzc3VlLm1heGltdW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGdldEJlbGFydXNpYW5QbHVyYWwobWF4VmFsdWUsIHNpemluZy51bml0Lm9uZSwgc2l6aW5nLnVuaXQuZmV3LCBzaXppbmcudW5pdC5tYW55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDMwIFx1MDQzMlx1MDQ0Rlx1MDQzQlx1MDQ1Nlx1MDQzQVx1MDQ1NjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGLCBcdTA0NDhcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0NERcdTA0M0RcdTA0M0RcdTA0MzVcIn0gXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDNEXHUwNDMwICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3VuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzMCBcdTA0MzJcdTA0NEZcdTA0M0JcdTA0NTZcdTA0M0FcdTA0NTY6IFx1MDQ0N1x1MDQzMFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQzMFx1MDQ0MVx1MDQ0RiwgXHUwNDQ4XHUwNDQyXHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDREXHUwNDNEXHUwNDNEXHUwNDM1XCJ9IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzRFx1MDQzMCBcdTA0MzFcdTA0NEJcdTA0NDZcdTA0NEMgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlID0gTnVtYmVyKGlzc3VlLm1pbmltdW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGdldEJlbGFydXNpYW5QbHVyYWwobWluVmFsdWUsIHNpemluZy51bml0Lm9uZSwgc2l6aW5nLnVuaXQuZmV3LCBzaXppbmcudW5pdC5tYW55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDMwIFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0QjogXHUwNDQ3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDRGLCBcdTA0NDhcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzRlx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzRFx1MDQzRFx1MDQzMCAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0MzAgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDRCOiBcdTA0NDdcdTA0MzBcdTA0M0FcdTA0MzBcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NEYsIFx1MDQ0OFx1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDNEXHUwNDMwIFx1MDQzMVx1MDQ0Qlx1MDQ0Nlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzRlx1MDQzMFx1MDQ0N1x1MDQ0Qlx1MDQzRFx1MDQzMFx1MDQ0Nlx1MDQ0Nlx1MDQzMCBcdTA0MzcgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNEXHUwNDQ3XHUwNDMyXHUwNDMwXHUwNDQ2XHUwNDQ2XHUwNDMwIFx1MDQzRFx1MDQzMCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQ0MFx1MDQzMFx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzN1x1MDQzQ1x1MDQ0Rlx1MDQ0OFx1MDQ0N1x1MDQzMFx1MDQ0Nlx1MDQ0QyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDQwXHUwNDMwXHUwNDM0XHUwNDNFXHUwNDNBOiBcdTA0M0ZcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0RcdTA0MzVcdTA0M0QgXHUwNDMwXHUwNDM0XHUwNDNGXHUwNDMwXHUwNDMyXHUwNDRGXHUwNDM0XHUwNDMwXHUwNDQ2XHUwNDRDIFx1MDQ0OFx1MDQzMFx1MDQzMVx1MDQzQlx1MDQzRVx1MDQzRFx1MDQ0MyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDRGXHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDRCIFx1MDQzQlx1MDQ1Nlx1MDQzQTogXHUwNDNGXHUwNDMwXHUwNDMyXHUwNDU2XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzMVx1MDQ0Qlx1MDQ0Nlx1MDQ0QyBcdTA0M0FcdTA0NDBcdTA0MzBcdTA0NDJcdTA0M0RcdTA0NEJcdTA0M0MgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQ0MFx1MDQzMFx1MDQ0MVx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzRFx1MDQ0QiAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3XHUwNDRCXCIgOiBcIlx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0N1wifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3IFx1MDQ0MyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0NEIgXHUwNDVFXHUwNDMyXHUwNDNFXHUwNDM0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0NEZcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0NTZcdTA0M0JcdTA0NENcdTA0M0RcdTA0MzBcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDREXHUwNDNEXHUwNDNEXHUwNDM1IFx1MDQ1RSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQ0Rlx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQ1Nlx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0QiBcdTA0NUVcdTA0MzJcdTA0M0VcdTA0MzRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImNhclx1MDBFMGN0ZXJzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImNvbnRlbmlyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJieXRlc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJjb250ZW5pclwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImNvbnRlbmlyXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImNvbnRlbmlyXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW50cmFkYVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlXHUwMEU3YSBlbGVjdHJcdTAwRjJuaWNhXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0YSBpIGhvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSBJU09cIixcbiAgICAgICAgdGltZTogXCJob3JhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhZGEgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWRyZVx1MDBFN2EgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImFkcmVcdTAwRTdhIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInJhbmcgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicmFuZyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjYWRlbmEgY29kaWZpY2FkYSBlbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNhZGVuYSBjb2RpZmljYWRhIGVuIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjYWRlbmEgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTAwRkFtZXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyYWRhXCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRpcHVzIGludlx1MDBFMGxpZDogcydlc3BlcmF2YSAke2lzc3VlLmV4cGVjdGVkfSwgcydoYSByZWJ1dCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYFRpcHVzIGludlx1MDBFMGxpZDogcydlc3BlcmF2YSAke2lzc3VlLmV4cGVjdGVkfSwgcydoYSByZWJ1dCAke3V0aWwuZ2V0UGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgVmFsb3IgaW52XHUwMEUwbGlkOiBzJ2VzcGVyYXZhICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgT3BjaVx1MDBGMyBpbnZcdTAwRTBsaWRhOiBzJ2VzcGVyYXZhIHVuYSBkZSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwiIG8gXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJjb20gYSBtXHUwMEUweGltXCIgOiBcIm1lbnlzIGRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYE1hc3NhIGdyYW46IHMnZXNwZXJhdmEgcXVlICR7aXNzdWUub3JpZ2luID8/IFwiZWwgdmFsb3JcIn0gY29udGluZ3VcdTAwRTlzICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNYXNzYSBncmFuOiBzJ2VzcGVyYXZhIHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcImVsIHZhbG9yXCJ9IGZvcyAke2Fkan0gJHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcImNvbSBhIG1cdTAwRURuaW1cIiA6IFwibVx1MDBFOXMgZGVcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTWFzc2EgcGV0aXQ6IHMnZXNwZXJhdmEgcXVlICR7aXNzdWUub3JpZ2lufSBjb250aW5ndVx1MDBFOXMgJHthZGp9ICR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNYXNzYSBwZXRpdDogcydlc3BlcmF2YSBxdWUgJHtpc3N1ZS5vcmlnaW59IGZvcyAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQ6IGhhIGRlIGNvbWVuXHUwMEU3YXIgYW1iIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkOiBoYSBkJ2FjYWJhciBhbWIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYEZvcm1hdCBpbnZcdTAwRTBsaWQ6IGhhIGQnaW5jbG91cmUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgRm9ybWF0IGludlx1MDBFMGxpZDogaGEgZGUgY29pbmNpZGlyIGFtYiBlbCBwYXRyXHUwMEYzICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3JtYXQgaW52XHUwMEUwbGlkIHBlciBhICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTlx1MDBGQW1lcm8gaW52XHUwMEUwbGlkOiBoYSBkZSBzZXIgbVx1MDBGQWx0aXBsZSBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xhdSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBubyByZWNvbmVndWRhJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsYXUgaW52XHUwMEUwbGlkYSBhICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJhZGEgaW52XHUwMEUwbGlkYVwiOyAvLyBDb3VsZCBhbHNvIGJlIFwiVGlwdXMgZCd1bmlcdTAwRjMgaW52XHUwMEUwbGlkXCIgYnV0IFwiRW50cmFkYSBpbnZcdTAwRTBsaWRhXCIgaXMgbW9yZSBnZW5lcmFsXG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbGVtZW50IGludlx1MDBFMGxpZCBhICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTBsaWRhYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJ6bmFrXHUwMTZGXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1cdTAwRUR0XCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJiYWp0XHUwMTZGXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1cdTAwRUR0XCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwicHJ2a1x1MDE2RlwiLFxuICAgICAgICAgICAgdmVyYjogXCJtXHUwMEVEdFwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJwcnZrXHUwMTZGXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1cdTAwRUR0XCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwMTBEXHUwMEVEc2xvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMTU5ZXRcdTAxMUJ6ZWNcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJpZ2ludFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZnVua2NlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwic3ltYm9sXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInBvbGVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJyZWd1bFx1MDBFMXJuXHUwMEVEIHZcdTAwRkRyYXpcIixcbiAgICAgICAgZW1haWw6IFwiZS1tYWlsb3ZcdTAwRTEgYWRyZXNhXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0dW0gYSBcdTAxMERhcyB2ZSBmb3JtXHUwMEUxdHUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0dW0gdmUgZm9ybVx1MDBFMXR1IElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDEwRGFzIHZlIGZvcm1cdTAwRTF0dSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZG9iYSB0cnZcdTAwRTFuXHUwMEVEIElTT1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRyZXNhXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZHJlc2FcIixcbiAgICAgICAgY2lkcnY0OiBcInJvenNhaCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJyb3pzYWggSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwMTU5ZXRcdTAxMUJ6ZWMgemFrXHUwMEYzZG92YW5cdTAwRkQgdmUgZm9ybVx1MDBFMXR1IGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwMTU5ZXRcdTAxMUJ6ZWMgemFrXHUwMEYzZG92YW5cdTAwRkQgdmUgZm9ybVx1MDBFMXR1IGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJcdTAxNTlldFx1MDExQnplYyB2ZSBmb3JtXHUwMEUxdHUgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDEwRFx1MDBFRHNsbyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwidnN0dXBcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCB2c3R1cDogb1x1MDEwRGVrXHUwMEUxdlx1MDBFMW5vICR7aXNzdWUuZXhwZWN0ZWR9LCBvYmRyXHUwMTdFZW5vICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgTmVwbGF0blx1MDBGRCB2c3R1cDogb1x1MDEwRGVrXHUwMEUxdlx1MDBFMW5vICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBFMSBtb1x1MDE3RW5vc3Q6IG9cdTAxMERla1x1MDBFMXZcdTAwRTFuYSBqZWRuYSB6IGhvZG5vdCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBIb2Rub3RhIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSB2ZWxrXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIG1cdTAwRUR0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwicHJ2a1x1MDE2RlwifWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBIb2Rub3RhIGplIHBcdTAxNTlcdTAwRURsaVx1MDE2MSB2ZWxrXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIGJcdTAwRkR0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEhvZG5vdGEgamUgcFx1MDE1OVx1MDBFRGxpXHUwMTYxIG1hbFx1MDBFMTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJob2Rub3RhXCJ9IG11c1x1MDBFRCBtXHUwMEVEdCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcInBydmtcdTAxNkZcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgSG9kbm90YSBqZSBwXHUwMTU5XHUwMEVEbGlcdTAxNjEgbWFsXHUwMEUxOiAke2lzc3VlLm9yaWdpbiA/PyBcImhvZG5vdGFcIn0gbXVzXHUwMEVEIGJcdTAwRkR0ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIFx1MDE1OWV0XHUwMTFCemVjOiBtdXNcdTAwRUQgemFcdTAxMERcdTAwRURuYXQgbmEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIFx1MDE1OWV0XHUwMTFCemVjOiBtdXNcdTAwRUQga29uXHUwMTBEaXQgbmEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYE5lcGxhdG5cdTAwRkQgXHUwMTU5ZXRcdTAxMUJ6ZWM6IG11c1x1MDBFRCBvYnNhaG92YXQgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgTmVwbGF0blx1MDBGRCBcdTAxNTlldFx1MDExQnplYzogbXVzXHUwMEVEIG9kcG92XHUwMEVEZGF0IHZ6b3J1ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXBsYXRuXHUwMEZEIGZvcm1cdTAwRTF0ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBFOSBcdTAxMERcdTAwRURzbG86IG11c1x1MDBFRCBiXHUwMEZEdCBuXHUwMEUxc29ia2VtICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXpuXHUwMEUxbVx1MDBFOSBrbFx1MDBFRFx1MDEwRGU6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCBrbFx1MDBFRFx1MDEwRCB2ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk5lcGxhdG5cdTAwRkQgdnN0dXBcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcGxhdG5cdTAwRTEgaG9kbm90YSB2ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmVwbGF0blx1MDBGRCB2c3R1cGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwidGVnblwiLFxuICAgICAgICAgICAgdmVyYjogXCJoYXZkZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYnl0ZXNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiaGF2ZGVcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50ZXJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiaW5kZWhvbGR0XCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRlclwiLFxuICAgICAgICAgICAgdmVyYjogXCJpbmRlaG9sZHRcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBUeXBlTmFtZXMgPSB7XG4gICAgICAgIHN0cmluZzogXCJzdHJlbmdcIixcbiAgICAgICAgbnVtYmVyOiBcInRhbFwiLFxuICAgICAgICBib29sZWFuOiBcImJvb2xlYW5cIixcbiAgICAgICAgYXJyYXk6IFwibGlzdGVcIixcbiAgICAgICAgb2JqZWN0OiBcIm9iamVrdFwiLFxuICAgICAgICBzZXQ6IFwic1x1MDBFNnRcIixcbiAgICAgICAgZmlsZTogXCJmaWxcIlxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFR5cGVOYW1lKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIFR5cGVOYW1lc1t0eXBlXSA/PyB0eXBlO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInRhbFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJsaXN0ZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVrdFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlLW1haWxhZHJlc3NlXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdG8tIG9nIGtsb2trZXNsXHUwMEU2dFwiLFxuICAgICAgICBkYXRlOiBcIklTTy1kYXRvXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLWtsb2trZXNsXHUwMEU2dFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tdmFyaWdoZWRcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LW9tclx1MDBFNWRlXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1vbXJcdTAwRTVkZVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1zcGVrdHJ1bVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1zcGVrdHJ1bVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLXN0cmVuZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZ3QgaW5wdXQ6IGZvcnZlbnRlZGUgJHtnZXRUeXBlTmFtZShpc3N1ZS5leHBlY3RlZCl9LCBmaWsgJHtnZXRUeXBlTmFtZShwYXJzZWRUeXBlKGlzc3VlLmlucHV0KSl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgVWd5bGRpZyB2XHUwMEU2cmRpOiBmb3J2ZW50ZWRlICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZ3QgdmFsZzogZm9ydmVudGVkZSBlbiBhZiBmXHUwMEY4bGdlbmRlICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBnZXRUeXBlTmFtZShpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYEZvciBzdG9yOiBmb3J2ZW50ZWRlICR7b3JpZ2luID8/IFwidmFsdWVcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudGVyXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3Igc3RvcjogZm9ydmVudGVkZSAke29yaWdpbiA/PyBcInZhbHVlXCJ9IGhhdmRlICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gZ2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGb3IgbGlsbGU6IGZvcnZlbnRlZGUgJHtvcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRm9yIGxpbGxlOiBmb3J2ZW50ZWRlICR7b3JpZ2lufSBoYXZkZSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBza2FsIHN0YXJ0ZSBtZWQgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogc2thbCBlbmRlIG1lZCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IHNrYWwgaW5kZWhvbGRlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBza2FsIG1hdGNoZSBtXHUwMEY4bnN0ZXJldCAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWd0IHRhbDogc2thbCB2XHUwMEU2cmUgZGVsZWxpZ3QgbWVkICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiVWtlbmR0ZSBuXHUwMEY4Z2xlclwiIDogXCJVa2VuZHQgblx1MDBGOGdsZVwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlnIG5cdTAwRjhnbGUgaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJVZ3lsZGlndCBpbnB1dDogbWF0Y2hlciBpbmdlbiBhZiBkZSB0aWxsYWR0ZSB0eXBlclwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2XHUwMEU2cmRpIGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVZ3lsZGlndCBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiWmVpY2hlblwiLFxuICAgICAgICAgICAgdmVyYjogXCJ6dSBoYWJlblwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiQnl0ZXNcIixcbiAgICAgICAgICAgIHZlcmI6IFwienUgaGFiZW5cIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJFbGVtZW50ZVwiLFxuICAgICAgICAgICAgdmVyYjogXCJ6dSBoYWJlblwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJFbGVtZW50ZVwiLFxuICAgICAgICAgICAgdmVyYjogXCJ6dSBoYWJlblwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlphaGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJFaW5nYWJlXCIsXG4gICAgICAgIGVtYWlsOiBcIkUtTWFpbC1BZHJlc3NlXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiRW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLURhdHVtIHVuZCAtVWhyemVpdFwiLFxuICAgICAgICBkYXRlOiBcIklTTy1EYXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTy1VaHJ6ZWl0XCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy1EYXVlclwiLFxuICAgICAgICBpcHY0OiBcIklQdjQtQWRyZXNzZVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtQWRyZXNzZVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1CZXJlaWNoXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LUJlcmVpY2hcIixcbiAgICAgICAgYmFzZTY0OiBcIkJhc2U2NC1jb2RpZXJ0ZXIgU3RyaW5nXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJCYXNlNjQtVVJMLWNvZGllcnRlciBTdHJpbmdcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1TdHJpbmdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NC1OdW1tZXJcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIkVpbmdhYmVcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZTogZXJ3YXJ0ZXQgJHtpc3N1ZS5leHBlY3RlZH0sIGVyaGFsdGVuICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZTogZXJ3YXJ0ZXQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZSBPcHRpb246IGVyd2FydGV0IGVpbmUgdm9uICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFp1IGdyb1x1MDBERjogZXJ3YXJ0ZXQsIGRhc3MgJHtpc3N1ZS5vcmlnaW4gPz8gXCJXZXJ0XCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiRWxlbWVudGVcIn0gaGF0YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBadSBncm9cdTAwREY6IGVyd2FydGV0LCBkYXNzICR7aXNzdWUub3JpZ2luID8/IFwiV2VydFwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gaXN0YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgWnUga2xlaW46IGVyd2FydGV0LCBkYXNzICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gaGF0YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFp1IGtsZWluOiBlcndhcnRldCwgZGFzcyAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IGlzdGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIG1pdCBcIiR7X2lzc3VlLnByZWZpeH1cIiBiZWdpbm5lbmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBTdHJpbmc6IG11c3MgbWl0IFwiJHtfaXNzdWUuc3VmZml4fVwiIGVuZGVuYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgZW50aGFsdGVuYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBVbmdcdTAwRkNsdGlnZXIgU3RyaW5nOiBtdXNzIGRlbSBNdXN0ZXIgJHtfaXNzdWUucGF0dGVybn0gZW50c3ByZWNoZW5gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWc6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgWmFobDogbXVzcyBlaW4gVmllbGZhY2hlcyB2b24gJHtpc3N1ZS5kaXZpc29yfSBzZWluYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlVuYmVrYW5udGUgU2NobFx1MDBGQ3NzZWxcIiA6IFwiVW5iZWthbm50ZXIgU2NobFx1MDBGQ3NzZWxcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2VyIFNjaGxcdTAwRkNzc2VsIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlVuZ1x1MDBGQ2x0aWdlIEVpbmdhYmVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVuZ1x1MDBGQ2x0aWdlciBXZXJ0IGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5nXHUwMEZDbHRpZ2UgRWluZ2FiZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImNoYXJhY3RlcnNcIixcbiAgICAgICAgICAgIHZlcmI6IFwidG8gaGF2ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYnl0ZXNcIixcbiAgICAgICAgICAgIHZlcmI6IFwidG8gaGF2ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcIml0ZW1zXCIsXG4gICAgICAgICAgICB2ZXJiOiBcInRvIGhhdmVcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiaXRlbXNcIixcbiAgICAgICAgICAgIHZlcmI6IFwidG8gaGF2ZVwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgYWRkcmVzc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRldGltZVwiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXRlXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHRpbWVcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGR1cmF0aW9uXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZGRyZXNzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZGRyZXNzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHJhbmdlXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHJhbmdlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBzdHJpbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIHN0cmluZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IG51bWJlclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIG9wdGlvbjogZXhwZWN0ZWQgb25lIG9mICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFRvbyBiaWc6IGV4cGVjdGVkICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gdG8gaGF2ZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUb28gYmlnOiBleHBlY3RlZCAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IHRvIGJlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRvbyBzbWFsbDogZXhwZWN0ZWQgJHtpc3N1ZS5vcmlnaW59IHRvIGhhdmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRvbyBzbWFsbDogZXhwZWN0ZWQgJHtpc3N1ZS5vcmlnaW59IHRvIGJlICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBzdGFydCB3aXRoIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBlbmQgd2l0aCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgSW52YWxpZCBzdHJpbmc6IG11c3QgaW5jbHVkZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBJbnZhbGlkIHN0cmluZzogbXVzdCBtYXRjaCBwYXR0ZXJuICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBudW1iZXI6IG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVW5yZWNvZ25pemVkIGtleSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIGtleSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkIHZhbHVlIGluICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJub21icm9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmVsb1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJzZW52YWxvcmFcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImthcmFrdHJvam5cIixcbiAgICAgICAgICAgIHZlcmI6IFwiaGF2aVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYmFqdG9qblwiLFxuICAgICAgICAgICAgdmVyYjogXCJoYXZpXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbWVudG9qblwiLFxuICAgICAgICAgICAgdmVyYjogXCJoYXZpXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRvam5cIixcbiAgICAgICAgICAgIHZlcmI6IFwiaGF2aVwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiZW5pZ29cIixcbiAgICAgICAgZW1haWw6IFwicmV0YWRyZXNvXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vXHUwMTFEaW9cIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLWRhdG90ZW1wb1wiLFxuICAgICAgICBkYXRlOiBcIklTTy1kYXRvXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLXRlbXBvXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy1kYVx1MDE2RHJvXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1hZHJlc29cIixcbiAgICAgICAgaXB2NjogXCJJUHY2LWFkcmVzb1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1yYW5nb1wiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1yYW5nb1wiLFxuICAgICAgICBiYXNlNjQ6IFwiNjQtdW1lIGtvZGl0YSBrYXJha3RyYXJvXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwtNjQtdW1lIGtvZGl0YSBrYXJha3RyYXJvXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04ta2FyYWt0cmFyb1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW5vbWJyb1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW5pZ29cIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgZW5pZ286IGF0ZW5kaVx1MDExRGlzICR7aXNzdWUuZXhwZWN0ZWR9LCByaWNldmlcdTAxMURpcyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYE5ldmFsaWRhIGVuaWdvOiBhdGVuZGlcdTAxMURpcyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIG9wY2lvOiBhdGVuZGlcdTAxMURpcyB1bnUgZWwgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgVHJvIGdyYW5kYTogYXRlbmRpXHUwMTFEaXMga2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvcm9cIn0gaGF2dSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvam5cIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRybyBncmFuZGE6IGF0ZW5kaVx1MDExRGlzIGtlICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JvXCJ9IGhhdnUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvIG1hbGdyYW5kYTogYXRlbmRpXHUwMTFEaXMga2UgJHtpc3N1ZS5vcmlnaW59IGhhdnUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRybyBtYWxncmFuZGE6IGF0ZW5kaVx1MDExRGlzIGtlICR7aXNzdWUub3JpZ2lufSBlc3R1ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBrb21lbmNpXHUwMTFEaSBwZXIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBmaW5pXHUwMTFEaSBwZXIgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYE5ldmFsaWRhIGthcmFrdHJhcm86IGRldmFzIGlua2x1eml2aSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBOZXZhbGlkYSBrYXJha3RyYXJvOiBkZXZhcyBrb25ncnVpIGt1biBsYSBtb2RlbG8gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2YWxpZGEgbm9tYnJvOiBkZXZhcyBlc3RpIG9ibG8gZGUgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5la29uYXRhJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImpcIiA6IFwiXCJ9IFx1MDE1RGxvc2lsbyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJqXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZhbGlkYSBcdTAxNURsb3NpbG8gZW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV2YWxpZGEgZW5pZ29cIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIHZhbG9ybyBlbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5ldmFsaWRhIGVuaWdvYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJjYXJhY3RlcmVzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcInRlbmVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJieXRlc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJ0ZW5lclwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRvc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJ0ZW5lclwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50b3NcIixcbiAgICAgICAgICAgIHZlcmI6IFwidGVuZXJcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBUeXBlTmFtZXMgPSB7XG4gICAgICAgIHN0cmluZzogXCJ0ZXh0b1wiLFxuICAgICAgICBudW1iZXI6IFwiblx1MDBGQW1lcm9cIixcbiAgICAgICAgYm9vbGVhbjogXCJib29sZWFub1wiLFxuICAgICAgICBhcnJheTogXCJhcnJlZ2xvXCIsXG4gICAgICAgIG9iamVjdDogXCJvYmpldG9cIixcbiAgICAgICAgc2V0OiBcImNvbmp1bnRvXCIsXG4gICAgICAgIGZpbGU6IFwiYXJjaGl2b1wiLFxuICAgICAgICBkYXRlOiBcImZlY2hhXCIsXG4gICAgICAgIGJpZ2ludDogXCJuXHUwMEZBbWVybyBncmFuZGVcIixcbiAgICAgICAgc3ltYm9sOiBcInNcdTAwRURtYm9sb1wiLFxuICAgICAgICB1bmRlZmluZWQ6IFwiaW5kZWZpbmlkb1wiLFxuICAgICAgICBudWxsOiBcIm51bG9cIixcbiAgICAgICAgZnVuY3Rpb246IFwiZnVuY2lcdTAwRjNuXCIsXG4gICAgICAgIG1hcDogXCJtYXBhXCIsXG4gICAgICAgIHJlY29yZDogXCJyZWdpc3Ryb1wiLFxuICAgICAgICB0dXBsZTogXCJ0dXBsYVwiLFxuICAgICAgICBlbnVtOiBcImVudW1lcmFjaVx1MDBGM25cIixcbiAgICAgICAgdW5pb246IFwidW5pXHUwMEYzblwiLFxuICAgICAgICBsaXRlcmFsOiBcImxpdGVyYWxcIixcbiAgICAgICAgcHJvbWlzZTogXCJwcm9tZXNhXCIsXG4gICAgICAgIHZvaWQ6IFwidmFjXHUwMEVEb1wiLFxuICAgICAgICBuZXZlcjogXCJudW5jYVwiLFxuICAgICAgICB1bmtub3duOiBcImRlc2Nvbm9jaWRvXCIsXG4gICAgICAgIGFueTogXCJjdWFscXVpZXJhXCJcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUeXBlTmFtZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiBUeXBlTmFtZXNbdHlwZV0gPz8gdHlwZTtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVudHJhZGFcIixcbiAgICAgICAgZW1haWw6IFwiZGlyZWNjaVx1MDBGM24gZGUgY29ycmVvIGVsZWN0clx1MDBGM25pY29cIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJmZWNoYSB5IGhvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZmVjaGEgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaG9yYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyYWNpXHUwMEYzbiBJU09cIixcbiAgICAgICAgaXB2NDogXCJkaXJlY2NpXHUwMEYzbiBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiZGlyZWNjaVx1MDBGM24gSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicmFuZ28gSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicmFuZ28gSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiY2FkZW5hIGNvZGlmaWNhZGEgZW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwgY29kaWZpY2FkYSBlbiBiYXNlNjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2FkZW5hIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJuXHUwMEZBbWVybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50cmFkYVwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyYWRhIGludlx1MDBFMWxpZGE6IHNlIGVzcGVyYWJhICR7Z2V0VHlwZU5hbWUoaXNzdWUuZXhwZWN0ZWQpfSwgcmVjaWJpZG8gJHtnZXRUeXBlTmFtZShwYXJzZWRUeXBlKGlzc3VlLmlucHV0KSl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhOiBzZSBlc3BlcmFiYSAke2lzc3VlLmV4cGVjdGVkfSwgcmVjaWJpZG8gJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYTogc2UgZXNwZXJhYmEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcGNpXHUwMEYzbiBpbnZcdTAwRTFsaWRhOiBzZSBlc3BlcmFiYSB1bmEgZGUgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGdldFR5cGVOYW1lKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgRGVtYXNpYWRvIGdyYW5kZTogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2luID8/IFwidmFsb3JcIn0gdHV2aWVyYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvc1wifWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRGVtYXNpYWRvIGdyYW5kZTogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2luID8/IFwidmFsb3JcIn0gZnVlcmEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IGdldFR5cGVOYW1lKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgRGVtYXNpYWRvIHBlcXVlXHUwMEYxbzogc2UgZXNwZXJhYmEgcXVlICR7b3JpZ2lufSB0dXZpZXJhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBEZW1hc2lhZG8gcGVxdWVcdTAwRjFvOiBzZSBlc3BlcmFiYSBxdWUgJHtvcmlnaW59IGZ1ZXJhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSBjb21lbnphciBjb24gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSB0ZXJtaW5hciBlbiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgQ2FkZW5hIGludlx1MDBFMWxpZGE6IGRlYmUgaW5jbHVpciBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBDYWRlbmEgaW52XHUwMEUxbGlkYTogZGViZSBjb2luY2lkaXIgY29uIGVsIHBhdHJcdTAwRjNuICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZcdTAwRTFsaWRvICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTlx1MDBGQW1lcm8gaW52XHUwMEUxbGlkbzogZGViZSBzZXIgbVx1MDBGQWx0aXBsbyBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTGxhdmUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gZGVzY29ub2NpZGEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTGxhdmUgaW52XHUwMEUxbGlkYSBlbiAke2dldFR5cGVOYW1lKGlzc3VlLm9yaWdpbil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50cmFkYSBpbnZcdTAwRTFsaWRhXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxvciBpbnZcdTAwRTFsaWRvIGVuICR7Z2V0VHlwZU5hbWUoaXNzdWUub3JpZ2luKX1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJhZGEgaW52XHUwMEUxbGlkYWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNkE5XHUwNjI3XHUwNjMxXHUwNjI3XHUwNkE5XHUwNjJBXHUwNjMxXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyQVwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNjIyXHUwNkNDXHUwNjJBXHUwNjQ1XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNjIyXHUwNkNDXHUwNjJBXHUwNjQ1XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDYyRlx1MDYyN1x1MDYzNFx1MDYyQVx1MDY0NyBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA2MzlcdTA2MkZcdTA2MkZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjIyXHUwNjMxXHUwNjI3XHUwNkNDXHUwNjQ3XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyMlx1MDYyRlx1MDYzMVx1MDYzMyBcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2Q0NcdTA2NDRcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2NDhcdTA2MkNcdTA2Q0NcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNjJBXHUwNjI3XHUwNjMxXHUwNkNDXHUwNjJFIFx1MDY0OCBcdTA2MzJcdTA2NDVcdTA2MjdcdTA2NDYgXHUwNjI3XHUwNkNDXHUwNjMyXHUwNjQ4XCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjJBXHUwNjI3XHUwNjMxXHUwNkNDXHUwNjJFIFx1MDYyN1x1MDZDQ1x1MDYzMlx1MDY0OFwiLFxuICAgICAgICB0aW1lOiBcIlx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MjdcdTA2Q0NcdTA2MzJcdTA2NDhcIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNjQ1XHUwNjJGXHUwNjJBIFx1MDYzMlx1MDY0NVx1MDYyN1x1MDY0NiBcdTA2MjdcdTA2Q0NcdTA2MzJcdTA2NDhcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MDYyMlx1MDYyRlx1MDYzMVx1MDYzM1wiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwNjIyXHUwNjJGXHUwNjMxXHUwNjMzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MDYyRlx1MDYyN1x1MDY0NVx1MDY0Nlx1MDY0N1wiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTA2MkZcdTA2MjdcdTA2NDVcdTA2NDZcdTA2NDdcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNjMxXHUwNjM0XHUwNjJBXHUwNjQ3XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUwNjM5XHUwNjJGXHUwNjJGXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0NcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMTogXHUwNjQ1XHUwNkNDXHUyMDBDXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjMzXHUwNjJBICR7aXNzdWUuZXhwZWN0ZWR9IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDY0OFx1MDYyRlx1MDYwQyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSBcdTA2MkZcdTA2MzFcdTA2Q0NcdTA2MjdcdTA2NDFcdTA2MkEgXHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MzNcdTA2MkEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDZBRlx1MDYzMlx1MDZDQ1x1MDY0Nlx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDY0NVx1MDZDQ1x1MjAwQ1x1MDYyOFx1MDYyN1x1MDZDQ1x1MDYzM1x1MDYyQSBcdTA2Q0NcdTA2QTlcdTA2Q0MgXHUwNjI3XHUwNjMyICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBcdTA2NDVcdTA2Q0NcdTIwMENcdTA2MjhcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MkVcdTA2Q0NcdTA2NDRcdTA2Q0MgXHUwNjI4XHUwNjMyXHUwNjMxXHUwNkFGOiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDY0NVx1MDY0Mlx1MDYyRlx1MDYyN1x1MDYzMVwifSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA2MzlcdTA2NDZcdTA2MzVcdTA2MzFcIn0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyRVx1MDZDQ1x1MDY0NFx1MDZDQyBcdTA2MjhcdTA2MzJcdTA2MzFcdTA2QUY6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjQ1XHUwNjQyXHUwNjJGXHUwNjI3XHUwNjMxXCJ9IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjJFXHUwNkNDXHUwNjQ0XHUwNkNDIFx1MDZBOVx1MDY0OFx1MDY4Nlx1MDZBOTogJHtpc3N1ZS5vcmlnaW59IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyRVx1MDZDQ1x1MDY0NFx1MDZDQyBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2QTk6ICR7aXNzdWUub3JpZ2lufSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IFx1MDYyOFx1MDYyN1x1MDYzNFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjI4XHUwNjI3IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MDYzNFx1MDYzMVx1MDY0OFx1MDYzOSBcdTA2MzRcdTA2NDhcdTA2MkZgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MjhcdTA2MjcgXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwNjJBXHUwNjQ1XHUwNjI3XHUwNjQ1IFx1MDYzNFx1MDY0OFx1MDYyRmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MzFcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgXHUwNjM0XHUwNjI3XHUwNjQ1XHUwNjQ0IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzMVx1MDYzNFx1MDYyQVx1MDY0NyBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MjhcdTA2MjcgXHUwNjI3XHUwNjQ0XHUwNkFGXHUwNjQ4XHUwNkNDICR7X2lzc3VlLnBhdHRlcm59IFx1MDY0NVx1MDYzN1x1MDYyN1x1MDYyOFx1MDY0Mlx1MDYyQSBcdTA2MkZcdTA2MjdcdTA2MzRcdTA2MkFcdTA2NDcgXHUwNjI4XHUwNjI3XHUwNjM0XHUwNjJGYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzOVx1MDYyRlx1MDYyRiBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2NDVcdTA2MzZcdTA2MzFcdTA2MjggJHtpc3N1ZS5kaXZpc29yfSBcdTA2MjhcdTA2MjdcdTA2MzRcdTA2MkZgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2MkYke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjQ3XHUwNjI3XHUwNkNDXCIgOiBcIlwifSBcdTA2NDZcdTA2MjdcdTA2MzRcdTA2NDZcdTA2MjdcdTA2MzM6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjJGIFx1MDY0Nlx1MDYyN1x1MDYzNFx1MDY0Nlx1MDYyN1x1MDYzMyBcdTA2MkZcdTA2MzEgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2Q0MgXHUwNjQ2XHUwNjI3XHUwNjQ1XHUwNjM5XHUwNjJBXHUwNjI4XHUwNjMxYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0NVx1MDY0Mlx1MDYyRlx1MDYyN1x1MDYzMSBcdTA2NDZcdTA2MjdcdTA2NDVcdTA2MzlcdTA2MkFcdTA2MjhcdTA2MzEgXHUwNjJGXHUwNjMxICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNkNDIFx1MDY0Nlx1MDYyN1x1MDY0NVx1MDYzOVx1MDYyQVx1MDYyOFx1MDYzMWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwibWVya2tpXHUwMEU0XCIsXG4gICAgICAgICAgICBzdWJqZWN0OiBcIm1lcmtraWpvbm9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJ0YXZ1YVwiLFxuICAgICAgICAgICAgc3ViamVjdDogXCJ0aWVkb3N0b25cIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJhbGtpb3RhXCIsXG4gICAgICAgICAgICBzdWJqZWN0OiBcImxpc3RhblwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJhbGtpb3RhXCIsXG4gICAgICAgICAgICBzdWJqZWN0OiBcImpvdWtvblwiXG4gICAgICAgIH0sXG4gICAgICAgIG51bWJlcjoge1xuICAgICAgICAgICAgdW5pdDogXCJcIixcbiAgICAgICAgICAgIHN1YmplY3Q6IFwibHV2dW5cIlxuICAgICAgICB9LFxuICAgICAgICBiaWdpbnQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXCIsXG4gICAgICAgICAgICBzdWJqZWN0OiBcInN1dXJlbiBrb2tvbmFpc2x1dnVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgaW50OiB7XG4gICAgICAgICAgICB1bml0OiBcIlwiLFxuICAgICAgICAgICAgc3ViamVjdDogXCJrb2tvbmFpc2x1dnVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgdW5pdDogXCJcIixcbiAgICAgICAgICAgIHN1YmplY3Q6IFwicFx1MDBFNGl2XHUwMEU0bVx1MDBFNFx1MDBFNHJcdTAwRTRuXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwic1x1MDBFNFx1MDBFNG5uXHUwMEY2bGxpbmVuIGxhdXNla2VcIixcbiAgICAgICAgZW1haWw6IFwic1x1MDBFNGhrXHUwMEY2cG9zdGlvc29pdGVcIixcbiAgICAgICAgdXJsOiBcIlVSTC1vc29pdGVcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPLWFpa2FsZWltYVwiLFxuICAgICAgICBkYXRlOiBcIklTTy1wXHUwMEU0aXZcdTAwRTRtXHUwMEU0XHUwMEU0clx1MDBFNFwiLFxuICAgICAgICB0aW1lOiBcIklTTy1haWthXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTy1rZXN0b1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQtb3NvaXRlXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1vc29pdGVcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtYWx1ZVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1hbHVlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQta29vZGF0dHUgbWVya2tpam9ub1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtvb2RhdHR1IG1lcmtraWpvbm9cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTi1tZXJra2lqb25vXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbHVrdVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwidGVtcGxhYXR0aW1lcmtraWpvbm9cIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVmlyaGVlbGxpbmVuIHR5eXBwaTogb2RvdGV0dGlpbiAke2lzc3VlLmV4cGVjdGVkfSwgb2xpICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgVmlyaGVlbGxpbmVuIHN5XHUwMEY2dGU6IHRcdTAwRTR5dHl5IG9sbGEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gdmFsaW50YTogdFx1MDBFNHl0eXkgb2xsYSB5a3NpIHNldXJhYXZpc3RhOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBMaWlhbiBzdXVyaTogJHtzaXppbmcuc3ViamVjdH0gdFx1MDBFNHl0eXkgb2xsYSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYExpaWFuIHN1dXJpOiBhcnZvbiB0XHUwMEU0eXR5eSBvbGxhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYExpaWFuIHBpZW5pOiAke3NpemluZy5zdWJqZWN0fSB0XHUwMEU0eXR5eSBvbGxhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWAudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTGlpYW4gcGllbmk6IGFydm9uIHRcdTAwRTR5dHl5IG9sbGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBhbGthYSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBsb3BwdWEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFZpcmhlZWxsaW5lbiBzeVx1MDBGNnRlOiB0XHUwMEU0eXR5eSBzaXNcdTAwRTRsdFx1MDBFNFx1MDBFNCBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZTogdFx1MDBFNHl0eXkgdmFzdGF0YSBzXHUwMEU0XHUwMEU0bm5cdTAwRjZsbGlzdFx1MDBFNCBsYXVzZWtldHRhICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZpcmhlZWxsaW5lbiBsdWt1OiB0XHUwMEU0eXR5eSBvbGxhIGx1dnVuICR7aXNzdWUuZGl2aXNvcn0gbW9uaWtlcnRhYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlR1bnRlbWF0dG9tYXQgYXZhaW1ldFwiIDogXCJUdW50ZW1hdG9uIGF2YWluXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJWaXJoZWVsbGluZW4gYXZhaW4gdGlldHVlZXNzYVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJWaXJoZWVsbGluZW4gdW5pb25pXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVmlyaGVlbGxpbmVuIGFydm8gam91a29zc2FcIjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWaXJoZWVsbGluZW4gc3lcdTAwRjZ0ZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiY2FyYWN0XHUwMEU4cmVzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF2b2lyXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJvY3RldHNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYXZvaXJcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTAwRTlsXHUwMEU5bWVudHNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYXZvaXJcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwMEU5bFx1MDBFOW1lbnRzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF2b2lyXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibm9tYnJlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmxlYXVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJlbnRyXHUwMEU5ZVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlc3NlIGUtbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGUgZXQgaGV1cmUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0ZSBJU09cIixcbiAgICAgICAgdGltZTogXCJoZXVyZSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiZHVyXHUwMEU5ZSBJU09cIixcbiAgICAgICAgaXB2NDogXCJhZHJlc3NlIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhZHJlc3NlIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcInBsYWdlIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcInBsYWdlIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNoYVx1MDBFRW5lIGVuY29kXHUwMEU5ZSBlbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNoYVx1MDBFRW5lIGVuY29kXHUwMEU5ZSBlbiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2hhXHUwMEVFbmUgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm51bVx1MDBFOXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyXHUwMEU5ZVwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZSA6ICR7aXNzdWUuZXhwZWN0ZWR9IGF0dGVuZHUsICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IHJlXHUwMEU3dWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlIDogJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBhdHRlbmR1YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wdGlvbiBpbnZhbGlkZSA6IHVuZSB2YWxldXIgcGFybWkgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IGF0dGVuZHVlYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgVHJvcCBncmFuZCA6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsZXVyXCJ9IGRvaXQgJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTAwRTlsXHUwMEU5bWVudChzKVwifWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBncmFuZCA6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsZXVyXCJ9IGRvaXQgXHUwMEVBdHJlICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgcGV0aXQgOiAke2lzc3VlLm9yaWdpbn0gZG9pdCAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBwZXRpdCA6ICR7aXNzdWUub3JpZ2lufSBkb2l0IFx1MDBFQXRyZSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGNvbW1lbmNlciBwYXIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgc2UgdGVybWluZXIgcGFyIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgaW5jbHVyZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgY29ycmVzcG9uZHJlIGF1IG1vZFx1MDBFOGxlICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gaW52YWxpZGVgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5vbWJyZSBpbnZhbGlkZSA6IGRvaXQgXHUwMEVBdHJlIHVuIG11bHRpcGxlIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbFx1MDBFOSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBub24gcmVjb25udWUke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYENsXHUwMEU5IGludmFsaWRlIGRhbnMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRW50clx1MDBFOWUgaW52YWxpZGVcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbGV1ciBpbnZhbGlkZSBkYW5zICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGVgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImNhcmFjdFx1MDBFOHJlc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJhdm9pclwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwib2N0ZXRzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF2b2lyXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwMEU5bFx1MDBFOW1lbnRzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF2b2lyXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDBFOWxcdTAwRTltZW50c1wiLFxuICAgICAgICAgICAgdmVyYjogXCJhdm9pclwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImVudHJcdTAwRTllXCIsXG4gICAgICAgIGVtYWlsOiBcImFkcmVzc2UgY291cnJpZWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRlLWhldXJlIElTT1wiLFxuICAgICAgICBkYXRlOiBcImRhdGUgSVNPXCIsXG4gICAgICAgIHRpbWU6IFwiaGV1cmUgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1clx1MDBFOWUgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWRyZXNzZSBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWRyZXNzZSBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJwbGFnZSBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJwbGFnZSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJjaGFcdTAwRUVuZSBlbmNvZFx1MDBFOWUgZW4gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjaGFcdTAwRUVuZSBlbmNvZFx1MDBFOWUgZW4gYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcImNoYVx1MDBFRW5lIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJudW1cdTAwRTlybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiZW50clx1MDBFOWVcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgRW50clx1MDBFOWUgaW52YWxpZGUgOiBhdHRlbmR1ICR7aXNzdWUuZXhwZWN0ZWR9LCByZVx1MDBFN3UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBFbnRyXHUwMEU5ZSBpbnZhbGlkZSA6IGF0dGVuZHUgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPcHRpb24gaW52YWxpZGUgOiBhdHRlbmR1IGwndW5lIGRlcyB2YWxldXJzIHN1aXZhbnRlcyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHUyMjY0XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgVHJvcCBncmFuZCA6IGF0dGVuZHUgcXVlICR7aXNzdWUub3JpZ2luID8/IFwibGEgdmFsZXVyXCJ9IGFpdCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3AgZ3JhbmQgOiBhdHRlbmR1IHF1ZSAke2lzc3VlLm9yaWdpbiA/PyBcImxhIHZhbGV1clwifSBzb2l0ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTIyNjVcIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wIHBldGl0IDogYXR0ZW5kdSBxdWUgJHtpc3N1ZS5vcmlnaW59IGFpdCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVHJvcCBwZXRpdCA6IGF0dGVuZHUgcXVlICR7aXNzdWUub3JpZ2lufSBzb2l0ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBDaGFcdTAwRUVuZSBpbnZhbGlkZSA6IGRvaXQgY29tbWVuY2VyIHBhciBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IHNlIHRlcm1pbmVyIHBhciBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGluY2x1cmUgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgQ2hhXHUwMEVFbmUgaW52YWxpZGUgOiBkb2l0IGNvcnJlc3BvbmRyZSBhdSBtb3RpZiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IGludmFsaWRlYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOb21icmUgaW52YWxpZGUgOiBkb2l0IFx1MDBFQXRyZSB1biBtdWx0aXBsZSBkZSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2xcdTAwRTkke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn0gbm9uIHJlY29ubnVlJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9IDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDbFx1MDBFOSBpbnZhbGlkZSBkYW5zICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkVudHJcdTAwRTllIGludmFsaWRlXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxldXIgaW52YWxpZGUgZGFucyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVudHJcdTAwRTllIGludmFsaWRlYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA1RDBcdTA1RDVcdTA1RUFcdTA1RDlcdTA1RDVcdTA1RUFcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA1RDFcdTA1RDlcdTA1RDlcdTA1RDhcdTA1RDlcdTA1RERcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNUU0XHUwNUU4XHUwNUQ5XHUwNUQ4XHUwNUQ5XHUwNUREXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDVEQ1x1MDVEQlx1MDVEQ1x1MDVENVx1MDVEQ1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA1RTRcdTA1RThcdTA1RDlcdTA1RDhcdTA1RDlcdTA1RERcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNURDXHUwNURCXHUwNURDXHUwNUQ1XHUwNURDXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNUU3XHUwNURDXHUwNUQ4XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVFQSBcdTA1RDBcdTA1RDlcdTA1REVcdTA1RDlcdTA1RDlcdTA1RENcIixcbiAgICAgICAgdXJsOiBcIlx1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVFQSBcdTA1RThcdTA1RTlcdTA1RUFcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNUQwXHUwNUQ5XHUwNURFXHUwNUQ1XHUwNUQyJ1x1MDVEOVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA1RUFcdTA1RDBcdTA1RThcdTA1RDlcdTA1REEgXHUwNUQ1XHUwNUQ2XHUwNURFXHUwNURGIElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MDVFQVx1MDVEMFx1MDVFOFx1MDVEOVx1MDVEQSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTA1RDZcdTA1REVcdTA1REYgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDVERVx1MDVFOVx1MDVEQSBcdTA1RDZcdTA1REVcdTA1REYgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwNURCXHUwNUVBXHUwNUQ1XHUwNUQxXHUwNUVBIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTA1REJcdTA1RUFcdTA1RDVcdTA1RDFcdTA1RUEgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNUQ4XHUwNUQ1XHUwNUQ1XHUwNUQ3IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcIlx1MDVEOFx1MDVENVx1MDVENVx1MDVENyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNUQxXHUwNUQxXHUwNUUxXHUwNUQ5XHUwNUUxIDY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNUQxXHUwNUQxXHUwNUUxXHUwNUQ5XHUwNUUxIDY0IFx1MDVEQ1x1MDVEQlx1MDVFQVx1MDVENVx1MDVEMVx1MDVENVx1MDVFQSBcdTA1RThcdTA1RTlcdTA1RUFcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTA1REVcdTA1RTFcdTA1RTRcdTA1RTggRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDVFN1x1MDVEQ1x1MDVEOFwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERjogXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA1RDRcdTA1RUFcdTA1RTdcdTA1RDFcdTA1REMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGOiBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTdcdTA1RENcdTA1RDggXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERjogXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEMFx1MDVEN1x1MDVFQSBcdTA1REVcdTA1RDRcdTA1RDBcdTA1RTRcdTA1RTlcdTA1RThcdTA1RDVcdTA1RDlcdTA1RDVcdTA1RUEgICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFx1MDVEMlx1MDVEM1x1MDVENVx1MDVEQyBcdTA1REVcdTA1RDNcdTA1RDk6ICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gXHUwNUU2XHUwNUU4XHUwNUQ5XHUwNURBIFx1MDVEQ1x1MDVENFx1MDVEOVx1MDVENVx1MDVFQSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRzXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RDJcdTA1RDNcdTA1RDVcdTA1REMgXHUwNURFXHUwNUQzXHUwNUQ5OiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNUU3XHUwNUQ4XHUwNURGIFx1MDVERVx1MDVEM1x1MDVEOTogJHtpc3N1ZS5vcmlnaW59IFx1MDVFNlx1MDVFOFx1MDVEOVx1MDVEQSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEOFx1MDVERiBcdTA1REVcdTA1RDNcdTA1RDk6ICR7aXNzdWUub3JpZ2lufSBcdTA1RTZcdTA1RThcdTA1RDlcdTA1REEgXHUwNURDXHUwNUQ0XHUwNUQ5XHUwNUQ1XHUwNUVBICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBcdTA1REVcdTA1RDdcdTA1RThcdTA1RDVcdTA1RDZcdTA1RUEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVFMFx1MDVENDogXHUwNUQ3XHUwNUQ5XHUwNUQ5XHUwNUQxXHUwNUVBIFx1MDVEQ1x1MDVENFx1MDVFQVx1MDVEN1x1MDVEOVx1MDVEQyBcdTA1RDFcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFx1MDVERVx1MDVEN1x1MDVFOFx1MDVENVx1MDVENlx1MDVFQSBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNUUwXHUwNUQ0OiBcdTA1RDdcdTA1RDlcdTA1RDlcdTA1RDFcdTA1RUEgXHUwNURDXHUwNUQ0XHUwNUUxXHUwNUVBXHUwNUQ5XHUwNUQ5XHUwNUREIFx1MDVEMSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1RTBcdTA1RDQ6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMVx1MDVFQSBcdTA1RENcdTA1REJcdTA1RENcdTA1RDVcdTA1REMgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUwNURFXHUwNUQ3XHUwNUU4XHUwNUQ1XHUwNUQ2XHUwNUVBIFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1RTBcdTA1RDQ6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMVx1MDVFQSBcdTA1RENcdTA1RDRcdTA1RUFcdTA1RDBcdTA1RDlcdTA1REQgXHUwNURDXHUwNUVBXHUwNUQxXHUwNUUwXHUwNUQ5XHUwNUVBICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUUxXHUwNUU0XHUwNUU4IFx1MDVEQ1x1MDVEMCBcdTA1RUFcdTA1RTdcdTA1RDlcdTA1REY6IFx1MDVEN1x1MDVEOVx1MDVEOVx1MDVEMSBcdTA1RENcdTA1RDRcdTA1RDlcdTA1RDVcdTA1RUEgXHUwNURFXHUwNURCXHUwNUU0XHUwNURDXHUwNUQ0IFx1MDVFOVx1MDVEQyAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNURFXHUwNUU0XHUwNUVBXHUwNUQ3JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDVENVx1MDVFQVwiIDogXCJcIn0gXHUwNURDXHUwNUQwIFx1MDVERVx1MDVENlx1MDVENVx1MDVENCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA1RDlcdTA1RERcIiA6IFwiXHUwNUQ0XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVERVx1MDVFNFx1MDVFQVx1MDVENyBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGIFx1MDVEMSR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA1RTJcdTA1RThcdTA1REEgXHUwNURDXHUwNUQwIFx1MDVFQVx1MDVFN1x1MDVEOVx1MDVERiBcdTA1RDEke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDVFN1x1MDVEQ1x1MDVEOCBcdTA1RENcdTA1RDAgXHUwNUVBXHUwNUU3XHUwNUQ5XHUwNURGYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJrYXJha3RlclwiLFxuICAgICAgICAgICAgdmVyYjogXCJsZWd5ZW5cIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcImJ5dGVcIixcbiAgICAgICAgICAgIHZlcmI6IFwibGVneWVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbVwiLFxuICAgICAgICAgICAgdmVyYjogXCJsZWd5ZW5cIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbVwiLFxuICAgICAgICAgICAgdmVyYjogXCJsZWd5ZW5cIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJzelx1MDBFMW1cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidFx1MDBGNm1iXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiYmVtZW5ldFwiLFxuICAgICAgICBlbWFpbDogXCJlbWFpbCBjXHUwMEVEbVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBpZFx1MDE1MWJcdTAwRTlseWVnXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRcdTAwRTF0dW1cIixcbiAgICAgICAgdGltZTogXCJJU08gaWRcdTAxNTFcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGlkXHUwMTUxaW50ZXJ2YWxsdW1cIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGNcdTAwRURtXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBjXHUwMEVEbVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCB0YXJ0b21cdTAwRTFueVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiB0YXJ0b21cdTAwRTFueVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LWtcdTAwRjNkb2x0IHN0cmluZ1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWtcdTAwRjNkb2x0IHN0cmluZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIHN0cmluZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHN6XHUwMEUxbVwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiYmVtZW5ldFwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gYmVtZW5ldDogYSB2XHUwMEUxcnQgXHUwMEU5cnRcdTAwRTlrICR7aXNzdWUuZXhwZWN0ZWR9LCBhIGthcG90dCBcdTAwRTlydFx1MDBFOWsgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBiZW1lbmV0OiBhIHZcdTAwRTFydCBcdTAwRTlydFx1MDBFOWsgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gb3BjaVx1MDBGMzogdmFsYW1lbHlpayBcdTAwRTlydFx1MDBFOWsgdlx1MDBFMXJ0ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFRcdTAwRkFsIG5hZ3k6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwMEU5cnRcdTAwRTlrXCJ9IG1cdTAwRTlyZXRlIHRcdTAwRkFsIG5hZ3kgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBuYWd5OiBhIGJlbWVuZXRpIFx1MDBFOXJ0XHUwMEU5ayAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDBFOXJ0XHUwMEU5a1wifSB0XHUwMEZBbCBuYWd5OiAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBraWNzaTogYSBiZW1lbmV0aSBcdTAwRTlydFx1MDBFOWsgJHtpc3N1ZS5vcmlnaW59IG1cdTAwRTlyZXRlIHRcdTAwRkFsIGtpY3NpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEZBbCBraWNzaTogYSBiZW1lbmV0aSBcdTAwRTlydFx1MDBFOWsgJHtpc3N1ZS5vcmlnaW59IHRcdTAwRkFsIGtpY3NpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4gc3RyaW5nOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTAwRTlydFx1MDBFOWtrZWwga2VsbCBrZXpkXHUwMTUxZG5pZWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MDBFOXJ0XHUwMEU5a2tlbCBrZWxsIHZcdTAwRTlnelx1MDE1MWRuaWVgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwMEU5cnRcdTAwRTlrZXQga2VsbCB0YXJ0YWxtYXpuaWFgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBzdHJpbmc6ICR7X2lzc3VlLnBhdHRlcm59IG1pbnRcdTAwRTFuYWsga2VsbCBtZWdmZWxlbG5pZWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIHN6XHUwMEUxbTogJHtpc3N1ZS5kaXZpc29yfSB0XHUwMEY2YmJzelx1MDBGNnJcdTAwRjZzXHUwMEU5bmVrIGtlbGwgbGVubmllYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSXNtZXJldGxlbiBrdWxjcyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzlydlx1MDBFOW55dGVsZW4ga3VsY3MgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMEM5cnZcdTAwRTlueXRlbGVuIGJlbWVuZXRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDOXJ2XHUwMEU5bnl0ZWxlbiBcdTAwRTlydFx1MDBFOWs6ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMEM5cnZcdTAwRTlueXRlbGVuIGJlbWVuZXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImthcmFrdGVyXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1lbWlsaWtpXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJieXRlXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1lbWlsaWtpXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiaXRlbVwiLFxuICAgICAgICAgICAgdmVyYjogXCJtZW1pbGlraVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJpdGVtXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1lbWlsaWtpXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiaW5wdXRcIixcbiAgICAgICAgZW1haWw6IFwiYWxhbWF0IGVtYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwidGFuZ2dhbCBkYW4gd2FrdHUgZm9ybWF0IElTT1wiLFxuICAgICAgICBkYXRlOiBcInRhbmdnYWwgZm9ybWF0IElTT1wiLFxuICAgICAgICB0aW1lOiBcImphbSBmb3JtYXQgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmFzaSBmb3JtYXQgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiYWxhbWF0IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhbGFtYXQgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwicmVudGFuZyBhbGFtYXQgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwicmVudGFuZyBhbGFtYXQgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwic3RyaW5nIGRlbmdhbiBlbmtvZGUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJzdHJpbmcgZGVuZ2FuIGVua29kZSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwic3RyaW5nIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJhbmdrYSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgdGlkYWsgdmFsaWQ6IGRpaGFyYXBrYW4gJHtpc3N1ZS5leHBlY3RlZH0sIGRpdGVyaW1hICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgSW5wdXQgdGlkYWsgdmFsaWQ6IGRpaGFyYXBrYW4gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQaWxpaGFuIHRpZGFrIHZhbGlkOiBkaWhhcmFwa2FuIHNhbGFoIHNhdHUgZGFyaSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBUZXJsYWx1IGJlc2FyOiBkaWhhcmFwa2FuICR7aXNzdWUub3JpZ2luID8/IFwidmFsdWVcIn0gbWVtaWxpa2kgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW5cIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpaGFyYXBrYW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSBtZW5qYWRpICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUga2VjaWw6IGRpaGFyYXBrYW4gJHtpc3N1ZS5vcmlnaW59IG1lbWlsaWtpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZXJsYWx1IGtlY2lsOiBkaWhhcmFwa2FuICR7aXNzdWUub3JpZ2lufSBtZW5qYWRpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBTdHJpbmcgdGlkYWsgdmFsaWQ6IGhhcnVzIGRpbXVsYWkgZGVuZ2FuIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgU3RyaW5nIHRpZGFrIHZhbGlkOiBoYXJ1cyBiZXJha2hpciBkZW5nYW4gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFN0cmluZyB0aWRhayB2YWxpZDogaGFydXMgbWVueWVydGFrYW4gXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgU3RyaW5nIHRpZGFrIHZhbGlkOiBoYXJ1cyBzZXN1YWkgcG9sYSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IHRpZGFrIHZhbGlkYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBBbmdrYSB0aWRhayB2YWxpZDogaGFydXMga2VsaXBhdGFuIGRhcmkgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEt1bmNpIHRpZGFrIGRpa2VuYWxpICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayB2YWxpZCBkaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnB1dCB0aWRhayB2YWxpZFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmlsYWkgdGlkYWsgdmFsaWQgZGkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayB2YWxpZGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJuXHUwMEZBbWVyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJmeWxraVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJzdGFmaVwiLFxuICAgICAgICAgICAgdmVyYjogXCJhXHUwMEYwIGhhZmFcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcImJcdTAwRTZ0aVwiLFxuICAgICAgICAgICAgdmVyYjogXCJhXHUwMEYwIGhhZmFcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJobHV0aVwiLFxuICAgICAgICAgICAgdmVyYjogXCJhXHUwMEYwIGhhZmFcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiaGx1dGlcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYVx1MDBGMCBoYWZhXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJnaWxkaVwiLFxuICAgICAgICBlbWFpbDogXCJuZXRmYW5nXCIsXG4gICAgICAgIHVybDogXCJ2ZWZzbFx1MDBGM1x1MDBGMFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gZGFnc2V0bmluZyBvZyB0XHUwMEVEbWlcIixcbiAgICAgICAgZGF0ZTogXCJJU08gZGFnc2V0bmluZ1wiLFxuICAgICAgICB0aW1lOiBcIklTTyB0XHUwMEVEbWlcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIHRcdTAwRURtYWxlbmdkXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBhZGRyZXNzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZGRyZXNzXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IHJhbmdlXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IHJhbmdlXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBzdHJlbmd1clwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgc3RyZW5ndXJcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBzdHJlbmd1clwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHRcdTAwRjZsdWdpbGRpXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJnaWxkaVwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaTogXHUwMERFXHUwMEZBIHNsXHUwMEYzc3QgaW5uICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9IFx1MDBGRWFyIHNlbSBcdTAwRTEgYVx1MDBGMCB2ZXJhICR7aXNzdWUuZXhwZWN0ZWR9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgUmFuZ3QgZ2lsZGk6IGdlcnQgclx1MDBFMVx1MDBGMCBmeXJpciAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBEM2dpbHQgdmFsOiBtXHUwMEUxIHZlcmEgZWl0dCBhZiBlZnRpcmZhcmFuZGkgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgT2Ygc3RcdTAwRjNydDogZ2VydCBlciByXHUwMEUxXHUwMEYwIGZ5cmlyIGFcdTAwRjAgJHtpc3N1ZS5vcmlnaW4gPz8gXCJnaWxkaVwifSBoYWZpICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiaGx1dGlcIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE9mIHN0XHUwMEYzcnQ6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2luID8/IFwiZ2lsZGlcIn0gc1x1MDBFOSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZiBsXHUwMEVEdGlcdTAwRjA6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2lufSBoYWZpICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZiBsXHUwMEVEdGlcdTAwRjA6IGdlcnQgZXIgclx1MDBFMVx1MDBGMCBmeXJpciBhXHUwMEYwICR7aXNzdWUub3JpZ2lufSBzXHUwMEU5ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNnaWxkdXIgc3RyZW5ndXI6IHZlclx1MDBGMHVyIGFcdTAwRjAgYnlyamEgXHUwMEUxIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBcdTAwRDNnaWxkdXIgc3RyZW5ndXI6IHZlclx1MDBGMHVyIGFcdTAwRjAgZW5kYSBcdTAwRTEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFx1MDBEM2dpbGR1ciBzdHJlbmd1cjogdmVyXHUwMEYwdXIgYVx1MDBGMCBpbm5paGFsZGEgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUwMEQzZ2lsZHVyIHN0cmVuZ3VyOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIGZ5bGdqYSBteW5zdHJpICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJcdTAwRjZuZyB0YWxhOiB2ZXJcdTAwRjB1ciBhXHUwMEYwIHZlcmEgbWFyZ2ZlbGRpIGFmICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwRDNcdTAwRkVla2t0ICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpciBseWtsYXJcIiA6IFwidXIgbHlraWxsXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFJhbmd1ciBseWtpbGwgXHUwMEVEICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlJhbmd0IGdpbGRpXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaSBcdTAwRUQgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBSYW5ndCBnaWxkaWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiY2FyYXR0ZXJpXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF2ZXJlXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJieXRlXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF2ZXJlXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbWVudGlcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYXZlcmVcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbWVudGlcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYXZlcmVcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1lcm9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidmV0dG9yZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImlucHV0XCIsXG4gICAgICAgIGVtYWlsOiBcImluZGlyaXp6byBlbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGEgZSBvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSBJU09cIixcbiAgICAgICAgdGltZTogXCJvcmEgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcImR1cmF0YSBJU09cIixcbiAgICAgICAgaXB2NDogXCJpbmRpcml6em8gSVB2NFwiLFxuICAgICAgICBpcHY2OiBcImluZGlyaXp6byBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJpbnRlcnZhbGxvIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImludGVydmFsbG8gSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwic3RyaW5nYSBjb2RpZmljYXRhIGluIGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiVVJMIGNvZGlmaWNhdGEgaW4gYmFzZTY0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcInN0cmluZ2EgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm51bWVybyBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgSW5wdXQgbm9uIHZhbGlkbzogYXR0ZXNvICR7aXNzdWUuZXhwZWN0ZWR9LCByaWNldnV0byAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICAvLyByZXR1cm4gYElucHV0IG5vbiB2YWxpZG86IGF0dGVzbyAke2lzc3VlLmV4cGVjdGVkfSwgcmljZXZ1dG8gJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYElucHV0IG5vbiB2YWxpZG86IGF0dGVzbyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wemlvbmUgbm9uIHZhbGlkYTogYXR0ZXNvIHVubyB0cmEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgVHJvcHBvIGdyYW5kZTogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvcmVcIn0gZGV2ZSBhdmVyZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRpXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wcG8gZ3JhbmRlOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbG9yZVwifSBkZXZlIGVzc2VyZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUcm9wcG8gcGljY29sbzogJHtpc3N1ZS5vcmlnaW59IGRldmUgYXZlcmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRyb3BwbyBwaWNjb2xvOiAke2lzc3VlLm9yaWdpbn0gZGV2ZSBlc3NlcmUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFN0cmluZ2Egbm9uIHZhbGlkYTogZGV2ZSBpbml6aWFyZSBjb24gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBTdHJpbmdhIG5vbiB2YWxpZGE6IGRldmUgdGVybWluYXJlIGNvbiBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgU3RyaW5nYSBub24gdmFsaWRhOiBkZXZlIGluY2x1ZGVyZSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBTdHJpbmdhIG5vbiB2YWxpZGE6IGRldmUgY29ycmlzcG9uZGVyZSBhbCBwYXR0ZXJuICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBJbnZhbGlkICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTnVtZXJvIG5vbiB2YWxpZG86IGRldmUgZXNzZXJlIHVuIG11bHRpcGxvIGRpICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGlhdiR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpXCIgOiBcImVcIn0gbm9uIHJpY29ub3NjaXV0JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImVcIiA6IFwiYVwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGlhdmUgbm9uIHZhbGlkYSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJJbnB1dCBub24gdmFsaWRvXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBWYWxvcmUgbm9uIHZhbGlkbyBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IG5vbiB2YWxpZG9gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1NjU4N1x1NUI1N1wiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MzBEMFx1MzBBNFx1MzBDOFwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTg5ODFcdTdEMjBcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUzMDY3XHUzMDQyXHUzMDhCXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1ODk4MVx1N0QyMFwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTMwNjdcdTMwNDJcdTMwOEJcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTY1NzBcdTUwMjRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU5MTREXHU1MjE3XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHU1MTY1XHU1MjlCXHU1MDI0XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1N0Q3NVx1NjU4N1x1NUI1N1wiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU09cdTY1RTVcdTY2NDJcIixcbiAgICAgICAgZGF0ZTogXCJJU09cdTY1RTVcdTRFRDhcIixcbiAgICAgICAgdGltZTogXCJJU09cdTY2NDJcdTUyM0JcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPXHU2NzFGXHU5NTkzXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NFx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVwiLFxuICAgICAgICBpcHY2OiBcIklQdjZcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjRcdTdCQzRcdTU2RjJcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjZcdTdCQzRcdTU2RjJcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NFx1MzBBOFx1MzBGM1x1MzBCM1x1MzBGQ1x1MzBDOVx1NjU4N1x1NUI1N1x1NTIxN1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsXHUzMEE4XHUzMEYzXHUzMEIzXHUzMEZDXHUzMEM5XHU2NTg3XHU1QjU3XHU1MjE3XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT05cdTY1ODdcdTVCNTdcdTUyMTdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NFx1NzU2QVx1NTNGN1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHU1MTY1XHU1MjlCXHU1MDI0XCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NTE2NVx1NTI5QjogJHtpc3N1ZS5leHBlY3RlZH1cdTMwNENcdTY3MUZcdTVGODVcdTMwNTVcdTMwOENcdTMwN0VcdTMwNTdcdTMwNUZcdTMwNENcdTMwMDEke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfVx1MzA0Q1x1NTE2NVx1NTI5Qlx1MzA1NVx1MzA4Q1x1MzA3RVx1MzA1N1x1MzA1RmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NTE2NVx1NTI5QjogJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfVx1MzA0Q1x1NjcxRlx1NUY4NVx1MzA1NVx1MzA4Q1x1MzA3RVx1MzA1N1x1MzA1RmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTkwNzhcdTYyOUU6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJcdTMwMDFcIil9XHUzMDZFXHUzMDQ0XHUzMDVBXHUzMDhDXHUzMDRCXHUzMDY3XHUzMDQyXHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1NEVFNVx1NEUwQlx1MzA2N1x1MzA0Mlx1MzA4QlwiIDogXCJcdTMwODhcdTMwOEFcdTVDMEZcdTMwNTVcdTMwNDRcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgXHU1OTI3XHUzMDREXHUzMDU5XHUzMDRFXHUzMDhCXHU1MDI0OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAyNFwifVx1MzA2RiR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSR7c2l6aW5nLnVuaXQgPz8gXCJcdTg5ODFcdTdEMjBcIn0ke2Fkan1cdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NTkyN1x1MzA0RFx1MzA1OVx1MzA0RVx1MzA4Qlx1NTAyNDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwMjRcIn1cdTMwNkYke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0ke2Fkan1cdTVGQzVcdTg5ODFcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNTlgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHU0RUU1XHU0RTBBXHUzMDY3XHUzMDQyXHUzMDhCXCIgOiBcIlx1MzA4OFx1MzA4QVx1NTkyN1x1MzA0RFx1MzA0NFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBcdTVDMEZcdTMwNTVcdTMwNTlcdTMwNEVcdTMwOEJcdTUwMjQ6ICR7aXNzdWUub3JpZ2lufVx1MzA2RiR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSR7c2l6aW5nLnVuaXR9JHthZGp9XHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTVDMEZcdTMwNTVcdTMwNTlcdTMwNEVcdTMwOEJcdTUwMjQ6ICR7aXNzdWUub3JpZ2lufVx1MzA2RiR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSR7YWRqfVx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1ODdcdTVCNTdcdTUyMTc6IFwiJHtfaXNzdWUucHJlZml4fVwiXHUzMDY3XHU1OUNCXHUzMDdFXHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTg3XHU1QjU3XHU1MjE3OiBcIiR7X2lzc3VlLnN1ZmZpeH1cIlx1MzA2N1x1N0Q0Mlx1MzA4Rlx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU2NTg3XHU1QjU3XHU1MjE3OiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiXHUzMDkyXHU1NDJCXHUzMDgwXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkFcdTY1ODdcdTVCNTdcdTUyMTc6IFx1MzBEMVx1MzBCRlx1MzBGQ1x1MzBGMyR7X2lzc3VlLnBhdHRlcm59XHUzMDZCXHU0RTAwXHU4MUY0XHUzMDU5XHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDU5YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTUyQjlcdTMwNkEke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NTJCOVx1MzA2QVx1NjU3MFx1NTAyNDogJHtpc3N1ZS5kaXZpc29yfVx1MzA2RVx1NTAwRFx1NjU3MFx1MzA2N1x1MzA0Mlx1MzA4Qlx1NUZDNVx1ODk4MVx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1OEE4RFx1OEI1OFx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NFx1MzBBRFx1MzBGQyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTdGQTRcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIlx1MzAwMVwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn1cdTUxODVcdTMwNkVcdTcxMjFcdTUyQjlcdTMwNkFcdTMwQURcdTMwRkNgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTcxMjFcdTUyQjlcdTMwNkFcdTUxNjVcdTUyOUJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufVx1NTE4NVx1MzA2RVx1NzEyMVx1NTJCOVx1MzA2QVx1NTAyNGA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU1MkI5XHUzMDZBXHU1MTY1XHU1MjlCYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoKHQpe1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MTBFMFx1MTBEOFx1MTBFQVx1MTBFRVx1MTBENVx1MTBEOFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUxMERCXHUxMEQwXHUxMEUxXHUxMEQ4XHUxMEQ1XHUxMEQ4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0eXBlTWFwID0ge1xuICAgICAgICBzdHJpbmc6IFwiXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGJvb2xlYW46IFwiXHUxMEQxXHUxMEUzXHUxMERBXHUxMEQ0XHUxMEQwXHUxMERDXHUxMEQ4XCIsXG4gICAgICAgIHVuZGVmaW5lZDogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgYmlnaW50OiBcImJpZ2ludFwiLFxuICAgICAgICBzeW1ib2w6IFwic3ltYm9sXCIsXG4gICAgICAgIGZ1bmN0aW9uOiBcIlx1MTBFNFx1MTBFM1x1MTBEQ1x1MTBFNVx1MTBFQVx1MTBEOFx1MTBEMFwiXG4gICAgfTtcbiAgICByZXR1cm4gdHlwZU1hcFt0XSA/PyB0O1xufTtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUxMEUxXHUxMEQ4XHUxMERCXHUxMEQxXHUxMEREXHUxMERBXHUxMEREXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MTBEMVx1MTBEMFx1MTBEOFx1MTBFMlx1MTBEOFwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUxMEQ0XHUxMERBXHUxMEQ0XHUxMERCXHUxMEQ0XHUxMERDXHUxMEUyXHUxMEQ4XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUxMEQ0XHUxMERBXHUxMEQ0XHUxMERCXHUxMEQ0XHUxMERDXHUxMEUyXHUxMEQ4XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwRThcdTEwRDRcdTEwRDhcdTEwRUFcdTEwRDBcdTEwRDVcdTEwRDNcdTEwRDRcdTEwRTFcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMFwiLFxuICAgICAgICBlbWFpbDogXCJcdTEwRDRcdTEwREEtXHUxMEU0XHUxMEREXHUxMEUxXHUxMEUyXHUxMEQ4XHUxMEUxIFx1MTBEQlx1MTBEOFx1MTBFMVx1MTBEMFx1MTBEQlx1MTBEMFx1MTBFMFx1MTBEN1x1MTBEOFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MTBENFx1MTBEQlx1MTBERFx1MTBFRlx1MTBEOFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTEwRDdcdTEwRDBcdTEwRTBcdTEwRDhcdTEwRTZcdTEwRDgtXHUxMEQzXHUxMEUwXHUxMEREXCIsXG4gICAgICAgIGRhdGU6IFwiXHUxMEQ3XHUxMEQwXHUxMEUwXHUxMEQ4XHUxMEU2XHUxMEQ4XCIsXG4gICAgICAgIHRpbWU6IFwiXHUxMEQzXHUxMEUwXHUxMEREXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MTBFRVx1MTBEMFx1MTBEQ1x1MTBEMlx1MTBFMFx1MTBFQlx1MTBEQVx1MTBEOFx1MTBENVx1MTBERFx1MTBEMVx1MTBEMFwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHUxMERCXHUxMEQ4XHUxMEUxXHUxMEQwXHUxMERCXHUxMEQwXHUxMEUwXHUxMEQ3XHUxMEQ4XCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTEwREJcdTEwRDhcdTEwRTFcdTEwRDBcdTEwREJcdTEwRDBcdTEwRTBcdTEwRDdcdTEwRDhcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHUxMEQzXHUxMEQ4XHUxMEQwXHUxMERFXHUxMEQwXHUxMEQ2XHUxMEREXHUxMERDXHUxMEQ4XCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1MTBEM1x1MTBEOFx1MTBEMFx1MTBERVx1MTBEMFx1MTBENlx1MTBERFx1MTBEQ1x1MTBEOFwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0LVx1MTBEOVx1MTBERFx1MTBEM1x1MTBEOFx1MTBFMFx1MTBENFx1MTBEMVx1MTBFM1x1MTBEQVx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDhcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1cdTEwRDlcdTEwRERcdTEwRDNcdTEwRDhcdTEwRTBcdTEwRDRcdTEwRDFcdTEwRTNcdTEwREFcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4XCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQgXHUxMERDXHUxMEREXHUxMERCXHUxMEQ0XHUxMEUwXHUxMEQ4XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTEwRThcdTEwRDRcdTEwRTdcdTEwRDVcdTEwRDBcdTEwRENcdTEwRDBcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMDogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTEwREJcdTEwRDhcdTEwRTZcdTEwRDRcdTEwRDFcdTEwRTNcdTEwREFcdTEwRDggJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEQ1XHUxMEQwXHUxMEUwXHUxMEQ4XHUxMEQwXHUxMERDXHUxMEUyXHUxMEQ4OiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDhcdTEwRDAgXHUxMEQ0XHUxMEUwXHUxMEQ3LVx1MTBENFx1MTBFMFx1MTBEN1x1MTBEOCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0tXHUxMEQzXHUxMEQwXHUxMERDYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgXHUxMEQ2XHUxMEQ0XHUxMEQzXHUxMERCXHUxMEQ0XHUxMEUyXHUxMEQwXHUxMEQzIFx1MTBEM1x1MTBEOFx1MTBEM1x1MTBEODogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUub3JpZ2luID8/IFwiXHUxMERCXHUxMERDXHUxMEQ4XHUxMEU4XHUxMEQ1XHUxMERDXHUxMEQ0XHUxMERBXHUxMEREXHUxMEQxXHUxMEQwXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQ2XHUxMEQ0XHUxMEQzXHUxMERCXHUxMEQ0XHUxMEUyXHUxMEQwXHUxMEQzIFx1MTBEM1x1MTBEOFx1MTBEM1x1MTBEODogXHUxMERCXHUxMEREXHUxMEUxXHUxMEQwXHUxMERBXHUxMEREXHUxMEQzXHUxMERDXHUxMEQ0XHUxMERBXHUxMEQ4ICR7aXNzdWUub3JpZ2luID8/IFwiXHUxMERCXHUxMERDXHUxMEQ4XHUxMEU4XHUxMEQ1XHUxMERDXHUxMEQ0XHUxMERBXHUxMEREXHUxMEQxXHUxMEQwXCJ9IFx1MTBEOFx1MTBFN1x1MTBERFx1MTBFMSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDZcdTEwRDRcdTEwRDNcdTEwREJcdTEwRDRcdTEwRTJcdTEwRDBcdTEwRDMgXHUxMERFXHUxMEQwXHUxMEUyXHUxMEQwXHUxMEUwXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5vcmlnaW59ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDZcdTEwRDRcdTEwRDNcdTEwREJcdTEwRDRcdTEwRTJcdTEwRDBcdTEwRDMgXHUxMERFXHUxMEQwXHUxMEUyXHUxMEQwXHUxMEUwXHUxMEQwOiBcdTEwREJcdTEwRERcdTEwRTFcdTEwRDBcdTEwREFcdTEwRERcdTEwRDNcdTEwRENcdTEwRDRcdTEwREFcdTEwRDggJHtpc3N1ZS5vcmlnaW59IFx1MTBEOFx1MTBFN1x1MTBERFx1MTBFMSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMVx1MTBFMlx1MTBFMFx1MTBEOFx1MTBEQ1x1MTBEMlx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBEOFx1MTBFQ1x1MTBFN1x1MTBENFx1MTBEMVx1MTBERFx1MTBEM1x1MTBENFx1MTBFMSBcIiR7X2lzc3VlLnByZWZpeH1cIi1cdTEwRDhcdTEwRDdgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFx1MTBEMFx1MTBFMFx1MTBEMFx1MTBFMVx1MTBFQ1x1MTBERFx1MTBFMFx1MTBEOCBcdTEwRTFcdTEwRTJcdTEwRTBcdTEwRDhcdTEwRENcdTEwRDJcdTEwRDg6IFx1MTBFM1x1MTBEQ1x1MTBEM1x1MTBEMCBcdTEwREJcdTEwRDdcdTEwRDBcdTEwRDVcdTEwRTBcdTEwRDNcdTEwRDRcdTEwRDFcdTEwRERcdTEwRDNcdTEwRDRcdTEwRTEgXCIke19pc3N1ZS5zdWZmaXh9XCItXHUxMEQ4XHUxMEQ3YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ4XHUxMEVBXHUxMEQwXHUxMEQ1XHUxMEQzXHUxMEQ0XHUxMEUxIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCItXHUxMEUxYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEUxXHUxMEUyXHUxMEUwXHUxMEQ4XHUxMERDXHUxMEQyXHUxMEQ4OiBcdTEwRTNcdTEwRENcdTEwRDNcdTEwRDAgXHUxMEU4XHUxMEQ0XHUxMEQ0XHUxMEUxXHUxMEQwXHUxMEQxXHUxMEQwXHUxMERCXHUxMEQ0XHUxMEQxXHUxMEREXHUxMEQzXHUxMEQ0XHUxMEUxIFx1MTBFOFx1MTBEMFx1MTBEMVx1MTBEQVx1MTBERFx1MTBEQ1x1MTBFMSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFMFx1MTBEOFx1MTBFQVx1MTBFRVx1MTBENVx1MTBEODogXHUxMEUzXHUxMERDXHUxMEQzXHUxMEQwIFx1MTBEOFx1MTBFN1x1MTBERFx1MTBFMSAke2lzc3VlLmRpdmlzb3J9LVx1MTBEOFx1MTBFMSBcdTEwRUZcdTEwRDRcdTEwRTBcdTEwRDBcdTEwRDNcdTEwRDhgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRTNcdTEwRUFcdTEwRENcdTEwRERcdTEwRDFcdTEwRDggXHUxMEQyXHUxMEQwXHUxMEUxXHUxMEQwXHUxMEU2XHUxMEQ0XHUxMEQxJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MTBENFx1MTBEMVx1MTBEOFwiIDogXCJcdTEwRDhcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBEMlx1MTBEMFx1MTBFMVx1MTBEMFx1MTBFNlx1MTBENFx1MTBEMVx1MTBEOCAke2lzc3VlLm9yaWdpbn0tXHUxMEU4XHUxMEQ4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBFOFx1MTBENFx1MTBFN1x1MTBENVx1MTBEMFx1MTBEQ1x1MTBEMFwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxMEQwXHUxMEUwXHUxMEQwXHUxMEUxXHUxMEVDXHUxMEREXHUxMEUwXHUxMEQ4IFx1MTBEQlx1MTBEQ1x1MTBEOFx1MTBFOFx1MTBENVx1MTBEQ1x1MTBENFx1MTBEQVx1MTBERFx1MTBEMVx1MTBEMCAke2lzc3VlLm9yaWdpbn0tXHUxMEU4XHUxMEQ4YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTEwRDBcdTEwRTBcdTEwRDBcdTEwRTFcdTEwRUNcdTEwRERcdTEwRTBcdTEwRDggXHUxMEU4XHUxMEQ0XHUxMEU3XHUxMEQ1XHUxMEQwXHUxMERDXHUxMEQwYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTE3OEZcdTE3QkRcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTE3OTRcdTE3QzNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUxNzkyXHUxN0I2XHUxNzhGXHUxN0JCXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MTc4Mlx1MTdCRFx1MTc5QVx1MTc5OFx1MTdCNlx1MTc5M1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTE3OTJcdTE3QjZcdTE3OEZcdTE3QkJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUxNzgyXHUxN0JEXHUxNzlBXHUxNzk4XHUxN0I2XHUxNzkzXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTE3OThcdTE3QjdcdTE3OTNcdTE3OThcdTE3QzJcdTE3OTNcdTE3ODdcdTE3QjZcdTE3OUJcdTE3QzFcdTE3ODEgKE5hTilcIiA6IFwiXHUxNzlCXHUxN0MxXHUxNzgxXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MTdBMlx1MTdCNlx1MTc5QVx1MTdDMSAoQXJyYXkpXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MTc4Mlx1MTdEMlx1MTc5OFx1MTdCNlx1MTc5M1x1MTc4Rlx1MTc5OFx1MTdEMlx1MTc5Qlx1MTdDMyAobnVsbClcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk0XHUxNzg5XHUxN0QyXHUxNzg1XHUxN0JDXHUxNzlCXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5M1x1MTdBMlx1MTdDQVx1MTdCOFx1MTc5OFx1MTdDMlx1MTc5QlwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MTc5Rlx1MTc4OVx1MTdEMlx1MTc4OVx1MTdCNlx1MTdBMlx1MTdCNlx1MTc5QVx1MTc5OFx1MTdEMlx1MTc5OFx1MTc4RVx1MTdDRFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTE3ODBcdTE3QjZcdTE3OUJcdTE3OTRcdTE3OUFcdTE3QjdcdTE3ODVcdTE3RDJcdTE3ODZcdTE3QzFcdTE3OTEgXHUxNzkzXHUxN0I3XHUxNzg0XHUxNzk4XHUxN0M5XHUxN0M0XHUxNzg0IElTT1wiLFxuICAgICAgICBkYXRlOiBcIlx1MTc4MFx1MTdCNlx1MTc5Qlx1MTc5NFx1MTc5QVx1MTdCN1x1MTc4NVx1MTdEMlx1MTc4Nlx1MTdDMVx1MTc5MSBJU09cIixcbiAgICAgICAgdGltZTogXCJcdTE3OThcdTE3QzlcdTE3QzRcdTE3ODQgSVNPXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MTc5QVx1MTc5OVx1MTdDOFx1MTc5Nlx1MTdDMVx1MTc5QiBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTMgSVB2NFwiLFxuICAgICAgICBpcHY2OiBcIlx1MTdBMlx1MTdCNlx1MTc5Rlx1MTc5OVx1MTc4QVx1MTdEMlx1MTc4Qlx1MTdCNlx1MTc5MyBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJcdTE3OEFcdTE3QzJcdTE3OTNcdTE3QTJcdTE3QjZcdTE3OUZcdTE3OTlcdTE3OEFcdTE3RDJcdTE3OEJcdTE3QjZcdTE3OTMgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUxNzhBXHUxN0MyXHUxNzkzXHUxN0EyXHUxN0I2XHUxNzlGXHUxNzk5XHUxNzhBXHUxN0QyXHUxNzhCXHUxN0I2XHUxNzkzIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTdBMlx1MTdDQVx1MTdCN1x1MTc4MFx1MTdCQ1x1MTc4QSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MTc4MVx1MTdEMlx1MTc5Rlx1MTdDMlx1MTdBMlx1MTc4MFx1MTdEMlx1MTc5Rlx1MTc5QVx1MTdBMlx1MTdDQVx1MTdCN1x1MTc4MFx1MTdCQ1x1MTc4QSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTE3OUJcdTE3QzFcdTE3ODEgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTdCQ1x1MTc5QlwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OTRcdTE3ODlcdTE3RDJcdTE3ODVcdTE3QkNcdTE3OUJcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUuZXhwZWN0ZWR9IFx1MTc5NFx1MTdDOVx1MTdCQlx1MTc5M1x1MTdEMlx1MTc4Rlx1MTdDMlx1MTc5MVx1MTc5MVx1MTdCRFx1MTc5Qlx1MTc5NFx1MTdCNlx1MTc5MyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MTc5MVx1MTdCN1x1MTc5M1x1MTdEMlx1MTc5M1x1MTc5M1x1MTdEMFx1MTc5OVx1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTdCQ1x1MTc5Qlx1MTc5OFx1MTdCN1x1MTc5M1x1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCOVx1MTc5OFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3ODdcdTE3OThcdTE3RDJcdTE3OUFcdTE3QkVcdTE3OUZcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzg3XHUxN0I2XHUxNzk4XHUxN0JEXHUxNzk5XHUxNzgwXHUxN0QyXHUxNzkzXHUxN0JCXHUxNzg0XHUxNzg1XHUxN0M2XHUxNzhFXHUxN0M0XHUxNzk4ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFx1MTc5Mlx1MTdDNlx1MTc5Nlx1MTdDMVx1MTc4MFx1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTE3OEZcdTE3OThcdTE3RDJcdTE3OUJcdTE3QzNcIn0gJHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUxNzkyXHUxN0I2XHUxNzhGXHUxN0JCXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTJcdTE3QzZcdTE3OTZcdTE3QzFcdTE3ODBcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUub3JpZ2luID8/IFwiXHUxNzhGXHUxNzk4XHUxN0QyXHUxNzlCXHUxN0MzXCJ9ICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OEZcdTE3QkNcdTE3ODVcdTE3OTZcdTE3QzFcdTE3ODBcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzgwXHUxN0I2XHUxNzlBICR7aXNzdWUub3JpZ2lufSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MTc4Rlx1MTdCQ1x1MTc4NVx1MTc5Nlx1MTdDMVx1MTc4MFx1MTdENiBcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3ODBcdTE3QjZcdTE3OUEgJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc4NVx1MTdCNlx1MTc5NFx1MTdDQlx1MTc5NVx1MTdEMlx1MTc4Rlx1MTdCRVx1MTc5OFx1MTc4QVx1MTdDNFx1MTc5OSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc5NFx1MTc4OVx1MTdEMlx1MTc4NVx1MTc5NFx1MTdDQlx1MTc4QVx1MTdDNFx1MTc5OSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHUxNzgxXHUxN0QyXHUxNzlGXHUxN0MyXHUxN0EyXHUxNzgwXHUxN0QyXHUxNzlGXHUxNzlBXHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxN0Q2IFx1MTc4Rlx1MTdEMlx1MTc5QVx1MTdCQ1x1MTc5Q1x1MTc5OFx1MTdCNlx1MTc5MyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBcdTE3ODFcdTE3RDJcdTE3OUZcdTE3QzJcdTE3QTJcdTE3ODBcdTE3RDJcdTE3OUZcdTE3OUFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzhGXHUxN0MyXHUxNzk1XHUxN0QyXHUxNzgyXHUxN0JDXHUxNzk1XHUxN0QyXHUxNzgyXHUxNzg0XHUxNzkzXHUxN0I5XHUxNzg0XHUxNzkxXHUxNzk4XHUxN0QyXHUxNzlBXHUxNzg0XHUxN0NCXHUxNzhBXHUxN0MyXHUxNzlCXHUxNzk0XHUxN0I2XHUxNzkzXHUxNzgwXHUxN0M2XHUxNzhFXHUxNzhGXHUxN0NCICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OUJcdTE3QzFcdTE3ODFcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3RDYgXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzhGXHUxN0MyXHUxNzg3XHUxN0I2XHUxNzk2XHUxN0EwXHUxN0JCXHUxNzgyXHUxN0JCXHUxNzhFXHUxNzkzXHUxN0MzICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OUFcdTE3ODBcdTE3ODNcdTE3QkVcdTE3ODlcdTE3OUZcdTE3QzRcdTE3OThcdTE3QjdcdTE3OTNcdTE3OUZcdTE3RDJcdTE3ODJcdTE3QjZcdTE3OUJcdTE3Q0JcdTE3RDYgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OUZcdTE3QzRcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNcdTE3OTNcdTE3QzVcdTE3ODBcdTE3RDJcdTE3OTNcdTE3QkJcdTE3ODQgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTE3OTFcdTE3QjdcdTE3OTNcdTE3RDJcdTE3OTNcdTE3OTNcdTE3RDBcdTE3OTlcdTE3OThcdTE3QjdcdTE3OTNcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QjlcdTE3OThcdTE3OEZcdTE3RDJcdTE3OUFcdTE3QkNcdTE3OUNgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDXHUxNzkzXHUxN0M1XHUxNzgwXHUxN0QyXHUxNzkzXHUxN0JCXHUxNzg0ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUxNzkxXHUxN0I3XHUxNzkzXHUxN0QyXHUxNzkzXHUxNzkzXHUxN0QwXHUxNzk5XHUxNzk4XHUxN0I3XHUxNzkzXHUxNzhGXHUxN0QyXHUxNzlBXHUxN0I5XHUxNzk4XHUxNzhGXHUxN0QyXHUxNzlBXHUxN0JDXHUxNzlDYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCBrbSBmcm9tIFwiLi9rbS5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIFVzZSBga21gIGluc3RlYWQuICovIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBrbSgpO1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJcdUJCMzhcdUM3OTBcIixcbiAgICAgICAgICAgIHZlcmI6IFwidG8gaGF2ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHVCQzE0XHVDNzc0XHVEMkI4XCIsXG4gICAgICAgICAgICB2ZXJiOiBcInRvIGhhdmVcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJcdUFDMUNcIixcbiAgICAgICAgICAgIHZlcmI6IFwidG8gaGF2ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdUFDMUNcIixcbiAgICAgICAgICAgIHZlcmI6IFwidG8gaGF2ZVwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1Qzc4NVx1QjgyNVwiLFxuICAgICAgICBlbWFpbDogXCJcdUM3NzRcdUJBNTRcdUM3N0MgXHVDOEZDXHVDMThDXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHVDNzc0XHVCQUE4XHVDOUMwXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdUIwQTBcdUM5RENcdUMyRENcdUFDMDRcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHVCMEEwXHVDOURDXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1QzJEQ1x1QUMwNFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHVBRTMwXHVBQzA0XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdUM4RkNcdUMxOENcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1QzhGQ1x1QzE4Q1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdUJDOTRcdUM3MDRcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHVCQzk0XHVDNzA0XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQgXHVDNzc4XHVDRjU0XHVCNTI5IFx1QkIzOFx1Qzc5MFx1QzVGNFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIFx1Qzc3OFx1Q0Y1NFx1QjUyOSBcdUJCMzhcdUM3OTBcdUM1RjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdUJCMzhcdUM3OTBcdUM1RjRcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdUJDODhcdUQ2MzhcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1Qzc4NVx1QjgyNVwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNzg1XHVCODI1OiBcdUM2MDhcdUMwQzEgXHVEMEMwXHVDNzg1XHVDNzQwICR7aXNzdWUuZXhwZWN0ZWR9LCBcdUJDMUJcdUM3NDAgXHVEMEMwXHVDNzg1XHVDNzQwICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9XHVDNzg1XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1Qzc4NVx1QjgyNTogXHVBQzEyXHVDNzQwICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX0gXHVDNzc0XHVDNUI0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNjM1XHVDMTU4OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwiXHVCNjEwXHVCMjk0IFwiKX0gXHVDOTExIFx1RDU1OFx1QjA5OFx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHVDNzc0XHVENTU4XCIgOiBcIlx1QkJGOFx1QjlDQ1wiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWZmaXggPSBhZGogPT09IFwiXHVCQkY4XHVCOUNDXCIgPyBcIlx1Qzc3NFx1QzVCNFx1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRcIiA6IFwiXHVDNUVDXHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IHNpemluZz8udW5pdCA/PyBcIlx1QzY5NFx1QzE4Q1wiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYCR7aXNzdWUub3JpZ2luID8/IFwiXHVBQzEyXCJ9XHVDNzc0IFx1QjEwOFx1QkIzNCBcdUQwN0RcdUIyQzhcdUIyRTQ6ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSR7dW5pdH0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVEMDdEXHVCMkM4XHVCMkU0OiAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIlx1Qzc3NFx1QzBDMVwiIDogXCJcdUNEMDhcdUFDRkNcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ID0gYWRqID09PSBcIlx1Qzc3NFx1QzBDMVwiID8gXCJcdUM3NzRcdUM1QjRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0XCIgOiBcIlx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBzaXppbmc/LnVuaXQgPz8gXCJcdUM2OTRcdUMxOENcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVDNzkxXHVDMkI1XHVCMkM4XHVCMkU0OiAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0ke3VuaXR9ICR7YWRqfSR7c3VmZml4fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbiA/PyBcIlx1QUMxMlwifVx1Qzc3NCBcdUIxMDhcdUJCMzQgXHVDNzkxXHVDMkI1XHVCMkM4XHVCMkU0OiAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHthZGp9JHtzdWZmaXh9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUJCMzhcdUM3OTBcdUM1RjQ6IFwiJHtfaXNzdWUucHJlZml4fVwiKFx1QzczQylcdUI4NUMgXHVDMkRDXHVDNzkxXHVENTc0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QkIzOFx1Qzc5MFx1QzVGNDogXCIke19pc3N1ZS5zdWZmaXh9XCIoXHVDNzNDKVx1Qjg1QyBcdUIwNURcdUIwOThcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVCQjM4XHVDNzkwXHVDNUY0OiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiXHVDNzQ0KFx1Qjk3QykgXHVEM0VDXHVENTY4XHVENTc0XHVDNTdDIFx1RDU2OVx1QjJDOFx1QjJFNGA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1QkIzOFx1Qzc5MFx1QzVGNDogXHVDODE1XHVBRERDXHVDMkREICR7X2lzc3VlLnBhdHRlcm59IFx1RDMyOFx1RDEzNFx1QUNGQyBcdUM3N0NcdUNFNThcdUQ1NzRcdUM1N0MgXHVENTY5XHVCMkM4XHVCMkU0YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDMjJCXHVDNzkwOiAke2lzc3VlLmRpdmlzb3J9XHVDNzU4IFx1QkMzMFx1QzIxOFx1QzVFQ1x1QzU3QyBcdUQ1NjlcdUIyQzhcdUIyRTRgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3NzhcdUMyRERcdUQ1NjAgXHVDMjE4IFx1QzVDNlx1QjI5NCBcdUQwQTQ6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1RDBBNDogJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdUM3OThcdUJBQkJcdUI0MUMgXHVDNzg1XHVCODI1YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1Qzc5OFx1QkFCQlx1QjQxQyBcdUFDMTI6ICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHVDNzk4XHVCQUJCXHVCNDFDIFx1Qzc4NVx1QjgyNWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHJldHVybiBwYXJzZWRUeXBlRnJvbVR5cGUodCwgZGF0YSk7XG59O1xuY29uc3QgcGFyc2VkVHlwZUZyb21UeXBlID0gKHQsIGRhdGEgPSB1bmRlZmluZWQpPT57XG4gICAgc3dpdGNoKHQpe1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInNrYWlcdTAxMERpdXNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInN2ZWlrYXNpcyBza2FpXHUwMTBEaXVzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJlaWx1dFx1MDExN1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImxvZ2luXHUwMTE3IHJlaWtcdTAxNjFtXHUwMTE3XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgY2FzZSBcInZvaWRcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJuZWFwaWJyXHUwMTE3XHUwMTdFdGEgcmVpa1x1MDE2MW1cdTAxMTdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZnVua2NpamFcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInNpbWJvbGlzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gXCJuZVx1MDE3RWlub21hcyBvYmpla3Rhc1wiO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gXCJudWxpblx1MDExNyByZWlrXHUwMTYxbVx1MDExN1wiO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSByZXR1cm4gXCJtYXN5dmFzXCI7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIm9iamVrdGFzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vWm9kIHR5cGVzIGJlbG93XG4gICAgICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsaW5cdTAxMTcgcmVpa1x1MDE2MW1cdTAxMTdcIjtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuY29uc3QgY2FwaXRhbGl6ZUZpcnN0Q2hhcmFjdGVyID0gKHRleHQpPT57XG4gICAgcmV0dXJuIHRleHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnNsaWNlKDEpO1xufTtcbmZ1bmN0aW9uIGdldFVuaXRUeXBlRnJvbU51bWJlcihudW1iZXIpIHtcbiAgICBjb25zdCBhYnMgPSBNYXRoLmFicyhudW1iZXIpO1xuICAgIGNvbnN0IGxhc3QgPSBhYnMgJSAxMDtcbiAgICBjb25zdCBsYXN0MiA9IGFicyAlIDEwMDtcbiAgICBpZiAobGFzdDIgPj0gMTEgJiYgbGFzdDIgPD0gMTkgfHwgbGFzdCA9PT0gMCkgcmV0dXJuIFwibWFueVwiO1xuICAgIGlmIChsYXN0ID09PSAxKSByZXR1cm4gXCJvbmVcIjtcbiAgICByZXR1cm4gXCJmZXdcIjtcbn1cbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwic2ltYm9saXNcIixcbiAgICAgICAgICAgICAgICBmZXc6IFwic2ltYm9saWFpXCIsXG4gICAgICAgICAgICAgICAgbWFueTogXCJzaW1ib2xpXHUwMTczXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiB7XG4gICAgICAgICAgICAgICAgc21hbGxlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSBiXHUwMTZCdGkgbmUgaWxnZXNuXHUwMTE3IGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIHRydW1wZXNuXHUwMTE3IGthaXBcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSB0cnVtcGVzblx1MDExNyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBpbGdlc25cdTAxMTcga2FpcFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcImJhaXRhc1wiLFxuICAgICAgICAgICAgICAgIGZldzogXCJiYWl0YWlcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcImJhaXRcdTAxNzNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSBkaWRlc25pcyBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBtYVx1MDE3RWVzbmlzIGthaXBcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIGJcdTAxNkJ0aSBuZSBtYVx1MDE3RWVzbmlzIGthaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbm90SW5jbHVzaXZlOiBcInR1cmkgYlx1MDE2QnRpIGRpZGVzbmlzIGthaXBcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiZWxlbWVudFx1MDEwNVwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJlbGVtZW50dXNcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcImVsZW1lbnRcdTAxNzNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG5lIGRhdWdpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBtYVx1MDE3RWlhdSBrYWlwXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBuZSBtYVx1MDE3RWlhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIGRhdWdpYXUga2FpcFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiZWxlbWVudFx1MDEwNVwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJlbGVtZW50dXNcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcImVsZW1lbnRcdTAxNzNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZlcmI6IHtcbiAgICAgICAgICAgICAgICBzbWFsbGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIG5lIGRhdWdpYXUga2FpcFwiLFxuICAgICAgICAgICAgICAgICAgICBub3RJbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBtYVx1MDE3RWlhdSBrYWlwXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IFwidHVyaSB0dXJcdTAxMTd0aSBuZSBtYVx1MDE3RWlhdSBrYWlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdEluY2x1c2l2ZTogXCJ0dXJpIHR1clx1MDExN3RpIGRhdWdpYXUga2FpcFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luLCB1bml0VHlwZSwgaW5jbHVzaXZlLCB0YXJnZXRTaG91bGRCZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuaXQ6IHJlc3VsdC51bml0W3VuaXRUeXBlXSxcbiAgICAgICAgICAgIHZlcmI6IHJlc3VsdC52ZXJiW3RhcmdldFNob3VsZEJlXVtpbmNsdXNpdmUgPyBcImluY2x1c2l2ZVwiIDogXCJub3RJbmNsdXNpdmVcIl1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDEyRnZlc3Rpc1wiLFxuICAgICAgICBlbWFpbDogXCJlbC4gcGFcdTAxNjF0byBhZHJlc2FzXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiamF1c3R1a2FzXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXRhIGlyIGxhaWthc1wiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXRhXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIGxhaWthc1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gdHJ1a21cdTAxMTdcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IGFkcmVzYXNcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IGFkcmVzYXNcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgdGlua2xvIHByZWZpa3NhcyAoQ0lEUilcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgdGlua2xvIHByZWZpa3NhcyAoQ0lEUilcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NCB1XHUwMTdFa29kdW90YSBlaWx1dFx1MDExN1wiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIHVcdTAxN0Vrb2R1b3RhIGVpbHV0XHUwMTE3XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gZWlsdXRcdTAxMTdcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBudW1lcmlzXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTAxMkZ2ZXN0aXNcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2F1dGFzIHRpcGFzICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9LCBvIHRpa1x1MDExN3Rhc2kgLSAke3BhcnNlZFR5cGVGcm9tVHlwZShpc3N1ZS5leHBlY3RlZCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgUHJpdmFsbyBiXHUwMTZCdGkgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBQcml2YWxvIGJcdTAxNkJ0aSB2aWVuYXMgaVx1MDE2MSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX0gcGFzaXJpbmtpbVx1MDE3M2A7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luID0gcGFyc2VkVHlwZUZyb21UeXBlKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4sIGdldFVuaXRUeXBlRnJvbU51bWJlcihOdW1iZXIoaXNzdWUubWF4aW11bSkpLCBpc3N1ZS5pbmNsdXNpdmUgPz8gZmFsc2UsIFwic21hbGxlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZz8udmVyYikgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9ICR7c2l6aW5nLnZlcmJ9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDE3M1wifWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwibmUgZGlkZXNuaXMga2FpcFwiIDogXCJtYVx1MDE3RWVzbmlzIGthaXBcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9IHR1cmkgYlx1MDE2QnRpICR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmc/LnVuaXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBwYXJzZWRUeXBlRnJvbVR5cGUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbiwgZ2V0VW5pdFR5cGVGcm9tTnVtYmVyKE51bWJlcihpc3N1ZS5taW5pbXVtKSksIGlzc3VlLmluY2x1c2l2ZSA/PyBmYWxzZSwgXCJiaWdnZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmc/LnZlcmIpIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSAke3NpemluZy52ZXJifSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRcdTAxNzNcIn1gO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIm5lIG1hXHUwMTdFZXNuaXMga2FpcFwiIDogXCJkaWRlc25pcyBrYWlwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtjYXBpdGFsaXplRmlyc3RDaGFyYWN0ZXIob3JpZ2luID8/IGlzc3VlLm9yaWdpbiA/PyBcInJlaWtcdTAxNjFtXHUwMTE3XCIpfSB0dXJpIGJcdTAxNkJ0aSAke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nPy51bml0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIHByYXNpZFx1MDExN3RpIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIHBhc2liYWlndGkgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYEVpbHV0XHUwMTE3IHByaXZhbG8gXHUwMTJGdHJhdWt0aSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBFaWx1dFx1MDExNyBwcml2YWxvIGF0aXRpa3RpICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXRlaXNpbmdhcyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFNrYWlcdTAxMERpdXMgcHJpdmFsbyBiXHUwMTZCdGkgJHtpc3N1ZS5kaXZpc29yfSBrYXJ0b3RpbmlzLmA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lYXRwYVx1MDE3RWludCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJpXCIgOiBcImFzXCJ9IHJha3Qke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiYWlcIiA6IFwiYXNcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlJhc3RhcyBrbGFpZGluZ2FzIHJha3Rhc1wiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJLbGFpZGluZ2EgXHUwMTJGdmVzdGlzXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW4gPSBwYXJzZWRUeXBlRnJvbVR5cGUoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2NhcGl0YWxpemVGaXJzdENoYXJhY3RlcihvcmlnaW4gPz8gaXNzdWUub3JpZ2luID8/IFwicmVpa1x1MDE2MW1cdTAxMTdcIil9IHR1cmkga2xhaWRpbmdcdTAxMDUgXHUwMTJGdmVzdFx1MDEyRmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJLbGFpZGluZ2EgXHUwMTJGdmVzdGlzXCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ2XHUwNDM4XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDQzMVx1MDQzMFx1MDQ1OFx1MDQ0Mlx1MDQzOFwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDMwXHUwNDQyXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDMyXHUwNDNBXHUwNDM4XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDMyXHUwNDNBXHUwNDM4XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzNFx1MDQzMCBcdTA0MzhcdTA0M0NcdTA0MzBcdTA0MzBcdTA0NDJcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA0MzFcdTA0NDBcdTA0M0VcdTA0NThcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMCBcdTA0M0RcdTA0MzAgXHUwNDM1LVx1MDQzRlx1MDQzRVx1MDQ0OFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MDQzNVx1MDQzQ1x1MDQzRVx1MDQ1Rlx1MDQzOFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDQzXHUwNDNDIFx1MDQzOCBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0MzVcIixcbiAgICAgICAgZGF0ZTogXCJJU08gXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDQzXHUwNDNDXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDQyXHUwNDQwXHUwNDMwXHUwNDM1XHUwNDVBXHUwNDM1XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTA0MzBcdTA0MzRcdTA0NDBcdTA0MzVcdTA0NDFcdTA0MzBcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTA0M0VcdTA0M0ZcdTA0NDFcdTA0MzVcdTA0MzNcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwNDNFXHUwNDNGXHUwNDQxXHUwNDM1XHUwNDMzXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtXHUwNDM1XHUwNDNEXHUwNDNBXHUwNDNFXHUwNDM0XHUwNDM4XHUwNDQwXHUwNDMwXHUwNDNEXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLVx1MDQzNVx1MDQzRFx1MDQzQVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzBcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzBcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBcdTA0MzFcdTA0NDBcdTA0M0VcdTA0NThcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MVwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDMyXHUwNDNEXHUwNDM1XHUwNDQxOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0M0ZcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0M0RcdTA0M0UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBJbnZhbGlkIGlucHV0OiBleHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHt1dGlsLmdldFBhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYEludmFsaWQgaW5wdXQ6IGV4cGVjdGVkICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDMwXHUwNDNEXHUwNDMwIFx1MDQzRVx1MDQzRlx1MDQ0Nlx1MDQzOFx1MDQ1OFx1MDQzMDogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0MzAgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzM1x1MDQzRVx1MDQzQlx1MDQzNVx1MDQzQzogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzRFx1MDQzRVx1MDQ0MVx1MDQ0Mlx1MDQzMFwifSBcdTA0MzRcdTA0MzAgXHUwNDM4XHUwNDNDXHUwNDMwICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDM4XCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MUZcdTA0NDBcdTA0MzVcdTA0M0NcdTA0M0RcdTA0M0VcdTA0MzNcdTA0NDMgXHUwNDMzXHUwNDNFXHUwNDNCXHUwNDM1XHUwNDNDOiBcdTA0NDFcdTA0MzUgXHUwNDNFXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDQzXHUwNDMyXHUwNDMwICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDNEXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDMwXCJ9IFx1MDQzNFx1MDQzMCBcdTA0MzFcdTA0MzhcdTA0MzRcdTA0MzUgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzQ1x1MDQzMFx1MDQzQjogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbn0gXHUwNDM0XHUwNDMwIFx1MDQzOFx1MDQzQ1x1MDQzMCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDQzIFx1MDQzQ1x1MDQzMFx1MDQzQjogXHUwNDQxXHUwNDM1IFx1MDQzRVx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQ0M1x1MDQzMlx1MDQzMCAke2lzc3VlLm9yaWdpbn0gXHUwNDM0XHUwNDMwIFx1MDQzMVx1MDQzOFx1MDQzNFx1MDQzNSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDMwXHUwNDM2XHUwNDM1XHUwNDQ3XHUwNDNBXHUwNDMwIFx1MDQzRFx1MDQzOFx1MDQzN1x1MDQzMDogXHUwNDNDXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzNFx1MDQzMCBcdTA0MzdcdTA0MzBcdTA0M0ZcdTA0M0VcdTA0NDdcdTA0M0RcdTA0NDNcdTA0MzJcdTA0MzAgXHUwNDQxXHUwNDNFIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzBcdTA0MzZcdTA0MzVcdTA0NDdcdTA0M0FcdTA0MzAgXHUwNDNEXHUwNDM4XHUwNDM3XHUwNDMwOiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzN1x1MDQzMFx1MDQzMlx1MDQ0MFx1MDQ0OFx1MDQ0M1x1MDQzMlx1MDQzMCBcdTA0NDFcdTA0M0UgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQ0N1x1MDQzQVx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzA6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDMyXHUwNDNBXHUwNDNCXHUwNDQzXHUwNDQ3XHUwNDQzXHUwNDMyXHUwNDMwIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzMFx1MDQzNlx1MDQzNVx1MDQ0N1x1MDQzQVx1MDQzMCBcdTA0M0RcdTA0MzhcdTA0MzdcdTA0MzA6IFx1MDQzQ1x1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzRcdTA0MzAgXHUwNDNFXHUwNDM0XHUwNDMzXHUwNDNFXHUwNDMwXHUwNDQwXHUwNDMwIFx1MDQzRFx1MDQzMCBcdTA0M0ZcdTA0MzBcdTA0NDJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0NDIgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEludmFsaWQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTNcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0QgXHUwNDMxXHUwNDQwXHUwNDNFXHUwNDU4OiBcdTA0M0NcdTA0M0VcdTA0NDBcdTA0MzAgXHUwNDM0XHUwNDMwIFx1MDQzMVx1MDQzOFx1MDQzNFx1MDQzNSBcdTA0MzRcdTA0MzVcdTA0M0JcdTA0MzhcdTA0MzIgXHUwNDQxXHUwNDNFICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDM1XHUwNDNGXHUwNDNFXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDM1XHUwNDNEXHUwNDM4IFx1MDQzQVx1MDQzQlx1MDQ0M1x1MDQ0N1x1MDQzNVx1MDQzMlx1MDQzOFwiIDogXCJcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzVcdTA0M0ZcdTA0M0VcdTA0MzdcdTA0M0RcdTA0MzBcdTA0MzVcdTA0M0QgXHUwNDNBXHUwNDNCXHUwNDQzXHUwNDQ3XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0M0FcdTA0M0JcdTA0NDNcdTA0NDcgXHUwNDMyXHUwNDNFICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzNVx1MDQzRCBcdTA0MzJcdTA0M0RcdTA0MzVcdTA0NDFcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxM1x1MDQ0MFx1MDQzNVx1MDQ0OFx1MDQzRFx1MDQzMCBcdTA0MzJcdTA0NDBcdTA0MzVcdTA0MzRcdTA0M0RcdTA0M0VcdTA0NDFcdTA0NDIgXHUwNDMyXHUwNDNFICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDEzXHUwNDQwXHUwNDM1XHUwNDQ4XHUwNDM1XHUwNDNEIFx1MDQzMlx1MDQzRFx1MDQzNVx1MDQ0MWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYWtzYXJhXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm1lbXB1bnlhaVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYmFpdFwiLFxuICAgICAgICAgICAgdmVyYjogXCJtZW1wdW55YWlcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW5cIixcbiAgICAgICAgICAgIHZlcmI6IFwibWVtcHVueWFpXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lblwiLFxuICAgICAgICAgICAgdmVyYjogXCJtZW1wdW55YWlcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJub21ib3JcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJhbGFtYXQgZS1tZWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJ0YXJpa2ggbWFzYSBJU09cIixcbiAgICAgICAgZGF0ZTogXCJ0YXJpa2ggSVNPXCIsXG4gICAgICAgIHRpbWU6IFwibWFzYSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwidGVtcG9oIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFsYW1hdCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiYWxhbWF0IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImp1bGF0IElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImp1bGF0IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcInN0cmluZyBkaWtvZGthbiBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcInN0cmluZyBkaWtvZGthbiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwic3RyaW5nIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJub21ib3IgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImlucHV0XCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYElucHV0IHRpZGFrIHNhaDogZGlqYW5na2EgJHtpc3N1ZS5leHBlY3RlZH0sIGRpdGVyaW1hICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgSW5wdXQgdGlkYWsgc2FoOiBkaWphbmdrYSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFBpbGloYW4gdGlkYWsgc2FoOiBkaWphbmdrYSBzYWxhaCBzYXR1IGRhcmlwYWRhICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpamFuZ2thICR7aXNzdWUub3JpZ2luID8/IFwibmlsYWlcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW5cIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUgYmVzYXI6IGRpamFuZ2thICR7aXNzdWUub3JpZ2luID8/IFwibmlsYWlcIn0gYWRhbGFoICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFRlcmxhbHUga2VjaWw6IGRpamFuZ2thICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGVybGFsdSBrZWNpbDogZGlqYW5na2EgJHtpc3N1ZS5vcmlnaW59IGFkYWxhaCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHJldHVybiBgU3RyaW5nIHRpZGFrIHNhaDogbWVzdGkgYmVybXVsYSBkZW5nYW4gXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBTdHJpbmcgdGlkYWsgc2FoOiBtZXN0aSBiZXJha2hpciBkZW5nYW4gXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFN0cmluZyB0aWRhayBzYWg6IG1lc3RpIG1lbmdhbmR1bmdpIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFN0cmluZyB0aWRhayBzYWg6IG1lc3RpIHNlcGFkYW4gZGVuZ2FuIGNvcmFrICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0gdGlkYWsgc2FoYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOb21ib3IgdGlkYWsgc2FoOiBwZXJsdSBnYW5kYWFuICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayBkaWtlbmFsaTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLdW5jaSB0aWRhayBzYWggZGFsYW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSW5wdXQgdGlkYWsgc2FoXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWxhaSB0aWRhayBzYWggZGFsYW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBJbnB1dCB0aWRhayBzYWhgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcInRla2Vuc1wiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYnl0ZXNcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50ZW5cIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbWVudGVuXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiZ2V0YWxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnZvZXJcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWxhZHJlc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXR1bSBlbiB0aWpkXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIGRhdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHRpamRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIGR1dXJcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LWFkcmVzXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Ni1hZHJlc1wiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NC1iZXJlaWtcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYtYmVyZWlrXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZ2Vjb2RlZXJkZSB0ZWtzdFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0IFVSTC1nZWNvZGVlcmRlIHRla3N0XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gc3RyaW5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJpbnZvZXJcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIGludm9lcjogdmVyd2FjaHQgJHtpc3N1ZS5leHBlY3RlZH0sIG9udHZpbmcgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBPbmdlbGRpZ2UgaW52b2VyOiB2ZXJ3YWNodCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBvcHRpZTogdmVyd2FjaHQgXHUwMEU5XHUwMEU5biB2YW4gJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgVGUgbGFuZzogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2luID8/IFwid2FhcmRlXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudGVuXCJ9IGJldmF0YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBUZSBsYW5nOiB2ZXJ3YWNodCBkYXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YWFyZGVcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IGlzYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGUga29ydDogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gYmV2YXRgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVGUga29ydDogdmVyd2FjaHQgZGF0ICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gaXNgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IG1ldCBcIiR7X2lzc3VlLnByZWZpeH1cIiBiZWdpbm5lbmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IG9wIFwiJHtfaXNzdWUuc3VmZml4fVwiIGVpbmRpZ2VuYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBPbmdlbGRpZ2UgdGVrc3Q6IG1vZXQgXCIke19pc3N1ZS5pbmNsdWRlc31cIiBiZXZhdHRlbmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgT25nZWxkaWdlIHRla3N0OiBtb2V0IG92ZXJlZW5rb21lbiBtZXQgcGF0cm9vbiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWc6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWcgZ2V0YWw6IG1vZXQgZWVuIHZlZWx2b3VkIHZhbiAke2lzc3VlLmRpdmlzb3J9IHppam5gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPbmJla2VuZGUga2V5JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcInNcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBrZXkgaW4gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiT25nZWxkaWdlIGludm9lclwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT25nZWxkaWdlIHdhYXJkZSBpbiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9uZ2VsZGlnZSBpbnZvZXJgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcInRlZ25cIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwMEU1IGhhXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJieXRlc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTAwRTUgaGFcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50ZXJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwMEU1IGlubmVob2xkZVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50ZXJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwMEU1IGlubmVob2xkZVwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcInRhbGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGlzdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJpbnB1dFwiLFxuICAgICAgICBlbWFpbDogXCJlLXBvc3RhZHJlc3NlXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGRhdG8tIG9nIGtsb2trZXNsZXR0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLWRhdG9cIixcbiAgICAgICAgdGltZTogXCJJU08ta2xva2tlc2xldHRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPLXZhcmlnaGV0XCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NC1vbXJcdTAwRTVkZVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtb21yXHUwMEU1ZGVcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQtc3Bla3RlclwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Ni1zcGVrdGVyXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5rb2RldCBzdHJlbmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmtvZGV0IHN0cmVuZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLXN0cmVuZ1wiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0LW51bW1lclwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBpbnB1dDogZm9ydmVudGV0ICR7aXNzdWUuZXhwZWN0ZWR9LCBmaWtrICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgVWd5bGRpZyB2ZXJkaTogZm9ydmVudGV0ICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyB2YWxnOiBmb3J2ZW50ZXQgZW4gYXYgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgRm9yIHN0b3IodCk6IGZvcnZlbnRldCAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50ZXJcIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBzdG9yKHQpOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSB0aWwgXHUwMEU1IGhhICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBsaXRlKG4pOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW59IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZvciBsaXRlKG4pOiBmb3J2ZW50ZXQgJHtpc3N1ZS5vcmlnaW59IHRpbCBcdTAwRTUgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBtXHUwMEU1IHN0YXJ0ZSBtZWQgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBVZ3lsZGlnIHN0cmVuZzogbVx1MDBFNSBlbmRlIG1lZCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgVWd5bGRpZyBzdHJlbmc6IG1cdTAwRTUgaW5uZWhvbGRlIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFVneWxkaWcgc3RyZW5nOiBtXHUwMEU1IG1hdGNoZSBtXHUwMEY4bnN0ZXJldCAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdGFsbDogbVx1MDBFNSB2XHUwMEU2cmUgZXQgbXVsdGlwbHVtIGF2ICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiVWtqZW50ZSBuXHUwMEY4a2xlclwiIDogXCJVa2plbnQgblx1MDBGOGtrZWxcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgVWd5bGRpZyBuXHUwMEY4a2tlbCBpICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlVneWxkaWcgaW5wdXRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgdmVyZGkgaSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFVneWxkaWcgaW5wdXRgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImhhcmZcIixcbiAgICAgICAgICAgIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYmF5dFwiLFxuICAgICAgICAgICAgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwidW5zdXJcIixcbiAgICAgICAgICAgIHZlcmI6IFwib2xtYWxcdTAxMzFkXHUwMTMxclwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJ1bnN1clwiLFxuICAgICAgICAgICAgdmVyYjogXCJvbG1hbFx1MDEzMWRcdTAxMzFyXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibnVtYXJhXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInNhZlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJnYXliXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcImdpcmVuXCIsXG4gICAgICAgIGVtYWlsOiBcImVwb3N0YWdcdTAwRTJoXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiSVNPIGhlbmdcdTAwRTJtXHUwMTMxXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIHRhcmloaVwiLFxuICAgICAgICB0aW1lOiBcIklTTyB6YW1hblx1MDEzMVwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gbVx1MDBGQ2RkZXRpXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBuaVx1MDE1Rlx1MDBFMm5cdTAxMzFcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IG5pXHUwMTVGXHUwMEUyblx1MDEzMVwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBtZW56aWxpXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IG1lbnppbGlcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1cdTAxNUZpZnJlbGkgbWV0aW5cIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1cdTAxNUZpZnJlbGkgbWV0aW5cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBtZXRpblwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IHNheVx1MDEzMXNcdTAxMzFcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcImdpcmVuXCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgZ2lyZW46IHVtdWxhbiAke2lzc3VlLmV4cGVjdGVkfSwgYWxcdTAxMzFuYW4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGBGXHUwMEUyc2l0IGdpcmVuOiB1bXVsYW4gJHtpc3N1ZS5leHBlY3RlZH0sIGFsXHUwMTMxbmFuICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBGXHUwMEUyc2l0IGdpcmVuOiB1bXVsYW4gJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IHRlcmNpaDogbVx1MDBGQnRlYmVybGVyICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYEZhemxhIGJcdTAwRkN5XHUwMEZDazogJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWx1ZVwifSwgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50c1wifSBzYWhpcCBvbG1hbFx1MDEzMXlkXHUwMTMxLmA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRmF6bGEgYlx1MDBGQ3lcdTAwRkNrOiAke2lzc3VlLm9yaWdpbiA/PyBcInZhbHVlXCJ9LCAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBGYXpsYSBrXHUwMEZDXHUwMEU3XHUwMEZDazogJHtpc3N1ZS5vcmlnaW59LCAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH0gc2FoaXAgb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgRmF6bGEga1x1MDBGQ1x1MDBFN1x1MDBGQ2s6ICR7aXNzdWUub3JpZ2lufSwgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IG9sbWFsXHUwMTMxeWRcdTAxMzEuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYEZcdTAwRTJzaXQgbWV0aW46IFwiJHtfaXNzdWUucHJlZml4fVwiIGlsZSBiYVx1MDE1RmxhbWFsXHUwMTMxLmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYEZcdTAwRTJzaXQgbWV0aW46IFwiJHtfaXNzdWUuc3VmZml4fVwiIGlsZSBiaXRtZWxpLmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgRlx1MDBFMnNpdCBtZXRpbjogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBpaHRpdlx1MDBFMiBldG1lbGkuYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBGXHUwMEUyc2l0IG1ldGluOiAke19pc3N1ZS5wYXR0ZXJufSBuYWtcdTAxNUZcdTAxMzFuYSB1eW1hbFx1MDEzMS5gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRTJzaXQgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBGXHUwMEUyc2l0IHNheVx1MDEzMTogJHtpc3N1ZS5kaXZpc29yfSBrYXRcdTAxMzEgb2xtYWxcdTAxMzF5ZFx1MDEzMS5gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUYW5cdTAxMzFubWF5YW4gYW5haHRhciAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbiB0YW5cdTAxMzFubWF5YW4gYW5haHRhciB2YXIuYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiR2lyZW4gdGFuXHUwMTMxbmFtYWRcdTAxMzEuXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gaVx1MDBFN2luIHRhblx1MDEzMW5tYXlhbiBrXHUwMTMxeW1ldCB2YXIuYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBLXHUwMTMxeW1ldCB0YW5cdTAxMzFuYW1hZFx1MDEzMS5gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyQVx1MDY0OFx1MDZBOVx1MDY0QVwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDZDQ1x1MDY3Q1x1MDYzM1wiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA2MkFcdTA2NDhcdTA2QTlcdTA2NEFcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyQVx1MDY0OFx1MDZBOVx1MDY0QVwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA2MzlcdTA2MkZcdTA2MkZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjI3XHUwNjMxXHUwNkQwXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyOFx1MDYzMVx1MDZDQ1x1MDY5QVx1MDY0Nlx1MDYyN1x1MDY0NFx1MDZDQ1x1MDZBOVwiLFxuICAgICAgICB1cmw6IFwiXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYzMSBcdTA2MjdcdTA2NDRcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNjI3XHUwNkNDXHUwNjQ1XHUwNjQ4XHUwNjJDXHUwNjRBXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIlx1MDY0Nlx1MDZDQ1x1MDY3Q1x1MDY0NyBcdTA2MjdcdTA2NDggXHUwNjQ4XHUwNjJFXHUwNjJBXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjQ2XHUwNkQwXHUwNjdDXHUwNjQ3XCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNjQ4XHUwNjJFXHUwNjJBXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDY0NVx1MDY0OFx1MDYyRlx1MDY0N1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDYyRiBJUHY0IFx1MDY3RVx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBpcHY2OiBcIlx1MDYyRiBJUHY2IFx1MDY3RVx1MDYyQVx1MDY0N1wiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwNjJGIElQdjQgXHUwNjMzXHUwNjI3XHUwNjJEXHUwNjQ3XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA2MkYgSVB2NiBcdTA2MzNcdTA2MjdcdTA2MkRcdTA2NDdcIixcbiAgICAgICAgYmFzZTY0OiBcImJhc2U2NC1lbmNvZGVkIFx1MDY0NVx1MDYyQVx1MDY0NlwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsLWVuY29kZWQgXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNjQ1XHUwNjJBXHUwNjQ2XCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNjJGIEUuMTY0IFx1MDYzNFx1MDY0NVx1MDZEMFx1MDYzMVx1MDY0N1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBXCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEE6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiAke2lzc3VlLmV4cGVjdGVkfSBcdTA2NDhcdTA2MjdcdTA2Q0MsIFx1MDY0NVx1MDZBQlx1MDYzMSAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfSBcdTA2MkFcdTA2MzFcdTA2NDRcdTA2MjdcdTA2MzNcdTA2NDcgXHUwNjM0XHUwNjQ4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2NDZcdTA2MjdcdTA2MzNcdTA2NDUgXHUwNjQ4XHUwNjMxXHUwNjQ4XHUwNjJGXHUwNjRBOiBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfSBcdTA2NDhcdTA2MjdcdTA2Q0NgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MjdcdTA2NDZcdTA2MkFcdTA2MkVcdTA2MjdcdTA2Mjg6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2Q0NcdTA2NDggXHUwNjQ0XHUwNjQ3ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfSBcdTA2ODVcdTA2MkVcdTA2NDcgXHUwNjQ4XHUwNjI3XHUwNkNDYDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjg5XHUwNkNDXHUwNjMxIFx1MDY0NFx1MDY0OFx1MDZDQzogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA2MjdcdTA2MzFcdTA2MzJcdTA2OUFcdTA2MkFcIn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwNjM5XHUwNjQ2XHUwNjM1XHUwNjMxXHUwNjQ4XHUwNjQ2XHUwNjQ3XCJ9IFx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2ODlcdTA2Q0NcdTA2MzEgXHUwNjQ0XHUwNjQ4XHUwNkNDOiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDYyN1x1MDYzMVx1MDYzMlx1MDY5QVx1MDYyQVwifSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9IFx1MDY0OFx1MDY0QWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY4OVx1MDZDQ1x1MDYzMSBcdTA2QTlcdTA2NDhcdTA2ODZcdTA2NDZcdTA2Q0M6ICR7aXNzdWUub3JpZ2lufSBcdTA2MjhcdTA2MjdcdTA2Q0NcdTA2MkYgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IFx1MDY0OFx1MDY0NFx1MDYzMVx1MDY0QWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2ODlcdTA2Q0NcdTA2MzEgXHUwNkE5XHUwNjQ4XHUwNjg2XHUwNjQ2XHUwNkNDOiAke2lzc3VlLm9yaWdpbn0gXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBcdTA2NDhcdTA2NEFgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyRiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTA2MzNcdTA2MzFcdTA2NDcgXHUwNjdFXHUwNkNDXHUwNjQ0IFx1MDYzNFx1MDY0QWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFx1MDYyRiBcIiR7X2lzc3VlLnN1ZmZpeH1cIiBcdTA2MzNcdTA2MzFcdTA2NDcgXHUwNjdFXHUwNjI3XHUwNkNDIFx1MDYyQVx1MDY0NyBcdTA2NDhcdTA2MzFcdTA2MzNcdTA2NEFcdTA2OTZcdTA2NEFgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDY0NVx1MDYyQVx1MDY0NjogXHUwNjI4XHUwNjI3XHUwNkNDXHUwNjJGIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwNjQ4XHUwNjQ0XHUwNjMxXHUwNjRBYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2NDVcdTA2MkFcdTA2NDY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MkYgJHtfaXNzdWUucGF0dGVybn0gXHUwNjMzXHUwNjMxXHUwNjQ3IFx1MDY0NVx1MDYzN1x1MDYyN1x1MDYyOFx1MDY0Mlx1MDYyQSBcdTA2NDhcdTA2NDRcdTA2MzFcdTA2NEFgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9IFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MkZcdTA2Q0NgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2MzlcdTA2MkZcdTA2MkY6IFx1MDYyOFx1MDYyN1x1MDZDQ1x1MDYyRiBcdTA2MkYgJHtpc3N1ZS5kaXZpc29yfSBcdTA2NDVcdTA2MzZcdTA2MzFcdTA2MjggXHUwNjQ4XHUwNjRBYDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1ICR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2ODlcdTA2NDhcdTA2NDZcdTA2NDdcIiA6IFwiXHUwNkE5XHUwNjQ0XHUwNkNDXHUwNjg5XCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NSBcdTA2QTlcdTA2NDRcdTA2Q0NcdTA2ODkgXHUwNjdFXHUwNjQ3ICR7aXNzdWUub3JpZ2lufSBcdTA2QTlcdTA2RDBgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDY0Nlx1MDYyN1x1MDYzM1x1MDY0NVx1MDY0NyBcdTA2NDhcdTA2MzFcdTA2NDhcdTA2MkZcdTA2NEFgO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1IFx1MDYzOVx1MDY0Nlx1MDYzNVx1MDYzMSBcdTA2N0VcdTA2NDcgJHtpc3N1ZS5vcmlnaW59IFx1MDZBOVx1MDZEMGA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjQ2XHUwNjI3XHUwNjMzXHUwNjQ1XHUwNjQ3IFx1MDY0OFx1MDYzMVx1MDY0OFx1MDYyRlx1MDY0QWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiem5ha1x1MDBGM3dcIixcbiAgICAgICAgICAgIHZlcmI6IFwibWllXHUwMTA3XCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJiYWp0XHUwMEYzd1wiLFxuICAgICAgICAgICAgdmVyYjogXCJtaWVcdTAxMDdcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50XHUwMEYzd1wiLFxuICAgICAgICAgICAgdmVyYjogXCJtaWVcdTAxMDdcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZWxlbWVudFx1MDBGM3dcIixcbiAgICAgICAgICAgIHZlcmI6IFwibWllXHUwMTA3XCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwibGljemJhXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRhYmxpY2FcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJ3eXJhXHUwMTdDZW5pZVwiLFxuICAgICAgICBlbWFpbDogXCJhZHJlcyBlbWFpbFwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGEgaSBnb2R6aW5hIHcgZm9ybWFjaWUgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSB3IGZvcm1hY2llIElTT1wiLFxuICAgICAgICB0aW1lOiBcImdvZHppbmEgdyBmb3JtYWNpZSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiY3phcyB0cndhbmlhIElTT1wiLFxuICAgICAgICBpcHY0OiBcImFkcmVzIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJhZHJlcyBJUHY2XCIsXG4gICAgICAgIGNpZHJ2NDogXCJ6YWtyZXMgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiemFrcmVzIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNpXHUwMTA1ZyB6bmFrXHUwMEYzdyB6YWtvZG93YW55IHcgZm9ybWFjaWUgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJjaVx1MDEwNWcgem5ha1x1MDBGM3cgemFrb2Rvd2FueSB3IGZvcm1hY2llIGJhc2U2NHVybFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJjaVx1MDEwNWcgem5ha1x1MDBGM3cgdyBmb3JtYWNpZSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwibGljemJhIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJ3ZWpcdTAxNUJjaWVcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dlIGRhbmUgd2VqXHUwMTVCY2lvd2U6IG9jemVraXdhbm8gJHtpc3N1ZS5leHBlY3RlZH0sIG90cnp5bWFubyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93ZSBkYW5lIHdlalx1MDE1QmNpb3dlOiBvY3pla2l3YW5vICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dhIG9wY2phOiBvY3pla2l3YW5vIGplZG5laiB6IHdhcnRvXHUwMTVCY2kgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgWmEgZHVcdTAxN0NhIHdhcnRvXHUwMTVCXHUwMTA3OiBvY3pla2l3YW5vLCBcdTAxN0NlICR7aXNzdWUub3JpZ2luID8/IFwid2FydG9cdTAxNUJcdTAxMDdcIn0gYlx1MDExOWR6aWUgbWllXHUwMTA3ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDBGM3dcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWmJ5dCBkdVx1MDE3Qyh5L2EvZSk6IG9jemVraXdhbm8sIFx1MDE3Q2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YXJ0b1x1MDE1Qlx1MDEwN1wifSBiXHUwMTE5ZHppZSB3eW5vc2lcdTAxMDcgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgWmEgbWFcdTAxNDJhIHdhcnRvXHUwMTVCXHUwMTA3OiBvY3pla2l3YW5vLCBcdTAxN0NlICR7aXNzdWUub3JpZ2luID8/IFwid2FydG9cdTAxNUJcdTAxMDdcIn0gYlx1MDExOWR6aWUgbWllXHUwMTA3ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiZWxlbWVudFx1MDBGM3dcIn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgWmJ5dCBtYVx1MDE0Mih5L2EvZSk6IG9jemVraXdhbm8sIFx1MDE3Q2UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ3YXJ0b1x1MDE1Qlx1MDEwN1wifSBiXHUwMTE5ZHppZSB3eW5vc2lcdTAxMDcgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kgemFjenluYVx1MDEwNyBzaVx1MDExOSBvZCBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kga29cdTAxNDRjenlcdTAxMDcgc2lcdTAxMTkgbmEgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYE5pZXByYXdpZFx1MDE0Mm93eSBjaVx1MDEwNWcgem5ha1x1MDBGM3c6IG11c2kgemF3aWVyYVx1MDEwNyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kgY2lcdTAxMDVnIHpuYWtcdTAwRjN3OiBtdXNpIG9kcG93aWFkYVx1MDEwNyB3em9yY293aSAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3coeS9hL2UpICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dhIGxpY3piYTogbXVzaSBieVx1MDEwNyB3aWVsb2tyb3Rub1x1MDE1QmNpXHUwMTA1ICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVyb3pwb3puYW5lIGtsdWN6ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd3kga2x1Y3ogdyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOaWVwcmF3aWRcdTAxNDJvd2UgZGFuZSB3ZWpcdTAxNUJjaW93ZVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmllcHJhd2lkXHUwMTQyb3dhIHdhcnRvXHUwMTVCXHUwMTA3IHcgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOaWVwcmF3aWRcdTAxNDJvd2UgZGFuZSB3ZWpcdTAxNUJjaW93ZWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiY2FyYWN0ZXJlc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJ0ZXJcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcImJ5dGVzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcInRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcIml0ZW5zXCIsXG4gICAgICAgICAgICB2ZXJiOiBcInRlclwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJpdGVuc1wiLFxuICAgICAgICAgICAgdmVyYjogXCJ0ZXJcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJuXHUwMEZBbWVyb1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxvXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcInBhZHJcdTAwRTNvXCIsXG4gICAgICAgIGVtYWlsOiBcImVuZGVyZVx1MDBFN28gZGUgZS1tYWlsXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiZW1vamlcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0YSBlIGhvcmEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiZGF0YSBJU09cIixcbiAgICAgICAgdGltZTogXCJob3JhIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJkdXJhXHUwMEU3XHUwMEUzbyBJU09cIixcbiAgICAgICAgaXB2NDogXCJlbmRlcmVcdTAwRTdvIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJlbmRlcmVcdTAwRTdvIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImZhaXhhIGRlIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImZhaXhhIGRlIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcInRleHRvIGNvZGlmaWNhZG8gZW0gYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJVUkwgY29kaWZpY2FkYSBlbSBiYXNlNjRcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwidGV4dG8gSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTAwRkFtZXJvIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJlbnRyYWRhXCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRpcG8gaW52XHUwMEUxbGlkbzogZXNwZXJhZG8gJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2ViaWRvICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgRW50cmFkYSBpbnZcdTAwRTFsaWRhOiBlc3BlcmFkbyAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9wXHUwMEU3XHUwMEUzbyBpbnZcdTAwRTFsaWRhOiBlc3BlcmFkYSB1bWEgZGFzICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYE11aXRvIGdyYW5kZTogZXNwZXJhZG8gcXVlICR7aXNzdWUub3JpZ2luID8/IFwidmFsb3JcIn0gdGl2ZXNzZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvc1wifWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTXVpdG8gZ3JhbmRlOiBlc3BlcmFkbyBxdWUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2YWxvclwifSBmb3NzZSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNdWl0byBwZXF1ZW5vOiBlc3BlcmFkbyBxdWUgJHtpc3N1ZS5vcmlnaW59IHRpdmVzc2UgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE11aXRvIHBlcXVlbm86IGVzcGVyYWRvIHF1ZSAke2lzc3VlLm9yaWdpbn0gZm9zc2UgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFRleHRvIGludlx1MDBFMWxpZG86IGRldmUgY29tZVx1MDBFN2FyIGNvbSBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFRleHRvIGludlx1MDBFMWxpZG86IGRldmUgdGVybWluYXIgY29tIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBUZXh0byBpbnZcdTAwRTFsaWRvOiBkZXZlIGluY2x1aXIgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgVGV4dG8gaW52XHUwMEUxbGlkbzogZGV2ZSBjb3JyZXNwb25kZXIgYW8gcGFkclx1MDBFM28gJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fSBpbnZcdTAwRTFsaWRvYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOXHUwMEZBbWVybyBpbnZcdTAwRTFsaWRvOiBkZXZlIHNlciBtXHUwMEZBbHRpcGxvIGRlICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDaGF2ZSR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJzXCIgOiBcIlwifSBkZXNjb25oZWNpZGEke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwic1wiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgQ2hhdmUgaW52XHUwMEUxbGlkYSBlbSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJFbnRyYWRhIGludlx1MDBFMWxpZGFcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFZhbG9yIGludlx1MDBFMWxpZG8gZW0gJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBDYW1wbyBpbnZcdTAwRTFsaWRvYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuZnVuY3Rpb24gZ2V0UnVzc2lhblBsdXJhbChjb3VudCwgb25lLCBmZXcsIG1hbnkpIHtcbiAgICBjb25zdCBhYnNDb3VudCA9IE1hdGguYWJzKGNvdW50KTtcbiAgICBjb25zdCBsYXN0RGlnaXQgPSBhYnNDb3VudCAlIDEwO1xuICAgIGNvbnN0IGxhc3RUd29EaWdpdHMgPSBhYnNDb3VudCAlIDEwMDtcbiAgICBpZiAobGFzdFR3b0RpZ2l0cyA+PSAxMSAmJiBsYXN0VHdvRGlnaXRzIDw9IDE5KSB7XG4gICAgICAgIHJldHVybiBtYW55O1xuICAgIH1cbiAgICBpZiAobGFzdERpZ2l0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBvbmU7XG4gICAgfVxuICAgIGlmIChsYXN0RGlnaXQgPj0gMiAmJiBsYXN0RGlnaXQgPD0gNCkge1xuICAgICAgICByZXR1cm4gZmV3O1xuICAgIH1cbiAgICByZXR1cm4gbWFueTtcbn1cbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMyXHUwNDNFXHUwNDNCXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMlx1MDQzRVx1MDQzQlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDQxXHUwNDM4XHUwNDNDXHUwNDMyXHUwNDNFXHUwNDNCXHUwNDNFXHUwNDMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQzMVx1MDQzMFx1MDQzOVx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDMxXHUwNDMwXHUwNDM5XHUwNDQyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgb25lOiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0MlwiLFxuICAgICAgICAgICAgICAgIGZldzogXCJcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgICAgICAgICBtYW55OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzRVx1MDQzMlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVyYjogXCJcdTA0MzhcdTA0M0NcdTA0MzVcdTA0NDJcdTA0NENcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBvbmU6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXCIsXG4gICAgICAgICAgICAgICAgZmV3OiBcIlx1MDQ0RFx1MDQzQlx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Mlx1MDQzMFwiLFxuICAgICAgICAgICAgICAgIG1hbnk6IFwiXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDNFXHUwNDMyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0Q1wiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIlx1MDQ0N1x1MDQzOFx1MDQ0MVx1MDQzQlx1MDQzRVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTA0M0NcdTA0MzBcdTA0NDFcdTA0NDFcdTA0MzhcdTA0MzJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA0MzJcdTA0MzJcdTA0M0VcdTA0MzRcIixcbiAgICAgICAgZW1haWw6IFwiZW1haWwgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHUwNDREXHUwNDNDXHUwNDNFXHUwNDM0XHUwNDM3XHUwNDM4XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzAgXHUwNDM4IFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQ0RlwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTA0MzRcdTA0MzBcdTA0NDJcdTA0MzBcIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDXHUwNDRGXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTA0MzRcdTA0M0JcdTA0MzhcdTA0NDJcdTA0MzVcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0NDFcdTA0NDJcdTA0NENcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IFx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0IFx1MDQzNFx1MDQzOFx1MDQzMFx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRFwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBcdTA0MzRcdTA0MzhcdTA0MzBcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0RcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMCBcdTA0MzIgXHUwNDQ0XHUwNDNFXHUwNDQwXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM1IGJhc2U2NFwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwIFx1MDQzMiBcdTA0NDRcdTA0M0VcdTA0NDBcdTA0M0NcdTA0MzBcdTA0NDJcdTA0MzUgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIkpTT04gXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwXCIsXG4gICAgICAgIGUxNjQ6IFwiXHUwNDNEXHUwNDNFXHUwNDNDXHUwNDM1XHUwNDQwIEUuMTY0XCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTA0MzJcdTA0MzJcdTA0M0VcdTA0MzRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5IFx1MDQzMlx1MDQzMlx1MDQzRVx1MDQzNDogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NDNcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0UgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDMyXHUwNDMyXHUwNDNFXHUwNDM0OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDM4XHUwNDMwXHUwNDNEXHUwNDQyOiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMgXHUwNDNFXHUwNDM0XHUwNDNEXHUwNDNFIFx1MDQzOFx1MDQzNyAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VmFsdWUgPSBOdW1iZXIoaXNzdWUubWF4aW11bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gZ2V0UnVzc2lhblBsdXJhbChtYXhWYWx1ZSwgc2l6aW5nLnVuaXQub25lLCBzaXppbmcudW5pdC5mZXcsIHNpemluZy51bml0Lm1hbnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDMxXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDQ4XHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzVcIn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyIFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDMxXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDQ4XHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzVcIn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5WYWx1ZSA9IE51bWJlcihpc3N1ZS5taW5pbXVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBnZXRSdXNzaWFuUGx1cmFsKG1pblZhbHVlLCBzaXppbmcudW5pdC5vbmUsIHNpemluZy51bml0LmZldywgc2l6aW5nLnVuaXQubWFueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQyMVx1MDQzQlx1MDQzOFx1MDQ0OFx1MDQzQVx1MDQzRVx1MDQzQyBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0MzVcdTA0M0RcdTA0NENcdTA0M0FcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1OiBcdTA0M0VcdTA0MzZcdTA0MzhcdTA0MzRcdTA0MzBcdTA0M0JcdTA0M0VcdTA0NDFcdTA0NEMsIFx1MDQ0N1x1MDQ0Mlx1MDQzRSAke2lzc3VlLm9yaWdpbn0gXHUwNDMxXHUwNDQzXHUwNDM0XHUwNDM1XHUwNDQyIFx1MDQzOFx1MDQzQ1x1MDQzNVx1MDQ0Mlx1MDQ0QyAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHt1bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MjFcdTA0M0JcdTA0MzhcdTA0NDhcdTA0M0FcdTA0M0VcdTA0M0MgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDRDXHUwNDNBXHUwNDNFXHUwNDM1IFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNTogXHUwNDNFXHUwNDM2XHUwNDM4XHUwNDM0XHUwNDMwXHUwNDNCXHUwNDNFXHUwNDQxXHUwNDRDLCBcdTA0NDdcdTA0NDJcdTA0M0UgJHtpc3N1ZS5vcmlnaW59IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNVx1MDQ0MiAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDMwXHUwNDRGIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMDogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDMwIFx1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzOFx1MDQzRFx1MDQzMFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiBcdTA0NDEgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0MzBcdTA0NEYgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0MzAgXHUwNDM3XHUwNDMwXHUwNDNBXHUwNDMwXHUwNDNEXHUwNDQ3XHUwNDM4XHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGIFx1MDQzRFx1MDQzMCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDMwXHUwNDRGIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzMDogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDMwIFx1MDQ0MVx1MDQzRVx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzMFx1MDQ0Mlx1MDQ0QyBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0MzBcdTA0NEYgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDNBXHUwNDMwOiBcdTA0MzRcdTA0M0VcdTA0M0JcdTA0MzZcdTA0M0RcdTA0MzAgXHUwNDQxXHUwNDNFXHUwNDNFXHUwNDQyXHUwNDMyXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDQyXHUwNDMyXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQyXHUwNDRDIFx1MDQ0OFx1MDQzMFx1MDQzMVx1MDQzQlx1MDQzRVx1MDQzRFx1MDQ0MyAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDRCXHUwNDM5ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNEXHUwNDNFXHUwNDM1IFx1MDQ0N1x1MDQzOFx1MDQ0MVx1MDQzQlx1MDQzRTogXHUwNDM0XHUwNDNFXHUwNDNCXHUwNDM2XHUwNDNEXHUwNDNFIFx1MDQzMVx1MDQ0Qlx1MDQ0Mlx1MDQ0QyBcdTA0M0FcdTA0NDBcdTA0MzBcdTA0NDJcdTA0M0RcdTA0NEJcdTA0M0MgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQ0MFx1MDQzMFx1MDQ0MVx1MDQzRlx1MDQzRVx1MDQzN1x1MDQzRFx1MDQzMFx1MDQzRFx1MDQzRCR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0NEJcdTA0MzVcIiA6IFwiXHUwNDRCXHUwNDM5XCJ9IFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyR7aXNzdWUua2V5cy5sZW5ndGggPiAxID8gXCJcdTA0MzhcIiA6IFwiXCJ9OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0M0FcdTA0M0JcdTA0NEVcdTA0NDcgXHUwNDMyICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzNSBcdTA0MzJcdTA0NDVcdTA0M0VcdTA0MzRcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0MzJcdTA0MzVcdTA0NDBcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQzMiAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQzRFx1MDQ0Qlx1MDQzNSBcdTA0MzJcdTA0NDVcdTA0M0VcdTA0MzRcdTA0M0RcdTA0NEJcdTA0MzUgXHUwNDM0XHUwNDMwXHUwNDNEXHUwNDNEXHUwNDRCXHUwNDM1YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJ6bmFrb3ZcIixcbiAgICAgICAgICAgIHZlcmI6IFwiaW1ldGlcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcImJhanRvdlwiLFxuICAgICAgICAgICAgdmVyYjogXCJpbWV0aVwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcImVsZW1lbnRvdlwiLFxuICAgICAgICAgICAgdmVyYjogXCJpbWV0aVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJlbGVtZW50b3ZcIixcbiAgICAgICAgICAgIHZlcmI6IFwiaW1ldGlcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTAxNjF0ZXZpbG9cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidGFiZWxhXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwidm5vc1wiLFxuICAgICAgICBlbWFpbDogXCJlLXBvXHUwMTYxdG5pIG5hc2xvdlwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyBkYXR1bSBpbiBcdTAxMERhc1wiLFxuICAgICAgICBkYXRlOiBcIklTTyBkYXR1bVwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTAxMERhc1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08gdHJhamFuamVcIixcbiAgICAgICAgaXB2NDogXCJJUHY0IG5hc2xvdlwiLFxuICAgICAgICBpcHY2OiBcIklQdjYgbmFzbG92XCIsXG4gICAgICAgIGNpZHJ2NDogXCJvYnNlZyBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJvYnNlZyBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQga29kaXJhbiBuaXpcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybCBrb2RpcmFuIG5pelwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIG5pelwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MDE2MXRldmlsa2FcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcInZub3NcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiB2bm9zOiBwcmlcdTAxMERha292YW5vICR7aXNzdWUuZXhwZWN0ZWR9LCBwcmVqZXRvICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgTmV2ZWxqYXZlbiB2bm9zOiBwcmlcdTAxMERha292YW5vICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZuYSBtb1x1MDE3RW5vc3Q6IHByaVx1MDEwRGFrb3Zhbm8gZW5vIGl6bWVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFByZXZlbGlrbzogcHJpXHUwMTBEYWtvdmFubywgZGEgYm8gJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2cmVkbm9zdFwifSBpbWVsbyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcImVsZW1lbnRvdlwifWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUHJldmVsaWtvOiBwcmlcdTAxMERha292YW5vLCBkYSBibyAke2lzc3VlLm9yaWdpbiA/PyBcInZyZWRub3N0XCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFByZW1hamhubzogcHJpXHUwMTBEYWtvdmFubywgZGEgYm8gJHtpc3N1ZS5vcmlnaW59IGltZWxvICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBQcmVtYWpobm86IHByaVx1MDEwRGFrb3Zhbm8sIGRhIGJvICR7aXNzdWUub3JpZ2lufSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBuaXo6IG1vcmEgc2UgemFcdTAxMERldGkgeiBcIiR7X2lzc3VlLnByZWZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgTmV2ZWxqYXZlbiBuaXo6IG1vcmEgc2Uga29uXHUwMTBEYXRpIHogXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYE5ldmVsamF2ZW4gbml6OiBtb3JhIHZzZWJvdmF0aSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBOZXZlbGphdmVuIG5pejogbW9yYSB1c3RyZXphdGkgdnpvcmN1ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdmVuICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZubyBcdTAxNjF0ZXZpbG86IG1vcmEgYml0aSB2ZVx1MDEwRGtyYXRuaWsgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5lcHJlcG96bmFuJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImkga2xqdVx1MDEwRGlcIiA6IFwiIGtsanVcdTAxMERcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgTmV2ZWxqYXZlbiBrbGp1XHUwMTBEIHYgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV2ZWxqYXZlbiB2bm9zXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBOZXZlbGphdm5hIHZyZWRub3N0IHYgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV2ZWxqYXZlbiB2bm9zXCI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwidGVja2VuXCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF0dCBoYVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYnl0ZXNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYXR0IGhhXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwib2JqZWt0XCIsXG4gICAgICAgICAgICB2ZXJiOiBcImF0dCBpbm5laFx1MDBFNWxsYVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJvYmpla3RcIixcbiAgICAgICAgICAgIHZlcmI6IFwiYXR0IGlubmVoXHUwMEU1bGxhXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiYW50YWxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGlzdGFcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJyZWd1bGpcdTAwRTRydCB1dHRyeWNrXCIsXG4gICAgICAgIGVtYWlsOiBcImUtcG9zdGFkcmVzc1wiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTy1kYXR1bSBvY2ggdGlkXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPLWRhdHVtXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPLXRpZFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU08tdmFyYWt0aWdoZXRcIixcbiAgICAgICAgaXB2NDogXCJJUHY0LWludGVydmFsbFwiLFxuICAgICAgICBpcHY2OiBcIklQdjYtaW50ZXJ2YWxsXCIsXG4gICAgICAgIGNpZHJ2NDogXCJJUHY0LXNwZWt0cnVtXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2LXNwZWt0cnVtXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQta29kYWQgc3RyXHUwMEU0bmdcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1rb2RhZCBzdHJcdTAwRTRuZ1wiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OLXN0clx1MDBFNG5nXCIsXG4gICAgICAgIGUxNjQ6IFwiRS4xNjQtbnVtbWVyXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJtYWxsLWxpdGVyYWxcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBpbm1hdG5pbmc6IGZcdTAwRjZydlx1MDBFNG50YXQgJHtpc3N1ZS5leHBlY3RlZH0sIGZpY2sgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBPZ2lsdGlnIGlubWF0bmluZzogZlx1MDBGNnJ2XHUwMEU0bnRhdCAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWd0IHZhbDogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgZW4gYXYgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBGNnIgc3Rvcih0KTogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJlbGVtZW50XCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRjZyIHN0b3IodCk6IGZcdTAwRjZydlx1MDBFNG50YXQgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgRlx1MDBGNnIgbGl0ZSh0KTogZlx1MDBGNnJ2XHUwMEU0bnRhZGUgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifSBhdHQgaGEgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEZcdTAwRjZyIGxpdGUodCk6IGZcdTAwRjZydlx1MDBFNG50YWRlICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn0gYXR0IGhhICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIGJcdTAwRjZyamEgbWVkIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIHNsdXRhIG1lZCBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgT2dpbHRpZyBzdHJcdTAwRTRuZzogbVx1MDBFNXN0ZSBpbm5laFx1MDBFNWxsYSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwicmVnZXhcIikgcmV0dXJuIGBPZ2lsdGlnIHN0clx1MDBFNG5nOiBtXHUwMEU1c3RlIG1hdGNoYSBtXHUwMEY2bnN0cmV0IFwiJHtfaXNzdWUucGF0dGVybn1cImA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyh0KSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE9naWx0aWd0IHRhbDogbVx1MDBFNXN0ZSB2YXJhIGVuIG11bHRpcGVsIGF2ICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiT2tcdTAwRTRuZGEgbnlja2xhclwiIDogXCJPa1x1MDBFNG5kIG55Y2tlbFwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlnIG55Y2tlbCBpICR7aXNzdWUub3JpZ2luID8/IFwidlx1MDBFNHJkZXRcIn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJPZ2lsdGlnIGlucHV0XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBPZ2lsdGlndCB2XHUwMEU0cmRlIGkgJHtpc3N1ZS5vcmlnaW4gPz8gXCJ2XHUwMEU0cmRldFwifWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgT2dpbHRpZyBpbnB1dGA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwQjhFXHUwQkI0XHUwQkMxXHUwQkE0XHUwQkNEXHUwQkE0XHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkIzXHUwQkNEXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MEJBQVx1MEJDOFx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJDMVx1MEI5NVx1MEJCM1x1MEJDRFwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTBCOTVcdTBCQ0FcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQkZcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwQjg5XHUwQkIxXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXHUwQjk1XHUwQkIzXHUwQkNEXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwQjg5XHUwQkIxXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXHUwQjk1XHUwQkIzXHUwQkNEXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MEI5NVx1MEJDQVx1MEJBM1x1MEJDRFx1MEI5Rlx1MEJCRlx1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIlx1MEI4RVx1MEJBM1x1MEJDRCBcdTBCODVcdTBCQjJcdTBCQ0RcdTBCQjJcdTBCQkVcdTBCQTRcdTBCQTRcdTBCQzFcIiA6IFwiXHUwQjhFXHUwQkEzXHUwQkNEXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEI4NVx1MEJBM1x1MEJCRlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTBCQjVcdTBCQzZcdTBCQjFcdTBCQzFcdTBCQUVcdTBCQzhcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MEJBRVx1MEJCRlx1MEJBOVx1MEJDRFx1MEJBOVx1MEI5RVx1MEJDRFx1MEI5QVx1MEJCMlx1MEJDRCBcdTBCQUVcdTBCQzFcdTBCOTVcdTBCQjVcdTBCQjBcdTBCQkZcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHUwQkE0XHUwQkM3XHUwQkE0XHUwQkJGIFx1MEJBOFx1MEJDN1x1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBkYXRlOiBcIklTTyBcdTBCQTRcdTBCQzdcdTBCQTRcdTBCQkZcIixcbiAgICAgICAgdGltZTogXCJJU08gXHUwQkE4XHUwQkM3XHUwQkIwXHUwQkFFXHUwQkNEXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIklTTyBcdTBCOTVcdTBCQkVcdTBCQjIgXHUwQjg1XHUwQkIzXHUwQkI1XHUwQkMxXCIsXG4gICAgICAgIGlwdjQ6IFwiSVB2NCBcdTBCQUVcdTBCQzFcdTBCOTVcdTBCQjVcdTBCQjBcdTBCQkZcIixcbiAgICAgICAgaXB2NjogXCJJUHY2IFx1MEJBRVx1MEJDMVx1MEI5NVx1MEJCNVx1MEJCMFx1MEJCRlwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NCBcdTBCQjVcdTBCQjBcdTBCQUVcdTBCQ0RcdTBCQUFcdTBCQzFcIixcbiAgICAgICAgY2lkcnY2OiBcIklQdjYgXHUwQkI1XHUwQkIwXHUwQkFFXHUwQkNEXHUwQkFBXHUwQkMxXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQtZW5jb2RlZCBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0RcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImJhc2U2NHVybC1lbmNvZGVkIFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRFwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1MEI4RVx1MEJBM1x1MEJDRFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiaW5wdXRcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTBCQUFcdTBCQzZcdTBCQjFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQkI1XHUwQkJGXHUwQkIwXHUwQkMxXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkFFXHUwQkNEOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCOTJcdTBCQTlcdTBCQ0RcdTBCQjFcdTBCQzFgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQUVcdTBCQkZcdTBCOTUgXHUwQkFBXHUwQkM2XHUwQkIwXHUwQkJGXHUwQkFGXHUwQkE0XHUwQkMxOiBcdTBCOEVcdTBCQTRcdTBCQkZcdTBCQjBcdTBCQ0RcdTBCQUFcdTBCQkVcdTBCQjBcdTBCQ0RcdTBCOTVcdTBCQ0RcdTBCOTVcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCOUZcdTBCQ0RcdTBCOUZcdTBCQTRcdTBCQzEgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTBCQUVcdTBCQTRcdTBCQkZcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcIn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTBCODlcdTBCQjFcdTBCQzFcdTBCQUFcdTBCQ0RcdTBCQUFcdTBCQzFcdTBCOTVcdTBCQjNcdTBCQ0RcIn0gXHUwQjg2XHUwQjk1IFx1MEI4N1x1MEJCMFx1MEJDMVx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwQkFFXHUwQkJGXHUwQjk1IFx1MEJBQVx1MEJDNlx1MEJCMFx1MEJCRlx1MEJBRlx1MEJBNFx1MEJDMTogXHUwQjhFXHUwQkE0XHUwQkJGXHUwQkIwXHUwQkNEXHUwQkFBXHUwQkJFXHUwQkIwXHUwQkNEXHUwQjk1XHUwQkNEXHUwQjk1XHUwQkFBXHUwQkNEXHUwQkFBXHUwQjlGXHUwQkNEXHUwQjlGXHUwQkE0XHUwQkMxICR7aXNzdWUub3JpZ2luID8/IFwiXHUwQkFFXHUwQkE0XHUwQkJGXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSBcdTBCODZcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBRVx1MEJCRlx1MEI5NVx1MEI5QVx1MEJDRCBcdTBCOUFcdTBCQkZcdTBCQjFcdTBCQkZcdTBCQUZcdTBCQTRcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9IFx1MEI4Nlx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDsgLy9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEJBRVx1MEJCRlx1MEI5NVx1MEI5QVx1MEJDRCBcdTBCOUFcdTBCQkZcdTBCQjFcdTBCQkZcdTBCQUZcdTBCQTRcdTBCQzE6IFx1MEI4RVx1MEJBNFx1MEJCRlx1MEJCMFx1MEJDRFx1MEJBQVx1MEJCRVx1MEJCMFx1MEJDRFx1MEI5NVx1MEJDRFx1MEI5NVx1MEJBQVx1MEJDRFx1MEJBQVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJBNFx1MEJDMSAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9IFx1MEI4Nlx1MEI5NSBcdTBCODdcdTBCQjBcdTBCQzFcdTBCOTVcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQTRcdTBCQ0FcdTBCOUZcdTBCOTlcdTBCQ0RcdTBCOTUgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI5QVx1MEJCMFx1MEJBRVx1MEJDRDogXCIke19pc3N1ZS5zdWZmaXh9XCIgXHUwQjg3XHUwQkIyXHUwQkNEIFx1MEJBRVx1MEJDMVx1MEI5Rlx1MEJCRlx1MEJCNVx1MEI5Rlx1MEJDOFx1MEJBRiBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6IFwiJHtfaXNzdWUuaW5jbHVkZXN9XCIgXHUwQjkwIFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEI5Rlx1MEI5NVx1MEJDRFx1MEI5NSBcdTBCQjVcdTBCQzdcdTBCQTNcdTBCQ0RcdTBCOUZcdTBCQzFcdTBCQUVcdTBCQ0RgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFx1MEJBNFx1MEJCNVx1MEJCMVx1MEJCRVx1MEJBOSBcdTBCOUFcdTBCQjBcdTBCQUVcdTBCQ0Q6ICR7X2lzc3VlLnBhdHRlcm59IFx1MEJBRVx1MEJDMVx1MEJCMVx1MEJDOFx1MEJBQVx1MEJCRVx1MEI5Rlx1MEJDRFx1MEI5Rlx1MEJDMVx1MEI5Rlx1MEJBOVx1MEJDRCBcdTBCQUFcdTBCQ0FcdTBCQjBcdTBCQzFcdTBCQThcdTBCQ0RcdTBCQTQgXHUwQkI1XHUwQkM3XHUwQkEzXHUwQkNEXHUwQjlGXHUwQkMxXHUwQkFFXHUwQkNEYDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjhFXHUwQkEzXHUwQkNEOiAke2lzc3VlLmRpdmlzb3J9IFx1MEI4N1x1MEJBOVx1MEJDRCBcdTBCQUFcdTBCQjJcdTBCQUVcdTBCQkVcdTBCOTUgXHUwQjg3XHUwQkIwXHUwQkMxXHUwQjk1XHUwQkNEXHUwQjk1IFx1MEJCNVx1MEJDN1x1MEJBM1x1MEJDRFx1MEI5Rlx1MEJDMVx1MEJBRVx1MEJDRGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEI4NVx1MEI5Rlx1MEJDOFx1MEJBRlx1MEJCRVx1MEJCM1x1MEJBRVx1MEJDRCBcdTBCQTRcdTBCQzZcdTBCQjBcdTBCQkZcdTBCQUZcdTBCQkVcdTBCQTQgXHUwQkI1XHUwQkJGXHUwQjlBXHUwQkM4JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MEI5NVx1MEJCM1x1MEJDRFwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQkI1XHUwQkJGXHUwQjlBXHUwQkM4YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwQkE0XHUwQkI1XHUwQkIxXHUwQkJFXHUwQkE5IFx1MEI4OVx1MEJCM1x1MEJDRFx1MEJCM1x1MEJDMFx1MEI5Rlx1MEJDMVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1MEI4N1x1MEJCMlx1MEJDRCBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQkFFXHUwQkE0XHUwQkJGXHUwQkFBXHUwQkNEXHUwQkFBXHUwQkMxYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBCQTRcdTBCQjVcdTBCQjFcdTBCQkVcdTBCQTkgXHUwQjg5XHUwQkIzXHUwQkNEXHUwQkIzXHUwQkMwXHUwQjlGXHUwQkMxYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTBFMTVcdTBFMzFcdTBFMjdcdTBFMkRcdTBFMzFcdTBFMDFcdTBFMjlcdTBFMjNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTBFNDRcdTBFMUFcdTBFMTVcdTBFNENcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwRTIzXHUwRTMyXHUwRTIyXHUwRTAxXHUwRTMyXHUwRTIzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTBFMjNcdTBFMzJcdTBFMjJcdTBFMDFcdTBFMzJcdTBFMjNcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1XCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFNDNcdTBFMEFcdTBFNDhcdTBFMTVcdTBFMzFcdTBFMjdcdTBFNDBcdTBFMjVcdTBFMDIgKE5hTilcIiA6IFwiXHUwRTE1XHUwRTMxXHUwRTI3XHUwRTQwXHUwRTI1XHUwRTAyXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEUyRFx1MEUzMlx1MEUyM1x1MEU0Q1x1MEU0MFx1MEUyM1x1MEUyMlx1MEU0QyAoQXJyYXkpXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MEU0NFx1MEUyMVx1MEU0OFx1MEUyMVx1MEUzNVx1MEUwNFx1MEU0OFx1MEUzMiAobnVsbClcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGRhdGEpICE9PSBPYmplY3QucHJvdG90eXBlICYmIGRhdGEuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBjb25zdCBOb3VucyA9IHtcbiAgICAgICAgcmVnZXg6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTFCXHUwRTQ5XHUwRTJEXHUwRTE5XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OFx1MEUyRFx1MEUzNVx1MEU0MFx1MEUyMVx1MEUyNVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcIlx1MEUyRFx1MEUzNFx1MEU0Mlx1MEUyMVx1MEUwOFx1MEUzNFwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTBFMjdcdTBFMzFcdTBFMTlcdTBFMTdcdTBFMzVcdTBFNDhcdTBFNDBcdTBFMjdcdTBFMjVcdTBFMzJcdTBFNDFcdTBFMUFcdTBFMUEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwRTI3XHUwRTMxXHUwRTE5XHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTQxXHUwRTFBXHUwRTFBIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MEU0MFx1MEUyN1x1MEUyNVx1MEUzMlx1MEU0MVx1MEUxQVx1MEUxQSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwRTBBXHUwRTQ4XHUwRTI3XHUwRTA3XHUwRTQwXHUwRTI3XHUwRTI1XHUwRTMyXHUwRTQxXHUwRTFBXHUwRTFBIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwRTE3XHUwRTM1XHUwRTQ4XHUwRTJEXHUwRTIyXHUwRTM5XHUwRTQ4IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MEUwQVx1MEU0OFx1MEUyN1x1MEUwNyBJUCBcdTBFNDFcdTBFMUFcdTBFMUEgSVB2NFwiLFxuICAgICAgICBjaWRydjY6IFwiXHUwRTBBXHUwRTQ4XHUwRTI3XHUwRTA3IElQIFx1MEU0MVx1MEUxQVx1MEUxQSBJUHY2XCIsXG4gICAgICAgIGJhc2U2NDogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFNDFcdTBFMUFcdTBFMUEgQmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFNDFcdTBFMUFcdTBFMUEgQmFzZTY0IFx1MEUyQVx1MEUzM1x1MEUyQlx1MEUyM1x1MEUzMVx1MEUxQSBVUkxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTQxXHUwRTFBXHUwRTFBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTBFNDBcdTBFMUFcdTBFMkRcdTBFMjNcdTBFNENcdTBFNDJcdTBFMTdcdTBFMjNcdTBFMjhcdTBFMzFcdTBFMUVcdTBFMTdcdTBFNENcdTBFMjNcdTBFMzBcdTBFMkJcdTBFMjdcdTBFNDhcdTBFMzJcdTBFMDdcdTBFMUJcdTBFMjNcdTBFMzBcdTBFNDBcdTBFMTdcdTBFMjggKEUuMTY0KVwiLFxuICAgICAgICBqd3Q6IFwiXHUwRTQyXHUwRTE3XHUwRTQwXHUwRTA0XHUwRTE5IEpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUxQlx1MEU0OVx1MEUyRFx1MEUxOVwiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMUJcdTBFMjNcdTBFMzBcdTBFNDBcdTBFMjBcdTBFMTdcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMjFcdTBFMzlcdTBFMjVcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOSAke2lzc3VlLmV4cGVjdGVkfSBcdTBFNDFcdTBFMTVcdTBFNDhcdTBFNDRcdTBFMTRcdTBFNDlcdTBFMjNcdTBFMzFcdTBFMUEgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBcdTBFMDRcdTBFNDhcdTBFMzJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxNVx1MEUzMVx1MEUyN1x1MEU0MFx1MEUyNVx1MEUzN1x1MEUyRFx1MEUwMVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTQwXHUwRTFCXHUwRTQ3XHUwRTE5XHUwRTJCXHUwRTE5XHUwRTM2XHUwRTQ4XHUwRTA3XHUwRTQzXHUwRTE5ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFNDBcdTBFMDFcdTBFMzRcdTBFMTlcIiA6IFwiXHUwRTE5XHUwRTQ5XHUwRTJEXHUwRTIyXHUwRTAxXHUwRTI3XHUwRTQ4XHUwRTMyXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFx1MEU0MFx1MEUwMVx1MEUzNFx1MEUxOVx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNDogJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTBFMDRcdTBFNDhcdTBFMzJcIn0gXHUwRTA0XHUwRTI3XHUwRTIzXHUwRTIxXHUwRTM1JHthZGp9ICR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHUwRTIzXHUwRTMyXHUwRTIyXHUwRTAxXHUwRTMyXHUwRTIzXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFNDBcdTBFMDFcdTBFMzRcdTBFMTlcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQ6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwRTA0XHUwRTQ4XHUwRTMyXCJ9IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNSR7YWRqfSAke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiXHUwRTJEXHUwRTIyXHUwRTQ4XHUwRTMyXHUwRTA3XHUwRTE5XHUwRTQ5XHUwRTJEXHUwRTIyXCIgOiBcIlx1MEUyMVx1MEUzMlx1MEUwMVx1MEUwMVx1MEUyN1x1MEU0OFx1MEUzMlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMTlcdTBFNDlcdTBFMkRcdTBFMjJcdTBFMDFcdTBFMjdcdTBFNDhcdTBFMzJcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQ6ICR7aXNzdWUub3JpZ2lufSBcdTBFMDRcdTBFMjdcdTBFMjNcdTBFMjFcdTBFMzUke2Fkan0gJHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxOVx1MEU0OVx1MEUyRFx1MEUyMlx1MEUwMVx1MEUyN1x1MEU0OFx1MEUzMlx1MEUwMVx1MEUzM1x1MEUyQlx1MEUxOVx1MEUxNDogJHtpc3N1ZS5vcmlnaW59IFx1MEUwNFx1MEUyN1x1MEUyM1x1MEUyMVx1MEUzNSR7YWRqfSAke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMDJcdTBFNDlcdTBFMkRcdTBFMDRcdTBFMjdcdTBFMzJcdTBFMjFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFMDJcdTBFMzZcdTBFNDlcdTBFMTlcdTBFMTVcdTBFNDlcdTBFMTlcdTBFMTRcdTBFNDlcdTBFMjdcdTBFMjIgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTA0XHUwRTI3XHUwRTMyXHUwRTIxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3XHUwRTI1XHUwRTA3XHUwRTE3XHUwRTQ5XHUwRTMyXHUwRTIyXHUwRTE0XHUwRTQ5XHUwRTI3XHUwRTIyIFwiJHtfaXNzdWUuc3VmZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEUyMVx1MEUzNSBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIFx1MEUyRFx1MEUyMlx1MEUzOVx1MEU0OFx1MEU0M1x1MEUxOVx1MEUwMlx1MEU0OVx1MEUyRFx1MEUwNFx1MEUyN1x1MEUzMlx1MEUyMWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUwRTIzXHUwRTM5XHUwRTFCXHUwRTQxXHUwRTFBXHUwRTFBXHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFMTVcdTBFMjNcdTBFMDdcdTBFMDFcdTBFMzFcdTBFMUFcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTQgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUyM1x1MEUzOVx1MEUxQlx1MEU0MVx1MEUxQVx1MEUxQVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwNzogJHtOb3Vuc1tfaXNzdWUuZm9ybWF0XSA/PyBpc3N1ZS5mb3JtYXR9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMTVcdTBFMzFcdTBFMjdcdTBFNDBcdTBFMjVcdTBFMDJcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDc6IFx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEU0MFx1MEUxQlx1MEU0N1x1MEUxOVx1MEUwOFx1MEUzM1x1MEUxOVx1MEUyN1x1MEUxOVx1MEUxN1x1MEUzNVx1MEU0OFx1MEUyQlx1MEUzMlx1MEUyM1x1MEUxNFx1MEU0OVx1MEUyN1x1MEUyMiAke2lzc3VlLmRpdmlzb3J9IFx1MEU0NFx1MEUxNFx1MEU0OVx1MEUyNVx1MEUwN1x1MEUxNVx1MEUzMVx1MEUyN2A7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUxRVx1MEUxQVx1MEUwNFx1MEUzNVx1MEUyMlx1MEU0Q1x1MEUxN1x1MEUzNVx1MEU0OFx1MEU0NFx1MEUyMVx1MEU0OFx1MEUyM1x1MEUzOVx1MEU0OVx1MEUwOFx1MEUzMVx1MEUwMTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTBFMDRcdTBFMzVcdTBFMjJcdTBFNENcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTZcdTBFMzlcdTBFMDFcdTBFMTVcdTBFNDlcdTBFMkRcdTBFMDdcdTBFNDNcdTBFMTkgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwRTAyXHUwRTQ5XHUwRTJEXHUwRTIxXHUwRTM5XHUwRTI1XHUwRTQ0XHUwRTIxXHUwRTQ4XHUwRTE2XHUwRTM5XHUwRTAxXHUwRTE1XHUwRTQ5XHUwRTJEXHUwRTA3OiBcdTBFNDRcdTBFMjFcdTBFNDhcdTBFMTVcdTBFMjNcdTBFMDdcdTBFMDFcdTBFMzFcdTBFMUFcdTBFMjNcdTBFMzlcdTBFMUJcdTBFNDFcdTBFMUFcdTBFMUFcdTBFMjJcdTBFMzlcdTBFNDBcdTBFMTlcdTBFMzVcdTBFMjJcdTBFMTlcdTBFMTdcdTBFMzVcdTBFNDhcdTBFMDFcdTBFMzNcdTBFMkJcdTBFMTlcdTBFMTRcdTBFNDRcdTBFMjdcdTBFNDlcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN1x1MEU0M1x1MEUxOSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MEUwMlx1MEU0OVx1MEUyRFx1MEUyMVx1MEUzOVx1MEUyNVx1MEU0NFx1MEUyMVx1MEU0OFx1MEUxNlx1MEUzOVx1MEUwMVx1MEUxNVx1MEU0OVx1MEUyRFx1MEUwN2A7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJudW1iZXJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcImthcmFrdGVyXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm9sbWFsXHUwMTMxXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJiYXl0XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm9sbWFsXHUwMTMxXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwMEY2XHUwMTFGZVwiLFxuICAgICAgICAgICAgdmVyYjogXCJvbG1hbFx1MDEzMVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTAwRjZcdTAxMUZlXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm9sbWFsXHUwMTMxXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJnaXJkaVwiLFxuICAgICAgICBlbWFpbDogXCJlLXBvc3RhIGFkcmVzaVwiLFxuICAgICAgICB1cmw6IFwiVVJMXCIsXG4gICAgICAgIGVtb2ppOiBcImVtb2ppXCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTTyB0YXJpaCB2ZSBzYWF0XCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIHRhcmloXCIsXG4gICAgICAgIHRpbWU6IFwiSVNPIHNhYXRcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIHNcdTAwRkNyZVwiLFxuICAgICAgICBpcHY0OiBcIklQdjQgYWRyZXNpXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBhZHJlc2lcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgYXJhbFx1MDEzMVx1MDExRlx1MDEzMVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2NiBhcmFsXHUwMTMxXHUwMTFGXHUwMTMxXCIsXG4gICAgICAgIGJhc2U2NDogXCJiYXNlNjQgaWxlIFx1MDE1RmlmcmVsZW5taVx1MDE1RiBtZXRpblwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIGlsZSBcdTAxNUZpZnJlbGVubWlcdTAxNUYgbWV0aW5cIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTiBkaXplc2lcIixcbiAgICAgICAgZTE2NDogXCJFLjE2NCBzYXlcdTAxMzFzXHUwMTMxXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdTAxNUVhYmxvbiBkaXplc2lcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyOiBiZWtsZW5lbiAke2lzc3VlLmV4cGVjdGVkfSwgYWxcdTAxMzFuYW4gJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IGRlXHUwMTFGZXI6IGJla2xlbmVuICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBzZVx1MDBFN2VuZWs6IGFcdTAxNUZhXHUwMTFGXHUwMTMxZGFraWxlcmRlbiBiaXJpIG9sbWFsXHUwMTMxOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBcdTAwQzdvayBiXHUwMEZDeVx1MDBGQ2s6IGJla2xlbmVuICR7aXNzdWUub3JpZ2luID8/IFwiZGVcdTAxMUZlclwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1MDBGNlx1MDExRmVcIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDN29rIGJcdTAwRkN5XHUwMEZDazogYmVrbGVuZW4gJHtpc3N1ZS5vcmlnaW4gPz8gXCJkZVx1MDExRmVyXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFx1MDBDN29rIGtcdTAwRkNcdTAwRTdcdTAwRkNrOiBiZWtsZW5lbiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAwQzdvayBrXHUwMEZDXHUwMEU3XHUwMEZDazogYmVrbGVuZW4gJHtpc3N1ZS5vcmlnaW59ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IG1ldGluOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBpbGUgYmFcdTAxNUZsYW1hbFx1MDEzMWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYEdlXHUwMEU3ZXJzaXogbWV0aW46IFwiJHtfaXNzdWUuc3VmZml4fVwiIGlsZSBiaXRtZWxpYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6IG1ldGluOiBcIiR7X2lzc3VlLmluY2x1ZGVzfVwiIGlcdTAwRTdlcm1lbGlgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYEdlXHUwMEU3ZXJzaXogbWV0aW46ICR7X2lzc3VlLnBhdHRlcm59IGRlc2VuaW5lIHV5bWFsXHUwMTMxYDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBHZVx1MDBFN2Vyc2l6ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBzYXlcdTAxMzE6ICR7aXNzdWUuZGl2aXNvcn0gaWxlIHRhbSBiXHUwMEY2bFx1MDBGQ25lYmlsbWVsaWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFRhblx1MDEzMW5tYXlhbiBhbmFodGFyJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcImxhclwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbmRlIGdlXHUwMEU3ZXJzaXogYW5haHRhcmA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIkdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlclwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IGlcdTAwRTdpbmRlIGdlXHUwMEU3ZXJzaXogZGVcdTAxMUZlcmA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgR2VcdTAwRTdlcnNpeiBkZVx1MDExRmVyYDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzJcdTA0M0VcdTA0M0JcdTA0NTZcdTA0MzJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA0MzFcdTA0MzBcdTA0MzlcdTA0NDJcdTA0NTZcdTA0MzJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHUwNDM1XHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyXHUwNDU2XHUwNDMyXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1MDQzQ1x1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzQ1x1MDQzNVwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NTZcdTA0MzJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNDNDXHUwNDMwXHUwNDQyXHUwNDM4XHUwNDNDXHUwNDM1XCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiXHUwNDQ3XHUwNDM4XHUwNDQxXHUwNDNCXHUwNDNFXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDQzQ1x1MDQzMFx1MDQ0MVx1MDQzOFx1MDQzMlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZcIixcbiAgICAgICAgZW1haWw6IFwiXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwIFx1MDQzNVx1MDQzQlx1MDQzNVx1MDQzQVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzRFx1MDQzRFx1MDQzRVx1MDQ1NyBcdTA0M0ZcdTA0M0VcdTA0NDhcdTA0NDJcdTA0MzhcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA0MzVcdTA0M0NcdTA0M0VcdTA0MzRcdTA0MzdcdTA0NTZcIixcbiAgICAgICAgdXVpZDogXCJVVUlEXCIsXG4gICAgICAgIHV1aWR2NDogXCJVVUlEdjRcIixcbiAgICAgICAgdXVpZHY2OiBcIlVVSUR2NlwiLFxuICAgICAgICBuYW5vaWQ6IFwibmFub2lkXCIsXG4gICAgICAgIGd1aWQ6IFwiR1VJRFwiLFxuICAgICAgICBjdWlkOiBcImN1aWRcIixcbiAgICAgICAgY3VpZDI6IFwiY3VpZDJcIixcbiAgICAgICAgdWxpZDogXCJVTElEXCIsXG4gICAgICAgIHhpZDogXCJYSURcIixcbiAgICAgICAga3N1aWQ6IFwiS1NVSURcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIFx1MDQ0Mlx1MDQzMCBcdTA0NDdcdTA0MzBcdTA0NDEgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNDM0XHUwNDMwXHUwNDQyXHUwNDMwIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDQ0N1x1MDQzMFx1MDQ0MSBJU09cIixcbiAgICAgICAgZHVyYXRpb246IFwiXHUwNDQyXHUwNDQwXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDNCXHUwNDU2XHUwNDQxXHUwNDQyXHUwNDRDIElTT1wiLFxuICAgICAgICBpcHY0OiBcIlx1MDQzMFx1MDQzNFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQzMCBJUHY0XCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNDMwXHUwNDM0XHUwNDQwXHUwNDM1XHUwNDQxXHUwNDMwIElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDQzNFx1MDQ1Nlx1MDQzMFx1MDQzRlx1MDQzMFx1MDQzN1x1MDQzRVx1MDQzRCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA0MzRcdTA0NTZcdTA0MzBcdTA0M0ZcdTA0MzBcdTA0MzdcdTA0M0VcdTA0M0QgSVB2NlwiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBIFx1MDQ0MyBcdTA0M0FcdTA0M0VcdTA0MzRcdTA0NDNcdTA0MzJcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NTYgYmFzZTY0XCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0EgXHUwNDQzIFx1MDQzQVx1MDQzRVx1MDQzNFx1MDQ0M1x1MDQzMlx1MDQzMFx1MDQzRFx1MDQzRFx1MDQ1NiBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNDQwXHUwNDRGXHUwNDM0XHUwNDNFXHUwNDNBIEpTT05cIixcbiAgICAgICAgZTE2NDogXCJcdTA0M0RcdTA0M0VcdTA0M0NcdTA0MzVcdTA0NDAgRS4xNjRcIixcbiAgICAgICAgand0OiBcIkpXVFwiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTY6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDNFXHUwNDQyXHUwNDQwXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNEXHUwNDNFICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIC8vIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTY6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiAke2lzc3VlLmV4cGVjdGVkfSwgXHUwNDNFXHUwNDQyXHUwNDQwXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDNEXHUwNDNFICR7dXRpbC5nZXRQYXJzZWRUeXBlKGlzc3VlLmlucHV0KX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdmFsdWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUudmFsdWVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0M0ZcdTA0NDBcdTA0MzBcdTA0MzJcdTA0MzhcdTA0M0JcdTA0NENcdTA0M0RcdTA0NTYgXHUwNDMyXHUwNDQ1XHUwNDU2XHUwNDM0XHUwNDNEXHUwNDU2IFx1MDQzNFx1MDQzMFx1MDQzRFx1MDQ1NjogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDMwIFx1MDQzRVx1MDQzRlx1MDQ0Nlx1MDQ1Nlx1MDQ0RjogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGIFx1MDQzRVx1MDQzNFx1MDQzRFx1MDQzNSBcdTA0MzcgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgXHUwNDE3XHUwNDMwXHUwNDNEXHUwNDMwXHUwNDM0XHUwNDQyXHUwNDNFIFx1MDQzMlx1MDQzNVx1MDQzQlx1MDQzOFx1MDQzQVx1MDQzNTogXHUwNDNFXHUwNDQ3XHUwNDU2XHUwNDNBXHUwNDQzXHUwNDU0XHUwNDQyXHUwNDRDXHUwNDQxXHUwNDRGLCBcdTA0NDlcdTA0M0UgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEZcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA0MzVcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0NTZcdTA0MzJcIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0MzJcdTA0MzVcdTA0M0JcdTA0MzhcdTA0M0FcdTA0MzU6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiwgXHUwNDQ5XHUwNDNFICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDNEXHUwNDRGXCJ9IFx1MDQzMVx1MDQ0M1x1MDQzNFx1MDQzNSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MTdcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzRcdTA0NDJcdTA0M0UgXHUwNDNDXHUwNDMwXHUwNDNCXHUwNDM1OiBcdTA0M0VcdTA0NDdcdTA0NTZcdTA0M0FcdTA0NDNcdTA0NTRcdTA0NDJcdTA0NENcdTA0NDFcdTA0NEYsIFx1MDQ0OVx1MDQzRSAke2lzc3VlLm9yaWdpbn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxN1x1MDQzMFx1MDQzRFx1MDQzMFx1MDQzNFx1MDQ0Mlx1MDQzRSBcdTA0M0NcdTA0MzBcdTA0M0JcdTA0MzU6IFx1MDQzRVx1MDQ0N1x1MDQ1Nlx1MDQzQVx1MDQ0M1x1MDQ1NFx1MDQ0Mlx1MDQ0Q1x1MDQ0MVx1MDQ0RiwgXHUwNDQ5XHUwNDNFICR7aXNzdWUub3JpZ2lufSBcdTA0MzFcdTA0NDNcdTA0MzRcdTA0MzUgJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0M0ZcdTA0M0VcdTA0NDdcdTA0MzhcdTA0M0RcdTA0MzBcdTA0NDJcdTA0MzhcdTA0NDFcdTA0NEYgXHUwNDM3IFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzN1x1MDQzMFx1MDQzQVx1MDQ1Nlx1MDQzRFx1MDQ0N1x1MDQ0M1x1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQ0MVx1MDQ0RiBcdTA0M0RcdTA0MzAgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSBcdTA0NDBcdTA0NEZcdTA0MzRcdTA0M0VcdTA0M0E6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzNVx1MDQzRCBcdTA0M0NcdTA0NTZcdTA0NDFcdTA0NDJcdTA0MzhcdTA0NDJcdTA0MzggXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQ0MFx1MDQ0Rlx1MDQzNFx1MDQzRVx1MDQzQTogXHUwNDNGXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDNEXHUwNDM1XHUwNDNEIFx1MDQzMlx1MDQ1Nlx1MDQzNFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQ1Nlx1MDQzNFx1MDQzMFx1MDQ0Mlx1MDQzOCBcdTA0NDhcdTA0MzBcdTA0MzFcdTA0M0JcdTA0M0VcdTA0M0RcdTA0NDMgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzOFx1MDQzOSAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzNSBcdTA0NDdcdTA0MzhcdTA0NDFcdTA0M0JcdTA0M0U6IFx1MDQzRlx1MDQzRVx1MDQzMlx1MDQzOFx1MDQzRFx1MDQzRFx1MDQzRSBcdTA0MzFcdTA0NDNcdTA0NDJcdTA0MzggXHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQyXHUwNDNEXHUwNDM4XHUwNDNDICR7aXNzdWUuZGl2aXNvcn1gO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA0MURcdTA0MzVcdTA0NDBcdTA0M0VcdTA0MzdcdTA0M0ZcdTA0NTZcdTA0MzdcdTA0M0RcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzkgXHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3JHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1MDQ1NlwiIDogXCJcIn06ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2tleVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDM4XHUwNDM5IFx1MDQzQVx1MDQzQlx1MDQ0RVx1MDQ0NyBcdTA0NDMgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDQxRFx1MDQzNVx1MDQzRlx1MDQ0MFx1MDQzMFx1MDQzMlx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzNSBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0M0RcdTA0NEYgXHUwNDQzICR7aXNzdWUub3JpZ2lufWA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNDFEXHUwNDM1XHUwNDNGXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDU2IFx1MDQzMlx1MDQ0NVx1MDQ1Nlx1MDQzNFx1MDQzRFx1MDQ1NiBcdTA0MzRcdTA0MzBcdTA0M0RcdTA0NTZgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHVrIGZyb20gXCIuL3VrLmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB1a2AgaW5zdGVhZC4gKi8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHVrKCk7XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyRFx1MDYzMVx1MDY0OFx1MDY0MVwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyOFx1MDYyN1x1MDYyNlx1MDY3OVx1MDYzM1wiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTA2MjJcdTA2MjZcdTA2NzlcdTA2NDVcdTA2MzJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3XCJcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDYyMlx1MDYyNlx1MDY3OVx1MDY0NVx1MDYzMlwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjdcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRTaXppbmcob3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBTaXphYmxlW29yaWdpbl0gPz8gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IChkYXRhKT0+e1xuICAgICAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgICAgIHN3aXRjaCh0KXtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBcIk5hTlwiIDogXCJcdTA2NDZcdTA2NDVcdTA2MjhcdTA2MzFcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwNjIyXHUwNjMxXHUwNkQyXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDY0Nlx1MDY0NFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5XCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDYyN1x1MDZDQyBcdTA2NDVcdTA2Q0NcdTA2NDQgXHUwNjI3XHUwNkNDXHUwNjg4XHUwNjMxXHUwNkNDXHUwNjMzXCIsXG4gICAgICAgIHVybDogXCJcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjMxIFx1MDYyN1x1MDZDQ1x1MDY0NFwiLFxuICAgICAgICBlbW9qaTogXCJcdTA2MjdcdTA2Q0NcdTA2NDVcdTA2NDhcdTA2MkNcdTA2Q0NcIixcbiAgICAgICAgdXVpZDogXCJcdTA2Q0NcdTA2NDggXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAgdXVpZHY0OiBcIlx1MDZDQ1x1MDY0OCBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQyBcdTA2NDhcdTA2Q0MgNFwiLFxuICAgICAgICB1dWlkdjY6IFwiXHUwNkNDXHUwNjQ4IFx1MDZDQ1x1MDY0OCBcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjg4XHUwNkNDIFx1MDY0OFx1MDZDQyA2XCIsXG4gICAgICAgIG5hbm9pZDogXCJcdTA2NDZcdTA2Q0NcdTA2NDZcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBndWlkOiBcIlx1MDYyQ1x1MDZDQyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBjdWlkOiBcIlx1MDYzM1x1MDZDQyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBjdWlkMjogXCJcdTA2MzNcdTA2Q0MgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0MgMlwiLFxuICAgICAgICB1bGlkOiBcIlx1MDZDQ1x1MDY0OCBcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICB4aWQ6IFwiXHUwNjI3XHUwNkNDXHUwNkE5XHUwNjMzIFx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2ODhcdTA2Q0NcIixcbiAgICAgICAga3N1aWQ6IFwiXHUwNkE5XHUwNkQyIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2Q0NcdTA2NDggXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY4OFx1MDZDQ1wiLFxuICAgICAgICBkYXRldGltZTogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjI3XHUwNkNDXHUwNjMzIFx1MDYyN1x1MDY0OCBcdTA2ODhcdTA2Q0NcdTA2NzkgXHUwNjc5XHUwNjI3XHUwNjI2XHUwNjQ1XCIsXG4gICAgICAgIGRhdGU6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjJBXHUwNjI3XHUwNjMxXHUwNkNDXHUwNjJFXCIsXG4gICAgICAgIHRpbWU6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjQ4XHUwNjQyXHUwNjJBXCIsXG4gICAgICAgIGR1cmF0aW9uOiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2MjdcdTA2Q0NcdTA2MzMgXHUwNjI3XHUwNjQ4IFx1MDY0NVx1MDYyRlx1MDYyQVwiLFxuICAgICAgICBpcHY0OiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2N0VcdTA2Q0MgXHUwNjQ4XHUwNkNDIDQgXHUwNjI3XHUwNkNDXHUwNjg4XHUwNjMxXHUwNkNDXHUwNjMzXCIsXG4gICAgICAgIGlwdjY6IFwiXHUwNjIyXHUwNjI2XHUwNkNDIFx1MDY3RVx1MDZDQyBcdTA2NDhcdTA2Q0MgNiBcdTA2MjdcdTA2Q0NcdTA2ODhcdTA2MzFcdTA2Q0NcdTA2MzNcIixcbiAgICAgICAgY2lkcnY0OiBcIlx1MDYyMlx1MDYyNlx1MDZDQyBcdTA2N0VcdTA2Q0MgXHUwNjQ4XHUwNkNDIDQgXHUwNjMxXHUwNkNDXHUwNjQ2XHUwNjJDXCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTA2MjJcdTA2MjZcdTA2Q0MgXHUwNjdFXHUwNkNDIFx1MDY0OFx1MDZDQyA2IFx1MDYzMVx1MDZDQ1x1MDY0Nlx1MDYyQ1wiLFxuICAgICAgICBiYXNlNjQ6IFwiXHUwNjI4XHUwNkNDXHUwNjMzIDY0IFx1MDYyN1x1MDY0NiBcdTA2QTlcdTA2NDhcdTA2ODhcdTA2ODggXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJcdTA2MjhcdTA2Q0NcdTA2MzMgNjQgXHUwNkNDXHUwNjQ4IFx1MDYyMlx1MDYzMSBcdTA2MjdcdTA2Q0NcdTA2NDQgXHUwNjI3XHUwNjQ2IFx1MDZBOVx1MDY0OFx1MDY4OFx1MDY4OCBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUZcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiXHUwNjJDXHUwNkQyIFx1MDYyN1x1MDZDQ1x1MDYzMyBcdTA2MjdcdTA2NDggXHUwNjI3XHUwNkNDXHUwNjQ2IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRlwiLFxuICAgICAgICBlMTY0OiBcIlx1MDYyN1x1MDZDQyAxNjQgXHUwNjQ2XHUwNjQ1XHUwNjI4XHUwNjMxXCIsXG4gICAgICAgIGp3dDogXCJcdTA2MkNcdTA2RDIgXHUwNjg4XHUwNjI4XHUwNjQ0XHUwNkNDXHUwNjQ4IFx1MDY3OVx1MDZDQ1wiLFxuICAgICAgICB0ZW1wbGF0ZV9saXRlcmFsOiBcIlx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2NzlcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyN1x1MDY0NiBcdTA2N0VcdTA2Nzk6ICR7aXNzdWUuZXhwZWN0ZWR9IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdcdTA2MEMgJHtwYXJzZWRUeXBlKGlzc3VlLmlucHV0KX0gXHUwNjQ1XHUwNjQ4XHUwNjM1XHUwNjQ4XHUwNjQ0IFx1MDZDMVx1MDY0OFx1MDYyN2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5OiAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYyMlx1MDY3RVx1MDYzNFx1MDY0NjogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9IFx1MDY0NVx1MDZDQ1x1MDZCQSBcdTA2MzNcdTA2RDIgXHUwNjI3XHUwNkNDXHUwNkE5IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjI4XHUwNjkxXHUwNjI3OiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1MDY0OFx1MDZDQ1x1MDY0NFx1MDZDQ1x1MDY0OFwifSBcdTA2QTlcdTA2RDIgJHthZGp9JHtpc3N1ZS5tYXhpbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXQgPz8gXCJcdTA2MzlcdTA2NDZcdTA2MjdcdTA2MzVcdTA2MzFcIn0gXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNkQyIFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2RDJgO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYyOFx1MDZDMVx1MDYyQSBcdTA2MjhcdTA2OTFcdTA2Mjc6ICR7aXNzdWUub3JpZ2luID8/IFwiXHUwNjQ4XHUwNkNDXHUwNjQ0XHUwNkNDXHUwNjQ4XCJ9IFx1MDZBOVx1MDYyNyAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY0NVx1MDYyQVx1MDY0OFx1MDY0Mlx1MDYzOSBcdTA2MkFcdTA2QkVcdTA2MjdgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjg2XHUwNkJFXHUwNjQ4XHUwNjc5XHUwNjI3OiAke2lzc3VlLm9yaWdpbn0gXHUwNkE5XHUwNkQyICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2RDIgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDZEMmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2MjhcdTA2QzFcdTA2MkEgXHUwNjg2XHUwNkJFXHUwNjQ4XHUwNjc5XHUwNjI3OiAke2lzc3VlLm9yaWdpbn0gXHUwNkE5XHUwNjI3ICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSBcdTA2QzFcdTA2NDhcdTA2NDZcdTA2MjcgXHUwNjQ1XHUwNjJBXHUwNjQ4XHUwNjQyXHUwNjM5IFx1MDYyQVx1MDZCRVx1MDYyN2A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZm9ybWF0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwic3RhcnRzX3dpdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2NDRcdTA2MzcgXHUwNjMzXHUwNjc5XHUwNjMxXHUwNjQ2XHUwNkFGOiBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTA2MzNcdTA2RDIgXHUwNjM0XHUwNjMxXHUwNjQ4XHUwNjM5IFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImVuZHNfd2l0aFwiKSByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MzNcdTA2NzlcdTA2MzFcdTA2NDZcdTA2QUY6IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1MDY3RVx1MDYzMSBcdTA2MkVcdTA2MkFcdTA2NDUgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRjogXCIke19pc3N1ZS5pbmNsdWRlc31cIiBcdTA2MzRcdTA2MjdcdTA2NDVcdTA2NDQgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDYzM1x1MDY3OVx1MDYzMVx1MDY0Nlx1MDZBRjogXHUwNjdFXHUwNkNDXHUwNjc5XHUwNjMxXHUwNjQ2ICR7X2lzc3VlLnBhdHRlcm59IFx1MDYzM1x1MDZEMiBcdTA2NDVcdTA2Q0NcdTA2ODYgXHUwNkMxXHUwNjQ4XHUwNjQ2XHUwNjI3IFx1MDY4Nlx1MDYyN1x1MDZDMVx1MDZDQ1x1MDZEMmA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDY0Nlx1MDY0NVx1MDYyOFx1MDYzMTogJHtpc3N1ZS5kaXZpc29yfSBcdTA2QTlcdTA2MjcgXHUwNjQ1XHUwNjM2XHUwNjI3XHUwNjM5XHUwNjQxIFx1MDZDMVx1MDY0OFx1MDY0Nlx1MDYyNyBcdTA2ODZcdTA2MjdcdTA2QzFcdTA2Q0NcdTA2RDJgO1xuICAgICAgICAgICAgY2FzZSBcInVucmVjb2duaXplZF9rZXlzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTA2M0FcdTA2Q0NcdTA2MzEgXHUwNjJBXHUwNjMzXHUwNjQ0XHUwNkNDXHUwNjQ1IFx1MDYzNFx1MDYyRlx1MDZDMSBcdTA2QTlcdTA2Q0Mke2lzc3VlLmtleXMubGVuZ3RoID4gMSA/IFwiXHUwNjMyXCIgOiBcIlwifTogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCJcdTA2MEMgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTA2NDVcdTA2Q0NcdTA2QkEgXHUwNjNBXHUwNjQ0XHUwNjM3IFx1MDZBOVx1MDZDQ2A7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5XCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHUwNjQ1XHUwNkNDXHUwNkJBIFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2NDhcdTA2Q0NcdTA2NDRcdTA2Q0NcdTA2NDhgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDYzQVx1MDY0NFx1MDYzNyBcdTA2MjdcdTA2NDYgXHUwNjdFXHUwNjc5YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJrXHUwMEZEIHRcdTFFRjFcIixcbiAgICAgICAgICAgIHZlcmI6IFwiY1x1MDBGM1wiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiYnl0ZVwiLFxuICAgICAgICAgICAgdmVyYjogXCJjXHUwMEYzXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwicGhcdTFFQTduIHRcdTFFRURcIixcbiAgICAgICAgICAgIHZlcmI6IFwiY1x1MDBGM1wiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJwaFx1MUVBN24gdFx1MUVFRFwiLFxuICAgICAgICAgICAgdmVyYjogXCJjXHUwMEYzXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwic1x1MUVEMVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtXHUxRUEzbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTAxMTFcdTFFQTd1IHZcdTAwRTBvXCIsXG4gICAgICAgIGVtYWlsOiBcIlx1MDExMVx1MUVDQmEgY2hcdTFFQzkgZW1haWxcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJuZ1x1MDBFMHkgZ2lcdTFFREQgSVNPXCIsXG4gICAgICAgIGRhdGU6IFwibmdcdTAwRTB5IElTT1wiLFxuICAgICAgICB0aW1lOiBcImdpXHUxRUREIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJraG9cdTFFQTNuZyB0aFx1MUVERGkgZ2lhbiBJU09cIixcbiAgICAgICAgaXB2NDogXCJcdTAxMTFcdTFFQ0JhIGNoXHUxRUM5IElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTAxMTFcdTFFQ0JhIGNoXHUxRUM5IElQdjZcIixcbiAgICAgICAgY2lkcnY0OiBcImRcdTFFQTNpIElQdjRcIixcbiAgICAgICAgY2lkcnY2OiBcImRcdTFFQTNpIElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcImNodVx1MUVEN2kgbVx1MDBFMyBoXHUwMEYzYSBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcImNodVx1MUVEN2kgbVx1MDBFMyBoXHUwMEYzYSBiYXNlNjR1cmxcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiY2h1XHUxRUQ3aSBKU09OXCIsXG4gICAgICAgIGUxNjQ6IFwic1x1MUVEMSBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUwMTExXHUxRUE3dSB2XHUwMEUwb1wiXG4gICAgfTtcbiAgICByZXR1cm4gKGlzc3VlKT0+e1xuICAgICAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF90eXBlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTAxMTBcdTFFQTd1IHZcdTAwRTBvIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUuZXhwZWN0ZWR9LCBuaFx1MUVBRG4gXHUwMTExXHUwMUIwXHUxRUUzYyAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MDExMFx1MUVBN3Ugdlx1MDBFMG8ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBtb25nIFx1MDExMVx1MUVFM2kgJHt1dGlsLnN0cmluZ2lmeVByaW1pdGl2ZShpc3N1ZS52YWx1ZXNbMF0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBUXHUwMEY5eSBjaFx1MUVDRG4ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBtb25nIFx1MDExMVx1MUVFM2kgbVx1MUVEOXQgdHJvbmcgY1x1MDBFMWMgZ2lcdTAwRTEgdHJcdTFFQ0IgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUudmFsdWVzLCBcInxcIil9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ0b29fYmlnXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIjw9XCIgOiBcIjxcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgUXVcdTAwRTEgbFx1MUVEQm46IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLm9yaWdpbiA/PyBcImdpXHUwMEUxIHRyXHUxRUNCXCJ9ICR7c2l6aW5nLnZlcmJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwicGhcdTFFQTduIHRcdTFFRURcIn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFF1XHUwMEUxIGxcdTFFREJuOiBtb25nIFx1MDExMVx1MUVFM2kgJHtpc3N1ZS5vcmlnaW4gPz8gXCJnaVx1MDBFMSB0clx1MUVDQlwifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29fc21hbGxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPj1cIiA6IFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBRdVx1MDBFMSBuaFx1MUVDRjogbW9uZyBcdTAxMTFcdTFFRTNpICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdH1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgUXVcdTAwRTEgbmhcdTFFQ0Y6IG1vbmcgXHUwMTExXHUxRUUzaSAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kgYlx1MUVBRnQgXHUwMTExXHUxRUE3dSBiXHUxRUIxbmcgXCIke19pc3N1ZS5wcmVmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBDaHVcdTFFRDdpIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGtcdTFFQkZ0IHRoXHUwMEZBYyBiXHUxRUIxbmcgXCIke19pc3N1ZS5zdWZmaXh9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJpbmNsdWRlc1wiKSByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kgYmFvIGdcdTFFRDNtIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYENodVx1MUVEN2kga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3OiBwaFx1MUVBM2kga2hcdTFFREJwIHZcdTFFREJpIG1cdTFFQUJ1ICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH0ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibm90X211bHRpcGxlX29mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBTXHUxRUQxIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNzogcGhcdTFFQTNpIGxcdTAwRTAgYlx1MUVEOWkgc1x1MUVEMSBjXHUxRUU3YSAke2lzc3VlLmRpdmlzb3J9YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgS2hcdTAwRjNhIGtoXHUwMEY0bmcgXHUwMTExXHUwMUIwXHUxRUUzYyBuaFx1MUVBRG4gZFx1MUVBMW5nOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEtoXHUwMEYzYSBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzcgdHJvbmcgJHtpc3N1ZS5vcmlnaW59YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHUwMTEwXHUxRUE3dSB2XHUwMEUwbyBraFx1MDBGNG5nIGhcdTFFRTNwIGxcdTFFQzdcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEdpXHUwMEUxIHRyXHUxRUNCIGtoXHUwMEY0bmcgaFx1MUVFM3AgbFx1MUVDNyB0cm9uZyAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDExMFx1MUVBN3Ugdlx1MDBFMG8ga2hcdTAwRjRuZyBoXHUxRUUzcCBsXHUxRUM3YDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgZXJyb3IgPSAoKT0+e1xuICAgIGNvbnN0IFNpemFibGUgPSB7XG4gICAgICAgIHN0cmluZzoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTVCNTdcdTdCMjZcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgdW5pdDogXCJcdTVCNTdcdTgyODJcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCJcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXk6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHU5ODc5XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1NTMwNVx1NTQyQlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgICAgdW5pdDogXCJcdTk4NzlcIixcbiAgICAgICAgICAgIHZlcmI6IFwiXHU1MzA1XHU1NDJCXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJcdTk3NUVcdTY1NzBcdTVCNTcoTmFOKVwiIDogXCJcdTY1NzBcdTVCNTdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU2NTcwXHU3RUM0XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlx1N0E3QVx1NTAzQyhudWxsKVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdThGOTNcdTUxNjVcIixcbiAgICAgICAgZW1haWw6IFwiXHU3NTM1XHU1QjUwXHU5MEFFXHU0RUY2XCIsXG4gICAgICAgIHVybDogXCJVUkxcIixcbiAgICAgICAgZW1vamk6IFwiXHU4ODY4XHU2MEM1XHU3QjI2XHU1M0Y3XCIsXG4gICAgICAgIHV1aWQ6IFwiVVVJRFwiLFxuICAgICAgICB1dWlkdjQ6IFwiVVVJRHY0XCIsXG4gICAgICAgIHV1aWR2NjogXCJVVUlEdjZcIixcbiAgICAgICAgbmFub2lkOiBcIm5hbm9pZFwiLFxuICAgICAgICBndWlkOiBcIkdVSURcIixcbiAgICAgICAgY3VpZDogXCJjdWlkXCIsXG4gICAgICAgIGN1aWQyOiBcImN1aWQyXCIsXG4gICAgICAgIHVsaWQ6IFwiVUxJRFwiLFxuICAgICAgICB4aWQ6IFwiWElEXCIsXG4gICAgICAgIGtzdWlkOiBcIktTVUlEXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcIklTT1x1NjVFNVx1NjcxRlx1NjVGNlx1OTVGNFwiLFxuICAgICAgICBkYXRlOiBcIklTT1x1NjVFNVx1NjcxRlwiLFxuICAgICAgICB0aW1lOiBcIklTT1x1NjVGNlx1OTVGNFwiLFxuICAgICAgICBkdXJhdGlvbjogXCJJU09cdTY1RjZcdTk1N0ZcIixcbiAgICAgICAgaXB2NDogXCJJUHY0XHU1NzMwXHU1NzQwXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2Nlx1NTczMFx1NTc0MFwiLFxuICAgICAgICBjaWRydjQ6IFwiSVB2NFx1N0Y1MVx1NkJCNVwiLFxuICAgICAgICBjaWRydjY6IFwiSVB2Nlx1N0Y1MVx1NkJCNVwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0XHU3RjE2XHU3ODAxXHU1QjU3XHU3QjI2XHU0RTMyXCIsXG4gICAgICAgIGJhc2U2NHVybDogXCJiYXNlNjR1cmxcdTdGMTZcdTc4MDFcdTVCNTdcdTdCMjZcdTRFMzJcIixcbiAgICAgICAganNvbl9zdHJpbmc6IFwiSlNPTlx1NUI1N1x1N0IyNlx1NEUzMlwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0XHU1M0Y3XHU3ODAxXCIsXG4gICAgICAgIGp3dDogXCJKV1RcIixcbiAgICAgICAgdGVtcGxhdGVfbGl0ZXJhbDogXCJcdThGOTNcdTUxNjVcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU4RjkzXHU1MTY1XHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUuZXhwZWN0ZWR9XHVGRjBDXHU1QjlFXHU5NjQ1XHU2M0E1XHU2NTM2ICR7cGFyc2VkVHlwZShpc3N1ZS5pbnB1dCl9YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLnZhbHVlcy5sZW5ndGggPT09IDEpIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU4RjkzXHU1MTY1XHVGRjFBXHU2NzFGXHU2NzFCICR7dXRpbC5zdHJpbmdpZnlQcmltaXRpdmUoaXNzdWUudmFsdWVzWzBdKX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU5MDA5XHU5ODc5XHVGRjFBXHU2NzFGXHU2NzFCXHU0RUU1XHU0RTBCXHU0RTRCXHU0RTAwICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLnZhbHVlcywgXCJ8XCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwidG9vX2JpZ1wiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI8PVwiIDogXCI8XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NTkyN1x1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbiA/PyBcIlx1NTAzQ1wifSAke2Fkan0ke2lzc3VlLm1heGltdW0udG9TdHJpbmcoKX0gJHtzaXppbmcudW5pdCA/PyBcIlx1NEUyQVx1NTE0M1x1N0QyMFwifWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU2NTcwXHU1MDNDXHU4RkM3XHU1OTI3XHVGRjFBXHU2NzFGXHU2NzFCICR7aXNzdWUub3JpZ2luID8/IFwiXHU1MDNDXCJ9ICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NUMwRlx1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3MFx1NTAzQ1x1OEZDN1x1NUMwRlx1RkYxQVx1NjcxRlx1NjcxQiAke2lzc3VlLm9yaWdpbn0gJHthZGp9JHtpc3N1ZS5taW5pbXVtLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9mb3JtYXRcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9pc3N1ZSA9IGlzc3VlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJzdGFydHNfd2l0aFwiKSByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NUI1N1x1N0IyNlx1NEUzMlx1RkYxQVx1NUZDNVx1OTg3Qlx1NEVFNSBcIiR7X2lzc3VlLnByZWZpeH1cIiBcdTVGMDBcdTU5MzRgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJlbmRzX3dpdGhcIikgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdTRFMzJcdUZGMUFcdTVGQzVcdTk4N0JcdTRFRTUgXCIke19pc3N1ZS5zdWZmaXh9XCIgXHU3RUQzXHU1QzNFYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiaW5jbHVkZXNcIikgcmV0dXJuIGBcdTY1RTBcdTY1NDhcdTVCNTdcdTdCMjZcdTRFMzJcdUZGMUFcdTVGQzVcdTk4N0JcdTUzMDVcdTU0MkIgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHU2NUUwXHU2NTQ4XHU1QjU3XHU3QjI2XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODdCXHU2RUUxXHU4REIzXHU2QjYzXHU1MjE5XHU4ODY4XHU4RkJFXHU1RjBGICR7X2lzc3VlLnBhdHRlcm59YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1RTBcdTY1NDgke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1NjU3MFx1NUI1N1x1RkYxQVx1NUZDNVx1OTg3Qlx1NjYyRiAke2lzc3VlLmRpdmlzb3J9IFx1NzY4NFx1NTAwRFx1NjU3MGA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NTFGQVx1NzNCMFx1NjcyQVx1NzdFNVx1NzY4NFx1OTUyRShrZXkpOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXNzdWUub3JpZ2lufSBcdTRFMkRcdTc2ODRcdTk1MkUoa2V5KVx1NjVFMFx1NjU0OGA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF91bmlvblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlx1NjVFMFx1NjU0OFx1OEY5M1x1NTE2NVwiO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfZWxlbWVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtpc3N1ZS5vcmlnaW59IFx1NEUyRFx1NTMwNVx1NTQyQlx1NjVFMFx1NjU0OFx1NTAzQyh2YWx1ZSlgO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjVFMFx1NjU0OFx1OEY5M1x1NTE2NWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2FsZUVycm9yOiBlcnJvcigpXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi9jb3JlL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yID0gKCk9PntcbiAgICBjb25zdCBTaXphYmxlID0ge1xuICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHU1QjU3XHU1MTQzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHU0RjREXHU1MTQzXHU3RDQ0XCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiXG4gICAgICAgIH0sXG4gICAgICAgIGFycmF5OiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1OTgwNVx1NzZFRVwiLFxuICAgICAgICAgICAgdmVyYjogXCJcdTY0QzFcdTY3MDlcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwiXHU5ODA1XHU3NkVFXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIlx1NjRDMVx1NjcwOVwiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldFNpemluZyhvcmlnaW4pIHtcbiAgICAgICAgcmV0dXJuIFNpemFibGVbb3JpZ2luXSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgICAgc3dpdGNoKHQpe1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwiTmFOXCIgOiBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihkYXRhKSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgY29uc3QgTm91bnMgPSB7XG4gICAgICAgIHJlZ2V4OiBcIlx1OEYzOFx1NTE2NVwiLFxuICAgICAgICBlbWFpbDogXCJcdTkwRjVcdTRFRjZcdTU3MzBcdTU3NDBcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJJU08gXHU2NUU1XHU2NzFGXHU2NjQyXHU5NTkzXCIsXG4gICAgICAgIGRhdGU6IFwiSVNPIFx1NjVFNVx1NjcxRlwiLFxuICAgICAgICB0aW1lOiBcIklTTyBcdTY2NDJcdTk1OTNcIixcbiAgICAgICAgZHVyYXRpb246IFwiSVNPIFx1NjcxRlx1OTU5M1wiLFxuICAgICAgICBpcHY0OiBcIklQdjQgXHU0RjREXHU1NzQwXCIsXG4gICAgICAgIGlwdjY6IFwiSVB2NiBcdTRGNERcdTU3NDBcIixcbiAgICAgICAgY2lkcnY0OiBcIklQdjQgXHU3QkM0XHU1NzBEXCIsXG4gICAgICAgIGNpZHJ2NjogXCJJUHY2IFx1N0JDNFx1NTcwRFwiLFxuICAgICAgICBiYXNlNjQ6IFwiYmFzZTY0IFx1N0RFOFx1NzhCQ1x1NUI1N1x1NEUzMlwiLFxuICAgICAgICBiYXNlNjR1cmw6IFwiYmFzZTY0dXJsIFx1N0RFOFx1NzhCQ1x1NUI1N1x1NEUzMlwiLFxuICAgICAgICBqc29uX3N0cmluZzogXCJKU09OIFx1NUI1N1x1NEUzMlwiLFxuICAgICAgICBlMTY0OiBcIkUuMTY0IFx1NjU3OFx1NTAzQ1wiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHU4RjM4XHU1MTY1XCJcbiAgICB9O1xuICAgIHJldHVybiAoaXNzdWUpPT57XG4gICAgICAgIHN3aXRjaChpc3N1ZS5jb2RlKXtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3R5cGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OEYzOFx1NTE2NVx1NTAzQ1x1RkYxQVx1OTgxMFx1NjcxRlx1NzBCQSAke2lzc3VlLmV4cGVjdGVkfVx1RkYwQ1x1NEY0Nlx1NjUzNlx1NTIzMCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OEYzOFx1NTE2NVx1NTAzQ1x1RkYxQVx1OTgxMFx1NjcxRlx1NzBCQSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1OTA3OFx1OTgwNVx1RkYxQVx1OTgxMFx1NjcxRlx1NzBCQVx1NEVFNVx1NEUwQlx1NTE3Nlx1NEUyRFx1NEU0Qlx1NEUwMCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTU5MjdcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwM0NcIn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0ID8/IFwiXHU1MDBCXHU1MTQzXHU3RDIwXCJ9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTU5MjdcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW4gPz8gXCJcdTUwM0NcIn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWF4aW11bS50b1N0cmluZygpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb19zbWFsbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqID0gaXNzdWUuaW5jbHVzaXZlID8gXCI+PVwiIDogXCI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemluZyA9IGdldFNpemluZyhpc3N1ZS5vcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFx1NjU3OFx1NTAzQ1x1OTA0RVx1NUMwRlx1RkYxQVx1OTgxMFx1NjcxRiAke2lzc3VlLm9yaWdpbn0gXHU2MUM5XHU3MEJBICR7YWRqfSR7aXNzdWUubWluaW11bS50b1N0cmluZygpfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcdTY1NzhcdTUwM0NcdTkwNEVcdTVDMEZcdUZGMUFcdTk4MTBcdTY3MUYgJHtpc3N1ZS5vcmlnaW59IFx1NjFDOVx1NzBCQSAke2Fkan0ke2lzc3VlLm1pbmltdW0udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU0RUU1IFwiJHtfaXNzdWUucHJlZml4fVwiIFx1OTU4Qlx1OTgyRGA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU0RUU1IFwiJHtfaXNzdWUuc3VmZml4fVwiIFx1N0Q1MFx1NUMzRWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU1QjU3XHU0RTMyXHVGRjFBXHU1RkM1XHU5ODA4XHU1MzA1XHU1NDJCIFwiJHtfaXNzdWUuaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZvcm1hdCA9PT0gXCJyZWdleFwiKSByZXR1cm4gYFx1NzEyMVx1NjU0OFx1NzY4NFx1NUI1N1x1NEUzMlx1RkYxQVx1NUZDNVx1OTgwOFx1N0IyNlx1NTQwOFx1NjgzQ1x1NUYwRiAke19pc3N1ZS5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0ICR7Tm91bnNbX2lzc3VlLmZvcm1hdF0gPz8gaXNzdWUuZm9ybWF0fWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm5vdF9tdWx0aXBsZV9vZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2NTQ4XHU3Njg0XHU2NTc4XHU1QjU3XHVGRjFBXHU1RkM1XHU5ODA4XHU3MEJBICR7aXNzdWUuZGl2aXNvcn0gXHU3Njg0XHU1MDBEXHU2NTc4YDtcbiAgICAgICAgICAgIGNhc2UgXCJ1bnJlY29nbml6ZWRfa2V5c1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHU3MTIxXHU2Q0Q1XHU4QjU4XHU1MjI1XHU3Njg0XHU5Mzc1XHU1MDNDJHtpc3N1ZS5rZXlzLmxlbmd0aCA+IDEgPyBcIlx1NTAxMVwiIDogXCJcIn1cdUZGMUEke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIlx1MzAwMVwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfa2V5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHU0RTJEXHU2NzA5XHU3MTIxXHU2NTQ4XHU3Njg0XHU5Mzc1XHU1MDNDYDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX3VuaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXHU3MTIxXHU2NTQ4XHU3Njg0XHU4RjM4XHU1MTY1XHU1MDNDXCI7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9lbGVtZW50XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2lzc3VlLm9yaWdpbn0gXHU0RTJEXHU2NzA5XHU3MTIxXHU2NTQ4XHU3Njg0XHU1MDNDYDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcdTcxMjFcdTY1NDhcdTc2ODRcdThGMzhcdTUxNjVcdTUwM0NgO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhbGVFcnJvcjogZXJyb3IoKVxuICAgIH07XG59XG4iLCAiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBlcnJvciA9ICgpPT57XG4gICAgY29uc3QgU2l6YWJsZSA9IHtcbiAgICAgICAgc3RyaW5nOiB7XG4gICAgICAgICAgICB1bml0OiBcIlx1MDBFMG1pXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm5cdTAwRURcIlxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICB1bml0OiBcImJ5dGVzXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm5cdTAwRURcIlxuICAgICAgICB9LFxuICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgdW5pdDogXCJua2FuXCIsXG4gICAgICAgICAgICB2ZXJiOiBcIm5cdTAwRURcIlxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICAgIHVuaXQ6IFwibmthblwiLFxuICAgICAgICAgICAgdmVyYjogXCJuXHUwMEVEXCJcbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0U2l6aW5nKG9yaWdpbikge1xuICAgICAgICByZXR1cm4gU2l6YWJsZVtvcmlnaW5dID8/IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSAoZGF0YSk9PntcbiAgICAgICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgICAgICBzd2l0Y2godCl7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJOYU5cIiA6IFwiblx1MUVDRFx1MDMwMW1iXHUwMEUwXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFrb3BcdTFFQ0RcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIGNvbnN0IE5vdW5zID0ge1xuICAgICAgICByZWdleDogXCJcdTFFQjlcdTAzMDByXHUxRUNEIFx1MDBFQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOVwiLFxuICAgICAgICBlbWFpbDogXCJcdTAwRTBkXHUwMEVEclx1MUVCOVx1MDMwMXNcdTAwRUMgXHUwMEVDbVx1MUVCOVx1MDMwMWxcdTAwRUNcIixcbiAgICAgICAgdXJsOiBcIlVSTFwiLFxuICAgICAgICBlbW9qaTogXCJlbW9qaVwiLFxuICAgICAgICB1dWlkOiBcIlVVSURcIixcbiAgICAgICAgdXVpZHY0OiBcIlVVSUR2NFwiLFxuICAgICAgICB1dWlkdjY6IFwiVVVJRHY2XCIsXG4gICAgICAgIG5hbm9pZDogXCJuYW5vaWRcIixcbiAgICAgICAgZ3VpZDogXCJHVUlEXCIsXG4gICAgICAgIGN1aWQ6IFwiY3VpZFwiLFxuICAgICAgICBjdWlkMjogXCJjdWlkMlwiLFxuICAgICAgICB1bGlkOiBcIlVMSURcIixcbiAgICAgICAgeGlkOiBcIlhJRFwiLFxuICAgICAgICBrc3VpZDogXCJLU1VJRFwiLFxuICAgICAgICBkYXRldGltZTogXCJcdTAwRTBrXHUwMEYza1x1MDBGMiBJU09cIixcbiAgICAgICAgZGF0ZTogXCJcdTFFQ0RqXHUxRUNEXHUwMzAxIElTT1wiLFxuICAgICAgICB0aW1lOiBcIlx1MDBFMGtcdTAwRjNrXHUwMEYyIElTT1wiLFxuICAgICAgICBkdXJhdGlvbjogXCJcdTAwRTBrXHUwMEYza1x1MDBGMiB0XHUwMEYzIHBcdTAwRTkgSVNPXCIsXG4gICAgICAgIGlwdjQ6IFwiXHUwMEUwZFx1MDBFRHJcdTFFQjlcdTAzMDFzXHUwMEVDIElQdjRcIixcbiAgICAgICAgaXB2NjogXCJcdTAwRTBkXHUwMEVEclx1MUVCOVx1MDMwMXNcdTAwRUMgSVB2NlwiLFxuICAgICAgICBjaWRydjQ6IFwiXHUwMEUwZ2JcdTAwRThnYlx1MDBFOCBJUHY0XCIsXG4gICAgICAgIGNpZHJ2NjogXCJcdTAwRTBnYlx1MDBFOGdiXHUwMEU4IElQdjZcIixcbiAgICAgICAgYmFzZTY0OiBcIlx1MUVDRFx1MDMwMHJcdTFFQ0RcdTAzMDAgdFx1MDBFRCBhIGtcdTFFQ0RcdTAzMDEgblx1MDBFRCBiYXNlNjRcIixcbiAgICAgICAgYmFzZTY0dXJsOiBcIlx1MUVDRFx1MDMwMHJcdTFFQ0RcdTAzMDAgYmFzZTY0dXJsXCIsXG4gICAgICAgIGpzb25fc3RyaW5nOiBcIlx1MUVDRFx1MDMwMHJcdTFFQ0RcdTAzMDAgSlNPTlwiLFxuICAgICAgICBlMTY0OiBcIm5cdTFFQ0RcdTAzMDFtYlx1MDBFMCBFLjE2NFwiLFxuICAgICAgICBqd3Q6IFwiSldUXCIsXG4gICAgICAgIHRlbXBsYXRlX2xpdGVyYWw6IFwiXHUxRUI5XHUwMzAwclx1MUVDRCBcdTAwRUNiXHUwMEUxd1x1MUVDRGxcdTAwRTlcIlxuICAgIH07XG4gICAgcmV0dXJuIChpc3N1ZSk9PntcbiAgICAgICAgc3dpdGNoKGlzc3VlLmNvZGUpe1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdHlwZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBgXHUwMENDYlx1MDBFMXdcdTFFQ0RsXHUwMEU5IGFcdTFFNjNcdTAwRUNcdTFFNjNlOiBhIG5cdTAwRUQgbFx1MDBFMXRpIGZpICR7aXNzdWUuZXhwZWN0ZWR9LCBcdTAwRTBtXHUxRUNEXHUwMzAwIGEgclx1MDBFRCAke3BhcnNlZFR5cGUoaXNzdWUuaW5wdXQpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF92YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS52YWx1ZXMubGVuZ3RoID09PSAxKSByZXR1cm4gYFx1MDBDQ2JcdTAwRTF3XHUxRUNEbFx1MDBFOSBhXHUxRTYzXHUwMEVDXHUxRTYzZTogYSBuXHUwMEVEIGxcdTAwRTF0aSBmaSAke3V0aWwuc3RyaW5naWZ5UHJpbWl0aXZlKGlzc3VlLnZhbHVlc1swXSl9YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFx1MDBDMFx1MUU2M1x1MDBFMHlcdTAwRTBuIGFcdTFFNjNcdTAwRUNcdTFFNjNlOiB5YW4gXHUxRUNEXHUwMzAwa2FuIGxcdTAwRTFyYSAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS52YWx1ZXMsIFwifFwiKX1gO1xuICAgICAgICAgICAgY2FzZSBcInRvb19iaWdcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkaiA9IGlzc3VlLmluY2x1c2l2ZSA/IFwiPD1cIiA6IFwiPFwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXppbmcgPSBnZXRTaXppbmcoaXNzdWUub3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemluZykgcmV0dXJuIGBUXHUwMEYzIHBcdTFFQ0RcdTAzMDAgalx1MDBGOTogYSBuXHUwMEVEIGxcdTAwRTF0aSBqXHUxRUI5XHUwMzAxIHBcdTAwRTkgJHtpc3N1ZS5vcmlnaW4gPz8gXCJpeWVcIn0gJHtzaXppbmcudmVyYn0gJHthZGp9JHtpc3N1ZS5tYXhpbXVtfSAke3NpemluZy51bml0fWA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgVFx1MDBGMyBwXHUxRUNEXHUwMzAwIGpcdTAwRjk6IGEgblx1MDBFRCBsXHUwMEUxdGkgalx1MUVCOVx1MDMwMSAke2Fkan0ke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vX3NtYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGogPSBpc3N1ZS5pbmNsdXNpdmUgPyBcIj49XCIgOiBcIj5cIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gZ2V0U2l6aW5nKGlzc3VlLm9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXppbmcpIHJldHVybiBgS1x1MDBFOXJcdTAwRTkganU6IGEgblx1MDBFRCBsXHUwMEUxdGkgalx1MUVCOVx1MDMwMSBwXHUwMEU5ICR7aXNzdWUub3JpZ2lufSAke3NpemluZy52ZXJifSAke2Fkan0ke2lzc3VlLm1pbmltdW19ICR7c2l6aW5nLnVuaXR9YDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBLXHUwMEU5clx1MDBFOSBqdTogYSBuXHUwMEVEIGxcdTAwRTF0aSBqXHUxRUI5XHUwMzAxICR7YWRqfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2Zvcm1hdFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInN0YXJ0c193aXRoXCIpIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIGJcdTFFQjlcdTAzMDByXHUxRUI5XHUwMzAwIHBcdTFFQjlcdTAzMDBsXHUwMEZBIFwiJHtfaXNzdWUucHJlZml4fVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mb3JtYXQgPT09IFwiZW5kc193aXRoXCIpIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIHBhclx1MDBFRCBwXHUxRUI5XHUwMzAwbFx1MDBGQSBcIiR7X2lzc3VlLnN1ZmZpeH1cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcImluY2x1ZGVzXCIpIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIG5cdTAwRUQgXCIke19pc3N1ZS5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNzdWUuZm9ybWF0ID09PSBcInJlZ2V4XCIpIHJldHVybiBgXHUxRUNDXHUwMzAwclx1MUVDRFx1MDMwMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIGJcdTAwRTEgXHUwMEUwcFx1MUVCOVx1MUVCOXJcdTFFQjkgbXUgJHtfaXNzdWUucGF0dGVybn1gO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYEFcdTFFNjNcdTAwRUNcdTFFNjNlOiAke05vdW5zW19pc3N1ZS5mb3JtYXRdID8/IGlzc3VlLmZvcm1hdH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJub3RfbXVsdGlwbGVfb2ZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYE5cdTFFQ0RcdTAzMDFtYlx1MDBFMCBhXHUxRTYzXHUwMEVDXHUxRTYzZTogZ2JcdTFFQ0RcdTAzMDFkXHUxRUNEXHUwMzAwIGpcdTFFQjlcdTAzMDEgXHUwMEU4eVx1MDBFMCBwXHUwMEVEcFx1MDBFRG4gdGkgJHtpc3N1ZS5kaXZpc29yfWA7XG4gICAgICAgICAgICBjYXNlIFwidW5yZWNvZ25pemVkX2tleXNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEJcdTFFQ0R0XHUwMEVDblx1MDBFQyBcdTAwRTBcdTAwRUNtXHUxRUNEXHUwMzAwOiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBjYXNlIFwiaW52YWxpZF9rZXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEJcdTFFQ0R0XHUwMEVDblx1MDBFQyBhXHUxRTYzXHUwMEVDXHUxRTYzZSBuXHUwMEVEblx1MDBGQSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgY2FzZSBcImludmFsaWRfdW5pb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAwQ0NiXHUwMEUxd1x1MUVDRGxcdTAwRTkgYVx1MUU2M1x1MDBFQ1x1MUU2M2VcIjtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZhbGlkX2VsZW1lbnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYEl5ZSBhXHUxRTYzXHUwMEVDXHUxRTYzZSBuXHUwMEVEblx1MDBGQSAke2lzc3VlLm9yaWdpbn1gO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcdTAwQ0NiXHUwMEUxd1x1MUVDRGxcdTAwRTkgYVx1MUU2M1x1MDBFQ1x1MUU2M2VcIjtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlRXJyb3I6IGVycm9yKClcbiAgICB9O1xufVxuIiwgImV4cG9ydCBjb25zdCAkb3V0cHV0ID0gU3ltYm9sKFwiWm9kT3V0cHV0XCIpO1xuZXhwb3J0IGNvbnN0ICRpbnB1dCA9IFN5bWJvbChcIlpvZElucHV0XCIpO1xuZXhwb3J0IGNsYXNzICRab2RSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGFkZChzY2hlbWEsIC4uLl9tZXRhKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBfbWV0YVswXTtcbiAgICAgICAgdGhpcy5fbWFwLnNldChzY2hlbWEsIG1ldGEpO1xuICAgICAgICBpZiAobWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiAmJiBcImlkXCIgaW4gbWV0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lkbWFwLmhhcyhtZXRhLmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSUQgJHttZXRhLmlkfSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgcmVnaXN0cnlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2lkbWFwLnNldChtZXRhLmlkLCBzY2hlbWEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5kZWxldGUobWV0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShzY2hlbWEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KHNjaGVtYSkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpIGFzIGFueTtcbiAgICAgICAgLy8gaW5oZXJpdCBtZXRhZGF0YVxuICAgICAgICBjb25zdCBwID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgY29uc3QgcG0gPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5nZXQocCkgPz8ge31cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZWxldGUgcG0uaWQ7IC8vIGRvIG5vdCBpbmhlcml0IGlkXG4gICAgICAgICAgICBjb25zdCBmID0ge1xuICAgICAgICAgICAgICAgIC4uLnBtLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuX21hcC5nZXQoc2NoZW1hKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhmKS5sZW5ndGggPyBmIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgfVxuICAgIGhhcyhzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoc2NoZW1hKTtcbiAgICB9XG59XG4vLyByZWdpc3RyaWVzXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0cnkoKSB7XG4gICAgcmV0dXJuIG5ldyAkWm9kUmVnaXN0cnkoKTtcbn1cbmV4cG9ydCBjb25zdCBnbG9iYWxSZWdpc3RyeSA9IC8qQF9fUFVSRV9fKi8gcmVnaXN0cnkoKTtcbiIsICJpbXBvcnQgKiBhcyBjaGVja3MgZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWFzIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIF9zdHJpbmcoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWRTdHJpbmcoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZW1haWwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZW1haWxcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZ3VpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJndWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3V1aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91dWlkdjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogXCJ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3V1aWR2NihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1dWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiBcInY2XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXVpZHY3KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IFwidjdcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91cmwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Vtb2ppKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImVtb2ppXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25hbm9pZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJuYW5vaWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY3VpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjdWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2N1aWQyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImN1aWQyXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VsaWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidWxpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF94aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwieGlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2tzdWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImtzdWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lwdjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiaXB2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pcHY2KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImlwdjZcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY2lkcnY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImNpZHJ2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jaWRydjYoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiY2lkcnY2XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Jhc2U2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJiYXNlNjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYmFzZTY0dXJsKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImJhc2U2NHVybFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9lMTY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImUxNjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfand0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImp3dFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFRpbWVQcmVjaXNpb24gPSB7XG4gICAgQW55OiBudWxsLFxuICAgIE1pbnV0ZTogLTEsXG4gICAgU2Vjb25kOiAwLFxuICAgIE1pbGxpc2Vjb25kOiAzLFxuICAgIE1pY3Jvc2Vjb25kOiA2XG59O1xuZXhwb3J0IGZ1bmN0aW9uIF9pc29EYXRlVGltZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJkYXRldGltZVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lzb0RhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZGF0ZVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXNvVGltZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ0aW1lXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2lzb0R1cmF0aW9uKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImR1cmF0aW9uXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9udW1iZXIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWROdW1iZXIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgY2hlY2s6IFwibnVtYmVyX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJzYWZlaW50XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZmxvYXQzMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Zsb2F0NjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcImZsb2F0NjRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9pbnQzMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiaW50MzJcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91aW50MzIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInVpbnQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2Jvb2xlYW4oQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkQm9vbGVhbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfYmlnaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkQmlnaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2ludDY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgY2hlY2s6IFwiYmlnaW50X2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJpbnQ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3VpbnQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIGNoZWNrOiBcImJpZ2ludF9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwidWludDY0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3ltYm9sKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzeW1ib2xcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bmRlZmluZWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX251bGwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9hbnkoQ2xhc3MpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJhbnlcIlxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bmtub3duKENsYXNzKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5rbm93blwiXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25ldmVyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJuZXZlclwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3ZvaWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInZvaWRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9kYXRlKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZERhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25hbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibmFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbHQodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xlc3NUaGFuKHtcbiAgICAgICAgY2hlY2s6IFwibGVzc190aGFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbmNsdXNpdmU6IGZhbHNlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2x0ZSh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTGVzc1RoYW4oe1xuICAgICAgICBjaGVjazogXCJsZXNzX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgLyoqIEBkZXByZWNhdGVkIFVzZSBgei5sdGUoKWAgaW5zdGVhZC4gKi8gX2x0ZSBhcyBfbWF4IH07XG5leHBvcnQgZnVuY3Rpb24gX2d0KHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tHcmVhdGVyVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImdyZWF0ZXJfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9ndGUodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0dyZWF0ZXJUaGFuKHtcbiAgICAgICAgY2hlY2s6IFwiZ3JlYXRlcl90aGFuXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbmNsdXNpdmU6IHRydWVcbiAgICB9KTtcbn1cbmV4cG9ydCB7IC8qKiBAZGVwcmVjYXRlZCBVc2UgYHouZ3RlKClgIGluc3RlYWQuICovIF9ndGUgYXMgX21pbiB9O1xuZXhwb3J0IGZ1bmN0aW9uIF9wb3NpdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2d0KDAsIHBhcmFtcyk7XG59XG4vLyBuZWdhdGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIF9uZWdhdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2x0KDAsIHBhcmFtcyk7XG59XG4vLyBub25wb3NpdGl2ZVxuZXhwb3J0IGZ1bmN0aW9uIF9ub25wb3NpdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2x0ZSgwLCBwYXJhbXMpO1xufVxuLy8gbm9ubmVnYXRpdmVcbmV4cG9ydCBmdW5jdGlvbiBfbm9ubmVnYXRpdmUocGFyYW1zKSB7XG4gICAgcmV0dXJuIF9ndGUoMCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTXVsdGlwbGVPZih7XG4gICAgICAgIGNoZWNrOiBcIm11bHRpcGxlX29mXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21heFNpemUobWF4aW11bSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWF4U2l6ZSh7XG4gICAgICAgIGNoZWNrOiBcIm1heF9zaXplXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1heGltdW1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWluU2l6ZShtaW5pbXVtLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNaW5TaXplKHtcbiAgICAgICAgY2hlY2s6IFwibWluX3NpemVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWluaW11bVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zaXplKHNpemUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1NpemVFcXVhbHMoe1xuICAgICAgICBjaGVjazogXCJzaXplX2VxdWFsc1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBzaXplXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX21heExlbmd0aChtYXhpbXVtLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaCA9IG5ldyBjaGVja3MuJFpvZENoZWNrTWF4TGVuZ3RoKHtcbiAgICAgICAgY2hlY2s6IFwibWF4X2xlbmd0aFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBtYXhpbXVtXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9taW5MZW5ndGgobWluaW11bSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWluTGVuZ3RoKHtcbiAgICAgICAgY2hlY2s6IFwibWluX2xlbmd0aFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBtaW5pbXVtXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xlbmd0aChsZW5ndGgsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xlbmd0aEVxdWFscyh7XG4gICAgICAgIGNoZWNrOiBcImxlbmd0aF9lcXVhbHNcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbGVuZ3RoXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3JlZ2V4KHBhdHRlcm4sIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1JlZ2V4KHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwicmVnZXhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgcGF0dGVyblxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9sb3dlcmNhc2UocGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTG93ZXJDYXNlKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwibG93ZXJjYXNlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXBwZXJjYXNlKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1VwcGVyQ2FzZSh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2luY2x1ZGVzKGluY2x1ZGVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tJbmNsdWRlcyh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcImluY2x1ZGVzXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIGluY2x1ZGVzXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N0YXJ0c1dpdGgocHJlZml4LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tTdGFydHNXaXRoKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwic3RhcnRzX3dpdGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgcHJlZml4XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2VuZHNXaXRoKHN1ZmZpeCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrRW5kc1dpdGgoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJlbmRzX3dpdGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgc3VmZml4XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3Byb3BlcnR5KHByb3BlcnR5LCBzY2hlbWEsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1Byb3BlcnR5KHtcbiAgICAgICAgY2hlY2s6IFwicHJvcGVydHlcIixcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9taW1lKHR5cGVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNaW1lVHlwZSh7XG4gICAgICAgIGNoZWNrOiBcIm1pbWVfdHlwZVwiLFxuICAgICAgICBtaW1lOiB0eXBlcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9vdmVyd3JpdGUodHgpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tPdmVyd3JpdGUoe1xuICAgICAgICBjaGVjazogXCJvdmVyd3JpdGVcIixcbiAgICAgICAgdHhcbiAgICB9KTtcbn1cbi8vIG5vcm1hbGl6ZVxuZXhwb3J0IGZ1bmN0aW9uIF9ub3JtYWxpemUoZm9ybSkge1xuICAgIHJldHVybiBfb3ZlcndyaXRlKChpbnB1dCk9PmlucHV0Lm5vcm1hbGl6ZShmb3JtKSk7XG59XG4vLyB0cmltXG5leHBvcnQgZnVuY3Rpb24gX3RyaW0oKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KT0+aW5wdXQudHJpbSgpKTtcbn1cbi8vIHRvTG93ZXJDYXNlXG5leHBvcnQgZnVuY3Rpb24gX3RvTG93ZXJDYXNlKCkge1xuICAgIHJldHVybiBfb3ZlcndyaXRlKChpbnB1dCk9PmlucHV0LnRvTG93ZXJDYXNlKCkpO1xufVxuLy8gdG9VcHBlckNhc2VcbmV4cG9ydCBmdW5jdGlvbiBfdG9VcHBlckNhc2UoKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KT0+aW5wdXQudG9VcHBlckNhc2UoKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2FycmF5KENsYXNzLCBlbGVtZW50LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICAvLyBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgLy8gICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgLy8gfSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF91bmlvbihDbGFzcywgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9kaXNjcmltaW5hdGVkVW5pb24oQ2xhc3MsIGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaW50ZXJzZWN0aW9uKENsYXNzLCBsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImludGVyc2VjdGlvblwiLFxuICAgICAgICBsZWZ0LFxuICAgICAgICByaWdodFxuICAgIH0pO1xufVxuLy8gZXhwb3J0IGZ1bmN0aW9uIF90dXBsZShcbi8vICAgQ2xhc3M6IHV0aWwuU2NoZW1hQ2xhc3M8c2NoZW1hcy4kWm9kVHVwbGU+LFxuLy8gICBpdGVtczogW10sXG4vLyAgIHBhcmFtcz86IHN0cmluZyB8ICRab2RUdXBsZVBhcmFtc1xuLy8gKTogc2NoZW1hcy4kWm9kVHVwbGU8W10sIG51bGw+O1xuZXhwb3J0IGZ1bmN0aW9uIF90dXBsZShDbGFzcywgaXRlbXMsIF9wYXJhbXNPclJlc3QsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBoYXNSZXN0ID0gX3BhcmFtc09yUmVzdCBpbnN0YW5jZW9mIHNjaGVtYXMuJFpvZFR5cGU7XG4gICAgY29uc3QgcGFyYW1zID0gaGFzUmVzdCA/IF9wYXJhbXMgOiBfcGFyYW1zT3JSZXN0O1xuICAgIGNvbnN0IHJlc3QgPSBoYXNSZXN0ID8gX3BhcmFtc09yUmVzdCA6IG51bGw7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidHVwbGVcIixcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIHJlc3QsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcmVjb3JkKENsYXNzLCBrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfbWFwKENsYXNzLCBrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm1hcFwiLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc2V0KENsYXNzLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZW51bShDbGFzcywgdmFsdWVzLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gT2JqZWN0LmZyb21FbnRyaWVzKHZhbHVlcy5tYXAoKHYpPT5bXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgdlxuICAgICAgICBdKSkgOiB2YWx1ZXM7XG4gICAgLy8gaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgIC8vICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAvLyAgICAgZW50cmllc1t2YWx1ZV0gPSB2YWx1ZTtcbiAgICAvLyAgIH1cbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgT2JqZWN0LmFzc2lnbihlbnRyaWVzLCB2YWx1ZXMpO1xuICAgIC8vIH1cbiAgICAvLyBjb25zdCBlbnRyaWVzOiB1dGlsLkVudW1MaWtlID0ge307XG4gICAgLy8gZm9yIChjb25zdCB2YWwgb2YgdmFsdWVzKSB7XG4gICAgLy8gICBlbnRyaWVzW3ZhbF0gPSB2YWw7XG4gICAgLy8gfVxuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuLyoqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGhhcyBiZWVuIG1lcmdlZCBpbnRvIGB6LmVudW0oKWAuIFVzZSBgei5lbnVtKClgIGluc3RlYWQuXG4gKlxuICogYGBgdHNcbiAqIGVudW0gQ29sb3JzIHsgcmVkLCBncmVlbiwgYmx1ZSB9XG4gKiB6LmVudW0oQ29sb3JzKTtcbiAqIGBgYFxuICovIGV4cG9ydCBmdW5jdGlvbiBfbmF0aXZlRW51bShDbGFzcywgZW50cmllcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xpdGVyYWwoQ2xhc3MsIHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJsaXRlcmFsXCIsXG4gICAgICAgIHZhbHVlczogQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIF0sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZmlsZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3RyYW5zZm9ybShDbGFzcywgZm4pIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3JtOiBmblxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9vcHRpb25hbChDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgaW5uZXJUeXBlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX251bGxhYmxlKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJudWxsYWJsZVwiLFxuICAgICAgICBpbm5lclR5cGVcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfZGVmYXVsdChDbGFzcywgaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdFZhbHVlKCkgOiB1dGlsLnNoYWxsb3dDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX25vbm9wdGlvbmFsKENsYXNzLCBpbm5lclR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdWNjZXNzKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIGlubmVyVHlwZVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaChDbGFzcywgaW5uZXJUeXBlLCBjYXRjaFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiY2F0Y2hcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgY2F0Y2hWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gY2F0Y2hWYWx1ZSA6ICgpPT5jYXRjaFZhbHVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3BpcGUoQ2xhc3MsIGluXywgb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICBpbjogaW5fLFxuICAgICAgICBvdXRcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcmVhZG9ubHkoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInJlYWRvbmx5XCIsXG4gICAgICAgIGlubmVyVHlwZVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF90ZW1wbGF0ZUxpdGVyYWwoQ2xhc3MsIHBhcnRzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgIHBhcnRzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2xhenkoQ2xhc3MsIGdldHRlcikge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImxhenlcIixcbiAgICAgICAgZ2V0dGVyXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3Byb21pc2UoQ2xhc3MsIGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInByb21pc2VcIixcbiAgICAgICAgaW5uZXJUeXBlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX2N1c3RvbShDbGFzcywgZm4sIF9wYXJhbXMpIHtcbiAgICBjb25zdCBub3JtID0gdXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyk7XG4gICAgbm9ybS5hYm9ydCA/PyAobm9ybS5hYm9ydCA9IHRydWUpOyAvLyBkZWZhdWx0IHRvIGFib3J0OmZhbHNlXG4gICAgY29uc3Qgc2NoZW1hID0gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIGZuOiBmbixcbiAgICAgICAgLi4ubm9ybVxuICAgIH0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyBzYW1lIGFzIF9jdXN0b20gYnV0IGRlZmF1bHRzIHRvIGFib3J0OmZhbHNlXG5leHBvcnQgZnVuY3Rpb24gX3JlZmluZShDbGFzcywgZm4sIF9wYXJhbXMpIHtcbiAgICBjb25zdCBzY2hlbWEgPSBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgZm46IGZuLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKVxuICAgIH0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N1cGVyUmVmaW5lKGZuKSB7XG4gICAgY29uc3QgY2ggPSBfY2hlY2soKHBheWxvYWQpPT57XG4gICAgICAgIHBheWxvYWQuYWRkSXNzdWUgPSAoaXNzdWUpPT57XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKGlzc3VlLCBwYXlsb2FkLnZhbHVlLCBjaC5fem9kLmRlZikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgWm9kIDMgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZhdGFsKSBfaXNzdWUuY29udGludWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29kZSA/PyAoX2lzc3VlLmNvZGUgPSBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5wdXQgPz8gKF9pc3N1ZS5pbnB1dCA9IHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5pbnN0ID8/IChfaXNzdWUuaW5zdCA9IGNoKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29udGludWUgPz8gKF9pc3N1ZS5jb250aW51ZSA9ICFjaC5fem9kLmRlZi5hYm9ydCk7IC8vIGFib3J0IGlzIGFsd2F5cyB1bmRlZmluZWQsIHNvIHRoaXMgaXMgYWx3YXlzIHRydWUuLi5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoX2lzc3VlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmbihwYXlsb2FkLnZhbHVlLCBwYXlsb2FkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gX2NoZWNrKGZuLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaCA9IG5ldyBjaGVja3MuJFpvZENoZWNrKHtcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgICBjaC5fem9kLmNoZWNrID0gZm47XG4gICAgcmV0dXJuIGNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9zdHJpbmdib29sKENsYXNzZXMsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB1dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKTtcbiAgICBsZXQgdHJ1dGh5QXJyYXkgPSBwYXJhbXMudHJ1dGh5ID8/IFtcbiAgICAgICAgXCJ0cnVlXCIsXG4gICAgICAgIFwiMVwiLFxuICAgICAgICBcInllc1wiLFxuICAgICAgICBcIm9uXCIsXG4gICAgICAgIFwieVwiLFxuICAgICAgICBcImVuYWJsZWRcIlxuICAgIF07XG4gICAgbGV0IGZhbHN5QXJyYXkgPSBwYXJhbXMuZmFsc3kgPz8gW1xuICAgICAgICBcImZhbHNlXCIsXG4gICAgICAgIFwiMFwiLFxuICAgICAgICBcIm5vXCIsXG4gICAgICAgIFwib2ZmXCIsXG4gICAgICAgIFwiblwiLFxuICAgICAgICBcImRpc2FibGVkXCJcbiAgICBdO1xuICAgIGlmIChwYXJhbXMuY2FzZSAhPT0gXCJzZW5zaXRpdmVcIikge1xuICAgICAgICB0cnV0aHlBcnJheSA9IHRydXRoeUFycmF5Lm1hcCgodik9PnR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdi50b0xvd2VyQ2FzZSgpIDogdik7XG4gICAgICAgIGZhbHN5QXJyYXkgPSBmYWxzeUFycmF5Lm1hcCgodik9PnR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdi50b0xvd2VyQ2FzZSgpIDogdik7XG4gICAgfVxuICAgIGNvbnN0IHRydXRoeVNldCA9IG5ldyBTZXQodHJ1dGh5QXJyYXkpO1xuICAgIGNvbnN0IGZhbHN5U2V0ID0gbmV3IFNldChmYWxzeUFycmF5KTtcbiAgICBjb25zdCBfQ29kZWMgPSBDbGFzc2VzLkNvZGVjID8/IHNjaGVtYXMuJFpvZENvZGVjO1xuICAgIGNvbnN0IF9Cb29sZWFuID0gQ2xhc3Nlcy5Cb29sZWFuID8/IHNjaGVtYXMuJFpvZEJvb2xlYW47XG4gICAgY29uc3QgX1N0cmluZyA9IENsYXNzZXMuU3RyaW5nID8/IHNjaGVtYXMuJFpvZFN0cmluZztcbiAgICBjb25zdCBzdHJpbmdTY2hlbWEgPSBuZXcgX1N0cmluZyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGVycm9yOiBwYXJhbXMuZXJyb3JcbiAgICB9KTtcbiAgICBjb25zdCBib29sZWFuU2NoZW1hID0gbmV3IF9Cb29sZWFuKHtcbiAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICAgIGVycm9yOiBwYXJhbXMuZXJyb3JcbiAgICB9KTtcbiAgICBjb25zdCBjb2RlYyA9IG5ldyBfQ29kZWMoe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IHN0cmluZ1NjaGVtYSxcbiAgICAgICAgb3V0OiBib29sZWFuU2NoZW1hLFxuICAgICAgICB0cmFuc2Zvcm06IChpbnB1dCwgcGF5bG9hZCk9PntcbiAgICAgICAgICAgIGxldCBkYXRhID0gaW5wdXQ7XG4gICAgICAgICAgICBpZiAocGFyYW1zLmNhc2UgIT09IFwic2Vuc2l0aXZlXCIpIGRhdGEgPSBkYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAodHJ1dGh5U2V0LmhhcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmYWxzeVNldC5oYXMoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3RyaW5nYm9vbFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRydXRoeVNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZhbHN5U2V0XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbnN0OiBjb2RlYyxcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXZlcnNlVHJhbnNmb3JtOiAoaW5wdXQsIF9wYXlsb2FkKT0+e1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydXRoeUFycmF5WzBdIHx8IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc3lBcnJheVswXSB8fCBcImZhbHNlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBwYXJhbXMuZXJyb3JcbiAgICB9KTtcbiAgICByZXR1cm4gY29kZWM7XG59XG5leHBvcnQgZnVuY3Rpb24gX3N0cmluZ0Zvcm1hdChDbGFzcywgZm9ybWF0LCBmbk9yUmVnZXgsIF9wYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpO1xuICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyksXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICBmbjogdHlwZW9mIGZuT3JSZWdleCA9PT0gXCJmdW5jdGlvblwiID8gZm5PclJlZ2V4IDogKHZhbCk9PmZuT3JSZWdleC50ZXN0KHZhbCksXG4gICAgICAgIC4uLnBhcmFtc1xuICAgIH07XG4gICAgaWYgKGZuT3JSZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICBkZWYucGF0dGVybiA9IGZuT3JSZWdleDtcbiAgICB9XG4gICAgY29uc3QgaW5zdCA9IG5ldyBDbGFzcyhkZWYpO1xuICAgIHJldHVybiBpbnN0O1xufVxuIiwgImltcG9ydCB7ICRab2RSZWdpc3RyeSwgZ2xvYmFsUmVnaXN0cnkgfSBmcm9tIFwiLi9yZWdpc3RyaWVzLmpzXCI7XG5pbXBvcnQgeyBnZXRFbnVtVmFsdWVzIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNsYXNzIEpTT05TY2hlbWFHZW5lcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyl7XG4gICAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgICAgIHRoaXMubWV0YWRhdGFSZWdpc3RyeSA9IHBhcmFtcz8ubWV0YWRhdGEgPz8gZ2xvYmFsUmVnaXN0cnk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gcGFyYW1zPy50YXJnZXQgPz8gXCJkcmFmdC0yMDIwLTEyXCI7XG4gICAgICAgIHRoaXMudW5yZXByZXNlbnRhYmxlID0gcGFyYW1zPy51bnJlcHJlc2VudGFibGUgPz8gXCJ0aHJvd1wiO1xuICAgICAgICB0aGlzLm92ZXJyaWRlID0gcGFyYW1zPy5vdmVycmlkZSA/PyAoKCk9Pnt9KTtcbiAgICAgICAgdGhpcy5pbyA9IHBhcmFtcz8uaW8gPz8gXCJvdXRwdXRcIjtcbiAgICAgICAgdGhpcy5zZWVuID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBwcm9jZXNzKHNjaGVtYSwgX3BhcmFtcyA9IHtcbiAgICAgICAgcGF0aDogW10sXG4gICAgICAgIHNjaGVtYVBhdGg6IFtdXG4gICAgfSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICAgICAgY29uc3QgZm9ybWF0TWFwID0ge1xuICAgICAgICAgICAgZ3VpZDogXCJ1dWlkXCIsXG4gICAgICAgICAgICB1cmw6IFwidXJpXCIsXG4gICAgICAgICAgICBkYXRldGltZTogXCJkYXRlLXRpbWVcIixcbiAgICAgICAgICAgIGpzb25fc3RyaW5nOiBcImpzb24tc3RyaW5nXCIsXG4gICAgICAgICAgICByZWdleDogXCJcIlxuICAgICAgICB9O1xuICAgICAgICAvLyBjaGVjayBmb3Igc2NoZW1hIGluIHNlZW5zXG4gICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLmNvdW50Kys7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjeWNsZVxuICAgICAgICAgICAgY29uc3QgaXNDeWNsZSA9IF9wYXJhbXMuc2NoZW1hUGF0aC5pbmNsdWRlcyhzY2hlbWEpO1xuICAgICAgICAgICAgaWYgKGlzQ3ljbGUpIHtcbiAgICAgICAgICAgICAgICBzZWVuLmN5Y2xlID0gX3BhcmFtcy5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlZW4uc2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgc2NoZW1hOiB7fSxcbiAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgY3ljbGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBhdGg6IF9wYXJhbXMucGF0aFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlZW4uc2V0KHNjaGVtYSwgcmVzdWx0KTtcbiAgICAgICAgLy8gY3VzdG9tIG1ldGhvZCBvdmVycmlkZXMgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICBjb25zdCBvdmVycmlkZVNjaGVtYSA9IHNjaGVtYS5fem9kLnRvSlNPTlNjaGVtYT8uKCk7XG4gICAgICAgIGlmIChvdmVycmlkZVNjaGVtYSkge1xuICAgICAgICAgICAgcmVzdWx0LnNjaGVtYSA9IG92ZXJyaWRlU2NoZW1hO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLl9wYXJhbXMsXG4gICAgICAgICAgICAgICAgc2NoZW1hUGF0aDogW1xuICAgICAgICAgICAgICAgICAgICAuLi5fcGFyYW1zLnNjaGVtYVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcGF0aDogX3BhcmFtcy5wYXRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIHNjaGVtYSB3YXMgY2xvbmVkIGZyb20gYW5vdGhlciBzY2hlbWFcbiAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhwYXJlbnQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVuLmdldChwYXJlbnQpLmlzUGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2pzb24gPSByZXN1bHQuc2NoZW1hO1xuICAgICAgICAgICAgICAgIHN3aXRjaChkZWYudHlwZSl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIGZvcm1hdCwgcGF0dGVybnMsIGNvbnRlbnRFbmNvZGluZyB9ID0gc2NoZW1hLl96b2QuYmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIikganNvbi5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIikganNvbi5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBwYXR0ZXJuIG92ZXJyaWRlcyBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZm9ybWF0ID0gZm9ybWF0TWFwW2Zvcm1hdF0gPz8gZm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5mb3JtYXQgPT09IFwiXCIpIGRlbGV0ZSBqc29uLmZvcm1hdDsgLy8gZW1wdHkgZm9ybWF0IGlzIG5vdCB2YWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVuY29kaW5nKSBqc29uLmNvbnRlbnRFbmNvZGluZyA9IGNvbnRlbnRFbmNvZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybnMgJiYgcGF0dGVybnMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXhlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhdHRlcm5zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdleGVzLmxlbmd0aCA9PT0gMSkganNvbi5wYXR0ZXJuID0gcmVnZXhlc1swXS5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlZ2V4ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNjaGVtYS5hbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZWdleGVzLm1hcCgocmVnZXgpPT4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiIHx8IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IHJlZ2V4LnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIG11bHRpcGxlT2YsIGV4Y2x1c2l2ZU1heGltdW0sIGV4Y2x1c2l2ZU1pbmltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJzdHJpbmdcIiAmJiBmb3JtYXQuaW5jbHVkZXMoXCJpbnRcIikpIGpzb24udHlwZSA9IFwiaW50ZWdlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbmltdW0gPSBleGNsdXNpdmVNaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWluaW11bSA9IGV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWluaW11bSA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIiAmJiB0aGlzLnRhcmdldCAhPT0gXCJkcmFmdC00XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmVNaW5pbXVtID49IG1pbmltdW0pIGRlbGV0ZSBqc29uLm1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGRlbGV0ZSBqc29uLmV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIgfHwgdGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhpbXVtID0gZXhjbHVzaXZlTWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmV4Y2x1c2l2ZU1heGltdW0gPSBleGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heGltdW0gPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1heGltdW0gPT09IFwibnVtYmVyXCIgJiYgdGhpcy50YXJnZXQgIT09IFwiZHJhZnQtNFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlTWF4aW11bSA8PSBtYXhpbXVtKSBkZWxldGUganNvbi5tYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBkZWxldGUganNvbi5leGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXVsdGlwbGVPZiA9PT0gXCJudW1iZXJcIikganNvbi5tdWx0aXBsZU9mID0gbXVsdGlwbGVPZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bWJvbHMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24ubnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5lbnVtID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBfanNvbi50eXBlID0gXCJudWxsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVua25vd25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZGVmaW5lZCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZvaWQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5ldmVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24ubm90ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0ZSBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKSBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpIGpzb24ubWF4SXRlbXMgPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zID0gdGhpcy5wcm9jZXNzKGRlZi5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIml0ZW1zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBkZWYuc2hhcGU7IC8vIHBhcmFtcy5zaGFwZUNhY2hlLmdldChzY2hlbWEpITtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3Qga2V5IGluIHNoYXBlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcm9wZXJ0aWVzW2tleV0gPSB0aGlzLnByb2Nlc3Moc2hhcGVba2V5XSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcy5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQga2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEtleXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHNoYXBlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3Qgb3B0aW9uYWxLZXlzID0gbmV3IFNldChkZWYub3B0aW9uYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkS2V5cyA9IG5ldyBTZXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hbGxLZXlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5maWx0ZXIoKGtleSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGRlZi5zaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2Lm9wdGluID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi5vcHRvdXQgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWRLZXlzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucmVxdWlyZWQgPSBBcnJheS5mcm9tKHJlcXVpcmVkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhdGNoYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5jYXRjaGFsbD8uX3pvZC5kZWYudHlwZSA9PT0gXCJuZXZlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmljdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGVmLmNhdGNoYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ3VsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwib3V0cHV0XCIpIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlZi5jYXRjaGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gdGhpcy5wcm9jZXNzKGRlZi5jYXRjaGFsbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcy5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMubWFwKCh4LCBpKT0+dGhpcy5wcm9jZXNzKHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFueU9mXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMucHJvY2VzcyhkZWYubGVmdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcy5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGxPZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRoaXMucHJvY2VzcyhkZWYucmlnaHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxsT2ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2ltcGxlSW50ZXJzZWN0aW9uID0gKHZhbCk9PlwiYWxsT2ZcIiBpbiB2YWwgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmlzU2ltcGxlSW50ZXJzZWN0aW9uKGEpID8gYS5hbGxPZiA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXNTaW1wbGVJbnRlcnNlY3Rpb24oYikgPyBiLmFsbE9mIDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFsbE9mID0gYWxsT2Y7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXBsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4UGF0aCA9IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwicHJlZml4SXRlbXNcIiA6IFwiaXRlbXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0UGF0aCA9IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiaXRlbXNcIiA6IHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIgPyBcIml0ZW1zXCIgOiBcImFkZGl0aW9uYWxJdGVtc1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeEl0ZW1zID0gZGVmLml0ZW1zLm1hcCgoeCwgaSk9PnRoaXMucHJvY2Vzcyh4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0ID0gZGVmLnJlc3QgPyB0aGlzLnByb2Nlc3MoZGVmLnJlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIiA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWYuaXRlbXMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdIDogW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJlZml4SXRlbXMgPSBwcmVmaXhJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnlPZjogcHJlZml4SXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMuYW55T2YucHVzaChyZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkl0ZW1zID0gcHJlZml4SXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4SXRlbXMgPSBwcmVmaXhJdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLml0ZW1zID0gcHJlZml4SXRlbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxJdGVtcyA9IHJlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKSBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpIGpzb24ubWF4SXRlbXMgPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVjb3JkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcm9wZXJ0eU5hbWVzID0gdGhpcy5wcm9jZXNzKGRlZi5rZXlUeXBlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0eU5hbWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb2Nlc3MoZGVmLnZhbHVlVHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcy5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hcCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2V0IGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGdldEVudW1WYWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlciBlbnVtcyBjYW4gaGF2ZSBib3RoIHN0cmluZyBhbmQgbnVtYmVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMuZXZlcnkoKHYpPT50eXBlb2YgdiA9PT0gXCJudW1iZXJcIikpIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5ldmVyeSgodik9PnR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSkganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmVudW0gPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiBkZWYudmFsdWVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpdGVyYWwgYHVuZGVmaW5lZGAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgdG8gdmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGxpdGVyYWxzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFscy5wdXNoKE51bWJlcih2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgKGFuIHVuZGVmaW5lZCBsaXRlcmFsIHdhcyBzdHJpcHBlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHZhbHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IHZhbCA9PT0gbnVsbCA/IFwibnVsbFwiIDogdHlwZW9mIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCB0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmVudW0gPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5jb25zdCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KT0+dHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKSBqc29uLnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodik9PnR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSkganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpPT50eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpKSBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodik9PnYgPT09IG51bGwpKSBqc29uLnR5cGUgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5lbnVtID0gdmFscztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJiaW5hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEVuY29kaW5nOiBcImJpbmFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIG1pbWUgfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluaW11bSAhPT0gdW5kZWZpbmVkKSBmaWxlLm1pbkxlbmd0aCA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heGltdW0gIT09IHVuZGVmaW5lZCkgZmlsZS5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW1lLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5jb250ZW50TWVkaWFUeXBlID0gbWltZVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oanNvbiwgZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFueU9mID0gbWltZS5tYXAoKG0pPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbUZpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRNZWRpYVR5cGU6IG1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihqc29uLCBmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2Zvcm1zIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudWxsYWJsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLm51bGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5hbnlPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9ub3B0aW9uYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uZGVmYXVsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVmLmRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJlZmF1bHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiKSBfanNvbi5fcHJlZmF1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZi5kZWZhdWx0VmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNhdGNoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIGNvbmRpdGlvbmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoVmFsdWUgPSBkZWYuY2F0Y2hWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHluYW1pYyBjYXRjaCB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmRlZmF1bHQgPSBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibmFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmFOIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZV9saXRlcmFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBzY2hlbWEuX3pvZC5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGF0dGVybikgdGhyb3cgbmV3IEVycm9yKFwiUGF0dGVybiBub3QgZm91bmQgaW4gdGVtcGxhdGUgbGl0ZXJhbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucGF0dGVybiA9IHBhdHRlcm4uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHRoaXMuaW8gPT09IFwiaW5wdXRcIiA/IGRlZi5pbi5fem9kLmRlZi50eXBlID09PSBcInRyYW5zZm9ybVwiID8gZGVmLm91dCA6IGRlZi5pbiA6IGRlZi5vdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5yZWFkT25seSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3N0aHJvdWdoIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9taXNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvcHRpb25hbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGF6eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHNjaGVtYS5fem9kLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MoaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBpbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjdXN0b21cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHlwZXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gdHlwZXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG1ldGFkYXRhXG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLm1ldGFkYXRhUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhKSBPYmplY3QuYXNzaWduKHJlc3VsdC5zY2hlbWEsIG1ldGEpO1xuICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiICYmIGlzVHJhbnNmb3JtaW5nKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIC8vIGV4YW1wbGVzL2RlZmF1bHRzIG9ubHkgYXBwbHkgdG8gb3V0cHV0IHR5cGUgb2YgcGlwZVxuICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5zY2hlbWEuZXhhbXBsZXM7XG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcmVmYXVsdCBhcyBkZWZhdWx0XG4gICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIgJiYgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpIChfYSA9IHJlc3VsdC5zY2hlbWEpLmRlZmF1bHQgPz8gKF9hLmRlZmF1bHQgPSByZXN1bHQuc2NoZW1hLl9wcmVmYXVsdCk7XG4gICAgICAgIGRlbGV0ZSByZXN1bHQuc2NoZW1hLl9wcmVmYXVsdDtcbiAgICAgICAgLy8gcHVsbGluZyBmcmVzaCBmcm9tIHRoaXMuc2VlbiBpbiBjYXNlIGl0IHdhcyBvdmVyd3JpdHRlblxuICAgICAgICBjb25zdCBfcmVzdWx0ID0gdGhpcy5zZWVuLmdldChzY2hlbWEpO1xuICAgICAgICByZXR1cm4gX3Jlc3VsdC5zY2hlbWE7XG4gICAgfVxuICAgIGVtaXQoc2NoZW1hLCBfcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGN5Y2xlczogX3BhcmFtcz8uY3ljbGVzID8/IFwicmVmXCIsXG4gICAgICAgICAgICByZXVzZWQ6IF9wYXJhbXM/LnJldXNlZCA/PyBcImlubGluZVwiLFxuICAgICAgICAgICAgLy8gdW5yZXByZXNlbnRhYmxlOiBfcGFyYW1zPy51bnJlcHJlc2VudGFibGUgPz8gXCJ0aHJvd1wiLFxuICAgICAgICAgICAgLy8gdXJpOiBfcGFyYW1zPy51cmkgPz8gKChpZCkgPT4gYCR7aWR9YCksXG4gICAgICAgICAgICBleHRlcm5hbDogX3BhcmFtcz8uZXh0ZXJuYWwgPz8gdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBzZWVuIG1hcDtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKCFyb290KSB0aHJvdyBuZXcgRXJyb3IoXCJVbnByb2Nlc3NlZCBzY2hlbWEuIFRoaXMgaXMgYSBidWcgaW4gWm9kLlwiKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgd2l0aCByb290IHNjaGVtYSBmaWVsZHNcbiAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihyZXN1bHQsIHNlZW4uY2FjaGVkKTtcbiAgICAgICAgLy8gcmV0dXJucyBhIHJlZiB0byB0aGUgc2NoZW1hXG4gICAgICAgIC8vIGRlZklkIHdpbGwgYmUgZW1wdHkgaWYgdGhlIHJlZiBwb2ludHMgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hIChvciAjKVxuICAgICAgICBjb25zdCBtYWtlVVJJID0gKGVudHJ5KT0+e1xuICAgICAgICAgICAgLy8gY29tcGFyaW5nIHRoZSBzZWVuIG9iamVjdHMgYmVjYXVzZSBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIG11bHRpcGxlIHNjaGVtYXMgbWFwIHRvIHRoZSBzYW1lIHNlZW4gb2JqZWN0LlxuICAgICAgICAgICAgLy8gZS5nLiBsYXp5XG4gICAgICAgICAgICAvLyBleHRlcm5hbCBpcyBjb25maWd1cmVkXG4gICAgICAgICAgICBjb25zdCBkZWZzU2VnbWVudCA9IHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlcm5hbElkID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkOyAvLyA/PyBcIl9fc2hhcmVkXCI7Ly8gYF9fc2NoZW1hJHt0aGlzLmNvdW50ZXIrK31gO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHNjaGVtYSBpcyBpbiB0aGUgZXh0ZXJuYWwgcmVnaXN0cnlcbiAgICAgICAgICAgICAgICBjb25zdCB1cmlHZW5lcmF0b3IgPSBwYXJhbXMuZXh0ZXJuYWwudXJpID8/ICgoaWQpPT5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4dGVybmFsSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogdXJpR2VuZXJhdG9yKGV4dGVybmFsSWQpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIF9fc2hhcmVkXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbnRyeVsxXS5kZWZJZCA/PyBlbnRyeVsxXS5zY2hlbWEuaWQgPz8gYHNjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgICAgICBlbnRyeVsxXS5kZWZJZCA9IGlkOyAvLyBzZXQgZGVmSWQgc28gaXQgd2lsbCBiZSByZXVzZWQgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmSWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICByZWY6IGAke3VyaUdlbmVyYXRvcihcIl9fc2hhcmVkXCIpfSMvJHtkZWZzU2VnbWVudH0vJHtpZH1gXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRyeVsxXSA9PT0gcm9vdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZjogXCIjXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2VsZi1jb250YWluZWQgc2NoZW1hXG4gICAgICAgICAgICBjb25zdCB1cmlQcmVmaXggPSBgI2A7XG4gICAgICAgICAgICBjb25zdCBkZWZVcmlQcmVmaXggPSBgJHt1cmlQcmVmaXh9LyR7ZGVmc1NlZ21lbnR9L2A7XG4gICAgICAgICAgICBjb25zdCBkZWZJZCA9IGVudHJ5WzFdLnNjaGVtYS5pZCA/PyBgX19zY2hlbWEke3RoaXMuY291bnRlcisrfWA7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRlZklkLFxuICAgICAgICAgICAgICAgIHJlZjogZGVmVXJpUHJlZml4ICsgZGVmSWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIHN0b3JlZCBjYWNoZWQgdmVyc2lvbiBpbiBgZGVmYCBwcm9wZXJ0eVxuICAgICAgICAvLyByZW1vdmUgYWxsIHByb3BlcnRpZXMsIHNldCAkcmVmXG4gICAgICAgIGNvbnN0IGV4dHJhY3RUb0RlZiA9IChlbnRyeSk9PntcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzY2hlbWEgaXMgYWxyZWFkeSBhIHJlZmVyZW5jZSwgZG8gbm90IGV4dHJhY3QgaXRcbiAgICAgICAgICAgIGlmIChlbnRyeVsxXS5zY2hlbWEuJHJlZikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVmLCBkZWZJZCB9ID0gbWFrZVVSSShlbnRyeSk7XG4gICAgICAgICAgICBzZWVuLmRlZiA9IHtcbiAgICAgICAgICAgICAgICAuLi5zZWVuLnNjaGVtYVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGRlZklkIHdvbid0IGJlIHNldCBpZiB0aGUgc2NoZW1hIGlzIGEgcmVmZXJlbmNlIHRvIGFuIGV4dGVybmFsIHNjaGVtYVxuICAgICAgICAgICAgaWYgKGRlZklkKSBzZWVuLmRlZklkID0gZGVmSWQ7XG4gICAgICAgICAgICAvLyB3aXBlIGF3YXkgYWxsIHByb3BlcnRpZXMgZXhjZXB0ICRyZWZcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHNlZW4uc2NoZW1hO1xuICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBzY2hlbWEpe1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjaGVtYS4kcmVmID0gcmVmO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aHJvdyBvbiBjeWNsZXNcbiAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgIGlmIChwYXJhbXMuY3ljbGVzID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSl7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgICAgIGlmIChzZWVuLmN5Y2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN5Y2xlIGRldGVjdGVkOiBcIiArIGAjLyR7c2Vlbi5jeWNsZT8uam9pbihcIi9cIil9Lzxyb290PmAgKyAnXFxuXFxuU2V0IHRoZSBgY3ljbGVzYCBwYXJhbWV0ZXIgdG8gYFwicmVmXCJgIHRvIHJlc29sdmUgY3ljbGljYWwgc2NoZW1hcyB3aXRoIGRlZnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyBpbnRvICRkZWZzXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSl7XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICAvLyBjb252ZXJ0IHJvb3Qgc2NoZW1hIHRvICMgJHJlZlxuICAgICAgICAgICAgaWYgKHNjaGVtYSA9PT0gZW50cnlbMF0pIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpOyAvLyB0aGlzIGhhcyBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgcm9vdCBzY2hlbWFcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyB0aGF0IGFyZSBpbiB0aGUgZXh0ZXJuYWwgcmVnaXN0cnlcbiAgICAgICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBwYXJhbXMuZXh0ZXJuYWwucmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYSAhPT0gZW50cnlbMF0gJiYgZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyB3aXRoIGBpZGAgbWV0YVxuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLm1ldGFkYXRhUmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7XG4gICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgICAgICBpZiAoc2Vlbi5jeWNsZSkge1xuICAgICAgICAgICAgICAgIC8vIGFueVxuICAgICAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHJldXNlZCBzY2hlbWFzXG4gICAgICAgICAgICBpZiAoc2Vlbi5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnJldXNlZCA9PT0gXCJyZWZcIikge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmxhdHRlbiBfcmVmc1xuICAgICAgICBjb25zdCBmbGF0dGVuUmVmID0gKHpvZFNjaGVtYSwgcGFyYW1zKT0+e1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IHRoaXMuc2Vlbi5nZXQoem9kU2NoZW1hKTtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHNlZW4uZGVmID8/IHNlZW4uc2NoZW1hO1xuICAgICAgICAgICAgY29uc3QgX2NhY2hlZCA9IHtcbiAgICAgICAgICAgICAgICAuLi5zY2hlbWFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHNlZW5cbiAgICAgICAgICAgIGlmIChzZWVuLnJlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZsYXR0ZW4gcmVmIGlmIGRlZmluZWRcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHNlZW4ucmVmO1xuICAgICAgICAgICAgc2Vlbi5yZWYgPSBudWxsOyAvLyBwcmV2ZW50IHJlY3Vyc2lvblxuICAgICAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgICAgICAgIGZsYXR0ZW5SZWYocmVmLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIC8vIG1lcmdlIHJlZmVyZW5jZWQgc2NoZW1hIGludG8gY3VycmVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZlNjaGVtYSA9IHRoaXMuc2Vlbi5nZXQocmVmKS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgaWYgKHJlZlNjaGVtYS4kcmVmICYmIChwYXJhbXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIiB8fCBwYXJhbXMudGFyZ2V0ID09PSBcImRyYWZ0LTRcIiB8fCBwYXJhbXMudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IHNjaGVtYS5hbGxPZiA/PyBbXTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2gocmVmU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNjaGVtYSwgcmVmU2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzY2hlbWEsIF9jYWNoZWQpOyAvLyBwcmV2ZW50IG92ZXJ3cml0aW5nIGFueSBmaWVsZHMgaW4gdGhlIG9yaWdpbmFsIHNjaGVtYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4ZWN1dGUgb3ZlcnJpZGVzXG4gICAgICAgICAgICBpZiAoIXNlZW4uaXNQYXJlbnQpIHRoaXMub3ZlcnJpZGUoe1xuICAgICAgICAgICAgICAgIHpvZFNjaGVtYTogem9kU2NoZW1hLFxuICAgICAgICAgICAgICAgIGpzb25TY2hlbWE6IHNjaGVtYSxcbiAgICAgICAgICAgICAgICBwYXRoOiBzZWVuLnBhdGggPz8gW11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIFtcbiAgICAgICAgICAgIC4uLnRoaXMuc2Vlbi5lbnRyaWVzKClcbiAgICAgICAgXS5yZXZlcnNlKCkpe1xuICAgICAgICAgICAgZmxhdHRlblJlZihlbnRyeVswXSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICByZXN1bHQuJHNjaGVtYSA9IFwiaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQvMjAyMC0xMi9zY2hlbWFcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC03XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSNcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC00XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA0L3NjaGVtYSNcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgIC8vIE9wZW5BUEkgMy4wIHNjaGVtYSBvYmplY3RzIHNob3VsZCBub3QgaW5jbHVkZSBhICRzY2hlbWEgcHJvcGVydHlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCB0YXJnZXQ6ICR7dGhpcy50YXJnZXR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbD8udXJpKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHBhcmFtcy5leHRlcm5hbC5yZWdpc3RyeS5nZXQoc2NoZW1hKT8uaWQ7XG4gICAgICAgICAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgaXMgbWlzc2luZyBhbiBgaWRgIHByb3BlcnR5XCIpO1xuICAgICAgICAgICAgcmVzdWx0LiRpZCA9IHBhcmFtcy5leHRlcm5hbC51cmkoaWQpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCByb290LmRlZik7XG4gICAgICAgIC8vIGJ1aWxkIGRlZnMgb2JqZWN0XG4gICAgICAgIGNvbnN0IGRlZnMgPSBwYXJhbXMuZXh0ZXJuYWw/LmRlZnMgPz8ge307XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSl7XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICBpZiAoc2Vlbi5kZWYgJiYgc2Vlbi5kZWZJZCkge1xuICAgICAgICAgICAgICAgIGRlZnNbc2Vlbi5kZWZJZF0gPSBzZWVuLmRlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgZGVmaW5pdGlvbnMgaW4gcmVzdWx0XG4gICAgICAgIGlmIChwYXJhbXMuZXh0ZXJuYWwpIHt9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC4kZGVmcyA9IGRlZnM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlZmluaXRpb25zID0gZGVmcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIHRoaXMgXCJmaW5hbGl6ZXNcIiB0aGlzIHNjaGVtYSBhbmQgZW5zdXJlcyBhbGwgY3ljbGVzIGFyZSByZW1vdmVkXG4gICAgICAgICAgICAvLyBlYWNoIGNhbGwgdG8gLmVtaXQoKSBpcyBmdW5jdGlvbmFsbHkgaW5kZXBlbmRlbnRcbiAgICAgICAgICAgIC8vIHRob3VnaCB0aGUgc2VlbiBtYXAgaXMgc2hhcmVkXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICAgICAgfSBjYXRjaCAoX2Vycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29udmVydGluZyBzY2hlbWEgdG8gSlNPTi5cIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9KU09OU2NoZW1hKGlucHV0LCBfcGFyYW1zKSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgJFpvZFJlZ2lzdHJ5KSB7XG4gICAgICAgIGNvbnN0IGdlbiA9IG5ldyBKU09OU2NoZW1hR2VuZXJhdG9yKF9wYXJhbXMpO1xuICAgICAgICBjb25zdCBkZWZzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQuX2lkbWFwLmVudHJpZXMoKSl7XG4gICAgICAgICAgICBjb25zdCBbXywgc2NoZW1hXSA9IGVudHJ5O1xuICAgICAgICAgICAgZ2VuLnByb2Nlc3Moc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2hlbWFzID0ge307XG4gICAgICAgIGNvbnN0IGV4dGVybmFsID0ge1xuICAgICAgICAgICAgcmVnaXN0cnk6IGlucHV0LFxuICAgICAgICAgICAgdXJpOiBfcGFyYW1zPy51cmksXG4gICAgICAgICAgICBkZWZzXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQuX2lkbWFwLmVudHJpZXMoKSl7XG4gICAgICAgICAgICBjb25zdCBba2V5LCBzY2hlbWFdID0gZW50cnk7XG4gICAgICAgICAgICBzY2hlbWFzW2tleV0gPSBnZW4uZW1pdChzY2hlbWEsIHtcbiAgICAgICAgICAgICAgICAuLi5fcGFyYW1zLFxuICAgICAgICAgICAgICAgIGV4dGVybmFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmc1NlZ21lbnQgPSBnZW4udGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIHNjaGVtYXMuX19zaGFyZWQgPSB7XG4gICAgICAgICAgICAgICAgW2RlZnNTZWdtZW50XTogZGVmc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NoZW1hc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBnZW4gPSBuZXcgSlNPTlNjaGVtYUdlbmVyYXRvcihfcGFyYW1zKTtcbiAgICBnZW4ucHJvY2VzcyhpbnB1dCk7XG4gICAgcmV0dXJuIGdlbi5lbWl0KGlucHV0LCBfcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtaW5nKF9zY2hlbWEsIF9jdHgpIHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8/IHtcbiAgICAgICAgc2VlbjogbmV3IFNldCgpXG4gICAgfTtcbiAgICBpZiAoY3R4LnNlZW4uaGFzKF9zY2hlbWEpKSByZXR1cm4gZmFsc2U7XG4gICAgY3R4LnNlZW4uYWRkKF9zY2hlbWEpO1xuICAgIGNvbnN0IHNjaGVtYSA9IF9zY2hlbWE7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIHN3aXRjaChkZWYudHlwZSl7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgIGNhc2UgXCJ1bmtub3duXCI6XG4gICAgICAgIGNhc2UgXCJuZXZlclwiOlxuICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICBjYXNlIFwibmFuXCI6XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZV9saXRlcmFsXCI6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuZWxlbWVudCwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gZGVmLnNoYXBlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtaW5nKGRlZi5zaGFwZVtrZXldLCBjdHgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwidW5pb25cIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucyl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhvcHRpb24sIGN0eCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmxlZnQsIGN0eCkgfHwgaXNUcmFuc2Zvcm1pbmcoZGVmLnJpZ2h0LCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwidHVwbGVcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGVmLml0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtaW5nKGl0ZW0sIGN0eCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVmLnJlc3QgJiYgaXNUcmFuc2Zvcm1pbmcoZGVmLnJlc3QsIGN0eCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJlY29yZFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYua2V5VHlwZSwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5rZXlUeXBlLCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi52YWx1ZVR5cGUsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLnZhbHVlVHlwZSwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gaW5uZXIgdHlwZXNcbiAgICAgICAgY2FzZSBcInByb21pc2VcIjpcbiAgICAgICAgY2FzZSBcIm9wdGlvbmFsXCI6XG4gICAgICAgIGNhc2UgXCJub25vcHRpb25hbFwiOlxuICAgICAgICBjYXNlIFwibnVsbGFibGVcIjpcbiAgICAgICAgY2FzZSBcInJlYWRvbmx5XCI6XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmlubmVyVHlwZSwgY3R4KTtcbiAgICAgICAgY2FzZSBcImxhenlcIjpcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuZ2V0dGVyKCksIGN0eCk7XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbm5lclR5cGUsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJwcmVmYXVsdFwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJwaXBlXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbiwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYub3V0LCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3VjY2Vzc1wiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImNhdGNoXCI6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBkZWY7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzY2hlbWEgdHlwZTogJHtkZWYudHlwZX1gKTtcbn1cbiIsICJleHBvcnQgeyB9O1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYXMgZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZElTT0RhdGVUaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0RhdGVUaW1lXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kSVNPRGF0ZVRpbWUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29EYXRlVGltZShab2RJU09EYXRlVGltZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJU09EYXRlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0RhdGVcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RJU09EYXRlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBzY2hlbWFzLlpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkYXRlKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29EYXRlKFpvZElTT0RhdGUsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kSVNPVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RJU09UaW1lXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kSVNPVGltZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdGltZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvVGltZShab2RJU09UaW1lLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT0R1cmF0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0R1cmF0aW9uXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kSVNPRHVyYXRpb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIHNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGR1cmF0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pc29EdXJhdGlvbihab2RJU09EdXJhdGlvbiwgcGFyYW1zKTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyAkWm9kRXJyb3IgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi4vY29yZS91dGlsLmpzXCI7XG5jb25zdCBpbml0aWFsaXplciA9IChpbnN0LCBpc3N1ZXMpPT57XG4gICAgJFpvZEVycm9yLmluaXQoaW5zdCwgaXNzdWVzKTtcbiAgICBpbnN0Lm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaW5zdCwge1xuICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAobWFwcGVyKT0+Y29yZS5mb3JtYXRFcnJvcihpbnN0LCBtYXBwZXIpXG4gICAgICAgIH0sXG4gICAgICAgIGZsYXR0ZW46IHtcbiAgICAgICAgICAgIHZhbHVlOiAobWFwcGVyKT0+Y29yZS5mbGF0dGVuRXJyb3IoaW5zdCwgbWFwcGVyKVxuICAgICAgICB9LFxuICAgICAgICBhZGRJc3N1ZToge1xuICAgICAgICAgICAgdmFsdWU6IChpc3N1ZSk9PntcbiAgICAgICAgICAgICAgICBpbnN0Lmlzc3Vlcy5wdXNoKGlzc3VlKTtcbiAgICAgICAgICAgICAgICBpbnN0Lm1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShpbnN0Lmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRJc3N1ZXM6IHtcbiAgICAgICAgICAgIHZhbHVlOiAoaXNzdWVzKT0+e1xuICAgICAgICAgICAgICAgIGluc3QuaXNzdWVzLnB1c2goLi4uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICBpbnN0Lm1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShpbnN0Lmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc0VtcHR5OiB7XG4gICAgICAgICAgICBnZXQgKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbi8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImlzRW1wdHlcIiwge1xuLy8gICBnZXQoKSB7XG4vLyAgICAgcmV0dXJuIGluc3QuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbi8vICAgfSxcbi8vIH0pO1xufTtcbmV4cG9ydCBjb25zdCBab2RFcnJvciA9IGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRXJyb3JcIiwgaW5pdGlhbGl6ZXIpO1xuZXhwb3J0IGNvbnN0IFpvZFJlYWxFcnJvciA9IGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRXJyb3JcIiwgaW5pdGlhbGl6ZXIsIHtcbiAgICBQYXJlbnQ6IEVycm9yXG59KTsgLy8gLyoqIEBkZXByZWNhdGVkIFVzZSBgei5jb3JlLiRab2RFcnJvck1hcEN0eGAgaW5zdGVhZC4gKi9cbiAvLyBleHBvcnQgdHlwZSBFcnJvck1hcEN0eCA9IGNvcmUuJFpvZEVycm9yTWFwQ3R4O1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCB7IFpvZFJlYWxFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3BhcnNlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgcGFyc2VBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9wYXJzZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVQYXJzZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVQYXJzZUFzeW5jKFpvZFJlYWxFcnJvcik7XG4vLyBDb2RlYyBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBlbmNvZGUgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fZW5jb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgZGVjb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2RlY29kZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IGVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2VuY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgZGVjb2RlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fZGVjb2RlQXN5bmMoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVFbmNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVEZWNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlRW5jb2RlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fc2FmZUVuY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVEZWNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCB7IHV0aWwgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgY2hlY2tzIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuaW1wb3J0ICogYXMgaXNvIGZyb20gXCIuL2lzby5qc1wiO1xuaW1wb3J0ICogYXMgcGFyc2UgZnJvbSBcIi4vcGFyc2UuanNcIjtcbmV4cG9ydCBjb25zdCBab2RUeXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFR5cGVcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmRlZiA9IGRlZjtcbiAgICBpbnN0LnR5cGUgPSBkZWYudHlwZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJfZGVmXCIsIHtcbiAgICAgICAgdmFsdWU6IGRlZlxuICAgIH0pO1xuICAgIC8vIGJhc2UgbWV0aG9kc1xuICAgIGluc3QuY2hlY2sgPSAoLi4uY2hlY2tzKT0+e1xuICAgICAgICByZXR1cm4gaW5zdC5jbG9uZSh1dGlsLm1lcmdlRGVmcyhkZWYsIHtcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLmRlZi5jaGVja3MgPz8gW10sXG4gICAgICAgICAgICAgICAgLi4uY2hlY2tzLm1hcCgoY2gpPT50eXBlb2YgY2ggPT09IFwiZnVuY3Rpb25cIiA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF96b2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVjazogY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrOiBcImN1c3RvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmF0dGFjaDogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSA6IGNoKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBpbnN0LmNsb25lID0gKGRlZiwgcGFyYW1zKT0+Y29yZS5jbG9uZShpbnN0LCBkZWYsIHBhcmFtcyk7XG4gICAgaW5zdC5icmFuZCA9ICgpPT5pbnN0O1xuICAgIGluc3QucmVnaXN0ZXIgPSAocmVnLCBtZXRhKT0+e1xuICAgICAgICByZWcuYWRkKGluc3QsIG1ldGEpO1xuICAgICAgICByZXR1cm4gaW5zdDtcbiAgICB9O1xuICAgIC8vIHBhcnNpbmdcbiAgICBpbnN0LnBhcnNlID0gKGRhdGEsIHBhcmFtcyk9PnBhcnNlLnBhcnNlKGluc3QsIGRhdGEsIHBhcmFtcywge1xuICAgICAgICAgICAgY2FsbGVlOiBpbnN0LnBhcnNlXG4gICAgICAgIH0pO1xuICAgIGluc3Quc2FmZVBhcnNlID0gKGRhdGEsIHBhcmFtcyk9PnBhcnNlLnNhZmVQYXJzZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QucGFyc2VBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpPT5wYXJzZS5wYXJzZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcywge1xuICAgICAgICAgICAgY2FsbGVlOiBpbnN0LnBhcnNlQXN5bmNcbiAgICAgICAgfSk7XG4gICAgaW5zdC5zYWZlUGFyc2VBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpPT5wYXJzZS5zYWZlUGFyc2VBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc3BhID0gaW5zdC5zYWZlUGFyc2VBc3luYztcbiAgICAvLyBlbmNvZGluZy9kZWNvZGluZ1xuICAgIGluc3QuZW5jb2RlID0gKGRhdGEsIHBhcmFtcyk9PnBhcnNlLmVuY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZGVjb2RlID0gKGRhdGEsIHBhcmFtcyk9PnBhcnNlLmRlY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZW5jb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKT0+cGFyc2UuZW5jb2RlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LmRlY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcyk9PnBhcnNlLmRlY29kZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zYWZlRW5jb2RlID0gKGRhdGEsIHBhcmFtcyk9PnBhcnNlLnNhZmVFbmNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVEZWNvZGUgPSAoZGF0YSwgcGFyYW1zKT0+cGFyc2Uuc2FmZURlY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZUVuY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcyk9PnBhcnNlLnNhZmVFbmNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZURlY29kZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcyk9PnBhcnNlLnNhZmVEZWNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIC8vIHJlZmluZW1lbnRzXG4gICAgaW5zdC5yZWZpbmUgPSAoY2hlY2ssIHBhcmFtcyk9Pmluc3QuY2hlY2socmVmaW5lKGNoZWNrLCBwYXJhbXMpKTtcbiAgICBpbnN0LnN1cGVyUmVmaW5lID0gKHJlZmluZW1lbnQpPT5pbnN0LmNoZWNrKHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpKTtcbiAgICBpbnN0Lm92ZXJ3cml0ZSA9IChmbik9Pmluc3QuY2hlY2soY2hlY2tzLm92ZXJ3cml0ZShmbikpO1xuICAgIC8vIHdyYXBwZXJzXG4gICAgaW5zdC5vcHRpb25hbCA9ICgpPT5vcHRpb25hbChpbnN0KTtcbiAgICBpbnN0Lm51bGxhYmxlID0gKCk9Pm51bGxhYmxlKGluc3QpO1xuICAgIGluc3QubnVsbGlzaCA9ICgpPT5vcHRpb25hbChudWxsYWJsZShpbnN0KSk7XG4gICAgaW5zdC5ub25vcHRpb25hbCA9IChwYXJhbXMpPT5ub25vcHRpb25hbChpbnN0LCBwYXJhbXMpO1xuICAgIGluc3QuYXJyYXkgPSAoKT0+YXJyYXkoaW5zdCk7XG4gICAgaW5zdC5vciA9IChhcmcpPT51bmlvbihbXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgYXJnXG4gICAgICAgIF0pO1xuICAgIGluc3QuYW5kID0gKGFyZyk9PmludGVyc2VjdGlvbihpbnN0LCBhcmcpO1xuICAgIGluc3QudHJhbnNmb3JtID0gKHR4KT0+cGlwZShpbnN0LCB0cmFuc2Zvcm0odHgpKTtcbiAgICBpbnN0LmRlZmF1bHQgPSAoZGVmKT0+X2RlZmF1bHQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnByZWZhdWx0ID0gKGRlZik9PnByZWZhdWx0KGluc3QsIGRlZik7XG4gICAgLy8gaW5zdC5jb2FsZXNjZSA9IChkZWYsIHBhcmFtcykgPT4gY29hbGVzY2UoaW5zdCwgZGVmLCBwYXJhbXMpO1xuICAgIGluc3QuY2F0Y2ggPSAocGFyYW1zKT0+X2NhdGNoKGluc3QsIHBhcmFtcyk7XG4gICAgaW5zdC5waXBlID0gKHRhcmdldCk9PnBpcGUoaW5zdCwgdGFyZ2V0KTtcbiAgICBpbnN0LnJlYWRvbmx5ID0gKCk9PnJlYWRvbmx5KGluc3QpO1xuICAgIC8vIG1ldGFcbiAgICBpbnN0LmRlc2NyaWJlID0gKGRlc2NyaXB0aW9uKT0+e1xuICAgICAgICBjb25zdCBjbCA9IGluc3QuY2xvbmUoKTtcbiAgICAgICAgY29yZS5nbG9iYWxSZWdpc3RyeS5hZGQoY2wsIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2w7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJkZXNjcmlwdGlvblwiLCB7XG4gICAgICAgIGdldCAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCk/LmRlc2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBpbnN0Lm1ldGEgPSAoLi4uYXJncyk9PntcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2wgPSBpbnN0LmNsb25lKCk7XG4gICAgICAgIGNvcmUuZ2xvYmFsUmVnaXN0cnkuYWRkKGNsLCBhcmdzWzBdKTtcbiAgICAgICAgcmV0dXJuIGNsO1xuICAgIH07XG4gICAgLy8gaGVscGVyc1xuICAgIGluc3QuaXNPcHRpb25hbCA9ICgpPT5pbnN0LnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgaW5zdC5pc051bGxhYmxlID0gKCk9Pmluc3Quc2FmZVBhcnNlKG51bGwpLnN1Y2Nlc3M7XG4gICAgcmV0dXJuIGluc3Q7XG59KTtcbi8qKiBAaW50ZXJuYWwgKi8gZXhwb3J0IGNvbnN0IF9ab2RTdHJpbmcgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiX1pvZFN0cmluZ1wiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0LmZvcm1hdCA9IGJhZy5mb3JtYXQgPz8gbnVsbDtcbiAgICBpbnN0Lm1pbkxlbmd0aCA9IGJhZy5taW5pbXVtID8/IG51bGw7XG4gICAgaW5zdC5tYXhMZW5ndGggPSBiYWcubWF4aW11bSA/PyBudWxsO1xuICAgIC8vIHZhbGlkYXRpb25zXG4gICAgaW5zdC5yZWdleCA9ICguLi5hcmdzKT0+aW5zdC5jaGVjayhjaGVja3MucmVnZXgoLi4uYXJncykpO1xuICAgIGluc3QuaW5jbHVkZXMgPSAoLi4uYXJncyk9Pmluc3QuY2hlY2soY2hlY2tzLmluY2x1ZGVzKC4uLmFyZ3MpKTtcbiAgICBpbnN0LnN0YXJ0c1dpdGggPSAoLi4uYXJncyk9Pmluc3QuY2hlY2soY2hlY2tzLnN0YXJ0c1dpdGgoLi4uYXJncykpO1xuICAgIGluc3QuZW5kc1dpdGggPSAoLi4uYXJncyk9Pmluc3QuY2hlY2soY2hlY2tzLmVuZHNXaXRoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm1pbiA9ICguLi5hcmdzKT0+aW5zdC5jaGVjayhjaGVja3MubWluTGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm1heCA9ICguLi5hcmdzKT0+aW5zdC5jaGVjayhjaGVja3MubWF4TGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lmxlbmd0aCA9ICguLi5hcmdzKT0+aW5zdC5jaGVjayhjaGVja3MubGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKC4uLmFyZ3MpPT5pbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoMSwgLi4uYXJncykpO1xuICAgIGluc3QubG93ZXJjYXNlID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmxvd2VyY2FzZShwYXJhbXMpKTtcbiAgICBpbnN0LnVwcGVyY2FzZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy51cHBlcmNhc2UocGFyYW1zKSk7XG4gICAgLy8gdHJhbnNmb3Jtc1xuICAgIGluc3QudHJpbSA9ICgpPT5pbnN0LmNoZWNrKGNoZWNrcy50cmltKCkpO1xuICAgIGluc3Qubm9ybWFsaXplID0gKC4uLmFyZ3MpPT5pbnN0LmNoZWNrKGNoZWNrcy5ub3JtYWxpemUoLi4uYXJncykpO1xuICAgIGluc3QudG9Mb3dlckNhc2UgPSAoKT0+aW5zdC5jaGVjayhjaGVja3MudG9Mb3dlckNhc2UoKSk7XG4gICAgaW5zdC50b1VwcGVyQ2FzZSA9ICgpPT5pbnN0LmNoZWNrKGNoZWNrcy50b1VwcGVyQ2FzZSgpKTtcbn0pO1xuZXhwb3J0IGNvbnN0IFpvZFN0cmluZyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTdHJpbmdcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIF9ab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZW1haWwgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9lbWFpbChab2RFbWFpbCwgcGFyYW1zKSk7XG4gICAgaW5zdC51cmwgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl91cmwoWm9kVVJMLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmp3dCA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNvcmUuX2p3dChab2RKV1QsIHBhcmFtcykpO1xuICAgIGluc3QuZW1vamkgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9lbW9qaShab2RFbW9qaSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndWlkID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LnV1aWQgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl91dWlkKFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY0ID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fdXVpZHY0KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY2ID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fdXVpZHY2KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY3ID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fdXVpZHY3KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QubmFub2lkID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fbmFub2lkKFpvZE5hbm9JRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndWlkID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LmN1aWQgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9jdWlkKFpvZENVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuY3VpZDIgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9jdWlkMihab2RDVUlEMiwgcGFyYW1zKSk7XG4gICAgaW5zdC51bGlkID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fdWxpZChab2RVTElELCBwYXJhbXMpKTtcbiAgICBpbnN0LmJhc2U2NCA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNvcmUuX2Jhc2U2NChab2RCYXNlNjQsIHBhcmFtcykpO1xuICAgIGluc3QuYmFzZTY0dXJsID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fYmFzZTY0dXJsKFpvZEJhc2U2NFVSTCwgcGFyYW1zKSk7XG4gICAgaW5zdC54aWQgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl94aWQoWm9kWElELCBwYXJhbXMpKTtcbiAgICBpbnN0LmtzdWlkID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fa3N1aWQoWm9kS1NVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuaXB2NCA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNvcmUuX2lwdjQoWm9kSVB2NCwgcGFyYW1zKSk7XG4gICAgaW5zdC5pcHY2ID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5faXB2Nihab2RJUHY2LCBwYXJhbXMpKTtcbiAgICBpbnN0LmNpZHJ2NCA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNvcmUuX2NpZHJ2NChab2RDSURSdjQsIHBhcmFtcykpO1xuICAgIGluc3QuY2lkcnY2ID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fY2lkcnY2KFpvZENJRFJ2NiwgcGFyYW1zKSk7XG4gICAgaW5zdC5lMTY0ID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY29yZS5fZTE2NChab2RFMTY0LCBwYXJhbXMpKTtcbiAgICAvLyBpc29cbiAgICBpbnN0LmRhdGV0aW1lID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soaXNvLmRhdGV0aW1lKHBhcmFtcykpO1xuICAgIGluc3QuZGF0ZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGlzby5kYXRlKHBhcmFtcykpO1xuICAgIGluc3QudGltZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGlzby50aW1lKHBhcmFtcykpO1xuICAgIGluc3QuZHVyYXRpb24gPSAocGFyYW1zKT0+aW5zdC5jaGVjayhpc28uZHVyYXRpb24ocGFyYW1zKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmcocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZyhab2RTdHJpbmcsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgX1pvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCBab2RFbWFpbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFbWFpbFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kRW1haWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBlbWFpbChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZW1haWwoWm9kRW1haWwsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kR1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RHVUlEXCIsIChpbnN0LCBkZWYpPT57XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RHVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZ3VpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVVVJRFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVVVJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWQoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1dWlkdjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWR2NChab2RVVUlELCBwYXJhbXMpO1xufVxuLy8gWm9kVVVJRHY2XG5leHBvcnQgZnVuY3Rpb24gdXVpZHY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91dWlkdjYoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbi8vIFpvZFVVSUR2N1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NyhwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZHY3KFpvZFVVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kVVJMID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVSTFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVVJMLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdXJsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91cmwoWm9kVVJMLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGh0dHBVcmwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VybChab2RVUkwsIHtcbiAgICAgICAgcHJvdG9jb2w6IC9eaHR0cHM/JC8sXG4gICAgICAgIGhvc3RuYW1lOiBjb3JlLnJlZ2V4ZXMuZG9tYWluLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRW1vamkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRW1vamlcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEVtb2ppLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZW1vamkocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Vtb2ppKFpvZEVtb2ppLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE5hbm9JRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROYW5vSURcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZE5hbm9JRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5hbm9pZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmFub2lkKFpvZE5hbm9JRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENVSURcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENVSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjdWlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jdWlkKFpvZENVSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ1VJRDIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ1VJRDJcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENVSUQyLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY3VpZDIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1aWQyKFpvZENVSUQyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVMSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVUxJRFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVUxJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVsaWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VsaWQoWm9kVUxJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RYSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kWElEXCIsIChpbnN0LCBkZWYpPT57XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RYSUQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB4aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3hpZChab2RYSUQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kS1NVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kS1NVSURcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEtTVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24ga3N1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2tzdWlkKFpvZEtTVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElQdjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVB2NFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSVB2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlwdjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lwdjQoWm9kSVB2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJUHY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElQdjZcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZElQdjYuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpcHY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pcHY2KFpvZElQdjYsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ0lEUnY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENJRFJ2NFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZENJRFJ2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGNpZHJ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY2lkcnY0KFpvZENJRFJ2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDSURSdjYgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ0lEUnY2XCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kQ0lEUnY2LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY2lkcnY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jaWRydjYoWm9kQ0lEUnY2LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJhc2U2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCYXNlNjRcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEJhc2U2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fYmFzZTY0KFpvZEJhc2U2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCYXNlNjRVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQmFzZTY0VVJMXCIsIChpbnN0LCBkZWYpPT57XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RCYXNlNjRVUkwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjR1cmwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Jhc2U2NHVybChab2RCYXNlNjRVUkwsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kRTE2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFMTY0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RFMTY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZTE2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZTE2NChab2RFMTY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEpXVCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RKV1RcIiwgKGluc3QsIGRlZik9PntcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEpXVC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGp3dChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fand0KFpvZEpXVCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDdXN0b21TdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ3VzdG9tU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RDdXN0b21TdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdGb3JtYXQoZm9ybWF0LCBmbk9yUmVnZXgsIF9wYXJhbXMgPSB7fSkge1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBmb3JtYXQsIGZuT3JSZWdleCwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaG9zdG5hbWUoX3BhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBcImhvc3RuYW1lXCIsIGNvcmUucmVnZXhlcy5ob3N0bmFtZSwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4KF9wYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgXCJoZXhcIiwgY29yZS5yZWdleGVzLmhleCwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzaChhbGcsIHBhcmFtcykge1xuICAgIGNvbnN0IGVuYyA9IHBhcmFtcz8uZW5jID8/IFwiaGV4XCI7XG4gICAgY29uc3QgZm9ybWF0ID0gYCR7YWxnfV8ke2VuY31gO1xuICAgIGNvbnN0IHJlZ2V4ID0gY29yZS5yZWdleGVzW2Zvcm1hdF07XG4gICAgaWYgKCFyZWdleCkgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgaGFzaCBmb3JtYXQ6ICR7Zm9ybWF0fWApO1xuICAgIHJldHVybiBjb3JlLl9zdHJpbmdGb3JtYXQoWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LCBmb3JtYXQsIHJlZ2V4LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bWJlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdW1iZXJcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2ROdW1iZXIuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZ3QgPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmd0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd0ZSA9ICh2YWx1ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1pbiA9ICh2YWx1ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ID0gKHZhbHVlLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5sdCh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdGUgPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5pbnQgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhpbnQocGFyYW1zKSk7XG4gICAgaW5zdC5zYWZlID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soaW50KHBhcmFtcykpO1xuICAgIGluc3QucG9zaXRpdmUgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MuZ3QoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25uZWdhdGl2ZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5ndGUoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5uZWdhdGl2ZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5sdCgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbnBvc2l0aXZlID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmx0ZSgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm11bHRpcGxlT2YgPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3Quc3RlcCA9ICh2YWx1ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MubXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSk7XG4gICAgLy8gaW5zdC5maW5pdGUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuZmluaXRlKHBhcmFtcykpO1xuICAgIGluc3QuZmluaXRlID0gKCk9Pmluc3Q7XG4gICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0Lm1pblZhbHVlID0gTWF0aC5tYXgoYmFnLm1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBiYWcuZXhjbHVzaXZlTWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpID8/IG51bGw7XG4gICAgaW5zdC5tYXhWYWx1ZSA9IE1hdGgubWluKGJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgYmFnLmV4Y2x1c2l2ZU1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSA/PyBudWxsO1xuICAgIGluc3QuaXNJbnQgPSAoYmFnLmZvcm1hdCA/PyBcIlwiKS5pbmNsdWRlcyhcImludFwiKSB8fCBOdW1iZXIuaXNTYWZlSW50ZWdlcihiYWcubXVsdGlwbGVPZiA/PyAwLjUpO1xuICAgIGluc3QuaXNGaW5pdGUgPSB0cnVlO1xuICAgIGluc3QuZm9ybWF0ID0gYmFnLmZvcm1hdCA/PyBudWxsO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9udW1iZXIoWm9kTnVtYmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdW1iZXJGb3JtYXRcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2ROdW1iZXJGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZE51bWJlci5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ludChab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXQzMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZmxvYXQzMihab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXQ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZmxvYXQ2NChab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW50MzIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ludDMyKFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50MzIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VpbnQzMihab2ROdW1iZXJGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQm9vbGVhbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCb29sZWFuXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kQm9vbGVhbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBib29sZWFuKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9ib29sZWFuKFpvZEJvb2xlYW4sIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmlnSW50ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJpZ0ludFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZEJpZ0ludC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5ndGUgPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ndCA9ICh2YWx1ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MuZ3QodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QuZ3RlID0gKHZhbHVlLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubHQgPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmx0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ZSA9ICh2YWx1ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9ICh2YWx1ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0LnBvc2l0aXZlID0gKHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmd0KEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5uZWdhdGl2ZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5sdChCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3Qubm9ucG9zaXRpdmUgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MubHRlKEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25uZWdhdGl2ZSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5ndGUoQmlnSW50KDApLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm11bHRpcGxlT2YgPSAodmFsdWUsIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5taW5WYWx1ZSA9IGJhZy5taW5pbXVtID8/IG51bGw7XG4gICAgaW5zdC5tYXhWYWx1ZSA9IGJhZy5tYXhpbXVtID8/IG51bGw7XG4gICAgaW5zdC5mb3JtYXQgPSBiYWcuZm9ybWF0ID8/IG51bGw7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBiaWdpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2JpZ2ludChab2RCaWdJbnQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmlnSW50Rm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJpZ0ludEZvcm1hdFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZEJpZ0ludEZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kQmlnSW50LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuLy8gaW50NjRcbmV4cG9ydCBmdW5jdGlvbiBpbnQ2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faW50NjQoWm9kQmlnSW50Rm9ybWF0LCBwYXJhbXMpO1xufVxuLy8gdWludDY0XG5leHBvcnQgZnVuY3Rpb24gdWludDY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91aW50NjQoWm9kQmlnSW50Rm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFN5bWJvbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTeW1ib2xcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RTeW1ib2wuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3ltYm9sKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9zeW1ib2woWm9kU3ltYm9sLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVuZGVmaW5lZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVbmRlZmluZWRcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RVbmRlZmluZWQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5mdW5jdGlvbiBfdW5kZWZpbmVkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91bmRlZmluZWQoWm9kVW5kZWZpbmVkLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX3VuZGVmaW5lZCBhcyB1bmRlZmluZWQgfTtcbmV4cG9ydCBjb25zdCBab2ROdWxsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bGxcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2ROdWxsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZnVuY3Rpb24gX251bGwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX251bGwoWm9kTnVsbCwgcGFyYW1zKTtcbn1cbmV4cG9ydCB7IF9udWxsIGFzIG51bGwgfTtcbmV4cG9ydCBjb25zdCBab2RBbnkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQW55XCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kQW55LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFueSgpIHtcbiAgICByZXR1cm4gY29yZS5fYW55KFpvZEFueSk7XG59XG5leHBvcnQgY29uc3QgWm9kVW5rbm93biA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVbmtub3duXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kVW5rbm93bi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB1bmtub3duKCkge1xuICAgIHJldHVybiBjb3JlLl91bmtub3duKFpvZFVua25vd24pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE5ldmVyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5ldmVyXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kTmV2ZXIuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX25ldmVyKFpvZE5ldmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFZvaWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVm9pZFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZFZvaWQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5mdW5jdGlvbiBfdm9pZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdm9pZChab2RWb2lkLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX3ZvaWQgYXMgdm9pZCB9O1xuZXhwb3J0IGNvbnN0IFpvZERhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGF0ZVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZERhdGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHZhbHVlLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGNvbnN0IGMgPSBpbnN0Ll96b2QuYmFnO1xuICAgIGluc3QubWluRGF0ZSA9IGMubWluaW11bSA/IG5ldyBEYXRlKGMubWluaW11bSkgOiBudWxsO1xuICAgIGluc3QubWF4RGF0ZSA9IGMubWF4aW11bSA/IG5ldyBEYXRlKGMubWF4aW11bSkgOiBudWxsO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGF0ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZGF0ZShab2REYXRlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEFycmF5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEFycmF5XCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kQXJyYXkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZWxlbWVudCA9IGRlZi5lbGVtZW50O1xuICAgIGluc3QubWluID0gKG1pbkxlbmd0aCwgcGFyYW1zKT0+aW5zdC5jaGVjayhjaGVja3MubWluTGVuZ3RoKG1pbkxlbmd0aCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25lbXB0eSA9IChwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoMSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAobWF4TGVuZ3RoLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNoZWNrcy5tYXhMZW5ndGgobWF4TGVuZ3RoLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmxlbmd0aCA9IChsZW4sIHBhcmFtcyk9Pmluc3QuY2hlY2soY2hlY2tzLmxlbmd0aChsZW4sIHBhcmFtcykpO1xuICAgIGluc3QudW53cmFwID0gKCk9Pmluc3QuZWxlbWVudDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5KGVsZW1lbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9hcnJheShab2RBcnJheSwgZWxlbWVudCwgcGFyYW1zKTtcbn1cbi8vIC5rZXlvZlxuZXhwb3J0IGZ1bmN0aW9uIGtleW9mKHNjaGVtYSkge1xuICAgIGNvbnN0IHNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuICAgIHJldHVybiBfZW51bShPYmplY3Qua2V5cyhzaGFwZSkpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE9iamVjdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RPYmplY3RcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RPYmplY3RKSVQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0LCBcInNoYXBlXCIsICgpPT57XG4gICAgICAgIHJldHVybiBkZWYuc2hhcGU7XG4gICAgfSk7XG4gICAgaW5zdC5rZXlvZiA9ICgpPT5fZW51bShPYmplY3Qua2V5cyhpbnN0Ll96b2QuZGVmLnNoYXBlKSk7XG4gICAgaW5zdC5jYXRjaGFsbCA9IChjYXRjaGFsbCk9Pmluc3QuY2xvbmUoe1xuICAgICAgICAgICAgLi4uaW5zdC5fem9kLmRlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBjYXRjaGFsbFxuICAgICAgICB9KTtcbiAgICBpbnN0LnBhc3N0aHJvdWdoID0gKCk9Pmluc3QuY2xvbmUoe1xuICAgICAgICAgICAgLi4uaW5zdC5fem9kLmRlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiB1bmtub3duKClcbiAgICAgICAgfSk7XG4gICAgaW5zdC5sb29zZSA9ICgpPT5pbnN0LmNsb25lKHtcbiAgICAgICAgICAgIC4uLmluc3QuX3pvZC5kZWYsXG4gICAgICAgICAgICBjYXRjaGFsbDogdW5rbm93bigpXG4gICAgICAgIH0pO1xuICAgIGluc3Quc3RyaWN0ID0gKCk9Pmluc3QuY2xvbmUoe1xuICAgICAgICAgICAgLi4uaW5zdC5fem9kLmRlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBuZXZlcigpXG4gICAgICAgIH0pO1xuICAgIGluc3Quc3RyaXAgPSAoKT0+aW5zdC5jbG9uZSh7XG4gICAgICAgICAgICAuLi5pbnN0Ll96b2QuZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICBpbnN0LmV4dGVuZCA9IChpbmNvbWluZyk9PntcbiAgICAgICAgcmV0dXJuIHV0aWwuZXh0ZW5kKGluc3QsIGluY29taW5nKTtcbiAgICB9O1xuICAgIGluc3Quc2FmZUV4dGVuZCA9IChpbmNvbWluZyk9PntcbiAgICAgICAgcmV0dXJuIHV0aWwuc2FmZUV4dGVuZChpbnN0LCBpbmNvbWluZyk7XG4gICAgfTtcbiAgICBpbnN0Lm1lcmdlID0gKG90aGVyKT0+dXRpbC5tZXJnZShpbnN0LCBvdGhlcik7XG4gICAgaW5zdC5waWNrID0gKG1hc2spPT51dGlsLnBpY2soaW5zdCwgbWFzayk7XG4gICAgaW5zdC5vbWl0ID0gKG1hc2spPT51dGlsLm9taXQoaW5zdCwgbWFzayk7XG4gICAgaW5zdC5wYXJ0aWFsID0gKC4uLmFyZ3MpPT51dGlsLnBhcnRpYWwoWm9kT3B0aW9uYWwsIGluc3QsIGFyZ3NbMF0pO1xuICAgIGluc3QucmVxdWlyZWQgPSAoLi4uYXJncyk9PnV0aWwucmVxdWlyZWQoWm9kTm9uT3B0aW9uYWwsIGluc3QsIGFyZ3NbMF0pO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0KHNoYXBlLCBwYXJhbXMpIHtcbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHNoYXBlOiBzaGFwZSA/PyB7fSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3QoZGVmKTtcbn1cbi8vIHN0cmljdE9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIHN0cmljdE9iamVjdChzaGFwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBzaGFwZSxcbiAgICAgICAgY2F0Y2hhbGw6IG5ldmVyKCksXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbi8vIGxvb3NlT2JqZWN0XG5leHBvcnQgZnVuY3Rpb24gbG9vc2VPYmplY3Qoc2hhcGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIGNhdGNoYWxsOiB1bmtub3duKCksXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RVbmlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RVbmlvblwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lm9wdGlvbnMgPSBkZWYub3B0aW9ucztcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uKG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2REaXNjcmltaW5hdGVkVW5pb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCIsIChpbnN0LCBkZWYpPT57XG4gICAgWm9kVW5pb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBkaXNjcmltaW5hdGVkVW5pb24oZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgLy8gY29uc3QgW29wdGlvbnMsIHBhcmFtc10gPSBhcmdzO1xuICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgdHlwZTogXCJ1bmlvblwiLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kSW50ZXJzZWN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEludGVyc2VjdGlvblwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZEludGVyc2VjdGlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIHR5cGU6IFwiaW50ZXJzZWN0aW9uXCIsXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFR1cGxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFR1cGxlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kVHVwbGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QucmVzdCA9IChyZXN0KT0+aW5zdC5jbG9uZSh7XG4gICAgICAgICAgICAuLi5pbnN0Ll96b2QuZGVmLFxuICAgICAgICAgICAgcmVzdDogcmVzdFxuICAgICAgICB9KTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHR1cGxlKGl0ZW1zLCBfcGFyYW1zT3JSZXN0LCBfcGFyYW1zKSB7XG4gICAgY29uc3QgaGFzUmVzdCA9IF9wYXJhbXNPclJlc3QgaW5zdGFuY2VvZiBjb3JlLiRab2RUeXBlO1xuICAgIGNvbnN0IHBhcmFtcyA9IGhhc1Jlc3QgPyBfcGFyYW1zIDogX3BhcmFtc09yUmVzdDtcbiAgICBjb25zdCByZXN0ID0gaGFzUmVzdCA/IF9wYXJhbXNPclJlc3QgOiBudWxsO1xuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICB0eXBlOiBcInR1cGxlXCIsXG4gICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgcmVzdCxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFJlY29yZCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RSZWNvcmRcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RSZWNvcmQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3Qua2V5VHlwZSA9IGRlZi5rZXlUeXBlO1xuICAgIGluc3QudmFsdWVUeXBlID0gZGVmLnZhbHVlVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbi8vIHR5cGUgYWxrc2pmID0gY29yZS5vdXRwdXQ8Y29yZS4kWm9kUmVjb3JkS2V5PjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aWFsUmVjb3JkKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgY29uc3QgayA9IGNvcmUuY2xvbmUoa2V5VHlwZSk7XG4gICAgay5fem9kLnZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGU6IGssXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTWFwID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE1hcFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZE1hcC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5rZXlUeXBlID0gZGVmLmtleVR5cGU7XG4gICAgaW5zdC52YWx1ZVR5cGUgPSBkZWYudmFsdWVUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbWFwKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB0eXBlOiBcIm1hcFwiLFxuICAgICAgICBrZXlUeXBlOiBrZXlUeXBlLFxuICAgICAgICB2YWx1ZVR5cGU6IHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFNldCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTZXRcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RTZXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QubWluID0gKC4uLmFyZ3MpPT5pbnN0LmNoZWNrKGNvcmUuX21pblNpemUoLi4uYXJncykpO1xuICAgIGluc3Qubm9uZW1wdHkgPSAocGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9taW5TaXplKDEsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKC4uLmFyZ3MpPT5pbnN0LmNoZWNrKGNvcmUuX21heFNpemUoLi4uYXJncykpO1xuICAgIGluc3Quc2l6ZSA9ICguLi5hcmdzKT0+aW5zdC5jaGVjayhjb3JlLl9zaXplKC4uLmFyZ3MpKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHNldCh2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RFbnVtID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVudW1cIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RFbnVtLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmVudW0gPSBkZWYuZW50cmllcztcbiAgICBpbnN0Lm9wdGlvbnMgPSBPYmplY3QudmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICBjb25zdCBrZXlzID0gbmV3IFNldChPYmplY3Qua2V5cyhkZWYuZW50cmllcykpO1xuICAgIGluc3QuZXh0cmFjdCA9ICh2YWx1ZXMsIHBhcmFtcyk9PntcbiAgICAgICAgY29uc3QgbmV3RW50cmllcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcyl7XG4gICAgICAgICAgICBpZiAoa2V5cy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbmV3RW50cmllc1t2YWx1ZV0gPSBkZWYuZW50cmllc1t2YWx1ZV07XG4gICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBLZXkgJHt2YWx1ZX0gbm90IGZvdW5kIGluIGVudW1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgICAgICBlbnRyaWVzOiBuZXdFbnRyaWVzXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgaW5zdC5leGNsdWRlID0gKHZhbHVlcywgcGFyYW1zKT0+e1xuICAgICAgICBjb25zdCBuZXdFbnRyaWVzID0ge1xuICAgICAgICAgICAgLi4uZGVmLmVudHJpZXNcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpe1xuICAgICAgICAgICAgaWYgKGtleXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdFbnRyaWVzW3ZhbHVlXTtcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEtleSAke3ZhbHVlfSBub3QgZm91bmQgaW4gZW51bWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgICAgIGVudHJpZXM6IG5ld0VudHJpZXNcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gX2VudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gT2JqZWN0LmZyb21FbnRyaWVzKHZhbHVlcy5tYXAoKHYpPT5bXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgdlxuICAgICAgICBdKSkgOiB2YWx1ZXM7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdHlwZTogXCJlbnVtXCIsXG4gICAgICAgIGVudHJpZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCB7IF9lbnVtIGFzIGVudW0gfTtcbi8qKiBAZGVwcmVjYXRlZCBUaGlzIEFQSSBoYXMgYmVlbiBtZXJnZWQgaW50byBgei5lbnVtKClgLiBVc2UgYHouZW51bSgpYCBpbnN0ZWFkLlxuICpcbiAqIGBgYHRzXG4gKiBlbnVtIENvbG9ycyB7IHJlZCwgZ3JlZW4sIGJsdWUgfVxuICogei5lbnVtKENvbG9ycyk7XG4gKiBgYGBcbiAqLyBleHBvcnQgZnVuY3Rpb24gbmF0aXZlRW51bShlbnRyaWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZExpdGVyYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZExpdGVyYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudmFsdWVzID0gbmV3IFNldChkZWYudmFsdWVzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldCAoKSB7XG4gICAgICAgICAgICBpZiAoZGVmLnZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY2hlbWEgY29udGFpbnMgbXVsdGlwbGUgdmFsaWQgbGl0ZXJhbCB2YWx1ZXMuIFVzZSBgLnZhbHVlc2AgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmLnZhbHVlc1swXTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbGl0ZXJhbCh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdHlwZTogXCJsaXRlcmFsXCIsXG4gICAgICAgIHZhbHVlczogQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIF0sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RGaWxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEZpbGVcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RGaWxlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Lm1pbiA9IChzaXplLCBwYXJhbXMpPT5pbnN0LmNoZWNrKGNvcmUuX21pblNpemUoc2l6ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAoc2l6ZSwgcGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9tYXhTaXplKHNpemUsIHBhcmFtcykpO1xuICAgIGluc3QubWltZSA9ICh0eXBlcywgcGFyYW1zKT0+aW5zdC5jaGVjayhjb3JlLl9taW1lKEFycmF5LmlzQXJyYXkodHlwZXMpID8gdHlwZXMgOiBbXG4gICAgICAgICAgICB0eXBlc1xuICAgICAgICBdLCBwYXJhbXMpKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2ZpbGUoWm9kRmlsZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RUcmFuc2Zvcm0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVHJhbnNmb3JtXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kVHJhbnNmb3JtLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCk9PntcbiAgICAgICAgaWYgKF9jdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RFbmNvZGVFcnJvcihpbnN0LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuYWRkSXNzdWUgPSAoaXNzdWUpPT57XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKGlzc3VlLCBwYXlsb2FkLnZhbHVlLCBkZWYpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIFpvZCAzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mYXRhbCkgX2lzc3VlLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmNvZGUgPz8gKF9pc3N1ZS5jb2RlID0gXCJjdXN0b21cIik7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmlucHV0ID8/IChfaXNzdWUuaW5wdXQgPSBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5zdCA/PyAoX2lzc3VlLmluc3QgPSBpbnN0KTtcbiAgICAgICAgICAgICAgICAvLyBfaXNzdWUuY29udGludWUgPz89IHRydWU7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKF9pc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBkZWYudHJhbnNmb3JtKHBheWxvYWQudmFsdWUsIHBheWxvYWQpO1xuICAgICAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50aGVuKChvdXRwdXQpPT57XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBvdXRwdXQ7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICByZXR1cm4gbmV3IFpvZFRyYW5zZm9ybSh7XG4gICAgICAgIHR5cGU6IFwidHJhbnNmb3JtXCIsXG4gICAgICAgIHRyYW5zZm9ybTogZm5cbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RPcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RPcHRpb25hbFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZE9wdGlvbmFsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpPT5pbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTnVsbGFibGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTnVsbGFibGVcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2ROdWxsYWJsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKT0+aW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBudWxsYWJsZShpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgdHlwZTogXCJudWxsYWJsZVwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZVxuICAgIH0pO1xufVxuLy8gbnVsbGlzaFxuZXhwb3J0IGZ1bmN0aW9uIG51bGxpc2goaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG9wdGlvbmFsKG51bGxhYmxlKGlubmVyVHlwZSkpO1xufVxuZXhwb3J0IGNvbnN0IFpvZERlZmF1bHQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGVmYXVsdFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZERlZmF1bHQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCk9Pmluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xuICAgIGluc3QucmVtb3ZlRGVmYXVsdCA9IGluc3QudW53cmFwO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gX2RlZmF1bHQoaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICB0eXBlOiBcImRlZmF1bHRcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIGdldCBkZWZhdWx0VmFsdWUgKCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWx1ZSgpIDogdXRpbC5zaGFsbG93Q2xvbmUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFByZWZhdWx0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFByZWZhdWx0XCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kUHJlZmF1bHQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCk9Pmluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcHJlZmF1bHQoaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFByZWZhdWx0KHtcbiAgICAgICAgdHlwZTogXCJwcmVmYXVsdFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdFZhbHVlKCkgOiB1dGlsLnNoYWxsb3dDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTm9uT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTm9uT3B0aW9uYWxcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2ROb25PcHRpb25hbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKT0+aW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBub25vcHRpb25hbChpbm5lclR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kTm9uT3B0aW9uYWwoe1xuICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kU3VjY2VzcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTdWNjZXNzXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kU3VjY2Vzcy5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKT0+aW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdWNjZXNzKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kU3VjY2Vzcyh7XG4gICAgICAgIHR5cGU6IFwic3VjY2Vzc1wiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZENhdGNoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENhdGNoXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kQ2F0Y2guaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QudW53cmFwID0gKCk9Pmluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xuICAgIGluc3QucmVtb3ZlQ2F0Y2ggPSBpbnN0LnVud3JhcDtcbn0pO1xuZnVuY3Rpb24gX2NhdGNoKGlubmVyVHlwZSwgY2F0Y2hWYWx1ZSkge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICB0eXBlOiBcImNhdGNoXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgY2F0Y2hWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gY2F0Y2hWYWx1ZSA6ICgpPT5jYXRjaFZhbHVlXG4gICAgfSk7XG59XG5leHBvcnQgeyBfY2F0Y2ggYXMgY2F0Y2ggfTtcbmV4cG9ydCBjb25zdCBab2ROYU4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTmFOXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kTmFOLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5hbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmFuKFpvZE5hTiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RQaXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFBpcGVcIiwgKGluc3QsIGRlZik9PntcbiAgICBjb3JlLiRab2RQaXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LmluID0gZGVmLmluO1xuICAgIGluc3Qub3V0ID0gZGVmLm91dDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoaW5fLCBvdXQpIHtcbiAgICByZXR1cm4gbmV3IFpvZFBpcGUoe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IGluXyxcbiAgICAgICAgb3V0OiBvdXRcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RDb2RlYyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDb2RlY1wiLCAoaW5zdCwgZGVmKT0+e1xuICAgIFpvZFBpcGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENvZGVjLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGNvZGVjKGluXywgb3V0LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZENvZGVjKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBpbl8sXG4gICAgICAgIG91dDogb3V0LFxuICAgICAgICB0cmFuc2Zvcm06IHBhcmFtcy5kZWNvZGUsXG4gICAgICAgIHJldmVyc2VUcmFuc2Zvcm06IHBhcmFtcy5lbmNvZGVcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RSZWFkb25seSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RSZWFkb25seVwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZFJlYWRvbmx5LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpPT5pbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRvbmx5KGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICB0eXBlOiBcInJlYWRvbmx5XCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kVGVtcGxhdGVMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFRlbXBsYXRlTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKT0+e1xuICAgIGNvcmUuJFpvZFRlbXBsYXRlTGl0ZXJhbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUxpdGVyYWwocGFydHMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kVGVtcGxhdGVMaXRlcmFsKHtcbiAgICAgICAgdHlwZTogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgIHBhcnRzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTGF6eSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RMYXp5XCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kTGF6eS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKT0+aW5zdC5fem9kLmRlZi5nZXR0ZXIoKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGxhenkoZ2V0dGVyKSB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgdHlwZTogXCJsYXp5XCIsXG4gICAgICAgIGdldHRlcjogZ2V0dGVyXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUHJvbWlzZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RQcm9taXNlXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kUHJvbWlzZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC51bndyYXAgPSAoKT0+aW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IFwicHJvbWlzZVwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZVxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEZ1bmN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEZ1bmN0aW9uXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kRnVuY3Rpb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gX2Z1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIGlucHV0OiBBcnJheS5pc0FycmF5KHBhcmFtcz8uaW5wdXQpID8gdHVwbGUocGFyYW1zPy5pbnB1dCkgOiBwYXJhbXM/LmlucHV0ID8/IGFycmF5KHVua25vd24oKSksXG4gICAgICAgIG91dHB1dDogcGFyYW1zPy5vdXRwdXQgPz8gdW5rbm93bigpXG4gICAgfSk7XG59XG5leHBvcnQgeyBfZnVuY3Rpb24gYXMgZnVuY3Rpb24gfTtcbmV4cG9ydCBjb25zdCBab2RDdXN0b20gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ3VzdG9tXCIsIChpbnN0LCBkZWYpPT57XG4gICAgY29yZS4kWm9kQ3VzdG9tLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuLy8gY3VzdG9tIGNoZWNrc1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrKGZuKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY29yZS4kWm9kQ2hlY2soe1xuICAgICAgICBjaGVjazogXCJjdXN0b21cIlxuICAgIH0pO1xuICAgIGNoLl96b2QuY2hlY2sgPSBmbjtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGZuLCBfcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1c3RvbShab2RDdXN0b20sIGZuID8/ICgoKT0+dHJ1ZSksIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZmluZShmbiwgX3BhcmFtcyA9IHt9KSB7XG4gICAgcmV0dXJuIGNvcmUuX3JlZmluZShab2RDdXN0b20sIGZuLCBfcGFyYW1zKTtcbn1cbi8vIHN1cGVyUmVmaW5lXG5leHBvcnQgZnVuY3Rpb24gc3VwZXJSZWZpbmUoZm4pIHtcbiAgICByZXR1cm4gY29yZS5fc3VwZXJSZWZpbmUoZm4pO1xufVxuZnVuY3Rpb24gX2luc3RhbmNlb2YoY2xzLCBwYXJhbXMgPSB7XG4gICAgZXJyb3I6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gXG59KSB7XG4gICAgY29uc3QgaW5zdCA9IG5ldyBab2RDdXN0b20oe1xuICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgZm46IChkYXRhKT0+ZGF0YSBpbnN0YW5jZW9mIGNscyxcbiAgICAgICAgYWJvcnQ6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuYmFnLkNsYXNzID0gY2xzO1xuICAgIHJldHVybiBpbnN0O1xufVxuZXhwb3J0IHsgX2luc3RhbmNlb2YgYXMgaW5zdGFuY2VvZiB9O1xuLy8gc3RyaW5nYm9vbFxuZXhwb3J0IGNvbnN0IHN0cmluZ2Jvb2wgPSAoLi4uYXJncyk9PmNvcmUuX3N0cmluZ2Jvb2woe1xuICAgICAgICBDb2RlYzogWm9kQ29kZWMsXG4gICAgICAgIEJvb2xlYW46IFpvZEJvb2xlYW4sXG4gICAgICAgIFN0cmluZzogWm9kU3RyaW5nXG4gICAgfSwgLi4uYXJncyk7XG5leHBvcnQgZnVuY3Rpb24ganNvbihwYXJhbXMpIHtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gbGF6eSgoKT0+e1xuICAgICAgICByZXR1cm4gdW5pb24oW1xuICAgICAgICAgICAgc3RyaW5nKHBhcmFtcyksXG4gICAgICAgICAgICBudW1iZXIoKSxcbiAgICAgICAgICAgIGJvb2xlYW4oKSxcbiAgICAgICAgICAgIF9udWxsKCksXG4gICAgICAgICAgICBhcnJheShqc29uU2NoZW1hKSxcbiAgICAgICAgICAgIHJlY29yZChzdHJpbmcoKSwganNvblNjaGVtYSlcbiAgICAgICAgXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG4vLyBwcmVwcm9jZXNzXG4vLyAvKiogQGRlcHJlY2F0ZWQgVXNlIGB6LnBpcGUoKWAgYW5kIGB6LnRyYW5zZm9ybSgpYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3MoZm4sIHNjaGVtYSkge1xuICAgIHJldHVybiBwaXBlKHRyYW5zZm9ybShmbiksIHNjaGVtYSk7XG59XG4iLCAiLy8gWm9kIDMgY29tcGF0IGxheWVyXG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIHRoZSByYXcgc3RyaW5nIGxpdGVyYWwgY29kZXMgaW5zdGVhZCwgZS5nLiBcImludmFsaWRfdHlwZVwiLiAqLyBleHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0ge1xuICAgIGludmFsaWRfdHlwZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICB0b29fYmlnOiBcInRvb19iaWdcIixcbiAgICB0b29fc21hbGw6IFwidG9vX3NtYWxsXCIsXG4gICAgaW52YWxpZF9mb3JtYXQ6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICBub3RfbXVsdGlwbGVfb2Y6IFwibm90X211bHRpcGxlX29mXCIsXG4gICAgdW5yZWNvZ25pemVkX2tleXM6IFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBpbnZhbGlkX3VuaW9uOiBcImludmFsaWRfdW5pb25cIixcbiAgICBpbnZhbGlkX2tleTogXCJpbnZhbGlkX2tleVwiLFxuICAgIGludmFsaWRfZWxlbWVudDogXCJpbnZhbGlkX2VsZW1lbnRcIixcbiAgICBpbnZhbGlkX3ZhbHVlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICBjdXN0b206IFwiY3VzdG9tXCJcbn07XG5leHBvcnQgeyAkYnJhbmQsIGNvbmZpZyB9IGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6LmNvbmZpZyhwYXJhbXMpYCBpbnN0ZWFkLiAqLyBleHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgY29yZS5jb25maWcoe1xuICAgICAgICBjdXN0b21FcnJvcjogbWFwXG4gICAgfSk7XG59XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6LmNvbmZpZygpYCBpbnN0ZWFkLiAqLyBleHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNYXAoKSB7XG4gICAgcmV0dXJuIGNvcmUuY29uZmlnKCkuY3VzdG9tRXJyb3I7XG59XG4vKiogQGRlcHJlY2F0ZWQgRG8gbm90IHVzZS4gU3R1YiBkZWZpbml0aW9uLCBvbmx5IGluY2x1ZGVkIGZvciB6b2QtdG8tanNvbi1zY2hlbWEgY29tcGF0aWJpbGl0eS4gKi8gZXhwb3J0IHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24oWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7fSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuIiwgImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYXMgZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZyhwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZFN0cmluZyhzY2hlbWFzLlpvZFN0cmluZywgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWROdW1iZXIoc2NoZW1hcy5ab2ROdW1iZXIsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYm9vbGVhbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZEJvb2xlYW4oc2NoZW1hcy5ab2RCb29sZWFuLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJpZ2ludChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZEJpZ2ludChzY2hlbWFzLlpvZEJpZ0ludCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkYXRlKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkRGF0ZShzY2hlbWFzLlpvZERhdGUsIHBhcmFtcyk7XG59XG4iLCAiaW1wb3J0ICogYXMgeiBmcm9tIFwiLi9leHRlcm5hbC5qc1wiO1xuZXhwb3J0IHsgeiB9O1xuZXhwb3J0ICogZnJvbSBcIi4vZXh0ZXJuYWwuanNcIjtcbmV4cG9ydCBkZWZhdWx0IHo7XG4iLCAiaW1wb3J0IHo0IGZyb20gXCIuL2NsYXNzaWMvaW5kZXguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NsYXNzaWMvaW5kZXguanNcIjtcbmV4cG9ydCBkZWZhdWx0IHo0O1xuIiwgImV4cG9ydCB2YXIgdXRpbDtcbihmdW5jdGlvbih1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKT0+e307XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykge31cbiAgICB1dGlsLmFzc2VydElzID0gYXNzZXJ0SXM7XG4gICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICAgIHV0aWwuYXNzZXJ0TmV2ZXIgPSBhc3NlcnROZXZlcjtcbiAgICB1dGlsLmFycmF5VG9FbnVtID0gKGl0ZW1zKT0+e1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKXtcbiAgICAgICAgICAgIG9ialtpdGVtXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzID0gKG9iaik9PntcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKT0+dHlwZW9mIG9ialtvYmpba11dICE9PSBcIm51bWJlclwiKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHZhbGlkS2V5cyl7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKT0+e1xuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgID8gKG9iaik9Pk9iamVjdC5rZXlzKG9iaikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgIDogKG9iamVjdCk9PntcbiAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICBmb3IoY29uc3Qga2V5IGluIG9iamVjdCl7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH07XG4gICAgdXRpbC5maW5kID0gKGFyciwgY2hlY2tlcik9PntcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycil7XG4gICAgICAgICAgICBpZiAoY2hlY2tlcihpdGVtKSkgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHV0aWwuaXNJbnRlZ2VyID0gdHlwZW9mIE51bWJlci5pc0ludGVnZXIgPT09IFwiZnVuY3Rpb25cIiA/ICh2YWwpPT5OdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgIDogKHZhbCk9PnR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbCkgJiYgTWF0aC5mbG9vcih2YWwpID09PSB2YWw7XG4gICAgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCIgfCBcIikge1xuICAgICAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpPT50eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKT0+e1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKHV0aWwgfHwgKHV0aWwgPSB7fSkpO1xuZXhwb3J0IHZhciBvYmplY3RVdGlsO1xuKGZ1bmN0aW9uKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpPT57XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5maXJzdCxcbiAgICAgICAgICAgIC4uLnNlY29uZFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiXG5dKTtcbmV4cG9ydCBjb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpPT57XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCh0KXtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zdHJpbmc7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBab2RQYXJzZWRUeXBlLm5hbiA6IFpvZFBhcnNlZFR5cGUubnVtYmVyO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYmlnaW50O1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50aGVuICYmIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJiBkYXRhLmNhdGNoICYmIHR5cGVvZiBkYXRhLmNhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5wcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIERhdGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5kYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5rbm93bjtcbiAgICB9XG59O1xuIiwgImltcG9ydCB7IHV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBab2RJc3N1ZUNvZGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcImludmFsaWRfdHlwZVwiLFxuICAgIFwiaW52YWxpZF9saXRlcmFsXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImludmFsaWRfdW5pb25cIixcbiAgICBcImludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvclwiLFxuICAgIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gICAgXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgIFwiaW52YWxpZF9hcmd1bWVudHNcIixcbiAgICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgICBcImludmFsaWRfZGF0ZVwiLFxuICAgIFwiaW52YWxpZF9zdHJpbmdcIixcbiAgICBcInRvb19zbWFsbFwiLFxuICAgIFwidG9vX2JpZ1wiLFxuICAgIFwiaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcIixcbiAgICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgIFwibm90X2Zpbml0ZVwiXG5dKTtcbmV4cG9ydCBjb25zdCBxdW90ZWxlc3NKc29uID0gKG9iaik9PntcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlzc3Vlcyl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gW107XG4gICAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKT0+e1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5pc3N1ZXMsXG4gICAgICAgICAgICAgICAgc3ViXG4gICAgICAgICAgICBdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pPT57XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAuLi5zdWJzXG4gICAgICAgICAgICBdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19wcm90b19fID0gYWN0dWFsUHJvdG87XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fCBmdW5jdGlvbihpc3N1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge1xuICAgICAgICAgICAgX2Vycm9yczogW11cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKT0+e1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpe1xuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZShpIDwgaXNzdWUucGF0aC5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvcnM6IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zdCBlcnJvckFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZXJyb3JBcnJheS5fZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvcnM6IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSk9Pmlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcyl7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWwgPSBzdWIucGF0aFswXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXSA9IGZpZWxkRXJyb3JzW2ZpcnN0RWxdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtRXJyb3JzLFxuICAgICAgICAgICAgZmllbGRFcnJvcnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IGZvcm1FcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXR0ZW4oKTtcbiAgICB9XG59XG5ab2RFcnJvci5jcmVhdGUgPSAoaXNzdWVzKT0+e1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGlzc3Vlcyk7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbiIsICJpbXBvcnQgeyBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUgfSBmcm9tIFwiLi4vaGVscGVycy91dGlsLmpzXCI7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCk9PntcbiAgICBsZXQgbWVzc2FnZTtcbiAgICBzd2l0Y2goaXNzdWUuY29kZSl7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEV4cGVjdGVkICR7aXNzdWUuZXhwZWN0ZWR9LCByZWNlaXZlZCAke2lzc3VlLnJlY2VpdmVkfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBVbnJlY29nbml6ZWQga2V5KHMpIGluIG9iamVjdDogJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlLiBFeHBlY3RlZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBlbnVtIHZhbHVlLiBFeHBlY3RlZCAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX0sIHJlY2VpdmVkICcke2lzc3VlLnJlY2VpdmVkfSdgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIGFyZ3VtZW50c2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiByZXR1cm4gdHlwZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRhdGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiaW5jbHVkZXNcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBpbmNsdWRlIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmluY2x1ZGVzfVwiYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgb25lIG9yIG1vcmUgcG9zaXRpb25zIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2lzc3VlLnZhbGlkYXRpb24ucG9zaXRpb259YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZS52YWxpZGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gXCJleGFjdGx5XCIgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbGVhc3RgIDogYG92ZXJgfSAke2lzc3VlLm1pbmltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKSBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIikgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKSBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke25ldyBEYXRlKE51bWJlcihpc3N1ZS5taW5pbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2UgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19iaWc6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKSBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKSBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGB1bmRlcmB9ICR7aXNzdWUubWF4aW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIikgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIikgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBzbWFsbGVyIHRoYW4gb3IgZXF1YWwgdG9gIDogYHNtYWxsZXIgdGhhbmB9ICR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1heGltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZSBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlczpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUubXVsdGlwbGVPZn1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VcbiAgICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGVycm9yTWFwO1xuIiwgImltcG9ydCBkZWZhdWx0RXJyb3JNYXAgZnJvbSBcIi4vbG9jYWxlcy9lbi5qc1wiO1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBkZWZhdWx0RXJyb3JNYXA7XG5leHBvcnQgeyBkZWZhdWx0RXJyb3JNYXAgfTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuIiwgImltcG9ydCB7IGdldEVycm9yTWFwIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuZXhwb3J0IGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpPT57XG4gICAgY29uc3QgeyBkYXRhLCBwYXRoLCBlcnJvck1hcHMsIGlzc3VlRGF0YSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gW1xuICAgICAgICAuLi5wYXRoLFxuICAgICAgICAuLi5pc3N1ZURhdGEucGF0aCB8fCBbXVxuICAgIF07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBjb25zdCBtYXBzID0gZXJyb3JNYXBzLmZpbHRlcigobSk9PiEhbSkuc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcyl7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IG1hcChmdWxsSXNzdWUsIHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgICB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBFTVBUWV9QQVRIID0gW107XG5leHBvcnQgZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gICAgY29uc3QgaXNzdWUgPSBtYWtlSXNzdWUoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAsXG4gICAgICAgICAgICBvdmVycmlkZU1hcCA9PT0gZGVmYXVsdEVycm9yTWFwID8gdW5kZWZpbmVkIDogZGVmYXVsdEVycm9yTWFwXG4gICAgICAgIF0uZmlsdGVyKCh4KT0+ISF4KVxuICAgIH0pO1xuICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goaXNzdWUpO1xufVxuZXhwb3J0IGNsYXNzIFBhcnNlU3RhdHVzIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIikgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIikgdGhpcy52YWx1ZSA9IFwiYWJvcnRlZFwiO1xuICAgIH1cbiAgICBzdGF0aWMgbWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpIHtcbiAgICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgcmVzdWx0cyl7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogYXJyYXlWYWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgbWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpe1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycyl7XG4gICAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IHBhaXI7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIikgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBpZiAodmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgICAgIGZpbmFsT2JqZWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogZmluYWxPYmplY3RcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSU5WQUxJRCA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCJcbn0pO1xuZXhwb3J0IGNvbnN0IERJUlRZID0gKHZhbHVlKT0+KHtcbiAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgIHZhbHVlXG4gICAgfSk7XG5leHBvcnQgY29uc3QgT0sgPSAodmFsdWUpPT4oe1xuICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgdmFsdWVcbiAgICB9KTtcbmV4cG9ydCBjb25zdCBpc0Fib3J0ZWQgPSAoeCk9Pnguc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbmV4cG9ydCBjb25zdCBpc0RpcnR5ID0gKHgpPT54LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuZXhwb3J0IGNvbnN0IGlzVmFsaWQgPSAoeCk9Pnguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnQgY29uc3QgaXNBc3luYyA9ICh4KT0+dHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgeCBpbnN0YW5jZW9mIFByb21pc2U7XG4iLCAiZXhwb3J0IHZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24oZXJyb3JVdGlsKSB7XG4gICAgZXJyb3JVdGlsLmVyclRvT2JqID0gKG1lc3NhZ2UpPT50eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHtcbiAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpPT50eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlPy5tZXNzYWdlO1xufSkoZXJyb3JVdGlsIHx8IChlcnJvclV0aWwgPSB7fSkpO1xuIiwgImltcG9ydCB7IFpvZEVycm9yLCBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi9ab2RFcnJvci5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEVycm9yTWFwLCBnZXRFcnJvck1hcCB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgZXJyb3JVdGlsIH0gZnJvbSBcIi4vaGVscGVycy9lcnJvclV0aWwuanNcIjtcbmltcG9ydCB7IERJUlRZLCBJTlZBTElELCBPSywgUGFyc2VTdGF0dXMsIGFkZElzc3VlVG9Db250ZXh0LCBpc0Fib3J0ZWQsIGlzQXN5bmMsIGlzRGlydHksIGlzVmFsaWQsIG1ha2VJc3N1ZSB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSl7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGggPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWRQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgdGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGF0aDtcbiAgICB9XG59XG5jb25zdCBoYW5kbGVSZXN1bHQgPSAoY3R4LCByZXN1bHQpPT57XG4gICAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdC52YWx1ZVxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IgKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcykgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKSByZXR1cm4ge1xuICAgICAgICBlcnJvck1hcDogZXJyb3JNYXAsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgfTtcbiAgICBjb25zdCBjdXN0b21NYXAgPSAoaXNzLCBjdHgpPT57XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSA/PyBjdHguZGVmYXVsdEVycm9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSA/PyByZXF1aXJlZF9lcnJvciA/PyBjdHguZGVmYXVsdEVycm9yXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIikgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3JcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3JcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yTWFwOiBjdXN0b21NYXAsXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgfTtcbn1cbmV4cG9ydCBjbGFzcyBab2RUeXBlIHtcbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIF9nZXRUeXBlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gY3R4IHx8IHtcbiAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IG5ldyBQYXJzZVN0YXR1cygpLFxuICAgICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiBwYXJhbXM/LmFzeW5jID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IHBhcmFtcz8ucGF0aCB8fCBbXSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShkYXRhKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdCkgPyB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnI/Lm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiZW5jb3VudGVyZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KS50aGVuKChyZXN1bHQpPT5pc1ZhbGlkKHJlc3VsdCkgPyB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzXG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWF5YmVBc3luY1Jlc3VsdCA9IHRoaXMuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoaXNBc3luYyhtYXliZUFzeW5jUmVzdWx0KSA/IG1heWJlQXN5bmNSZXN1bHQgOiBQcm9taXNlLnJlc29sdmUobWF5YmVBc3luY1Jlc3VsdCkpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICB9XG4gICAgcmVmaW5lKGNoZWNrLCBtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGdldElzc3VlUHJvcGVydGllcyA9ICh2YWwpPT57XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpPT57XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKT0+Y3R4LmFkZElzc3VlKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpPT57XG4gICAgICAgICAgICBpZiAoIWNoZWNrKHZhbCkpIHtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUodHlwZW9mIHJlZmluZW1lbnREYXRhID09PSBcImZ1bmN0aW9uXCIgPyByZWZpbmVtZW50RGF0YSh2YWwsIGN0eCkgOiByZWZpbmVtZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVmaW5lbWVudFwiLFxuICAgICAgICAgICAgICAgIHJlZmluZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQocmVmaW5lbWVudCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGRlZil7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqLyB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpPT50aGlzW1wifnZhbGlkYXRlXCJdKGRhdGEpXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgb3B0aW9uXG4gICAgICAgIF0sIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIGFuZChpbmNvbWluZykge1xuICAgICAgICByZXR1cm4gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSh0aGlzLCBpbmNvbWluZywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKT0+ZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZilcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGRlZikge1xuICAgICAgICBjb25zdCBjYXRjaFZhbHVlRnVuYyA9IHR5cGVvZiBkZWYgPT09IFwiZnVuY3Rpb25cIiA/IGRlZiA6ICgpPT5kZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZXNjcmliZShkZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBUaGlzKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUmXHUyMDE5KisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfSBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX0oXFxcXC5cXFxcZCspP2A7XG4gICAgfVxuICAgIGNvbnN0IHNlY29uZHNRdWFudGlmaWVyID0gYXJncy5wcmVjaXNpb24gPyBcIitcIiA6IFwiP1wiOyAvLyByZXF1aXJlIHNlY29uZHMgaWYgcHJlY2lzaW9uIGlzIG5vbnplcm9cbiAgICByZXR1cm4gYChbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKDoke3NlY29uZHNSZWdleFNvdXJjZX0pJHtzZWNvbmRzUXVhbnRpZmllcn1gO1xufVxuZnVuY3Rpb24gdGltZVJlZ2V4KGFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfSRgKTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzE0MzIzMVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lUmVnZXgoYXJncykge1xuICAgIGxldCByZWdleCA9IGAke2RhdGVSZWdleFNvdXJjZX1UJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9YDtcbiAgICBjb25zdCBvcHRzID0gW107XG4gICAgb3B0cy5wdXNoKGFyZ3MubG9jYWwgPyBgWj9gIDogYFpgKTtcbiAgICBpZiAoYXJncy5vZmZzZXQpIG9wdHMucHVzaChgKFsrLV1cXFxcZHsyfTo/XFxcXGR7Mn0pYCk7XG4gICAgcmVnZXggPSBgJHtyZWdleH0oJHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtyZWdleH0kYCk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSVAoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NFJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NlJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1ZhbGlkSldUKGp3dCwgYWxnKSB7XG4gICAgaWYgKCFqd3RSZWdleC50ZXN0KGp3dCkpIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBbaGVhZGVyXSA9IGp3dC5zcGxpdChcIi5cIik7XG4gICAgICAgIGlmICghaGVhZGVyKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXIucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIikucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoNCAtIGhlYWRlci5sZW5ndGggJSA0KSAlIDQsIFwiPVwiKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKGJhc2U2NCkpO1xuICAgICAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBkZWNvZGVkICYmIGRlY29kZWQ/LnR5cCAhPT0gXCJKV1RcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRlY29kZWQuYWxnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGcgJiYgZGVjb2RlZC5hbGcgIT09IGFsZykgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3Mpe1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBjaGVjay5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBjaGVjay5yZWdleC50ZXN0KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0c1dpdGg6IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRzV2l0aDogY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZXRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkdXJhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkdXJhdGlvblJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImNpZHJcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZENpZHIoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjaWRyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogaW5wdXQuZGF0YVxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSk9PnJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIGNoZWNrXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInVybFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbW9qaShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImVtb2ppXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ1dWlkXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm5hbm9pZFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjdWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiY3VpZFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ1bGlkXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJhc2U2NChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgand0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiand0XCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaXBcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2lkcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImNpZHJcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IGZhbHNlLFxuICAgICAgICAgICAgbG9jYWw6IG9wdGlvbnM/LmxvY2FsID8/IGZhbHNlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHVyYXRpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnM/LnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi8gbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwidHJpbVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBcInRvTG93ZXJDYXNlXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwidG9VcHBlckNhc2VcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKT0+Y2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpPT5jaC5raW5kID09PSBcImR1cmF0aW9uXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpPT5jaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKT0+Y2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpPT5jaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKT0+Y2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ0lEUigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKT0+Y2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NHVybCgpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCk9PmNoLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKXtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbikgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzk2NjQ4NC93aHktZG9lcy1tb2R1bHVzLW9wZXJhdG9yLXJldHVybi1mcmFjdGlvbmFsLW51bWJlci1pbi1qYXZhc2NyaXB0LzMxNzExMDM0IzMxNzExMDM0XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwRGVjQ291bnQgPSAoc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IE51bWJlci5wYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBOdW1iZXIucGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuIHZhbEludCAlIHN0ZXBJbnQgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBjbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3Mpe1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IGlucHV0LmRhdGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICBjaGVja1xuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKXtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbikgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKXtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heCkgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKT0+Y2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpO1xuICAgIH1cbiAgICBnZXQgaXNGaW5pdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKXtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heCkgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShtaW4pICYmIE51bWJlci5pc0Zpbml0ZShtYXgpO1xuICAgIH1cbn1cblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCaWdJbnQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IGlucHV0LmRhdGFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldEludmFsaWRJbnB1dChpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQm9vbGVhbi5jcmVhdGUgPSAocGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICBjaGVja1xuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcyl7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmRlZmluZWQuY3JlYXRlID0gKHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZE51bGwuY3JlYXRlID0gKHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlcyBvZiBvdGhlciBjbGFzc2VzIGZyb20gZXh0ZW5kaW5nIFpvZEFueS4gdGhpcyBjYXVzZXMgaXNzdWVzIHdpdGggY2F0Y2hhbGwgaW4gWm9kT2JqZWN0LlxuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gcmVxdWlyZWRcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbn1cblpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYuZXhhY3RMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiB0b29CaWcgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAuLi5jdHguZGF0YVxuICAgICAgICAgICAgXS5tYXAoKGl0ZW0sIGkpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXG4gICAgICAgICAgICAuLi5jdHguZGF0YVxuICAgICAgICBdLm1hcCgoaXRlbSwgaSk9PntcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG1pbkxlbmd0aCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGV4YWN0TGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICAgIG1heExlbmd0aDogbnVsbCxcbiAgICAgICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpe1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKT0+bmV3U2hhcGVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pPT5kZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKSByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbC5vYmplY3RLZXlzKHNoYXBlKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0ge1xuICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICBrZXlzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJiB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gY3R4LmRhdGEpe1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKXtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpe1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdHguZGF0YVtrZXldXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikge30gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBab2RPYmplY3QgZXJyb3I6IGludmFsaWQgdW5rbm93bktleXMgdmFsdWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBydW4gY2F0Y2hhbGwgdmFsaWRhdGlvblxuICAgICAgICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpPT57XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1BhaXJzO1xuICAgICAgICAgICAgfSkudGhlbigoc3luY1BhaXJzKT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIH1cbiAgICBzdHJpY3QobWVzc2FnZSkge1xuICAgICAgICBlcnJvclV0aWwuZXJyVG9PYmo7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICAgICAgLi4ubWVzc2FnZSAhPT0gdW5kZWZpbmVkID8ge1xuICAgICAgICAgICAgICAgIGVycm9yTWFwOiAoaXNzdWUsIGN0eCk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gdGhpcy5fZGVmLmVycm9yTWFwPy4oaXNzdWUsIGN0eCkubWVzc2FnZSA/PyBjdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKSByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UgPz8gZGVmYXVsdEVycm9yXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IDoge31cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYXNzdGhyb3VnaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwicGFzc3Rocm91Z2hcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAgIC8vICAgPERlZiBleHRlbmRzIFpvZE9iamVjdERlZj4oZGVmOiBEZWYpID0+XG4gICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgIC8vICAgKTogWm9kT2JqZWN0PFxuICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICAgIERlZltcImNhdGNoYWxsXCJdXG4gICAgLy8gICA+ID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICAgIC4uLmRlZixcbiAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAgIC8vICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgIC8vICAgICAgIH0pLFxuICAgIC8vICAgICB9KSBhcyBhbnk7XG4gICAgLy8gICB9O1xuICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpPT4oe1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uYXVnbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqLyBtZXJnZShtZXJnaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgICAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAgICAgICBzaGFwZTogKCk9Pih7XG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3RcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoe1xuICAgICAgICAgICAgW2tleV06IHNjaGVtYVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAgIC8vIFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyA+IHtcbiAgICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgLy8gICAvLyApO1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIGNhdGNoYWxsKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBpbmRleFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyhtYXNrKSl7XG4gICAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpPT5zaGFwZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb21pdChtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSl7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpPT5zaGFwZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi8gZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSl7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKT0+bmV3U2hhcGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKXtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZShuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKXtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKT0+bmV3U2hhcGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGtleW9mKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cblpvZE9iamVjdC5jcmVhdGUgPSAoc2hhcGUsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKT0+c2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKT0+c2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBmaXJzdCBpc3N1ZS1mcmVlIHZhbGlkYXRpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKXtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKXtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCk9Pm5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbik9PntcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHhcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHg6IGNoaWxkQ3R4XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXMucHVzaChjaGlsZEN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlydHkucmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSBpc3N1ZXMubWFwKChpc3N1ZXMpPT5uZXcgWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9yc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbn1cblpvZFVuaW9uLmNyZWF0ZSA9ICh0eXBlcywgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSk9PntcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdHlwZS52YWx1ZVxuICAgICAgICBdO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyh0eXBlLmVudW0pO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBudWxsXG4gICAgICAgIF07XG4gICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSlcbiAgICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSlcbiAgICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZENhdGNoKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuZXhwb3J0IGNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW1xuICAgICAgICAgICAgICAgICAgICBkaXNjcmltaW5hdG9yXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqLyBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSB2YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucyl7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgZGlzY3JpbWluYXRvciB2YWx1ZSBmb3Iga2V5IFxcYCR7ZGlzY3JpbWluYXRvcn1cXGAgY291bGQgbm90IGJlIGV4dHJhY3RlZCBmcm9tIGFsbCBzY2hlbWEgb3B0aW9uc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkaXNjcmltaW5hdG9yVmFsdWVzKXtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSBnZXRQYXJzZWRUeXBlKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gZ2V0UGFyc2VkVHlwZShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiBhXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKGEpLmZpbHRlcigoa2V5KT0+YktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHtcbiAgICAgICAgICAgIC4uLmEsXG4gICAgICAgICAgICAuLi5iXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpe1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiBuZXdPYmpcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvcihsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKXtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IG5ld0FycmF5XG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IGFcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpPT57XG4gICAgICAgICAgICBpZiAoaXNBYm9ydGVkKHBhcnNlZExlZnQpIHx8IGlzQWJvcnRlZChwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGlydHkocGFyc2VkTGVmdCkgfHwgaXNEaXJ0eShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1lcmdlZC5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pPT5oYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbi8vIHR5cGUgWm9kVHVwbGVJdGVtcyA9IFtab2RUeXBlQW55LCAuLi5ab2RUeXBlQW55W11dO1xuZXhwb3J0IGNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW1xuICAgICAgICAgICAgLi4uY3R4LmRhdGFcbiAgICAgICAgXS5tYXAoKGl0ZW0sIGl0ZW1JbmRleCk9PntcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSkuZmlsdGVyKCh4KT0+ISF4KTsgLy8gZmlsdGVyIG51bGxzXG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXN0XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpPT57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgaXRlbXM6IHNjaGVtYXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICAgIHJlc3Q6IG51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RSZWNvcmQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IoY29uc3Qga2V5IGluIGN0eC5kYXRhKXtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXG4gICAgICAgICAgICAuLi5jdHguZGF0YS5lbnRyaWVzKClcbiAgICAgICAgXS5tYXAoKFtrZXksIHZhbHVlXSwgaW5kZXgpPT57XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIFwia2V5XCJcbiAgICAgICAgICAgICAgICBdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW1xuICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiXG4gICAgICAgICAgICAgICAgXSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZpbmFsTWFwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmluYWxNYXBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKXtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiZGlydHlcIikgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VkU2V0LmFkZChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcnNlZFNldFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtcbiAgICAgICAgICAgIC4uLmN0eC5kYXRhLnZhbHVlcygpXG4gICAgICAgIF0ubWFwKChpdGVtLCBpKT0+dmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzKT0+ZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZToge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBtaW5TaXplLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZToge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXhTaXplLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2l6ZShzaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbihzaXplLCBtZXNzYWdlKS5tYXgoc2l6ZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBnZXRFcnJvck1hcCgpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNYXBcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCk9PiEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RXJyb3JNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEVycm9yTWFwXG4gICAgICAgICAgICAgICAgXS5maWx0ZXIoKHgpPT4hIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbiA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fZGVmLnJldHVybnMgaW5zdGFuY2VvZiBab2RQcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soYXN5bmMgZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZSk9PntcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpLmNhdGNoKChlKT0+e1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBtZS5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgIH1cbiAgICByZXR1cm5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnJldHVybnM7XG4gICAgfVxuICAgIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3MgPyBhcmdzIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbixcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTGF6eSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICAgICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgIHZhbHVlOiBpbnB1dC5kYXRhXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgICB9XG59XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufVxuZXhwb3J0IGNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKXtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKXtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcyl7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGV4dHJhY3QodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHZhbHVlcywge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpPT4hdmFsdWVzLmluY2x1ZGVzKG9wdCkpLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWZcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuZXhwb3J0IGNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnByb21pc2UgJiYgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlID8gY3R4LmRhdGEgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSk9PntcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKSA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrQ3R4ID0ge1xuICAgICAgICAgICAgYWRkSXNzdWU6IChhcmcpPT57XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIikgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIikgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIikgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyByZWZpbmVtZW50IGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIikgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlubmVyLnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgICAgICAgfSkudGhlbigoaW5uZXIpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbm5lci52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSkgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKGJhc2UpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSkgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCk9Pih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHtcbiAgICAgICAgICAgIHR5cGU6IFwicHJlcHJvY2Vzc1wiLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBwcmVwcm9jZXNzXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IHsgWm9kRWZmZWN0cyBhcyBab2RUcmFuc2Zvcm1lciB9O1xuZXhwb3J0IGNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpPT57XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZERlZmF1bHQuY3JlYXRlID0gKHR5cGUsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCk9PnBhcmFtcy5kZWZhdWx0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQ2F0Y2ggZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIC8vIG5ld0N0eCBpcyB1c2VkIHRvIG5vdCBjb2xsZWN0IGlzc3VlcyBmcm9tIGlubmVyIHR5cGVzIGluIGN0eFxuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIgPyByZXN1bHQudmFsdWUgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IgKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIiA/IHJlc3VsdC52YWx1ZSA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKT0+cGFyYW1zLmNhdGNoLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubmFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgdmFsdWU6IGlucHV0LmRhdGFcbiAgICAgICAgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcyk9PntcbiAgICByZXR1cm4gbmV3IFpvZE5hTih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5leHBvcnQgY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIikgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIikgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgICAgICBpbjogYSxcbiAgICAgICAgICAgIG91dDogYixcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgY29uc3QgZnJlZXplID0gKGRhdGEpPT57XG4gICAgICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSk9PmZyZWV6ZShkYXRhKSkgOiBmcmVlemUocmVzdWx0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RSZWFkb25seS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKT0+e1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICB6LmN1c3RvbSAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGNsZWFuUGFyYW1zKHBhcmFtcywgZGF0YSkge1xuICAgIGNvbnN0IHAgPSB0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMoZGF0YSkgOiB0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiID8ge1xuICAgICAgICBtZXNzYWdlOiBwYXJhbXNcbiAgICB9IDogcGFyYW1zO1xuICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7XG4gICAgICAgIG1lc3NhZ2U6IHBcbiAgICB9IDogcDtcbiAgICByZXR1cm4gcDI7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIC8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqLyBmYXRhbCkge1xuICAgIGlmIChjaGVjaykgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KT0+e1xuICAgICAgICBjb25zdCByID0gY2hlY2soZGF0YSk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHIudGhlbigocik9PntcbiAgICAgICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJjdXN0b21cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdGFsOiBfZmF0YWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgY3R4LmFkZElzc3VlKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBmYXRhbDogX2ZhdGFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbn1cbmV4cG9ydCB7IFpvZFR5cGUgYXMgU2NoZW1hLCBab2RUeXBlIGFzIFpvZFNjaGVtYSB9O1xuZXhwb3J0IGNvbnN0IGxhdGUgPSB7XG4gICAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZVxufTtcbmV4cG9ydCB2YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuLy8gcmVxdWlyZXMgVFMgNC40K1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pe31cbn1cbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKC8vIGNvbnN0IGluc3RhbmNlT2ZUeXBlID0gPFQgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuY2xzLCBwYXJhbXMgPSB7XG4gICAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWBcbn0pPT5jdXN0b20oKGRhdGEpPT5kYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpPT5zdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9udW1iZXIgPSAoKT0+bnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvYm9vbGVhbiA9ICgpPT5ib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnQgY29uc3QgY29lcmNlID0ge1xuICAgIHN0cmluZzogKGFyZyk9PlpvZFN0cmluZy5jcmVhdGUoe1xuICAgICAgICAgICAgLi4uYXJnLFxuICAgICAgICAgICAgY29lcmNlOiB0cnVlXG4gICAgICAgIH0pLFxuICAgIG51bWJlcjogKGFyZyk9PlpvZE51bWJlci5jcmVhdGUoe1xuICAgICAgICAgICAgLi4uYXJnLFxuICAgICAgICAgICAgY29lcmNlOiB0cnVlXG4gICAgICAgIH0pLFxuICAgIGJvb2xlYW46IChhcmcpPT5ab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgICAgICAuLi5hcmcsXG4gICAgICAgICAgICBjb2VyY2U6IHRydWVcbiAgICAgICAgfSksXG4gICAgYmlnaW50OiAoYXJnKT0+Wm9kQmlnSW50LmNyZWF0ZSh7XG4gICAgICAgICAgICAuLi5hcmcsXG4gICAgICAgICAgICBjb2VyY2U6IHRydWVcbiAgICAgICAgfSksXG4gICAgZGF0ZTogKGFyZyk9PlpvZERhdGUuY3JlYXRlKHtcbiAgICAgICAgICAgIC4uLmFyZyxcbiAgICAgICAgICAgIGNvZXJjZTogdHJ1ZVxuICAgICAgICB9KVxufTtcbmV4cG9ydCB7IGFueVR5cGUgYXMgYW55LCBhcnJheVR5cGUgYXMgYXJyYXksIGJpZ0ludFR5cGUgYXMgYmlnaW50LCBib29sZWFuVHlwZSBhcyBib29sZWFuLCBkYXRlVHlwZSBhcyBkYXRlLCBkaXNjcmltaW5hdGVkVW5pb25UeXBlIGFzIGRpc2NyaW1pbmF0ZWRVbmlvbiwgZWZmZWN0c1R5cGUgYXMgZWZmZWN0LCBlbnVtVHlwZSBhcyBlbnVtLCBmdW5jdGlvblR5cGUgYXMgZnVuY3Rpb24sIGluc3RhbmNlT2ZUeXBlIGFzIGluc3RhbmNlb2YsIGludGVyc2VjdGlvblR5cGUgYXMgaW50ZXJzZWN0aW9uLCBsYXp5VHlwZSBhcyBsYXp5LCBsaXRlcmFsVHlwZSBhcyBsaXRlcmFsLCBtYXBUeXBlIGFzIG1hcCwgbmFuVHlwZSBhcyBuYW4sIG5hdGl2ZUVudW1UeXBlIGFzIG5hdGl2ZUVudW0sIG5ldmVyVHlwZSBhcyBuZXZlciwgbnVsbFR5cGUgYXMgbnVsbCwgbnVsbGFibGVUeXBlIGFzIG51bGxhYmxlLCBudW1iZXJUeXBlIGFzIG51bWJlciwgb2JqZWN0VHlwZSBhcyBvYmplY3QsIG9ib29sZWFuLCBvbnVtYmVyLCBvcHRpb25hbFR5cGUgYXMgb3B0aW9uYWwsIG9zdHJpbmcsIHBpcGVsaW5lVHlwZSBhcyBwaXBlbGluZSwgcHJlcHJvY2Vzc1R5cGUgYXMgcHJlcHJvY2VzcywgcHJvbWlzZVR5cGUgYXMgcHJvbWlzZSwgcmVjb3JkVHlwZSBhcyByZWNvcmQsIHNldFR5cGUgYXMgc2V0LCBzdHJpY3RPYmplY3RUeXBlIGFzIHN0cmljdE9iamVjdCwgc3RyaW5nVHlwZSBhcyBzdHJpbmcsIHN5bWJvbFR5cGUgYXMgc3ltYm9sLCBlZmZlY3RzVHlwZSBhcyB0cmFuc2Zvcm1lciwgdHVwbGVUeXBlIGFzIHR1cGxlLCB1bmRlZmluZWRUeXBlIGFzIHVuZGVmaW5lZCwgdW5pb25UeXBlIGFzIHVuaW9uLCB1bmtub3duVHlwZSBhcyB1bmtub3duLCB2b2lkVHlwZSBhcyB2b2lkIH07XG5leHBvcnQgY29uc3QgTkVWRVIgPSBJTlZBTElEO1xuIiwgImV4cG9ydCBmdW5jdGlvbiBjb21iaW5lSGVhZGVycyhcbiAgLi4uaGVhZGVyczogQXJyYXk8UmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZD5cbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICByZXR1cm4gaGVhZGVycy5yZWR1Y2UoXG4gICAgKGNvbWJpbmVkSGVhZGVycywgY3VycmVudEhlYWRlcnMpID0+ICh7XG4gICAgICAuLi5jb21iaW5lZEhlYWRlcnMsXG4gICAgICAuLi4oY3VycmVudEhlYWRlcnMgPz8ge30pLFxuICAgIH0pLFxuICAgIHt9LFxuICApIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG59XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBhbiBBc3luY0l0ZXJhdG9yIHRvIGEgUmVhZGFibGVTdHJlYW0uXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiBlbGVtZW50cyBwcm9kdWNlZCBieSB0aGUgQXN5bmNJdGVyYXRvci5cbiAqIEBwYXJhbSB7IDxUPn0gaXRlcmF0b3IgLSBUaGUgQXN5bmNJdGVyYXRvciB0byBjb252ZXJ0LlxuICogQHJldHVybnMge1JlYWRhYmxlU3RyZWFtPFQ+fSAtIEEgUmVhZGFibGVTdHJlYW0gdGhhdCBwcm92aWRlcyB0aGUgc2FtZSBkYXRhIGFzIHRoZSBBc3luY0l0ZXJhdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtPFQ+KFxuICBpdGVyYXRvcjogQXN5bmNJdGVyYXRvcjxUPixcbik6IFJlYWRhYmxlU3RyZWFtPFQ+IHtcbiAgbGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuXG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW08VD4oe1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdW1lciB3YW50cyB0byBwdWxsIG1vcmUgZGF0YSBmcm9tIHRoZSBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8VD59IGNvbnRyb2xsZXIgLSBUaGUgY29udHJvbGxlciB0byBlbnF1ZXVlIGRhdGEgaW50byB0aGUgc3RyZWFtLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjb25zdW1lciBjYW5jZWxzIHRoZSBzdHJlYW0uXG4gICAgICovXG4gICAgYXN5bmMgY2FuY2VsKHJlYXNvbj86IHVua25vd24pIHtcbiAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgICBpZiAoaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgaXRlcmF0b3IucmV0dXJuKHJlYXNvbik7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8vIGludGVudGlvbmFsbHkgaWdub3JlIGVycm9ycyBkdXJpbmcgY2FuY2VsbGF0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cbiIsICIvKipcbiAqIENyZWF0ZXMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgYSBzcGVjaWZpZWQgZGVsYXlcbiAqIEBwYXJhbSBkZWxheUluTXMgLSBUaGUgZGVsYXkgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLiBJZiBudWxsIG9yIHVuZGVmaW5lZCwgcmVzb2x2ZXMgaW1tZWRpYXRlbHkuXG4gKiBAcGFyYW0gc2lnbmFsIC0gT3B0aW9uYWwgQWJvcnRTaWduYWwgdG8gY2FuY2VsIHRoZSBkZWxheVxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheVxuICogQHRocm93cyB7RE9NRXhjZXB0aW9ufSBXaGVuIHRoZSBzaWduYWwgaXMgYWJvcnRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsYXkoXG4gIGRlbGF5SW5Ncz86IG51bWJlciB8IG51bGwsXG4gIG9wdGlvbnM/OiB7XG4gICAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgfSxcbik6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoZGVsYXlJbk1zID09IG51bGwpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5hYm9ydFNpZ25hbDtcblxuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChzaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIHJlamVjdChjcmVhdGVBYm9ydEVycm9yKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0sIGRlbGF5SW5Ncyk7XG5cbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICBzaWduYWw/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25BYm9ydCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uQWJvcnQgPSAoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICByZWplY3QoY3JlYXRlQWJvcnRFcnJvcigpKTtcbiAgICB9O1xuXG4gICAgc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQWJvcnRFcnJvcigpOiBET01FeGNlcHRpb24ge1xuICByZXR1cm4gbmV3IERPTUV4Y2VwdGlvbignRGVsYXkgd2FzIGFib3J0ZWQnLCAnQWJvcnRFcnJvcicpO1xufVxuIiwgIi8qKlxuICogRGVsYXllZCBwcm9taXNlLiBJdCBpcyBvbmx5IGNvbnN0cnVjdGVkIG9uY2UgdGhlIHZhbHVlIGlzIGFjY2Vzc2VkLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gYXZvaWQgdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9ucyB3aGVuIHRoZSBwcm9taXNlIGlzIGNyZWF0ZWRcbiAqIGJ1dCBub3QgYWNjZXNzZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxheWVkUHJvbWlzZTxUPiB7XG4gIHByaXZhdGUgc3RhdHVzOlxuICAgIHwgeyB0eXBlOiAncGVuZGluZycgfVxuICAgIHwgeyB0eXBlOiAncmVzb2x2ZWQnOyB2YWx1ZTogVCB9XG4gICAgfCB7IHR5cGU6ICdyZWplY3RlZCc7IGVycm9yOiB1bmtub3duIH0gPSB7IHR5cGU6ICdwZW5kaW5nJyB9O1xuICBwcml2YXRlIF9wcm9taXNlOiBQcm9taXNlPFQ+IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIF9yZXNvbHZlOiB1bmRlZmluZWQgfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfcmVqZWN0OiB1bmRlZmluZWQgfCAoKGVycm9yOiB1bmtub3duKSA9PiB2b2lkKSA9IHVuZGVmaW5lZDtcblxuICBnZXQgcHJvbWlzZSgpOiBQcm9taXNlPFQ+IHtcbiAgICBpZiAodGhpcy5fcHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXR1cy50eXBlID09PSAncmVzb2x2ZWQnKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5zdGF0dXMudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cy50eXBlID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgIHJlamVjdCh0aGlzLnN0YXR1cy5lcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG4gIH1cblxuICByZXNvbHZlKHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0dXMgPSB7IHR5cGU6ICdyZXNvbHZlZCcsIHZhbHVlIH07XG5cbiAgICBpZiAodGhpcy5fcHJvbWlzZSkge1xuICAgICAgdGhpcy5fcmVzb2x2ZT8uKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICByZWplY3QoZXJyb3I6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aGlzLnN0YXR1cyA9IHsgdHlwZTogJ3JlamVjdGVkJywgZXJyb3IgfTtcblxuICAgIGlmICh0aGlzLl9wcm9taXNlKSB7XG4gICAgICB0aGlzLl9yZWplY3Q/LihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgaXNSZXNvbHZlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMudHlwZSA9PT0gJ3Jlc29sdmVkJztcbiAgfVxuXG4gIGlzUmVqZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzLnR5cGUgPT09ICdyZWplY3RlZCc7XG4gIH1cblxuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzLnR5cGUgPT09ICdwZW5kaW5nJztcbiAgfVxufVxuIiwgIi8qKlxuRXh0cmFjdHMgdGhlIGhlYWRlcnMgZnJvbSBhIHJlc3BvbnNlIG9iamVjdCBhbmQgcmV0dXJucyB0aGVtIGFzIGEga2V5LXZhbHVlIG9iamVjdC5cblxuQHBhcmFtIHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlIG9iamVjdCB0byBleHRyYWN0IGhlYWRlcnMgZnJvbS5cbkByZXR1cm5zIFRoZSBoZWFkZXJzIGFzIGEga2V5LXZhbHVlIG9iamVjdC5cbiovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZTogUmVzcG9uc2UpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllczxzdHJpbmc+KFsuLi5yZXNwb25zZS5oZWFkZXJzXSk7XG59XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuLyoqXG5DcmVhdGVzIGFuIElEIGdlbmVyYXRvci5cblRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIElEIGlzIHRoZSBzdW0gb2YgdGhlIHByZWZpeCwgc2VwYXJhdG9yLCBhbmQgcmFuZG9tIHBhcnQgbGVuZ3RoLlxuTm90IGNyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZS5cblxuQHBhcmFtIGFscGhhYmV0IC0gVGhlIGFscGhhYmV0IHRvIHVzZSBmb3IgdGhlIElELiBEZWZhdWx0OiAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLlxuQHBhcmFtIHByZWZpeCAtIFRoZSBwcmVmaXggb2YgdGhlIElEIHRvIGdlbmVyYXRlLiBPcHRpb25hbC5cbkBwYXJhbSBzZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIGJldHdlZW4gdGhlIHByZWZpeCBhbmQgdGhlIHJhbmRvbSBwYXJ0IG9mIHRoZSBJRC4gRGVmYXVsdDogJy0nLlxuQHBhcmFtIHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgcmFuZG9tIHBhcnQgb2YgdGhlIElEIHRvIGdlbmVyYXRlLiBEZWZhdWx0OiAxNi5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUlkR2VuZXJhdG9yID0gKHtcbiAgcHJlZml4LFxuICBzaXplID0gMTYsXG4gIGFscGhhYmV0ID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyxcbiAgc2VwYXJhdG9yID0gJy0nLFxufToge1xuICBwcmVmaXg/OiBzdHJpbmc7XG4gIHNlcGFyYXRvcj86IHN0cmluZztcbiAgc2l6ZT86IG51bWJlcjtcbiAgYWxwaGFiZXQ/OiBzdHJpbmc7XG59ID0ge30pOiBJZEdlbmVyYXRvciA9PiB7XG4gIGNvbnN0IGdlbmVyYXRvciA9ICgpID0+IHtcbiAgICBjb25zdCBhbHBoYWJldExlbmd0aCA9IGFscGhhYmV0Lmxlbmd0aDtcbiAgICBjb25zdCBjaGFycyA9IG5ldyBBcnJheShzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBhbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIGFscGhhYmV0TGVuZ3RoKSB8IDBdO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gIH07XG5cbiAgaWYgKHByZWZpeCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuXG4gIC8vIGNoZWNrIHRoYXQgdGhlIHByZWZpeCBpcyBub3QgcGFydCBvZiB0aGUgYWxwaGFiZXQgKG90aGVyd2lzZSBwcmVmaXggY2hlY2tpbmcgY2FuIGZhaWwgcmFuZG9tbHkpXG4gIGlmIChhbHBoYWJldC5pbmNsdWRlcyhzZXBhcmF0b3IpKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIGFyZ3VtZW50OiAnc2VwYXJhdG9yJyxcbiAgICAgIG1lc3NhZ2U6IGBUaGUgc2VwYXJhdG9yIFwiJHtzZXBhcmF0b3J9XCIgbXVzdCBub3QgYmUgcGFydCBvZiB0aGUgYWxwaGFiZXQgXCIke2FscGhhYmV0fVwiLmAsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4gYCR7cHJlZml4fSR7c2VwYXJhdG9yfSR7Z2VuZXJhdG9yKCl9YDtcbn07XG5cbi8qKlxuQSBmdW5jdGlvbiB0aGF0IGdlbmVyYXRlcyBhbiBJRC5cbiAqL1xuZXhwb3J0IHR5cGUgSWRHZW5lcmF0b3IgPSAoKSA9PiBzdHJpbmc7XG5cbi8qKlxuR2VuZXJhdGVzIGEgMTYtY2hhcmFjdGVyIHJhbmRvbSBzdHJpbmcgdG8gdXNlIGZvciBJRHMuXG5Ob3QgY3J5cHRvZ3JhcGhpY2FsbHkgc2VjdXJlLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKCk7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcjogdW5rbm93biB8IHVuZGVmaW5lZCkge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiAndW5rbm93biBlcnJvcic7XG4gIH1cblxuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgZXh0cmFjdFJlc3BvbnNlSGVhZGVycyB9IGZyb20gJy4vZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzJztcbmltcG9ydCB7IEZldGNoRnVuY3Rpb24gfSBmcm9tICcuL2ZldGNoLWZ1bmN0aW9uJztcbmltcG9ydCB7IGhhbmRsZUZldGNoRXJyb3IgfSBmcm9tICcuL2hhbmRsZS1mZXRjaC1lcnJvcic7XG5pbXBvcnQgeyBpc0Fib3J0RXJyb3IgfSBmcm9tICcuL2lzLWFib3J0LWVycm9yJztcbmltcG9ydCB7IFJlc3BvbnNlSGFuZGxlciB9IGZyb20gJy4vcmVzcG9uc2UtaGFuZGxlcic7XG5pbXBvcnQgeyBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQgfSBmcm9tICcuL2dldC1ydW50aW1lLWVudmlyb25tZW50LXVzZXItYWdlbnQnO1xuaW1wb3J0IHsgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJy4vd2l0aC11c2VyLWFnZW50LXN1ZmZpeCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi92ZXJzaW9uJztcblxuLy8gdXNlIGZ1bmN0aW9uIHRvIGFsbG93IGZvciBtb2NraW5nIGluIHRlc3RzOlxuY29uc3QgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG5cbmV4cG9ydCBjb25zdCBnZXRGcm9tQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPEVycm9yPjtcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPFQ+O1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICBmZXRjaD86IEZldGNoRnVuY3Rpb247XG59KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBgYWktc2RrL3Byb3ZpZGVyLXV0aWxzLyR7VkVSU0lPTn1gLFxuICAgICAgICBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQoKSxcbiAgICAgICksXG4gICAgICBzaWduYWw6IGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JJbmZvcm1hdGlvbjoge1xuICAgICAgICB2YWx1ZTogRXJyb3I7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWQ7XG4gICAgICB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICBlcnJvckluZm9ybWF0aW9uID0gYXdhaXQgZmFpbGVkUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIGVycm9yIHJlc3BvbnNlJyxcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge30sXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gcHJvY2VzcyBzdWNjZXNzZnVsIHJlc3BvbnNlJyxcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge30sXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgaGFuZGxlRmV0Y2hFcnJvcih7IGVycm9yLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzOiB7fSB9KTtcbiAgfVxufTtcbiIsICJpbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGlzQWJvcnRFcnJvciB9IGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuXG5jb25zdCBGRVRDSF9GQUlMRURfRVJST1JfTUVTU0FHRVMgPSBbJ2ZldGNoIGZhaWxlZCcsICdmYWlsZWQgdG8gZmV0Y2gnXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZldGNoRXJyb3Ioe1xuICBlcnJvcixcbiAgdXJsLFxuICByZXF1ZXN0Qm9keVZhbHVlcyxcbn06IHtcbiAgZXJyb3I6IHVua25vd247XG4gIHVybDogc3RyaW5nO1xuICByZXF1ZXN0Qm9keVZhbHVlczogdW5rbm93bjtcbn0pIHtcbiAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICAvLyB1bndyYXAgb3JpZ2luYWwgZXJyb3Igd2hlbiBmZXRjaCBmYWlsZWQgKGZvciBlYXNpZXIgZGVidWdnaW5nKTpcbiAgaWYgKFxuICAgIGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmXG4gICAgRkVUQ0hfRkFJTEVEX0VSUk9SX01FU1NBR0VTLmluY2x1ZGVzKGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKSlcbiAgKSB7XG4gICAgY29uc3QgY2F1c2UgPSAoZXJyb3IgYXMgYW55KS5jYXVzZTtcblxuICAgIGlmIChjYXVzZSAhPSBudWxsKSB7XG4gICAgICAvLyBGYWlsZWQgdG8gY29ubmVjdCB0byBzZXJ2ZXI6XG4gICAgICByZXR1cm4gbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGBDYW5ub3QgY29ubmVjdCB0byBBUEk6ICR7Y2F1c2UubWVzc2FnZX1gLFxuICAgICAgICBjYXVzZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgaXNSZXRyeWFibGU6IHRydWUsIC8vIHJldHJ5IHdoZW4gbmV0d29yayBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVycm9yO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpc0Fib3J0RXJyb3IoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBFcnJvciB7XG4gIHJldHVybiAoXG4gICAgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pICYmXG4gICAgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJyB8fFxuICAgICAgZXJyb3IubmFtZSA9PT0gJ1Jlc3BvbnNlQWJvcnRlZCcgfHwgLy8gTmV4dC5qc1xuICAgICAgZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpXG4gICk7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudChcbiAgZ2xvYmFsVGhpc0FueTogYW55ID0gZ2xvYmFsVGhpcyBhcyBhbnksXG4pOiBzdHJpbmcge1xuICAvLyBCcm93c2Vyc1xuICBpZiAoZ2xvYmFsVGhpc0FueS53aW5kb3cpIHtcbiAgICByZXR1cm4gYHJ1bnRpbWUvYnJvd3NlcmA7XG4gIH1cblxuICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgLyBEZW5vIC8gQnVuIC8gTm9kZS5qcyA+PSAyMS4xXG4gIGlmIChnbG9iYWxUaGlzQW55Lm5hdmlnYXRvcj8udXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGBydW50aW1lLyR7Z2xvYmFsVGhpc0FueS5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCl9YDtcbiAgfVxuXG4gIC8vIE5vZGVzLmpzIDwgMjEuMVxuICBpZiAoZ2xvYmFsVGhpc0FueS5wcm9jZXNzPy52ZXJzaW9ucz8ubm9kZSkge1xuICAgIHJldHVybiBgcnVudGltZS9ub2RlLmpzLyR7Z2xvYmFsVGhpc0FueS5wcm9jZXNzLnZlcnNpb24uc3Vic3RyaW5nKDApfWA7XG4gIH1cblxuICBpZiAoZ2xvYmFsVGhpc0FueS5FZGdlUnVudGltZSkge1xuICAgIHJldHVybiBgcnVudGltZS92ZXJjZWwtZWRnZWA7XG4gIH1cblxuICByZXR1cm4gJ3J1bnRpbWUvdW5rbm93bic7XG59XG4iLCAiLyoqXG4gKiBOb3JtYWxpemVzIGRpZmZlcmVudCBoZWFkZXIgaW5wdXRzIGludG8gYSBwbGFpbiByZWNvcmQgd2l0aCBsb3dlci1jYXNlIGtleXMuXG4gKiBFbnRyaWVzIHdpdGggYHVuZGVmaW5lZGAgb3IgYG51bGxgIHZhbHVlcyBhcmUgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0gaGVhZGVycyAtIElucHV0IGhlYWRlcnMgKGBIZWFkZXJzYCwgdHVwbGVzIGFycmF5LCBwbGFpbiByZWNvcmQpIHRvIG5vcm1hbGl6ZS5cbiAqIEByZXR1cm5zIEEgcmVjb3JkIGNvbnRhaW5pbmcgdGhlIG5vcm1hbGl6ZWQgaGVhZGVyIGVudHJpZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJzKFxuICBoZWFkZXJzOlxuICAgIHwgSGVhZGVyc0luaXRcbiAgICB8IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD5cbiAgICB8IEFycmF5PFtzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZF0+XG4gICAgfCB1bmRlZmluZWQsXG4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgaWYgKGhlYWRlcnMgPT0gbnVsbCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0IG5vcm1hbGl6ZWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIG5vcm1hbGl6ZWRba2V5LnRvTG93ZXJDYXNlKCldID0gdmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzID0gT2JqZWN0LmVudHJpZXMoaGVhZGVycyk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGVhZGVycykge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgbm9ybWFsaXplZFtrZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbiIsICJpbXBvcnQgeyBub3JtYWxpemVIZWFkZXJzIH0gZnJvbSAnLi9ub3JtYWxpemUtaGVhZGVycyc7XG5cbi8qKlxuICogQXBwZW5kcyBzdWZmaXggcGFydHMgdG8gdGhlIGB1c2VyLWFnZW50YCBoZWFkZXIuXG4gKiBJZiBhIGB1c2VyLWFnZW50YCBoZWFkZXIgYWxyZWFkeSBleGlzdHMsIHRoZSBzdWZmaXggcGFydHMgYXJlIGFwcGVuZGVkIHRvIGl0LlxuICogSWYgbm8gYHVzZXItYWdlbnRgIGhlYWRlciBleGlzdHMsIGEgbmV3IG9uZSBpcyBjcmVhdGVkIHdpdGggdGhlIHN1ZmZpeCBwYXJ0cy5cbiAqIEF1dG9tYXRpY2FsbHkgcmVtb3ZlcyB1bmRlZmluZWQgZW50cmllcyBmcm9tIHRoZSBoZWFkZXJzLlxuICpcbiAqIEBwYXJhbSBoZWFkZXJzIC0gVGhlIG9yaWdpbmFsIGhlYWRlcnMuXG4gKiBAcGFyYW0gdXNlckFnZW50U3VmZml4UGFydHMgLSBUaGUgcGFydHMgdG8gYXBwZW5kIHRvIHRoZSBgdXNlci1hZ2VudGAgaGVhZGVyLlxuICogQHJldHVybnMgVGhlIG5ldyBoZWFkZXJzIHdpdGggdGhlIGB1c2VyLWFnZW50YCBoZWFkZXIgc2V0IG9yIHVwZGF0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoVXNlckFnZW50U3VmZml4KFxuICBoZWFkZXJzOiBIZWFkZXJzSW5pdCB8IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQsXG4gIC4uLnVzZXJBZ2VudFN1ZmZpeFBhcnRzOiBzdHJpbmdbXVxuKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRIZWFkZXJzID0gbmV3IEhlYWRlcnMobm9ybWFsaXplSGVhZGVycyhoZWFkZXJzKSk7XG5cbiAgY29uc3QgY3VycmVudFVzZXJBZ2VudEhlYWRlciA9IG5vcm1hbGl6ZWRIZWFkZXJzLmdldCgndXNlci1hZ2VudCcpIHx8ICcnO1xuXG4gIG5vcm1hbGl6ZWRIZWFkZXJzLnNldChcbiAgICAndXNlci1hZ2VudCcsXG4gICAgW2N1cnJlbnRVc2VyQWdlbnRIZWFkZXIsIC4uLnVzZXJBZ2VudFN1ZmZpeFBhcnRzXS5maWx0ZXIoQm9vbGVhbikuam9pbignICcpLFxuICApO1xuXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMobm9ybWFsaXplZEhlYWRlcnMuZW50cmllcygpKTtcbn1cbiIsICIvLyBWZXJzaW9uIHN0cmluZyBvZiB0aGlzIHBhY2thZ2UgaW5qZWN0ZWQgYXQgYnVpbGQgdGltZS5cbmRlY2xhcmUgY29uc3QgX19QQUNLQUdFX1ZFUlNJT05fXzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IFZFUlNJT046IHN0cmluZyA9XG4gIHR5cGVvZiBfX1BBQ0tBR0VfVkVSU0lPTl9fICE9PSAndW5kZWZpbmVkJ1xuICAgID8gX19QQUNLQUdFX1ZFUlNJT05fX1xuICAgIDogJzAuMC4wLXRlc3QnO1xuIiwgImltcG9ydCB7XG4gIEpTT05TY2hlbWE3LFxuICBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlLFxuICBMYW5ndWFnZU1vZGVsVjJQcm9tcHQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBERUZBVUxUX1NDSEVNQV9QUkVGSVggPSAnSlNPTiBzY2hlbWE6JztcbmNvbnN0IERFRkFVTFRfU0NIRU1BX1NVRkZJWCA9XG4gICdZb3UgTVVTVCBhbnN3ZXIgd2l0aCBhIEpTT04gb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgSlNPTiBzY2hlbWEgYWJvdmUuJztcbmNvbnN0IERFRkFVTFRfR0VORVJJQ19TVUZGSVggPSAnWW91IE1VU1QgYW5zd2VyIHdpdGggSlNPTi4nO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0SnNvbkluc3RydWN0aW9uKHtcbiAgcHJvbXB0LFxuICBzY2hlbWEsXG4gIHNjaGVtYVByZWZpeCA9IHNjaGVtYSAhPSBudWxsID8gREVGQVVMVF9TQ0hFTUFfUFJFRklYIDogdW5kZWZpbmVkLFxuICBzY2hlbWFTdWZmaXggPSBzY2hlbWEgIT0gbnVsbFxuICAgID8gREVGQVVMVF9TQ0hFTUFfU1VGRklYXG4gICAgOiBERUZBVUxUX0dFTkVSSUNfU1VGRklYLFxufToge1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIHNjaGVtYT86IEpTT05TY2hlbWE3O1xuICBzY2hlbWFQcmVmaXg/OiBzdHJpbmc7XG4gIHNjaGVtYVN1ZmZpeD86IHN0cmluZztcbn0pOiBzdHJpbmcge1xuICByZXR1cm4gW1xuICAgIHByb21wdCAhPSBudWxsICYmIHByb21wdC5sZW5ndGggPiAwID8gcHJvbXB0IDogdW5kZWZpbmVkLFxuICAgIHByb21wdCAhPSBudWxsICYmIHByb21wdC5sZW5ndGggPiAwID8gJycgOiB1bmRlZmluZWQsIC8vIGFkZCBhIG5ld2xpbmUgaWYgcHJvbXB0IGlzIG5vdCBudWxsXG4gICAgc2NoZW1hUHJlZml4LFxuICAgIHNjaGVtYSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkoc2NoZW1hKSA6IHVuZGVmaW5lZCxcbiAgICBzY2hlbWFTdWZmaXgsXG4gIF1cbiAgICAuZmlsdGVyKGxpbmUgPT4gbGluZSAhPSBudWxsKVxuICAgIC5qb2luKCdcXG4nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdEpzb25JbnN0cnVjdGlvbkludG9NZXNzYWdlcyh7XG4gIG1lc3NhZ2VzLFxuICBzY2hlbWEsXG4gIHNjaGVtYVByZWZpeCxcbiAgc2NoZW1hU3VmZml4LFxufToge1xuICBtZXNzYWdlczogTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0O1xuICBzY2hlbWE/OiBKU09OU2NoZW1hNztcbiAgc2NoZW1hUHJlZml4Pzogc3RyaW5nO1xuICBzY2hlbWFTdWZmaXg/OiBzdHJpbmc7XG59KTogTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0IHtcbiAgY29uc3Qgc3lzdGVtTWVzc2FnZTogTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSA9XG4gICAgbWVzc2FnZXNbMF0/LnJvbGUgPT09ICdzeXN0ZW0nXG4gICAgICA/IHsgLi4ubWVzc2FnZXNbMF0gfVxuICAgICAgOiB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiAnJyB9O1xuXG4gIHN5c3RlbU1lc3NhZ2UuY29udGVudCA9IGluamVjdEpzb25JbnN0cnVjdGlvbih7XG4gICAgcHJvbXB0OiBzeXN0ZW1NZXNzYWdlLmNvbnRlbnQsXG4gICAgc2NoZW1hLFxuICAgIHNjaGVtYVByZWZpeCxcbiAgICBzY2hlbWFTdWZmaXgsXG4gIH0pO1xuXG4gIHJldHVybiBbXG4gICAgc3lzdGVtTWVzc2FnZSxcbiAgICAuLi4obWVzc2FnZXNbMF0/LnJvbGUgPT09ICdzeXN0ZW0nID8gbWVzc2FnZXMuc2xpY2UoMSkgOiBtZXNzYWdlcyksXG4gIF07XG59XG4iLCAiLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIFVSTCBpcyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgdGhlIG1vZGVsLlxuICpcbiAqIEBwYXJhbSBtZWRpYVR5cGUgLSBUaGUgbWVkaWEgdHlwZSBvZiB0aGUgVVJMLiBDYXNlLXNlbnNpdGl2ZS5cbiAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIHRvIGNoZWNrLlxuICogQHBhcmFtIHN1cHBvcnRlZFVybHMgLSBBIHJlY29yZCB3aGVyZSBrZXlzIGFyZSBjYXNlLXNlbnNpdGl2ZSBtZWRpYSB0eXBlcyAob3IgJyonKVxuICogICAgICAgICAgICAgICAgICAgICAgICBhbmQgdmFsdWVzIGFyZSBhcnJheXMgb2YgUmVnRXhwIHBhdHRlcm5zIGZvciBVUkxzLlxuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgVVJMIG1hdGNoZXMgYSBwYXR0ZXJuIHVuZGVyIHRoZSBzcGVjaWZpYyBtZWRpYSB0eXBlXG4gKiAgICAgICAgICBvciB0aGUgd2lsZGNhcmQgJyonLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVXJsU3VwcG9ydGVkKHtcbiAgbWVkaWFUeXBlLFxuICB1cmwsXG4gIHN1cHBvcnRlZFVybHMsXG59OiB7XG4gIG1lZGlhVHlwZTogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgc3VwcG9ydGVkVXJsczogUmVjb3JkPHN0cmluZywgUmVnRXhwW10+O1xufSk6IGJvb2xlYW4ge1xuICAvLyBzdGFuZGFyZGl6ZSBtZWRpYSB0eXBlIGFuZCB1cmwgdG8gbG93ZXIgY2FzZVxuICB1cmwgPSB1cmwudG9Mb3dlckNhc2UoKTtcbiAgbWVkaWFUeXBlID0gbWVkaWFUeXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIChcbiAgICBPYmplY3QuZW50cmllcyhzdXBwb3J0ZWRVcmxzKVxuICAgICAgLy8gc3RhbmRhcmRpemUgc3VwcG9ydGVkIHVybCBtYXAgaW50byBsb3dlcmNhc2UgcHJlZml4ZXM6XG4gICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3QgbWVkaWFUeXBlID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBtZWRpYVR5cGUgPT09ICcqJyB8fCBtZWRpYVR5cGUgPT09ICcqLyonXG4gICAgICAgICAgPyB7IG1lZGlhVHlwZVByZWZpeDogJycsIHJlZ2V4ZXM6IHZhbHVlIH1cbiAgICAgICAgICA6IHsgbWVkaWFUeXBlUHJlZml4OiBtZWRpYVR5cGUucmVwbGFjZSgvXFwqLywgJycpLCByZWdleGVzOiB2YWx1ZSB9O1xuICAgICAgfSlcbiAgICAgIC8vIGdhdGhlciBhbGwgcmVnZXhwIHBhdHRlcm4gZnJvbSBtYXRjaGVkIG1lZGlhIHR5cGUgcHJlZml4ZXM6XG4gICAgICAuZmlsdGVyKCh7IG1lZGlhVHlwZVByZWZpeCB9KSA9PiBtZWRpYVR5cGUuc3RhcnRzV2l0aChtZWRpYVR5cGVQcmVmaXgpKVxuICAgICAgLmZsYXRNYXAoKHsgcmVnZXhlcyB9KSA9PiByZWdleGVzKVxuICAgICAgLy8gY2hlY2sgaWYgYW55IHBhdHRlcm4gbWF0Y2hlcyB0aGUgdXJsOlxuICAgICAgLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QodXJsKSlcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBMb2FkQVBJS2V5RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRBcGlLZXkoe1xuICBhcGlLZXksXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxuICBhcGlLZXlQYXJhbWV0ZXJOYW1lID0gJ2FwaUtleScsXG4gIGRlc2NyaXB0aW9uLFxufToge1xuICBhcGlLZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6IHN0cmluZztcbiAgYXBpS2V5UGFyYW1ldGVyTmFtZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn0pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIGFwaUtleSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYXBpS2V5O1xuICB9XG5cbiAgaWYgKGFwaUtleSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLmAsXG4gICAgfSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyLiBFbnZpcm9ubWVudCB2YXJpYWJsZXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LmAsXG4gICAgfSk7XG4gIH1cblxuICBhcGlLZXkgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG5cbiAgaWYgKGFwaUtleSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhcGlLZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLiBUaGUgdmFsdWUgb2YgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBhIHN0cmluZy5gLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFwaUtleTtcbn1cbiIsICIvKipcbiAqIExvYWRzIGFuIG9wdGlvbmFsIGBzdHJpbmdgIHNldHRpbmcgZnJvbSB0aGUgZW52aXJvbm1lbnQgb3IgYSBwYXJhbWV0ZXIuXG4gKlxuICogQHBhcmFtIHNldHRpbmdWYWx1ZSAtIFRoZSBzZXR0aW5nIHZhbHVlLlxuICogQHBhcmFtIGVudmlyb25tZW50VmFyaWFibGVOYW1lIC0gVGhlIGVudmlyb25tZW50IHZhcmlhYmxlIG5hbWUuXG4gKiBAcmV0dXJucyBUaGUgc2V0dGluZyB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxufToge1xuICBzZXR0aW5nVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6IHN0cmluZztcbn0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xuICB9XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSA9PSBudWxsIHx8IHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG4iLCAiaW1wb3J0IHsgTG9hZFNldHRpbmdFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbiAqIExvYWRzIGEgYHN0cmluZ2Agc2V0dGluZyBmcm9tIHRoZSBlbnZpcm9ubWVudCBvciBhIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gc2V0dGluZ1ZhbHVlIC0gVGhlIHNldHRpbmcgdmFsdWUuXG4gKiBAcGFyYW0gZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUgLSBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGUgbmFtZS5cbiAqIEBwYXJhbSBzZXR0aW5nTmFtZSAtIFRoZSBzZXR0aW5nIG5hbWUuXG4gKiBAcGFyYW0gZGVzY3JpcHRpb24gLSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHNldHRpbmcuXG4gKiBAcmV0dXJucyBUaGUgc2V0dGluZyB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgc2V0dGluZ05hbWUsXG4gIGRlc2NyaXB0aW9uLFxufToge1xuICBzZXR0aW5nVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWU6IHN0cmluZztcbiAgc2V0dGluZ05hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn0pOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xuICB9XG5cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgbXVzdCBiZSBhIHN0cmluZy5gLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIGAgK1xuICAgICAgICBgUGFzcyBpdCB1c2luZyB0aGUgJyR7c2V0dGluZ05hbWV9JyBwYXJhbWV0ZXIuIGAgK1xuICAgICAgICBgRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gLFxuICAgIH0pO1xuICB9XG5cbiAgc2V0dGluZ1ZhbHVlID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuXG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIGAgK1xuICAgICAgICBgUGFzcyBpdCB1c2luZyB0aGUgJyR7c2V0dGluZ05hbWV9JyBwYXJhbWV0ZXIgYCArXG4gICAgICAgIGBvciB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUuYCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIG11c3QgYmUgYSBzdHJpbmcuIGAgK1xuICAgICAgICBgVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG4iLCAiLyoqXG4gKiBNYXBzIGEgbWVkaWEgdHlwZSB0byBpdHMgY29ycmVzcG9uZGluZyBmaWxlIGV4dGVuc2lvbi5cbiAqIEl0IHdhcyBvcmlnaW5hbGx5IGludHJvZHVjZWQgdG8gc2V0IGEgZmlsZW5hbWUgZm9yIGF1ZGlvIGZpbGUgdXBsb2Fkc1xuICogaW4gaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9haS9wdWxsLzgxNTkuXG4gKlxuICogQHBhcmFtIG1lZGlhVHlwZSBUaGUgbWVkaWEgdHlwZSB0byBtYXAuXG4gKiBAcmV0dXJucyBUaGUgY29ycmVzcG9uZGluZyBmaWxlIGV4dGVuc2lvblxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0d1aWRlcy9NSU1FX3R5cGVzL0NvbW1vbl90eXBlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFUeXBlVG9FeHRlbnNpb24obWVkaWFUeXBlOiBzdHJpbmcpIHtcbiAgY29uc3QgW190eXBlLCBzdWJ0eXBlID0gJyddID0gbWVkaWFUeXBlLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy8nKTtcblxuICByZXR1cm4gKFxuICAgIHtcbiAgICAgIG1wZWc6ICdtcDMnLFxuICAgICAgJ3gtd2F2JzogJ3dhdicsXG4gICAgICBvcHVzOiAnb2dnJyxcbiAgICAgIG1wNDogJ200YScsXG4gICAgICAneC1tNGEnOiAnbTRhJyxcbiAgICB9W3N1YnR5cGVdID8/IHN1YnR5cGVcbiAgKTtcbn1cbiIsICJpbXBvcnQge1xuICBKU09OUGFyc2VFcnJvcixcbiAgSlNPTlZhbHVlLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHNlY3VyZUpzb25QYXJzZSB9IGZyb20gJy4vc2VjdXJlLWpzb24tcGFyc2UnO1xuaW1wb3J0IHsgc2FmZVZhbGlkYXRlVHlwZXMsIHZhbGlkYXRlVHlwZXMgfSBmcm9tICcuL3ZhbGlkYXRlLXR5cGVzJztcbmltcG9ydCB7IEZsZXhpYmxlVmFsaWRhdG9yLCBWYWxpZGF0b3IgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5cbi8qKlxuICogUGFyc2VzIGEgSlNPTiBzdHJpbmcgaW50byBhbiB1bmtub3duIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRoZSBKU09OIHN0cmluZyB0byBwYXJzZS5cbiAqIEByZXR1cm5zIHtKU09OVmFsdWV9IC0gVGhlIHBhcnNlZCBKU09OIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hPzogdW5kZWZpbmVkO1xufSk6IFByb21pc2U8SlNPTlZhbHVlPjtcbi8qKlxuICogUGFyc2VzIGEgSlNPTiBzdHJpbmcgaW50byBhIHN0cm9uZ2x5LXR5cGVkIG9iamVjdCB1c2luZyB0aGUgcHJvdmlkZWQgc2NoZW1hLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byBwYXJzZSB0aGUgSlNPTiBpbnRvLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHBhcnNpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxUPn0gLSBUaGUgcGFyc2VkIG9iamVjdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTjxUPihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hOiBGbGV4aWJsZVZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFQ+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlSlNPTjxUPih7XG4gIHRleHQsXG4gIHNjaGVtYSxcbn06IHtcbiAgdGV4dDogc3RyaW5nO1xuICBzY2hlbWE/OiBGbGV4aWJsZVZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNlY3VyZUpzb25QYXJzZSh0ZXh0KTtcblxuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZVR5cGVzPFQ+KHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoXG4gICAgICBKU09OUGFyc2VFcnJvci5pc0luc3RhbmNlKGVycm9yKSB8fFxuICAgICAgVHlwZVZhbGlkYXRpb25FcnJvci5pc0luc3RhbmNlKGVycm9yKVxuICAgICkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhcnNlUmVzdWx0PFQ+ID1cbiAgfCB7IHN1Y2Nlc3M6IHRydWU7IHZhbHVlOiBUOyByYXdWYWx1ZTogdW5rbm93biB9XG4gIHwge1xuICAgICAgc3VjY2VzczogZmFsc2U7XG4gICAgICBlcnJvcjogSlNPTlBhcnNlRXJyb3IgfCBUeXBlVmFsaWRhdGlvbkVycm9yO1xuICAgICAgcmF3VmFsdWU6IHVua25vd247XG4gICAgfTtcblxuLyoqXG4gKiBTYWZlbHkgcGFyc2VzIGEgSlNPTiBzdHJpbmcgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBhbiBvYmplY3Qgb2YgdHlwZSBgdW5rbm93bmAuXG4gKlxuICogQHBhcmFtIHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSBFaXRoZXIgYW4gb2JqZWN0IHdpdGggYHN1Y2Nlc3M6IHRydWVgIGFuZCB0aGUgcGFyc2VkIGRhdGEsIG9yIGFuIG9iamVjdCB3aXRoIGBzdWNjZXNzOiBmYWxzZWAgYW5kIHRoZSBlcnJvciB0aGF0IG9jY3VycmVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlSlNPTihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hPzogdW5kZWZpbmVkO1xufSk6IFByb21pc2U8UGFyc2VSZXN1bHQ8SlNPTlZhbHVlPj47XG4vKipcbiAqIFNhZmVseSBwYXJzZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgc3Ryb25nbHktdHlwZWQgb2JqZWN0LCB1c2luZyBhIHByb3ZpZGVkIHNjaGVtYSB0byB2YWxpZGF0ZSB0aGUgb2JqZWN0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byBwYXJzZSB0aGUgSlNPTiBpbnRvLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHBhcnNpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBlaXRoZXIgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgdGhlIHBhcnNlZCBhbmQgdHlwZWQgZGF0YSwgb3IgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgYW4gZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlSlNPTjxUPihvcHRpb25zOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc2NoZW1hOiBGbGV4aWJsZVZhbGlkYXRvcjxUPjtcbn0pOiBQcm9taXNlPFBhcnNlUmVzdWx0PFQ+PjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlUGFyc2VKU09OPFQ+KHtcbiAgdGV4dCxcbiAgc2NoZW1hLFxufToge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHNjaGVtYT86IEZsZXhpYmxlVmFsaWRhdG9yPFQ+O1xufSk6IFByb21pc2U8UGFyc2VSZXN1bHQ8VD4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNlY3VyZUpzb25QYXJzZSh0ZXh0KTtcblxuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHZhbHVlIGFzIFQsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlczxUPih7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpXG4gICAgICAgID8gZXJyb3JcbiAgICAgICAgOiBuZXcgSlNPTlBhcnNlRXJyb3IoeyB0ZXh0LCBjYXVzZTogZXJyb3IgfSksXG4gICAgICByYXdWYWx1ZTogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyc2FibGVKc29uKGlucHV0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICBzZWN1cmVKc29uUGFyc2UoaW5wdXQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsICIvLyBMaWNlbnNlZCB1bmRlciBCU0QtMy1DbGF1c2UgKHRoaXMgZmlsZSBvbmx5KVxuLy8gQ29kZSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zhc3RpZnkvc2VjdXJlLWpzb24tcGFyc2UvYmxvYi83ODNmY2IxYjU0MzQ3MDk0NjY3NTk4NDdjZWM5NzQzODE5Mzk2NzNhL2luZGV4LmpzXG4vL1xuLy8gQ29weXJpZ2h0IChjKSBWZXJjZWwsIEluYy4gKGh0dHBzOi8vdmVyY2VsLmNvbSlcbi8vIENvcHlyaWdodCAoYykgMjAxOSBUaGUgRmFzdGlmeSBUZWFtXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTksIFNpZGV3YXkgSW5jLCBhbmQgcHJvamVjdCBjb250cmlidXRvcnNcbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gVGhlIGNvbXBsZXRlIGxpc3Qgb2YgY29udHJpYnV0b3JzIGNhbiBiZSBmb3VuZCBhdDpcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2hhcGlqcy9ib3VybmUvZ3JhcGhzL2NvbnRyaWJ1dG9yc1xuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZmFzdGlmeS9zZWN1cmUtanNvbi1wYXJzZS9ncmFwaHMvY29udHJpYnV0b3JzXG4vLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvYWkvY29tbWl0cy9tYWluL3BhY2thZ2VzL3Byb3ZpZGVyLXV0aWxzL3NyYy9zZWN1cmUtcGFyc2UtanNvbi50c1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbi8vXG4vLyAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vL1xuLy8gMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy9cbi8vIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG5cbmNvbnN0IHN1c3BlY3RQcm90b1J4ID0gL1wiX19wcm90b19fXCJcXHMqOi87XG5jb25zdCBzdXNwZWN0Q29uc3RydWN0b3JSeCA9IC9cImNvbnN0cnVjdG9yXCJcXHMqOi87XG5cbmZ1bmN0aW9uIF9wYXJzZSh0ZXh0OiBzdHJpbmcpIHtcbiAgLy8gUGFyc2Ugbm9ybWFsbHlcbiAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZSh0ZXh0KTtcblxuICAvLyBJZ25vcmUgbnVsbCBhbmQgbm9uLW9iamVjdHNcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBpZiAoXG4gICAgc3VzcGVjdFByb3RvUngudGVzdCh0ZXh0KSA9PT0gZmFsc2UgJiZcbiAgICBzdXNwZWN0Q29uc3RydWN0b3JSeC50ZXN0KHRleHQpID09PSBmYWxzZVxuICApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLy8gU2NhbiByZXN1bHQgZm9yIHByb3RvIGtleXNcbiAgcmV0dXJuIGZpbHRlcihvYmopO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIob2JqOiBhbnkpIHtcbiAgbGV0IG5leHQgPSBbb2JqXTtcblxuICB3aGlsZSAobmV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlcyA9IG5leHQ7XG4gICAgbmV4dCA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsICdfX3Byb3RvX18nKSkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ09iamVjdCBjb250YWlucyBmb3JiaWRkZW4gcHJvdG90eXBlIHByb3BlcnR5Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsICdjb25zdHJ1Y3RvcicpICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLmNvbnN0cnVjdG9yLCAncHJvdG90eXBlJylcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ09iamVjdCBjb250YWlucyBmb3JiaWRkZW4gcHJvdG90eXBlIHByb3BlcnR5Jyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vZGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBub2RlW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbmV4dC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VjdXJlSnNvblBhcnNlKHRleHQ6IHN0cmluZykge1xuICBjb25zdCB7IHN0YWNrVHJhY2VMaW1pdCB9ID0gRXJyb3I7XG4gIHRyeSB7XG4gICAgLy8gUGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Zhc3RpZnkvc2VjdXJlLWpzb24tcGFyc2UvcHVsbC85MFxuICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDA7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBGYWxsYmFjayBpbiBjYXNlIEVycm9yIGlzIGltbXV0YWJsZSAodjggcmVhZG9ubHkpXG4gICAgcmV0dXJuIF9wYXJzZSh0ZXh0KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIF9wYXJzZSh0ZXh0KTtcbiAgfSBmaW5hbGx5IHtcbiAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBzdGFja1RyYWNlTGltaXQ7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBGbGV4aWJsZVZhbGlkYXRvciwgYXNWYWxpZGF0b3IgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSB0eXBlcyBvZiBhbiB1bmtub3duIG9iamVjdCB1c2luZyBhIHNjaGVtYSBhbmRcbiAqIHJldHVybiBhIHN0cm9uZ2x5LXR5cGVkIG9iamVjdC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy52YWx1ZSAtIFRoZSBvYmplY3QgdG8gdmFsaWRhdGUuXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcjxUPn0gb3B0aW9ucy5zY2hlbWEgLSBUaGUgc2NoZW1hIHRvIHVzZSBmb3IgdmFsaWRhdGluZyB0aGUgSlNPTi5cbiAqIEByZXR1cm5zIHtQcm9taXNlPFQ+fSAtIFRoZSB0eXBlZCBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVR5cGVzPE9CSkVDVD4oe1xuICB2YWx1ZSxcbiAgc2NoZW1hLFxufToge1xuICB2YWx1ZTogdW5rbm93bjtcbiAgc2NoZW1hOiBGbGV4aWJsZVZhbGlkYXRvcjxPQkpFQ1Q+O1xufSk6IFByb21pc2U8T0JKRUNUPiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHsgdmFsdWUsIHNjaGVtYSB9KTtcblxuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0LnZhbHVlO1xufVxuXG4vKipcbiAqIFNhZmVseSB2YWxpZGF0ZXMgdGhlIHR5cGVzIG9mIGFuIHVua25vd24gb2JqZWN0IHVzaW5nIGEgc2NoZW1hIGFuZFxuICogcmV0dXJuIGEgc3Ryb25nbHktdHlwZWQgb2JqZWN0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdCB0byB2YWxpZGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnZhbHVlIC0gVGhlIEpTT04gb2JqZWN0IHRvIHZhbGlkYXRlLlxuICogQHBhcmFtIHtWYWxpZGF0b3I8VD59IG9wdGlvbnMuc2NoZW1hIC0gVGhlIHNjaGVtYSB0byB1c2UgZm9yIHZhbGlkYXRpbmcgdGhlIEpTT04uXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBlaXRoZXIgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgdGhlIHBhcnNlZCBhbmQgdHlwZWQgZGF0YSwgb3IgYSBgc3VjY2Vzc2AgZmxhZyBhbmQgYW4gZXJyb3Igb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVZhbGlkYXRlVHlwZXM8T0JKRUNUPih7XG4gIHZhbHVlLFxuICBzY2hlbWEsXG59OiB7XG4gIHZhbHVlOiB1bmtub3duO1xuICBzY2hlbWE6IEZsZXhpYmxlVmFsaWRhdG9yPE9CSkVDVD47XG59KTogUHJvbWlzZTxcbiAgfCB7XG4gICAgICBzdWNjZXNzOiB0cnVlO1xuICAgICAgdmFsdWU6IE9CSkVDVDtcbiAgICAgIHJhd1ZhbHVlOiB1bmtub3duO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdWNjZXNzOiBmYWxzZTtcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yO1xuICAgICAgcmF3VmFsdWU6IHVua25vd247XG4gICAgfVxuPiB7XG4gIGNvbnN0IHZhbGlkYXRvciA9IGFzVmFsaWRhdG9yKHNjaGVtYSk7XG5cbiAgdHJ5IHtcbiAgICBpZiAodmFsaWRhdG9yLnZhbGlkYXRlID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiB2YWx1ZSBhcyBPQkpFQ1QsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSk7XG5cbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQudmFsdWUsIHJhd1ZhbHVlOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IHJlc3VsdC5lcnJvciB9KSxcbiAgICAgIHJhd1ZhbHVlOiB2YWx1ZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IGVycm9yIH0pLFxuICAgICAgcmF3VmFsdWU6IHZhbHVlLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBTdGFuZGFyZFNjaGVtYVYxIH0gZnJvbSAnQHN0YW5kYXJkLXNjaGVtYS9zcGVjJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hcmsgdmFsaWRhdG9yIGZ1bmN0aW9ucyBzbyB3ZSBjYW4gc3VwcG9ydCBib3RoIFpvZCBhbmQgY3VzdG9tIHNjaGVtYXMuXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0b3JTeW1ib2wgPSBTeW1ib2wuZm9yKCd2ZXJjZWwuYWkudmFsaWRhdG9yJyk7XG5cbmV4cG9ydCB0eXBlIFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPiA9XG4gIHwgeyBzdWNjZXNzOiB0cnVlOyB2YWx1ZTogT0JKRUNUIH1cbiAgfCB7IHN1Y2Nlc3M6IGZhbHNlOyBlcnJvcjogRXJyb3IgfTtcblxuZXhwb3J0IHR5cGUgVmFsaWRhdG9yPE9CSkVDVCA9IHVua25vd24+ID0ge1xuICAvKipcbiAgICogVXNlZCB0byBtYXJrIHZhbGlkYXRvciBmdW5jdGlvbnMgc28gd2UgY2FuIHN1cHBvcnQgYm90aCBab2QgYW5kIGN1c3RvbSBzY2hlbWFzLlxuICAgKi9cbiAgW3ZhbGlkYXRvclN5bWJvbF06IHRydWU7XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBWYWxpZGF0ZXMgdGhhdCB0aGUgc3RydWN0dXJlIG9mIGEgdmFsdWUgbWF0Y2hlcyB0aGlzIHNjaGVtYSxcbiAgICogYW5kIHJldHVybnMgYSB0eXBlZCB2ZXJzaW9uIG9mIHRoZSB2YWx1ZSBpZiBpdCBkb2VzLlxuICAgKi9cbiAgcmVhZG9ubHkgdmFsaWRhdGU/OiAoXG4gICAgdmFsdWU6IHVua25vd24sXG4gICkgPT4gVmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+IHwgUHJvbWlzZUxpa2U8VmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+Pjtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgdmFsaWRhdG9yLlxuICpcbiAqIEBwYXJhbSB2YWxpZGF0ZSBBIHZhbGlkYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBzY2hlbWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0b3I8T0JKRUNUPihcbiAgdmFsaWRhdGU/OlxuICAgIHwgdW5kZWZpbmVkXG4gICAgfCAoKFxuICAgICAgICB2YWx1ZTogdW5rbm93bixcbiAgICAgICkgPT4gVmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+IHwgUHJvbWlzZUxpa2U8VmFsaWRhdGlvblJlc3VsdDxPQkpFQ1Q+PiksXG4pOiBWYWxpZGF0b3I8T0JKRUNUPiB7XG4gIHJldHVybiB7IFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlLCB2YWxpZGF0ZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZGF0b3IodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBWYWxpZGF0b3Ige1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHZhbGlkYXRvclN5bWJvbCBpbiB2YWx1ZSAmJlxuICAgIHZhbHVlW3ZhbGlkYXRvclN5bWJvbF0gPT09IHRydWUgJiZcbiAgICAndmFsaWRhdGUnIGluIHZhbHVlXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHZhbGlkYXRvciB3aXRoIGRlZmVycmVkIGNyZWF0aW9uLlxuICogVGhpcyBpcyBpbXBvcnRhbnQgdG8gcmVkdWNlIHRoZSBzdGFydHVwIHRpbWUgb2YgdGhlIGxpYnJhcnlcbiAqIGFuZCB0byBhdm9pZCBpbml0aWFsaXppbmcgdW51c2VkIHZhbGlkYXRvcnMuXG4gKlxuICogQHBhcmFtIGNyZWF0ZVZhbGlkYXRvciBBIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHZhbGlkYXRvci5cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsaWRhdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGF6eVZhbGlkYXRvcjxPQkpFQ1Q+KFxuICBjcmVhdGVWYWxpZGF0b3I6ICgpID0+IFZhbGlkYXRvcjxPQkpFQ1Q+LFxuKTogTGF6eVZhbGlkYXRvcjxPQkpFQ1Q+IHtcbiAgLy8gY2FjaGUgdGhlIHZhbGlkYXRvciB0byBhdm9pZCBpbml0aWFsaXppbmcgaXQgbXVsdGlwbGUgdGltZXNcbiAgbGV0IHZhbGlkYXRvcjogVmFsaWRhdG9yPE9CSkVDVD4gfCB1bmRlZmluZWQ7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PSBudWxsKSB7XG4gICAgICB2YWxpZGF0b3IgPSBjcmVhdGVWYWxpZGF0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRvcjtcbiAgfTtcbn1cblxuZXhwb3J0IHR5cGUgTGF6eVZhbGlkYXRvcjxPQkpFQ1Q+ID0gKCkgPT4gVmFsaWRhdG9yPE9CSkVDVD47XG5cbmV4cG9ydCB0eXBlIEZsZXhpYmxlVmFsaWRhdG9yPE9CSkVDVD4gPVxuICB8IFZhbGlkYXRvcjxPQkpFQ1Q+XG4gIHwgTGF6eVZhbGlkYXRvcjxPQkpFQ1Q+XG4gIHwgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBPQkpFQ1Q+O1xuXG5leHBvcnQgdHlwZSBJbmZlclZhbGlkYXRvcjxTQ0hFTUE+ID1cbiAgU0NIRU1BIGV4dGVuZHMgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBpbmZlciBUPlxuICAgID8gVFxuICAgIDogU0NIRU1BIGV4dGVuZHMgTGF6eVZhbGlkYXRvcjxpbmZlciBUPlxuICAgICAgPyBUXG4gICAgICA6IFNDSEVNQSBleHRlbmRzIFZhbGlkYXRvcjxpbmZlciBUPlxuICAgICAgICA/IFRcbiAgICAgICAgOiBuZXZlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFzVmFsaWRhdG9yPE9CSkVDVD4oXG4gIHZhbHVlOiBGbGV4aWJsZVZhbGlkYXRvcjxPQkpFQ1Q+LFxuKTogVmFsaWRhdG9yPE9CSkVDVD4ge1xuICByZXR1cm4gaXNWYWxpZGF0b3IodmFsdWUpXG4gICAgPyB2YWx1ZVxuICAgIDogdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nXG4gICAgICA/IHZhbHVlKClcbiAgICAgIDogc3RhbmRhcmRTY2hlbWFWYWxpZGF0b3IodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhbmRhcmRTY2hlbWFWYWxpZGF0b3I8T0JKRUNUPihcbiAgc3RhbmRhcmRTY2hlbWE6IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgT0JKRUNUPixcbik6IFZhbGlkYXRvcjxPQkpFQ1Q+IHtcbiAgcmV0dXJuIHZhbGlkYXRvcihhc3luYyB2YWx1ZSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhbmRhcmRTY2hlbWFbJ35zdGFuZGFyZCddLnZhbGlkYXRlKHZhbHVlKTtcblxuICAgIHJldHVybiByZXN1bHQuaXNzdWVzID09IG51bGxcbiAgICAgID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LnZhbHVlIH1cbiAgICAgIDoge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiByZXN1bHQuaXNzdWVzLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICB9KTtcbn1cbiIsICJpbXBvcnQge1xuICBFdmVudFNvdXJjZU1lc3NhZ2UsXG4gIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtLFxufSBmcm9tICdldmVudHNvdXJjZS1wYXJzZXIvc3RyZWFtJztcbmltcG9ydCB7IFBhcnNlUmVzdWx0LCBzYWZlUGFyc2VKU09OIH0gZnJvbSAnLi9wYXJzZS1qc29uJztcbmltcG9ydCB7IEZsZXhpYmxlVmFsaWRhdG9yIH0gZnJvbSAnLi92YWxpZGF0b3InO1xuXG4vKipcbiAqIFBhcnNlcyBhIEpTT04gZXZlbnQgc3RyZWFtIGludG8gYSBzdHJlYW0gb2YgcGFyc2VkIEpTT04gb2JqZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSnNvbkV2ZW50U3RyZWFtPFQ+KHtcbiAgc3RyZWFtLFxuICBzY2hlbWEsXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT47XG4gIHNjaGVtYTogRmxleGlibGVWYWxpZGF0b3I8VD47XG59KTogUmVhZGFibGVTdHJlYW08UGFyc2VSZXN1bHQ8VD4+IHtcbiAgcmV0dXJuIHN0cmVhbVxuICAgIC5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSlcbiAgICAucGlwZVRocm91Z2gobmV3IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpXG4gICAgLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxFdmVudFNvdXJjZU1lc3NhZ2UsIFBhcnNlUmVzdWx0PFQ+Pih7XG4gICAgICAgIGFzeW5jIHRyYW5zZm9ybSh7IGRhdGEgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgIC8vIGlnbm9yZSB0aGUgJ0RPTkUnIGV2ZW50IHRoYXQgZS5nLiBPcGVuQUkgc2VuZHM6XG4gICAgICAgICAgaWYgKGRhdGEgPT09ICdbRE9ORV0nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiBkYXRhLCBzY2hlbWEgfSkpO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgc2FmZVZhbGlkYXRlVHlwZXMgfSBmcm9tICcuL3ZhbGlkYXRlLXR5cGVzJztcbmltcG9ydCB7IEZsZXhpYmxlVmFsaWRhdG9yIH0gZnJvbSAnLi92YWxpZGF0b3InO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VQcm92aWRlck9wdGlvbnM8T1BUSU9OUz4oe1xuICBwcm92aWRlcixcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBzY2hlbWEsXG59OiB7XG4gIHByb3ZpZGVyOiBzdHJpbmc7XG4gIHByb3ZpZGVyT3B0aW9uczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQ7XG4gIHNjaGVtYTogRmxleGlibGVWYWxpZGF0b3I8T1BUSU9OUz47XG59KTogUHJvbWlzZTxPUFRJT05TIHwgdW5kZWZpbmVkPiB7XG4gIGlmIChwcm92aWRlck9wdGlvbnM/Lltwcm92aWRlcl0gPT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBwYXJzZWRQcm92aWRlck9wdGlvbnMgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlczxPUFRJT05TIHwgdW5kZWZpbmVkPih7XG4gICAgdmFsdWU6IHByb3ZpZGVyT3B0aW9uc1twcm92aWRlcl0sXG4gICAgc2NoZW1hLFxuICB9KTtcblxuICBpZiAoIXBhcnNlZFByb3ZpZGVyT3B0aW9ucy5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIGFyZ3VtZW50OiAncHJvdmlkZXJPcHRpb25zJyxcbiAgICAgIG1lc3NhZ2U6IGBpbnZhbGlkICR7cHJvdmlkZXJ9IHByb3ZpZGVyIG9wdGlvbnNgLFxuICAgICAgY2F1c2U6IHBhcnNlZFByb3ZpZGVyT3B0aW9ucy5lcnJvcixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWRQcm92aWRlck9wdGlvbnMudmFsdWU7XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBleHRyYWN0UmVzcG9uc2VIZWFkZXJzIH0gZnJvbSAnLi9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMnO1xuaW1wb3J0IHsgRmV0Y2hGdW5jdGlvbiB9IGZyb20gJy4vZmV0Y2gtZnVuY3Rpb24nO1xuaW1wb3J0IHsgaGFuZGxlRmV0Y2hFcnJvciB9IGZyb20gJy4vaGFuZGxlLWZldGNoLWVycm9yJztcbmltcG9ydCB7IGlzQWJvcnRFcnJvciB9IGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi9yZXNwb25zZS1oYW5kbGVyJztcbmltcG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCB9IGZyb20gJy4vZ2V0LXJ1bnRpbWUtZW52aXJvbm1lbnQtdXNlci1hZ2VudCc7XG5pbXBvcnQgeyB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnLi93aXRoLXVzZXItYWdlbnQtc3VmZml4JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuXG4vLyB1c2UgZnVuY3Rpb24gdG8gYWxsb3cgZm9yIG1vY2tpbmcgaW4gdGVzdHM6XG5jb25zdCBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZ2xvYmFsVGhpcy5mZXRjaDtcblxuZXhwb3J0IGNvbnN0IHBvc3RKc29uVG9BcGkgPSBhc3luYyA8VD4oe1xuICB1cmwsXG4gIGhlYWRlcnMsXG4gIGJvZHksXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGJvZHk6IHVua25vd247XG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj47XG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxUPjtcbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xufSkgPT5cbiAgcG9zdFRvQXBpKHtcbiAgICB1cmwsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIC4uLmhlYWRlcnMsXG4gICAgfSxcbiAgICBib2R5OiB7XG4gICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIHZhbHVlczogYm9keSxcbiAgICB9LFxuICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIGZldGNoLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHBvc3RGb3JtRGF0YVRvQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzLFxuICBmb3JtRGF0YSxcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2gsXG59OiB7XG4gIHVybDogc3RyaW5nO1xuICBoZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgZm9ybURhdGE6IEZvcm1EYXRhO1xuICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxBUElDYWxsRXJyb3I+O1xuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBSZXNwb25zZUhhbmRsZXI8VD47XG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcbn0pID0+XG4gIHBvc3RUb0FwaSh7XG4gICAgdXJsLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keToge1xuICAgICAgY29udGVudDogZm9ybURhdGEsXG4gICAgICB2YWx1ZXM6IE9iamVjdC5mcm9tRW50cmllcygoZm9ybURhdGEgYXMgYW55KS5lbnRyaWVzKCkpLFxuICAgIH0sXG4gICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgZmV0Y2gsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgcG9zdFRvQXBpID0gYXN5bmMgPFQ+KHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIGJvZHksXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpLFxufToge1xuICB1cmw6IHN0cmluZztcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGJvZHk6IHtcbiAgICBjb250ZW50OiBzdHJpbmcgfCBGb3JtRGF0YSB8IFVpbnQ4QXJyYXk7XG4gICAgdmFsdWVzOiB1bmtub3duO1xuICB9O1xuICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxFcnJvcj47XG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXI6IFJlc3BvbnNlSGFuZGxlcjxUPjtcbiAgYWJvcnRTaWduYWw/OiBBYm9ydFNpZ25hbDtcbiAgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xufSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGBhaS1zZGsvcHJvdmlkZXItdXRpbHMvJHtWRVJTSU9OfWAsXG4gICAgICAgIGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCgpLFxuICAgICAgKSxcbiAgICAgIGJvZHk6IGJvZHkuY29udGVudCxcbiAgICAgIHNpZ25hbDogYWJvcnRTaWduYWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckluZm9ybWF0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBFcnJvcjtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IHVuZGVmaW5lZDtcbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGVycm9ySW5mb3JtYXRpb24gPSBhd2FpdCBmYWlsZWRSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2UnLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvckluZm9ybWF0aW9uLnZhbHVlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBwcm9jZXNzIHN1Y2Nlc3NmdWwgcmVzcG9uc2UnLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBoYW5kbGVGZXRjaEVycm9yKHsgZXJyb3IsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzIH0pO1xuICB9XG59O1xuIiwgImltcG9ydCB7IEpTT05WYWx1ZSwgTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdFBhcnQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEZsZXhpYmxlU2NoZW1hIH0gZnJvbSAnLi4vc2NoZW1hJztcbmltcG9ydCB7IE1vZGVsTWVzc2FnZSB9IGZyb20gJy4vbW9kZWwtbWVzc2FnZSc7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMgfSBmcm9tICcuL3Byb3ZpZGVyLW9wdGlvbnMnO1xuXG4vKipcbiAqIEFkZGl0aW9uYWwgb3B0aW9ucyB0aGF0IGFyZSBzZW50IGludG8gZWFjaCB0b29sIGNhbGwuXG4gKi9cbi8vIFRPRE8gQUkgU0RLIDY6IHJlbmFtZSB0byBUb29sRXhlY3V0aW9uT3B0aW9uc1xuZXhwb3J0IGludGVyZmFjZSBUb29sQ2FsbE9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuIFlvdSBjYW4gdXNlIGl0IGUuZy4gd2hlbiBzZW5kaW5nIHRvb2wtY2FsbCByZWxhdGVkIGluZm9ybWF0aW9uIHdpdGggc3RyZWFtIGRhdGEuXG4gICAqL1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1lc3NhZ2VzIHRoYXQgd2VyZSBzZW50IHRvIHRoZSBsYW5ndWFnZSBtb2RlbCB0byBpbml0aWF0ZSB0aGUgcmVzcG9uc2UgdGhhdCBjb250YWluZWQgdGhlIHRvb2wgY2FsbC5cbiAgICogVGhlIG1lc3NhZ2VzICoqZG8gbm90KiogaW5jbHVkZSB0aGUgc3lzdGVtIHByb21wdCBub3IgdGhlIGFzc2lzdGFudCByZXNwb25zZSB0aGF0IGNvbnRhaW5lZCB0aGUgdG9vbCBjYWxsLlxuICAgKi9cbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgb3ZlcmFsbCBvcGVyYXRpb24gc2hvdWxkIGJlIGFib3J0ZWQuXG4gICAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGNvbnRleHQuXG4gICAqXG4gICAqIEV4cGVyaW1lbnRhbCAoY2FuIGJyZWFrIGluIHBhdGNoIHJlbGVhc2VzKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0PzogdW5rbm93bjtcbn1cblxuZXhwb3J0IHR5cGUgVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPiA9IChcbiAgaW5wdXQ6IElOUFVULFxuICBvcHRpb25zOiBUb29sQ2FsbE9wdGlvbnMsXG4pID0+IEFzeW5jSXRlcmFibGU8T1VUUFVUPiB8IFByb21pc2VMaWtlPE9VVFBVVD4gfCBPVVRQVVQ7XG5cbi8vIDAgZXh0ZW5kcyAxICYgTiBjaGVja3MgZm9yIGFueVxuLy8gW05dIGV4dGVuZHMgW25ldmVyXSBjaGVja3MgZm9yIG5ldmVyXG50eXBlIE5ldmVyT3B0aW9uYWw8TiwgVD4gPSAwIGV4dGVuZHMgMSAmIE5cbiAgPyBQYXJ0aWFsPFQ+XG4gIDogW05dIGV4dGVuZHMgW25ldmVyXVxuICAgID8gUGFydGlhbDxSZWNvcmQ8a2V5b2YgVCwgdW5kZWZpbmVkPj5cbiAgICA6IFQ7XG5cbnR5cGUgVG9vbE91dHB1dFByb3BlcnRpZXM8SU5QVVQsIE9VVFBVVD4gPSBOZXZlck9wdGlvbmFsPFxuICBPVVRQVVQsXG4gIHwge1xuICAgICAgLyoqXG5BbiBhc3luYyBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIHRoZSBhcmd1bWVudHMgZnJvbSB0aGUgdG9vbCBjYWxsIGFuZCBwcm9kdWNlcyBhIHJlc3VsdC5cbklmIG5vdCBwcm92aWRlZCwgdGhlIHRvb2wgd2lsbCBub3QgYmUgZXhlY3V0ZWQgYXV0b21hdGljYWxseS5cblxuQGFyZ3MgaXMgdGhlIGlucHV0IG9mIHRoZSB0b29sIGNhbGwuXG5Ab3B0aW9ucy5hYm9ydFNpZ25hbCBpcyBhIHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGFib3J0IHRoZSB0b29sIGNhbGwuXG4gICAgKi9cbiAgICAgIGV4ZWN1dGU6IFRvb2xFeGVjdXRlRnVuY3Rpb248SU5QVVQsIE9VVFBVVD47XG5cbiAgICAgIG91dHB1dFNjaGVtYT86IEZsZXhpYmxlU2NoZW1hPE9VVFBVVD47XG4gICAgfVxuICB8IHtcbiAgICAgIG91dHB1dFNjaGVtYTogRmxleGlibGVTY2hlbWE8T1VUUFVUPjtcblxuICAgICAgZXhlY3V0ZT86IG5ldmVyO1xuICAgIH1cbj47XG5cbi8qKlxuQSB0b29sIGNvbnRhaW5zIHRoZSBkZXNjcmlwdGlvbiBhbmQgdGhlIHNjaGVtYSBvZiB0aGUgaW5wdXQgdGhhdCB0aGUgdG9vbCBleHBlY3RzLlxuVGhpcyBlbmFibGVzIHRoZSBsYW5ndWFnZSBtb2RlbCB0byBnZW5lcmF0ZSB0aGUgaW5wdXQuXG5cblRoZSB0b29sIGNhbiBhbHNvIGNvbnRhaW4gYW4gb3B0aW9uYWwgZXhlY3V0ZSBmdW5jdGlvbiBmb3IgdGhlIGFjdHVhbCBleGVjdXRpb24gZnVuY3Rpb24gb2YgdGhlIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIFRvb2w8XG4gIElOUFVUIGV4dGVuZHMgSlNPTlZhbHVlIHwgdW5rbm93biB8IG5ldmVyID0gYW55LFxuICBPVVRQVVQgZXh0ZW5kcyBKU09OVmFsdWUgfCB1bmtub3duIHwgbmV2ZXIgPSBhbnksXG4+ID0ge1xuICAvKipcbkFuIG9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhlIHRvb2wgZG9lcy5cbldpbGwgYmUgdXNlZCBieSB0aGUgbGFuZ3VhZ2UgbW9kZWwgdG8gZGVjaWRlIHdoZXRoZXIgdG8gdXNlIHRoZSB0b29sLlxuTm90IHVzZWQgZm9yIHByb3ZpZGVyLWRlZmluZWQgdG9vbHMuXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcblRoZSBzY2hlbWEgb2YgdGhlIGlucHV0IHRoYXQgdGhlIHRvb2wgZXhwZWN0cy4gVGhlIGxhbmd1YWdlIG1vZGVsIHdpbGwgdXNlIHRoaXMgdG8gZ2VuZXJhdGUgdGhlIGlucHV0LlxuSXQgaXMgYWxzbyB1c2VkIHRvIHZhbGlkYXRlIHRoZSBvdXRwdXQgb2YgdGhlIGxhbmd1YWdlIG1vZGVsLlxuVXNlIGRlc2NyaXB0aW9ucyB0byBtYWtlIHRoZSBpbnB1dCB1bmRlcnN0YW5kYWJsZSBmb3IgdGhlIGxhbmd1YWdlIG1vZGVsLlxuICAgKi9cbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPElOUFVUPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgYXJndW1lbnQgc3RyZWFtaW5nIHN0YXJ0cy5cbiAgICogT25seSBjYWxsZWQgd2hlbiB0aGUgdG9vbCBpcyB1c2VkIGluIGEgc3RyZWFtaW5nIGNvbnRleHQuXG4gICAqL1xuICBvbklucHV0U3RhcnQ/OiAob3B0aW9uczogVG9vbENhbGxPcHRpb25zKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gYXJndW1lbnQgc3RyZWFtaW5nIGRlbHRhIGlzIGF2YWlsYWJsZS5cbiAgICogT25seSBjYWxsZWQgd2hlbiB0aGUgdG9vbCBpcyB1c2VkIGluIGEgc3RyZWFtaW5nIGNvbnRleHQuXG4gICAqL1xuICBvbklucHV0RGVsdGE/OiAoXG4gICAgb3B0aW9uczogeyBpbnB1dFRleHREZWx0YTogc3RyaW5nIH0gJiBUb29sQ2FsbE9wdGlvbnMsXG4gICkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgdG9vbCBjYWxsIGNhbiBiZSBzdGFydGVkLFxuICAgKiBldmVuIGlmIHRoZSBleGVjdXRlIGZ1bmN0aW9uIGlzIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIG9uSW5wdXRBdmFpbGFibGU/OiAoXG4gICAgb3B0aW9uczoge1xuICAgICAgaW5wdXQ6IFtJTlBVVF0gZXh0ZW5kcyBbbmV2ZXJdID8gdW5kZWZpbmVkIDogSU5QVVQ7XG4gICAgfSAmIFRvb2xDYWxsT3B0aW9ucyxcbiAgKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD47XG59ICYgVG9vbE91dHB1dFByb3BlcnRpZXM8SU5QVVQsIE9VVFBVVD4gJiB7XG4gICAgLyoqXG5PcHRpb25hbCBjb252ZXJzaW9uIGZ1bmN0aW9uIHRoYXQgbWFwcyB0aGUgdG9vbCByZXN1bHQgdG8gYW4gb3V0cHV0IHRoYXQgY2FuIGJlIHVzZWQgYnkgdGhlIGxhbmd1YWdlIG1vZGVsLlxuXG5JZiBub3QgcHJvdmlkZWQsIHRoZSB0b29sIHJlc3VsdCB3aWxsIGJlIHNlbnQgYXMgYSBKU09OIG9iamVjdC5cbiAgKi9cbiAgICB0b01vZGVsT3V0cHV0PzogKFxuICAgICAgb3V0cHV0OiAwIGV4dGVuZHMgMSAmIE9VVFBVVFxuICAgICAgICA/IGFueVxuICAgICAgICA6IFtPVVRQVVRdIGV4dGVuZHMgW25ldmVyXVxuICAgICAgICAgID8gYW55XG4gICAgICAgICAgOiBOb0luZmVyPE9VVFBVVD4sXG4gICAgKSA9PiBMYW5ndWFnZU1vZGVsVjJUb29sUmVzdWx0UGFydFsnb3V0cHV0J107XG4gIH0gJiAoXG4gICAgfCB7XG4gICAgICAgIC8qKlxuVG9vbCB3aXRoIHVzZXItZGVmaW5lZCBpbnB1dCBhbmQgb3V0cHV0IHNjaGVtYXMuXG4gICAgICovXG4gICAgICAgIHR5cGU/OiB1bmRlZmluZWQgfCAnZnVuY3Rpb24nO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICAvKipcblRvb2wgdGhhdCBpcyBkZWZpbmVkIGF0IHJ1bnRpbWUgKGUuZy4gYW4gTUNQIHRvb2wpLlxuVGhlIHR5cGVzIG9mIGlucHV0IGFuZCBvdXRwdXQgYXJlIG5vdCBrbm93biBhdCBkZXZlbG9wbWVudCB0aW1lLlxuICAgICAgICovXG4gICAgICAgIHR5cGU6ICdkeW5hbWljJztcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgLyoqXG5Ub29sIHdpdGggcHJvdmlkZXItZGVmaW5lZCBpbnB1dCBhbmQgb3V0cHV0IHNjaGVtYXMuXG4gICAgICovXG4gICAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJztcblxuICAgICAgICAvKipcblRoZSBJRCBvZiB0aGUgdG9vbC4gU2hvdWxkIGZvbGxvdyB0aGUgZm9ybWF0IGA8cHJvdmlkZXItbmFtZT4uPHVuaXF1ZS10b29sLW5hbWU+YC5cbiAgICovXG4gICAgICAgIGlkOiBgJHtzdHJpbmd9LiR7c3RyaW5nfWA7XG5cbiAgICAgICAgLyoqXG5UaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHRoZSB1c2VyIG11c3QgdXNlIGluIHRoZSB0b29sIHNldC5cbiAqL1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG5cbiAgICAgICAgLyoqXG5UaGUgYXJndW1lbnRzIGZvciBjb25maWd1cmluZyB0aGUgdG9vbC4gTXVzdCBtYXRjaCB0aGUgZXhwZWN0ZWQgYXJndW1lbnRzIGRlZmluZWQgYnkgdGhlIHByb3ZpZGVyIGZvciB0aGlzIHRvb2wuXG4gICAgICovXG4gICAgICAgIGFyZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgfVxuICApO1xuXG4vKipcbiAqIEluZmVyIHRoZSBpbnB1dCB0eXBlIG9mIGEgdG9vbC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJUb29sSW5wdXQ8VE9PTCBleHRlbmRzIFRvb2w+ID1cbiAgVE9PTCBleHRlbmRzIFRvb2w8aW5mZXIgSU5QVVQsIGFueT4gPyBJTlBVVCA6IG5ldmVyO1xuXG4vKipcbiAqIEluZmVyIHRoZSBvdXRwdXQgdHlwZSBvZiBhIHRvb2wuXG4gKi9cbmV4cG9ydCB0eXBlIEluZmVyVG9vbE91dHB1dDxUT09MIGV4dGVuZHMgVG9vbD4gPVxuICBUT09MIGV4dGVuZHMgVG9vbDxhbnksIGluZmVyIE9VVFBVVD4gPyBPVVRQVVQgOiBuZXZlcjtcblxuLyoqXG5IZWxwZXIgZnVuY3Rpb24gZm9yIGluZmVycmluZyB0aGUgZXhlY3V0ZSBhcmdzIG9mIGEgdG9vbC5cbiAqL1xuLy8gTm90ZTogb3ZlcmxvYWQgb3JkZXIgaXMgaW1wb3J0YW50IGZvciBhdXRvLWNvbXBsZXRpb25cbmV4cG9ydCBmdW5jdGlvbiB0b29sPElOUFVULCBPVVRQVVQ+KFxuICB0b29sOiBUb29sPElOUFVULCBPVVRQVVQ+LFxuKTogVG9vbDxJTlBVVCwgT1VUUFVUPjtcbmV4cG9ydCBmdW5jdGlvbiB0b29sPElOUFVUPih0b29sOiBUb29sPElOUFVULCBuZXZlcj4pOiBUb29sPElOUFVULCBuZXZlcj47XG5leHBvcnQgZnVuY3Rpb24gdG9vbDxPVVRQVVQ+KHRvb2w6IFRvb2w8bmV2ZXIsIE9VVFBVVD4pOiBUb29sPG5ldmVyLCBPVVRQVVQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2wodG9vbDogVG9vbDxuZXZlciwgbmV2ZXI+KTogVG9vbDxuZXZlciwgbmV2ZXI+O1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2wodG9vbDogYW55KTogYW55IHtcbiAgcmV0dXJuIHRvb2w7XG59XG5cbi8qKlxuSGVscGVyIGZ1bmN0aW9uIGZvciBkZWZpbmluZyBhIGR5bmFtaWMgdG9vbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWNUb29sKHRvb2w6IHtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPHVua25vd24+O1xuICBleGVjdXRlOiBUb29sRXhlY3V0ZUZ1bmN0aW9uPHVua25vd24sIHVua25vd24+O1xuICB0b01vZGVsT3V0cHV0PzogKG91dHB1dDogdW5rbm93bikgPT4gTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdFBhcnRbJ291dHB1dCddO1xufSk6IFRvb2w8dW5rbm93biwgdW5rbm93bj4gJiB7XG4gIHR5cGU6ICdkeW5hbWljJztcbn0ge1xuICByZXR1cm4geyAuLi50b29sLCB0eXBlOiAnZHluYW1pYycgfTtcbn1cbiIsICJpbXBvcnQgeyB0b29sLCBUb29sLCBUb29sRXhlY3V0ZUZ1bmN0aW9uIH0gZnJvbSAnLi90eXBlcy90b29sJztcbmltcG9ydCB7IEZsZXhpYmxlU2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuXG5leHBvcnQgdHlwZSBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeTxJTlBVVCwgQVJHUyBleHRlbmRzIG9iamVjdD4gPSA8T1VUUFVUPihcbiAgb3B0aW9uczogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICB0b01vZGVsT3V0cHV0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsndG9Nb2RlbE91dHB1dCddO1xuICAgIG9uSW5wdXRTdGFydD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRTdGFydCddO1xuICAgIG9uSW5wdXREZWx0YT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXREZWx0YSddO1xuICAgIG9uSW5wdXRBdmFpbGFibGU/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0QXZhaWxhYmxlJ107XG4gIH0sXG4pID0+IFRvb2w8SU5QVVQsIE9VVFBVVD47XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeTxJTlBVVCwgQVJHUyBleHRlbmRzIG9iamVjdD4oe1xuICBpZCxcbiAgbmFtZSxcbiAgaW5wdXRTY2hlbWEsXG59OiB7XG4gIGlkOiBgJHtzdHJpbmd9LiR7c3RyaW5nfWA7XG4gIG5hbWU6IHN0cmluZztcbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPElOUFVUPjtcbn0pOiBQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeTxJTlBVVCwgQVJHUz4ge1xuICByZXR1cm4gPE9VVFBVVD4oe1xuICAgIGV4ZWN1dGUsXG4gICAgb3V0cHV0U2NoZW1hLFxuICAgIHRvTW9kZWxPdXRwdXQsXG4gICAgb25JbnB1dFN0YXJ0LFxuICAgIG9uSW5wdXREZWx0YSxcbiAgICBvbklucHV0QXZhaWxhYmxlLFxuICAgIC4uLmFyZ3NcbiAgfTogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICBvdXRwdXRTY2hlbWE/OiBGbGV4aWJsZVNjaGVtYTxPVVRQVVQ+O1xuICAgIHRvTW9kZWxPdXRwdXQ/OiBUb29sPElOUFVULCBPVVRQVVQ+Wyd0b01vZGVsT3V0cHV0J107XG4gICAgb25JbnB1dFN0YXJ0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dFN0YXJ0J107XG4gICAgb25JbnB1dERlbHRhPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dERlbHRhJ107XG4gICAgb25JbnB1dEF2YWlsYWJsZT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRBdmFpbGFibGUnXTtcbiAgfSk6IFRvb2w8SU5QVVQsIE9VVFBVVD4gPT5cbiAgICB0b29sKHtcbiAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJyxcbiAgICAgIGlkLFxuICAgICAgbmFtZSxcbiAgICAgIGFyZ3MsXG4gICAgICBpbnB1dFNjaGVtYSxcbiAgICAgIG91dHB1dFNjaGVtYSxcbiAgICAgIGV4ZWN1dGUsXG4gICAgICB0b01vZGVsT3V0cHV0LFxuICAgICAgb25JbnB1dFN0YXJ0LFxuICAgICAgb25JbnB1dERlbHRhLFxuICAgICAgb25JbnB1dEF2YWlsYWJsZSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IHR5cGUgUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hPFxuICBJTlBVVCxcbiAgT1VUUFVULFxuICBBUkdTIGV4dGVuZHMgb2JqZWN0LFxuPiA9IChcbiAgb3B0aW9uczogQVJHUyAmIHtcbiAgICBleGVjdXRlPzogVG9vbEV4ZWN1dGVGdW5jdGlvbjxJTlBVVCwgT1VUUFVUPjtcbiAgICB0b01vZGVsT3V0cHV0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsndG9Nb2RlbE91dHB1dCddO1xuICAgIG9uSW5wdXRTdGFydD86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRTdGFydCddO1xuICAgIG9uSW5wdXREZWx0YT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXREZWx0YSddO1xuICAgIG9uSW5wdXRBdmFpbGFibGU/OiBUb29sPElOUFVULCBPVVRQVVQ+WydvbklucHV0QXZhaWxhYmxlJ107XG4gIH0sXG4pID0+IFRvb2w8SU5QVVQsIE9VVFBVVD47XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeVdpdGhPdXRwdXRTY2hlbWE8XG4gIElOUFVULFxuICBPVVRQVVQsXG4gIEFSR1MgZXh0ZW5kcyBvYmplY3QsXG4+KHtcbiAgaWQsXG4gIG5hbWUsXG4gIGlucHV0U2NoZW1hLFxuICBvdXRwdXRTY2hlbWEsXG59OiB7XG4gIGlkOiBgJHtzdHJpbmd9LiR7c3RyaW5nfWA7XG4gIG5hbWU6IHN0cmluZztcbiAgaW5wdXRTY2hlbWE6IEZsZXhpYmxlU2NoZW1hPElOUFVUPjtcbiAgb3V0cHV0U2NoZW1hOiBGbGV4aWJsZVNjaGVtYTxPVVRQVVQ+O1xufSk6IFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYTxJTlBVVCwgT1VUUFVULCBBUkdTPiB7XG4gIHJldHVybiAoe1xuICAgIGV4ZWN1dGUsXG4gICAgdG9Nb2RlbE91dHB1dCxcbiAgICBvbklucHV0U3RhcnQsXG4gICAgb25JbnB1dERlbHRhLFxuICAgIG9uSW5wdXRBdmFpbGFibGUsXG4gICAgLi4uYXJnc1xuICB9OiBBUkdTICYge1xuICAgIGV4ZWN1dGU/OiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICAgIHRvTW9kZWxPdXRwdXQ/OiBUb29sPElOUFVULCBPVVRQVVQ+Wyd0b01vZGVsT3V0cHV0J107XG4gICAgb25JbnB1dFN0YXJ0PzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dFN0YXJ0J107XG4gICAgb25JbnB1dERlbHRhPzogVG9vbDxJTlBVVCwgT1VUUFVUPlsnb25JbnB1dERlbHRhJ107XG4gICAgb25JbnB1dEF2YWlsYWJsZT86IFRvb2w8SU5QVVQsIE9VVFBVVD5bJ29uSW5wdXRBdmFpbGFibGUnXTtcbiAgfSk6IFRvb2w8SU5QVVQsIE9VVFBVVD4gPT5cbiAgICB0b29sKHtcbiAgICAgIHR5cGU6ICdwcm92aWRlci1kZWZpbmVkJyxcbiAgICAgIGlkLFxuICAgICAgbmFtZSxcbiAgICAgIGFyZ3MsXG4gICAgICBpbnB1dFNjaGVtYSxcbiAgICAgIG91dHB1dFNjaGVtYSxcbiAgICAgIGV4ZWN1dGUsXG4gICAgICB0b01vZGVsT3V0cHV0LFxuICAgICAgb25JbnB1dFN0YXJ0LFxuICAgICAgb25JbnB1dERlbHRhLFxuICAgICAgb25JbnB1dEF2YWlsYWJsZSxcbiAgICB9KTtcbn1cbiIsICIvKipcbiAqIFJlbW92ZXMgZW50cmllcyBmcm9tIGEgcmVjb3JkIHdoZXJlIHRoZSB2YWx1ZSBpcyBudWxsIG9yIHVuZGVmaW5lZC5cbiAqIEBwYXJhbSByZWNvcmQgLSBUaGUgaW5wdXQgb2JqZWN0IHdob3NlIGVudHJpZXMgbWF5IGJlIG51bGwgb3IgdW5kZWZpbmVkLlxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IGNvbnRhaW5pbmcgb25seSBlbnRyaWVzIHdpdGggbm9uLW51bGwgYW5kIG5vbi11bmRlZmluZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkRW50cmllczxUPihcbiAgcmVjb3JkOiBSZWNvcmQ8c3RyaW5nLCBUIHwgdW5kZWZpbmVkPixcbik6IFJlY29yZDxzdHJpbmcsIFQ+IHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhyZWNvcmQpLmZpbHRlcigoW19rZXksIHZhbHVlXSkgPT4gdmFsdWUgIT0gbnVsbCksXG4gICkgYXMgUmVjb3JkPHN0cmluZywgVD47XG59XG4iLCAiZXhwb3J0IHR5cGUgUmVzb2x2YWJsZTxUPiA9XG4gIHwgVCAvLyBSYXcgdmFsdWVcbiAgfCBQcm9taXNlPFQ+IC8vIFByb21pc2Ugb2YgdmFsdWVcbiAgfCAoKCkgPT4gVCkgLy8gRnVuY3Rpb24gcmV0dXJuaW5nIHZhbHVlXG4gIHwgKCgpID0+IFByb21pc2U8VD4pOyAvLyBGdW5jdGlvbiByZXR1cm5pbmcgcHJvbWlzZSBvZiB2YWx1ZVxuXG4vKipcbiAqIFJlc29sdmVzIGEgdmFsdWUgdGhhdCBjb3VsZCBiZSBhIHJhdyB2YWx1ZSwgYSBQcm9taXNlLCBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHZhbHVlLFxuICogb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBQcm9taXNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZTxUPih2YWx1ZTogUmVzb2x2YWJsZTxUPik6IFByb21pc2U8VD4ge1xuICAvLyBJZiBpdCdzIGEgZnVuY3Rpb24sIGNhbGwgaXQgdG8gZ2V0IHRoZSB2YWx1ZS9wcm9taXNlXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YWx1ZSA9ICh2YWx1ZSBhcyBGdW5jdGlvbikoKTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSBqdXN0IHJlc29sdmUgd2hhdGV2ZXIgd2UgZ290ICh2YWx1ZSBvciBwcm9taXNlKVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlIGFzIFQpO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciwgRW1wdHlSZXNwb25zZUJvZHlFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgWm9kVHlwZSB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBleHRyYWN0UmVzcG9uc2VIZWFkZXJzIH0gZnJvbSAnLi9leHRyYWN0LXJlc3BvbnNlLWhlYWRlcnMnO1xuaW1wb3J0IHsgcGFyc2VKU09OLCBQYXJzZVJlc3VsdCwgc2FmZVBhcnNlSlNPTiB9IGZyb20gJy4vcGFyc2UtanNvbic7XG5pbXBvcnQgeyBwYXJzZUpzb25FdmVudFN0cmVhbSB9IGZyb20gJy4vcGFyc2UtanNvbi1ldmVudC1zdHJlYW0nO1xuaW1wb3J0IHsgRmxleGlibGVWYWxpZGF0b3IgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5cbmV4cG9ydCB0eXBlIFJlc3BvbnNlSGFuZGxlcjxSRVRVUk5fVFlQRT4gPSAob3B0aW9uczoge1xuICB1cmw6IHN0cmluZztcbiAgcmVxdWVzdEJvZHlWYWx1ZXM6IHVua25vd247XG4gIHJlc3BvbnNlOiBSZXNwb25zZTtcbn0pID0+IFByb21pc2VMaWtlPHtcbiAgdmFsdWU6IFJFVFVSTl9UWVBFO1xuICByYXdWYWx1ZT86IHVua25vd247XG4gIHJlc3BvbnNlSGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59PjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciA9XG4gIDxUPih7XG4gICAgZXJyb3JTY2hlbWEsXG4gICAgZXJyb3JUb01lc3NhZ2UsXG4gICAgaXNSZXRyeWFibGUsXG4gIH06IHtcbiAgICBlcnJvclNjaGVtYTogRmxleGlibGVWYWxpZGF0b3I8VD47XG4gICAgZXJyb3JUb01lc3NhZ2U6IChlcnJvcjogVCkgPT4gc3RyaW5nO1xuICAgIGlzUmV0cnlhYmxlPzogKHJlc3BvbnNlOiBSZXNwb25zZSwgZXJyb3I/OiBUKSA9PiBib29sZWFuO1xuICB9KTogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIC8vIFNvbWUgcHJvdmlkZXJzIHJldHVybiBhbiBlbXB0eSByZXNwb25zZSBib2R5IGZvciBzb21lIGVycm9yczpcbiAgICBpZiAocmVzcG9uc2VCb2R5LnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZT8uKHJlc3BvbnNlKSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHJlc2lsaWVudCBwYXJzaW5nIGluIGNhc2UgdGhlIHJlc3BvbnNlIGlzIG5vdCBKU09OIG9yIGRvZXMgbm90IG1hdGNoIHRoZSBzY2hlbWE6XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZEVycm9yID0gYXdhaXQgcGFyc2VKU09OKHtcbiAgICAgICAgdGV4dDogcmVzcG9uc2VCb2R5LFxuICAgICAgICBzY2hlbWE6IGVycm9yU2NoZW1hLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVG9NZXNzYWdlKHBhcnNlZEVycm9yKSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgICAgZGF0YTogcGFyc2VkRXJyb3IsXG4gICAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlPy4ocmVzcG9uc2UsIHBhcnNlZEVycm9yKSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiBpc1JldHJ5YWJsZT8uKHJlc3BvbnNlKSxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyID1cbiAgPFQ+KFxuICAgIGNodW5rU2NoZW1hOiBGbGV4aWJsZVZhbGlkYXRvcjxUPixcbiAgKTogUmVzcG9uc2VIYW5kbGVyPFJlYWRhYmxlU3RyZWFtPFBhcnNlUmVzdWx0PFQ+Pj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UgfTogeyByZXNwb25zZTogUmVzcG9uc2UgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKHJlc3BvbnNlLmJvZHkgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcGFyc2VKc29uRXZlbnRTdHJlYW0oe1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWEsXG4gICAgICB9KSxcbiAgICB9O1xuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlSnNvblN0cmVhbVJlc3BvbnNlSGFuZGxlciA9XG4gIDxUPihcbiAgICBjaHVua1NjaGVtYTogWm9kVHlwZTxUPixcbiAgKTogUmVzcG9uc2VIYW5kbGVyPFJlYWRhYmxlU3RyZWFtPFBhcnNlUmVzdWx0PFQ+Pj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UgfTogeyByZXNwb25zZTogUmVzcG9uc2UgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuXG4gICAgaWYgKHJlc3BvbnNlLmJvZHkgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICAgIH1cblxuICAgIGxldCBidWZmZXIgPSAnJztcblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08c3RyaW5nLCBQYXJzZVJlc3VsdDxUPj4oe1xuICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVua1RleHQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChjaHVua1RleHQuZW5kc1dpdGgoJ1xcbicpKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICBhd2FpdCBzYWZlUGFyc2VKU09OKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGJ1ZmZlciArIGNodW5rVGV4dCxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWEsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVmZmVyICs9IGNodW5rVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgfTtcbiAgfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIgPVxuICA8VD4ocmVzcG9uc2VTY2hlbWE6IEZsZXhpYmxlVmFsaWRhdG9yPFQ+KTogUmVzcG9uc2VIYW5kbGVyPFQ+ID0+XG4gIGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cbiAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHtcbiAgICAgIHRleHQ6IHJlc3BvbnNlQm9keSxcbiAgICAgIHNjaGVtYTogcmVzcG9uc2VTY2hlbWEsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcblxuICAgIGlmICghcGFyc2VkUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBKU09OIHJlc3BvbnNlJyxcbiAgICAgICAgY2F1c2U6IHBhcnNlZFJlc3VsdC5lcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogcGFyc2VkUmVzdWx0LnZhbHVlLFxuICAgICAgcmF3VmFsdWU6IHBhcnNlZFJlc3VsdC5yYXdWYWx1ZSxcbiAgICB9O1xuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQmluYXJ5UmVzcG9uc2VIYW5kbGVyID1cbiAgKCk6IFJlc3BvbnNlSGFuZGxlcjxVaW50OEFycmF5PiA9PlxuICBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnUmVzcG9uc2UgYm9keSBpcyBlbXB0eScsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHk6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHJlYWQgcmVzcG9uc2UgYXMgYXJyYXkgYnVmZmVyJyxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keTogdW5kZWZpbmVkLFxuICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdGF0dXNDb2RlRXJyb3JSZXNwb25zZUhhbmRsZXIgPVxuICAoKTogUmVzcG9uc2VIYW5kbGVyPEFQSUNhbGxFcnJvcj4gPT5cbiAgYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHJlcXVlc3RCb2R5VmFsdWVzIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgfSksXG4gICAgfTtcbiAgfTtcbiIsICJpbXBvcnQgeyBKU09OU2NoZW1hNyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0ICogYXMgejMgZnJvbSAnem9kL3YzJztcbmltcG9ydCAqIGFzIHo0IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgem9kVG9Kc29uU2NoZW1hIGZyb20gJy4vem9kLXRvLWpzb24tc2NoZW1hJztcbmltcG9ydCB7IGpzb25TY2hlbWEsIFNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuZXhwb3J0IGZ1bmN0aW9uIHpvZDNTY2hlbWE8T0JKRUNUPihcbiAgem9kU2NoZW1hOiB6My5TY2hlbWE8T0JKRUNULCB6My5ab2RUeXBlRGVmLCBhbnk+LFxuICBvcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgc3VwcG9ydCBmb3IgcmVmZXJlbmNlcyBpbiB0aGUgc2NoZW1hLlxuICAgICAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHJlY3Vyc2l2ZSBzY2hlbWFzLCBlLmcuIHdpdGggYHoubGF6eWAuXG4gICAgICogSG93ZXZlciwgbm90IGFsbCBsYW5ndWFnZSBtb2RlbHMgYW5kIHByb3ZpZGVycyBzdXBwb3J0IHN1Y2ggcmVmZXJlbmNlcy5cbiAgICAgKiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIHVzZVJlZmVyZW5jZXM/OiBib29sZWFuO1xuICB9LFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICAvLyBkZWZhdWx0IHRvIG5vIHJlZmVyZW5jZXMgKHRvIHN1cHBvcnQgb3BlbmFwaSBjb252ZXJzaW9uIGZvciBnb29nbGUpXG4gIGNvbnN0IHVzZVJlZmVyZW5jZXMgPSBvcHRpb25zPy51c2VSZWZlcmVuY2VzID8/IGZhbHNlO1xuXG4gIHJldHVybiBqc29uU2NoZW1hKFxuICAgIC8vIGRlZmVyIGpzb24gc2NoZW1hIGNyZWF0aW9uIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbXB1dGF0aW9uIHdoZW4gb25seSB2YWxpZGF0aW9uIGlzIG5lZWRlZFxuICAgICgpID0+XG4gICAgICB6b2RUb0pzb25TY2hlbWEoem9kU2NoZW1hLCB7XG4gICAgICAgICRyZWZTdHJhdGVneTogdXNlUmVmZXJlbmNlcyA/ICdyb290JyA6ICdub25lJyxcbiAgICAgIH0pIGFzIEpTT05TY2hlbWE3LFxuICAgIHtcbiAgICAgIHZhbGlkYXRlOiBhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHpvZFNjaGVtYS5zYWZlUGFyc2VBc3luYyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3VjY2Vzc1xuICAgICAgICAgID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfVxuICAgICAgICAgIDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICAgICAgfSxcbiAgICB9LFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gem9kNFNjaGVtYTxPQkpFQ1Q+KFxuICB6b2RTY2hlbWE6IHo0LmNvcmUuJFpvZFR5cGU8T0JKRUNULCBhbnk+LFxuICBvcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgc3VwcG9ydCBmb3IgcmVmZXJlbmNlcyBpbiB0aGUgc2NoZW1hLlxuICAgICAqIFRoaXMgaXMgcmVxdWlyZWQgZm9yIHJlY3Vyc2l2ZSBzY2hlbWFzLCBlLmcuIHdpdGggYHoubGF6eWAuXG4gICAgICogSG93ZXZlciwgbm90IGFsbCBsYW5ndWFnZSBtb2RlbHMgYW5kIHByb3ZpZGVycyBzdXBwb3J0IHN1Y2ggcmVmZXJlbmNlcy5cbiAgICAgKiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAqL1xuICAgIHVzZVJlZmVyZW5jZXM/OiBib29sZWFuO1xuICB9LFxuKTogU2NoZW1hPE9CSkVDVD4ge1xuICAvLyBkZWZhdWx0IHRvIG5vIHJlZmVyZW5jZXMgKHRvIHN1cHBvcnQgb3BlbmFwaSBjb252ZXJzaW9uIGZvciBnb29nbGUpXG4gIGNvbnN0IHVzZVJlZmVyZW5jZXMgPSBvcHRpb25zPy51c2VSZWZlcmVuY2VzID8/IGZhbHNlO1xuXG4gIHJldHVybiBqc29uU2NoZW1hKFxuICAgIC8vIGRlZmVyIGpzb24gc2NoZW1hIGNyZWF0aW9uIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbXB1dGF0aW9uIHdoZW4gb25seSB2YWxpZGF0aW9uIGlzIG5lZWRlZFxuICAgICgpID0+XG4gICAgICB6NC50b0pTT05TY2hlbWEoem9kU2NoZW1hLCB7XG4gICAgICAgIHRhcmdldDogJ2RyYWZ0LTcnLFxuICAgICAgICBpbzogJ291dHB1dCcsXG4gICAgICAgIHJldXNlZDogdXNlUmVmZXJlbmNlcyA/ICdyZWYnIDogJ2lubGluZScsXG4gICAgICB9KSBhcyBKU09OU2NoZW1hNyxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB6NC5zYWZlUGFyc2VBc3luYyh6b2RTY2hlbWEsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzXG4gICAgICAgICAgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9XG4gICAgICAgICAgOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gICAgICB9LFxuICAgIH0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1pvZDRTY2hlbWEoXG4gIHpvZFNjaGVtYTogejQuY29yZS4kWm9kVHlwZTxhbnksIGFueT4gfCB6My5TY2hlbWE8YW55LCB6My5ab2RUeXBlRGVmLCBhbnk+LFxuKTogem9kU2NoZW1hIGlzIHo0LmNvcmUuJFpvZFR5cGU8YW55LCBhbnk+IHtcbiAgLy8gaHR0cHM6Ly96b2QuZGV2L2xpYnJhcnktYXV0aG9ycz9pZD1ob3ctdG8tc3VwcG9ydC16b2QtMy1hbmQtem9kLTQtc2ltdWx0YW5lb3VzbHlcbiAgcmV0dXJuICdfem9kJyBpbiB6b2RTY2hlbWE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB6b2RTY2hlbWE8T0JKRUNUPihcbiAgem9kU2NoZW1hOlxuICAgIHwgejQuY29yZS4kWm9kVHlwZTxPQkpFQ1QsIGFueT5cbiAgICB8IHozLlNjaGVtYTxPQkpFQ1QsIHozLlpvZFR5cGVEZWYsIGFueT4sXG4gIG9wdGlvbnM/OiB7XG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBzdXBwb3J0IGZvciByZWZlcmVuY2VzIGluIHRoZSBzY2hlbWEuXG4gICAgICogVGhpcyBpcyByZXF1aXJlZCBmb3IgcmVjdXJzaXZlIHNjaGVtYXMsIGUuZy4gd2l0aCBgei5sYXp5YC5cbiAgICAgKiBIb3dldmVyLCBub3QgYWxsIGxhbmd1YWdlIG1vZGVscyBhbmQgcHJvdmlkZXJzIHN1cHBvcnQgc3VjaCByZWZlcmVuY2VzLlxuICAgICAqIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAgICovXG4gICAgdXNlUmVmZXJlbmNlcz86IGJvb2xlYW47XG4gIH0sXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIGlmIChpc1pvZDRTY2hlbWEoem9kU2NoZW1hKSkge1xuICAgIHJldHVybiB6b2Q0U2NoZW1hKHpvZFNjaGVtYSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHpvZDNTY2hlbWEoem9kU2NoZW1hLCBvcHRpb25zKTtcbiAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEE6IHN0cmluZ1tdLCBwYXRoQjogc3RyaW5nW10pID0+IHtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKSBicmVhaztcbiAgfVxuICByZXR1cm4gWyhwYXRoQS5sZW5ndGggLSBpKS50b1N0cmluZygpLCAuLi5wYXRoQi5zbGljZShpKV0uam9pbignLycpO1xufTtcbiIsICJpbXBvcnQgeyBab2RTY2hlbWEsIFpvZFR5cGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgUmVmcywgU2VlbiB9IGZyb20gJy4vcmVmcyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgRGF0ZVN0cmF0ZWd5ID1cbiAgfCAnZm9ybWF0OmRhdGUtdGltZSdcbiAgfCAnZm9ybWF0OmRhdGUnXG4gIHwgJ3N0cmluZydcbiAgfCAnaW50ZWdlcic7XG5cbmV4cG9ydCBjb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbChcbiAgJ0xldCB6b2RUb0pzb25TY2hlbWEgZGVjaWRlIG9uIHdoaWNoIHBhcnNlciB0byB1c2UnLFxuKTtcblxuZXhwb3J0IHR5cGUgT3ZlcnJpZGVDYWxsYmFjayA9IChcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuICBzZWVuOiBTZWVuIHwgdW5kZWZpbmVkLFxuICBmb3JjZVJlc29sdXRpb24/OiBib29sZWFuLFxuKSA9PiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQgfCB0eXBlb2YgaWdub3JlT3ZlcnJpZGU7XG5cbmV4cG9ydCB0eXBlIFBvc3RQcm9jZXNzQ2FsbGJhY2sgPSAoXG4gIGpzb25TY2hlbWE6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCxcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuKSA9PiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBqc29uRGVzY3JpcHRpb246IFBvc3RQcm9jZXNzQ2FsbGJhY2sgPSAoanNvblNjaGVtYSwgZGVmKSA9PiB7XG4gIGlmIChkZWYuZGVzY3JpcHRpb24pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uanNvblNjaGVtYSxcbiAgICAgICAgLi4uSlNPTi5wYXJzZShkZWYuZGVzY3JpcHRpb24pLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICByZXR1cm4ganNvblNjaGVtYTtcbn07XG5cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSB7XG4gIG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgJHJlZlN0cmF0ZWd5OiAncm9vdCcgfCAncmVsYXRpdmUnIHwgJ25vbmUnIHwgJ3NlZW4nO1xuICBiYXNlUGF0aDogc3RyaW5nW107XG4gIGVmZmVjdFN0cmF0ZWd5OiAnaW5wdXQnIHwgJ2FueSc7XG4gIHBpcGVTdHJhdGVneTogJ2lucHV0JyB8ICdvdXRwdXQnIHwgJ2FsbCc7XG4gIGRhdGVTdHJhdGVneTogRGF0ZVN0cmF0ZWd5IHwgRGF0ZVN0cmF0ZWd5W107XG4gIG1hcFN0cmF0ZWd5OiAnZW50cmllcycgfCAncmVjb3JkJztcbiAgcmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5OiAncGFzc3Rocm91Z2gnIHwgJ3N0cmljdCc7XG4gIGFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSB8IHVuZGVmaW5lZDtcbiAgcmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UgfCB1bmRlZmluZWQ7XG4gIHN0cmljdFVuaW9uczogYm9vbGVhbjtcbiAgZGVmaW5pdGlvblBhdGg6IHN0cmluZztcbiAgZGVmaW5pdGlvbnM6IFJlY29yZDxzdHJpbmcsIFpvZFNjaGVtYT47XG4gIGVycm9yTWVzc2FnZXM6IGJvb2xlYW47XG4gIHBhdHRlcm5TdHJhdGVneTogJ2VzY2FwZScgfCAncHJlc2VydmUnO1xuICBhcHBseVJlZ2V4RmxhZ3M6IGJvb2xlYW47XG4gIGVtYWlsU3RyYXRlZ3k6ICdmb3JtYXQ6ZW1haWwnIHwgJ2Zvcm1hdDppZG4tZW1haWwnIHwgJ3BhdHRlcm46em9kJztcbiAgYmFzZTY0U3RyYXRlZ3k6ICdmb3JtYXQ6YmluYXJ5JyB8ICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0JyB8ICdwYXR0ZXJuOnpvZCc7XG4gIG5hbWVTdHJhdGVneTogJ3JlZicgfCAndGl0bGUnO1xuICBvdmVycmlkZT86IE92ZXJyaWRlQ2FsbGJhY2s7XG4gIHBvc3RQcm9jZXNzPzogUG9zdFByb2Nlc3NDYWxsYmFjaztcbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgbmFtZTogdW5kZWZpbmVkLFxuICAkcmVmU3RyYXRlZ3k6ICdyb290JyxcbiAgYmFzZVBhdGg6IFsnIyddLFxuICBlZmZlY3RTdHJhdGVneTogJ2lucHV0JyxcbiAgcGlwZVN0cmF0ZWd5OiAnYWxsJyxcbiAgZGF0ZVN0cmF0ZWd5OiAnZm9ybWF0OmRhdGUtdGltZScsXG4gIG1hcFN0cmF0ZWd5OiAnZW50cmllcycsXG4gIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogJ3Bhc3N0aHJvdWdoJyxcbiAgYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlLFxuICByZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgZGVmaW5pdGlvblBhdGg6ICdkZWZpbml0aW9ucycsXG4gIHN0cmljdFVuaW9uczogZmFsc2UsXG4gIGRlZmluaXRpb25zOiB7fSxcbiAgZXJyb3JNZXNzYWdlczogZmFsc2UsXG4gIHBhdHRlcm5TdHJhdGVneTogJ2VzY2FwZScsXG4gIGFwcGx5UmVnZXhGbGFnczogZmFsc2UsXG4gIGVtYWlsU3RyYXRlZ3k6ICdmb3JtYXQ6ZW1haWwnLFxuICBiYXNlNjRTdHJhdGVneTogJ2NvbnRlbnRFbmNvZGluZzpiYXNlNjQnLFxuICBuYW1lU3RyYXRlZ3k6ICdyZWYnLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRPcHRpb25zID0gKFxuICBvcHRpb25zOiBQYXJ0aWFsPE9wdGlvbnM+IHwgc3RyaW5nIHwgdW5kZWZpbmVkLFxuKSA9PlxuICAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnXG4gICAgPyB7XG4gICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICBuYW1lOiBvcHRpb25zLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIH0pIGFzIE9wdGlvbnM7XG4iLCAiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2FueSc7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2FycmF5JztcbmltcG9ydCB7IHBhcnNlQmlnaW50RGVmIH0gZnJvbSAnLi9wYXJzZXJzL2JpZ2ludCc7XG5pbXBvcnQgeyBwYXJzZUJvb2xlYW5EZWYgfSBmcm9tICcuL3BhcnNlcnMvYm9vbGVhbic7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tICcuL3BhcnNlcnMvYnJhbmRlZCc7XG5pbXBvcnQgeyBwYXJzZUNhdGNoRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2NhdGNoJztcbmltcG9ydCB7IHBhcnNlRGF0ZURlZiB9IGZyb20gJy4vcGFyc2Vycy9kYXRlJztcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gJy4vcGFyc2Vycy9kZWZhdWx0JztcbmltcG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9IGZyb20gJy4vcGFyc2Vycy9lZmZlY3RzJztcbmltcG9ydCB7IHBhcnNlRW51bURlZiB9IGZyb20gJy4vcGFyc2Vycy9lbnVtJztcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSAnLi9wYXJzZXJzL2ludGVyc2VjdGlvbic7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tICcuL3BhcnNlcnMvbGl0ZXJhbCc7XG5pbXBvcnQgeyBwYXJzZU1hcERlZiB9IGZyb20gJy4vcGFyc2Vycy9tYXAnO1xuaW1wb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH0gZnJvbSAnLi9wYXJzZXJzL25hdGl2ZS1lbnVtJztcbmltcG9ydCB7IHBhcnNlTmV2ZXJEZWYgfSBmcm9tICcuL3BhcnNlcnMvbmV2ZXInO1xuaW1wb3J0IHsgcGFyc2VOdWxsRGVmIH0gZnJvbSAnLi9wYXJzZXJzL251bGwnO1xuaW1wb3J0IHsgcGFyc2VOdWxsYWJsZURlZiB9IGZyb20gJy4vcGFyc2Vycy9udWxsYWJsZSc7XG5pbXBvcnQgeyBwYXJzZU51bWJlckRlZiB9IGZyb20gJy4vcGFyc2Vycy9udW1iZXInO1xuaW1wb3J0IHsgcGFyc2VPYmplY3REZWYgfSBmcm9tICcuL3BhcnNlcnMvb2JqZWN0JztcbmltcG9ydCB7IHBhcnNlT3B0aW9uYWxEZWYgfSBmcm9tICcuL3BhcnNlcnMvb3B0aW9uYWwnO1xuaW1wb3J0IHsgcGFyc2VQaXBlbGluZURlZiB9IGZyb20gJy4vcGFyc2Vycy9waXBlbGluZSc7XG5pbXBvcnQgeyBwYXJzZVByb21pc2VEZWYgfSBmcm9tICcuL3BhcnNlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gJy4vcGFyc2Vycy9yZWNvcmQnO1xuaW1wb3J0IHsgcGFyc2VTZXREZWYgfSBmcm9tICcuL3BhcnNlcnMvc2V0JztcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3N0cmluZyc7XG5pbXBvcnQgeyBwYXJzZVR1cGxlRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3R1cGxlJztcbmltcG9ydCB7IHBhcnNlVW5kZWZpbmVkRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3VuZGVmaW5lZCc7XG5pbXBvcnQgeyBwYXJzZVVuaW9uRGVmIH0gZnJvbSAnLi9wYXJzZXJzL3VuaW9uJztcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gJy4vcGFyc2Vycy91bmtub3duJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gJy4vcGFyc2Vycy9yZWFkb25seSc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgSW5uZXJEZWZHZXR0ZXIgPSAoKSA9PiBhbnk7XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RQYXJzZXIgPSAoXG4gIGRlZjogYW55LFxuICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHwgSW5uZXJEZWZHZXR0ZXIgPT4ge1xuICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOlxuICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyOlxuICAgICAgcmV0dXJuIHBhcnNlTnVtYmVyRGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0OlxuICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OlxuICAgICAgcmV0dXJuIHBhcnNlQmlnaW50RGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbjpcbiAgICAgIHJldHVybiBwYXJzZUJvb2xlYW5EZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlOlxuICAgICAgcmV0dXJuIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDpcbiAgICAgIHJldHVybiBwYXJzZVVuZGVmaW5lZERlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGw6XG4gICAgICByZXR1cm4gcGFyc2VOdWxsRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6XG4gICAgICByZXR1cm4gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uOlxuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjpcbiAgICAgIHJldHVybiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uOlxuICAgICAgcmV0dXJuIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGU6XG4gICAgICByZXR1cm4gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcbiAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWw6XG4gICAgICByZXR1cm4gcGFyc2VMaXRlcmFsRGVmKGRlZik7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bTpcbiAgICAgIHJldHVybiBwYXJzZUVudW1EZWYoZGVmKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOlxuICAgICAgcmV0dXJuIHBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlOlxuICAgICAgcmV0dXJuIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbDpcbiAgICAgIHJldHVybiBwYXJzZU9wdGlvbmFsRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwOlxuICAgICAgcmV0dXJuIHBhcnNlTWFwRGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0OlxuICAgICAgcmV0dXJuIHBhcnNlU2V0RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eTpcbiAgICAgIHJldHVybiAoKSA9PiAoZGVmIGFzIGFueSkuZ2V0dGVyKCkuX2RlZjtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxuICAgICAgcmV0dXJuIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTjpcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcjpcbiAgICAgIHJldHVybiBwYXJzZU5ldmVyRGVmKCk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0czpcbiAgICAgIHJldHVybiBwYXJzZUVmZmVjdHNEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnk6XG4gICAgICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOlxuICAgICAgcmV0dXJuIHBhcnNlVW5rbm93bkRlZigpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQ6XG4gICAgICByZXR1cm4gcGFyc2VEZWZhdWx0RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDpcbiAgICAgIHJldHVybiBwYXJzZUJyYW5kZWREZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seTpcbiAgICAgIHJldHVybiBwYXJzZVJlYWRvbmx5RGVmKGRlZiwgcmVmcyk7XG4gICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6XG4gICAgICByZXR1cm4gcGFyc2VDYXRjaERlZihkZWYsIHJlZnMpO1xuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lOlxuICAgICAgcmV0dXJuIHBhcnNlUGlwZWxpbmVEZWYoZGVmLCByZWZzKTtcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbjpcbiAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkOlxuICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm4gKChfOiBuZXZlcikgPT4gdW5kZWZpbmVkKSh0eXBlTmFtZSk7XG4gIH1cbn07XG4iLCAiZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdBbnlUeXBlID0geyAkcmVmPzogc3RyaW5nIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFueURlZigpOiBKc29uU2NoZW1hN0FueVR5cGUge1xuICByZXR1cm4ge307XG59XG4iLCAiaW1wb3J0IHsgWm9kQXJyYXlEZWYsIFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3QXJyYXlUeXBlID0ge1xuICB0eXBlOiAnYXJyYXknO1xuICBpdGVtcz86IEpzb25TY2hlbWE3VHlwZTtcbiAgbWluSXRlbXM/OiBudW1iZXI7XG4gIG1heEl0ZW1zPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXJyYXlEZWYoZGVmOiBab2RBcnJheURlZiwgcmVmczogUmVmcykge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3QXJyYXlUeXBlID0ge1xuICAgIHR5cGU6ICdhcnJheScsXG4gIH07XG4gIGlmIChcbiAgICBkZWYudHlwZT8uX2RlZiAmJlxuICAgIGRlZi50eXBlPy5fZGVmPy50eXBlTmFtZSAhPT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueVxuICApIHtcbiAgICByZXMuaXRlbXMgPSBwYXJzZURlZihkZWYudHlwZS5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChkZWYubWluTGVuZ3RoKSB7XG4gICAgcmVzLm1pbkl0ZW1zID0gZGVmLm1pbkxlbmd0aC52YWx1ZTtcbiAgfVxuICBpZiAoZGVmLm1heExlbmd0aCkge1xuICAgIHJlcy5tYXhJdGVtcyA9IGRlZi5tYXhMZW5ndGgudmFsdWU7XG4gIH1cbiAgaWYgKGRlZi5leGFjdExlbmd0aCkge1xuICAgIHJlcy5taW5JdGVtcyA9IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICByZXMubWF4SXRlbXMgPSBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbiIsICJpbXBvcnQgeyBab2RCaWdJbnREZWYgfSBmcm9tICd6b2QvdjMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0JpZ2ludFR5cGUgPSB7XG4gIHR5cGU6ICdpbnRlZ2VyJztcbiAgZm9ybWF0OiAnaW50NjQnO1xuICBtaW5pbXVtPzogQmlnSW50O1xuICBleGNsdXNpdmVNaW5pbXVtPzogQmlnSW50O1xuICBtYXhpbXVtPzogQmlnSW50O1xuICBleGNsdXNpdmVNYXhpbXVtPzogQmlnSW50O1xuICBtdWx0aXBsZU9mPzogQmlnSW50O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZjogWm9kQmlnSW50RGVmKTogSnNvblNjaGVtYTdCaWdpbnRUeXBlIHtcbiAgY29uc3QgcmVzOiBKc29uU2NoZW1hN0JpZ2ludFR5cGUgPSB7XG4gICAgdHlwZTogJ2ludGVnZXInLFxuICAgIGZvcm1hdDogJ2ludDY0JyxcbiAgfTtcblxuICBpZiAoIWRlZi5jaGVja3MpIHJldHVybiByZXM7XG5cbiAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICBjYXNlICdtaW4nOlxuICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgcmVzLm1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgIHJlcy5tYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgIHJlcy5tdWx0aXBsZU9mID0gY2hlY2sudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuIiwgImV4cG9ydCB0eXBlIEpzb25TY2hlbWE3Qm9vbGVhblR5cGUgPSB7XG4gIHR5cGU6ICdib29sZWFuJztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKTogSnNvblNjaGVtYTdCb29sZWFuVHlwZSB7XG4gIHJldHVybiB7IHR5cGU6ICdib29sZWFuJyB9O1xufVxuIiwgImltcG9ydCB7IFpvZEJyYW5kZWREZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCcmFuZGVkRGVmKF9kZWY6IFpvZEJyYW5kZWREZWY8YW55PiwgcmVmczogUmVmcykge1xuICByZXR1cm4gcGFyc2VEZWYoX2RlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuIiwgImltcG9ydCB7IFpvZENhdGNoRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmOiBab2RDYXRjaERlZjxhbnk+LCByZWZzOiBSZWZzKSA9PiB7XG4gIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbiIsICJpbXBvcnQgeyBab2REYXRlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IERhdGVTdHJhdGVneSB9IGZyb20gJy4uL29wdGlvbnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0RhdGVUeXBlID1cbiAgfCB7XG4gICAgICB0eXBlOiAnaW50ZWdlcicgfCAnc3RyaW5nJztcbiAgICAgIGZvcm1hdDogJ3VuaXgtdGltZScgfCAnZGF0ZS10aW1lJyB8ICdkYXRlJztcbiAgICAgIG1pbmltdW0/OiBudW1iZXI7XG4gICAgICBtYXhpbXVtPzogbnVtYmVyO1xuICAgIH1cbiAgfCB7XG4gICAgICBhbnlPZjogSnNvblNjaGVtYTdEYXRlVHlwZVtdO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURhdGVEZWYoXG4gIGRlZjogWm9kRGF0ZURlZixcbiAgcmVmczogUmVmcyxcbiAgb3ZlcnJpZGVEYXRlU3RyYXRlZ3k/OiBEYXRlU3RyYXRlZ3ksXG4pOiBKc29uU2NoZW1hN0RhdGVUeXBlIHtcbiAgY29uc3Qgc3RyYXRlZ3kgPSBvdmVycmlkZURhdGVTdHJhdGVneSA/PyByZWZzLmRhdGVTdHJhdGVneTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShzdHJhdGVneSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYW55T2Y6IHN0cmF0ZWd5Lm1hcCgoaXRlbSwgaSkgPT4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgaXRlbSkpLFxuICAgIH07XG4gIH1cblxuICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICdmb3JtYXQ6ZGF0ZS10aW1lJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBmb3JtYXQ6ICdkYXRlLXRpbWUnLFxuICAgICAgfTtcbiAgICBjYXNlICdmb3JtYXQ6ZGF0ZSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZm9ybWF0OiAnZGF0ZScsXG4gICAgICB9O1xuICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZik7XG4gIH1cbn1cblxuY29uc3QgaW50ZWdlckRhdGVQYXJzZXIgPSAoZGVmOiBab2REYXRlRGVmKSA9PiB7XG4gIGNvbnN0IHJlczogSnNvblNjaGVtYTdEYXRlVHlwZSA9IHtcbiAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgZm9ybWF0OiAndW5peC10aW1lJyxcbiAgfTtcblxuICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgIHJlcy5taW5pbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgcmVzLm1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG4iLCAiaW1wb3J0IHsgWm9kRGVmYXVsdERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoXG4gIF9kZWY6IFpvZERlZmF1bHREZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgJiB7IGRlZmF1bHQ6IGFueSB9IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5wYXJzZURlZihfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSxcbiAgICBkZWZhdWx0OiBfZGVmLmRlZmF1bHRWYWx1ZSgpLFxuICB9O1xufVxuIiwgImltcG9ydCB7IFpvZEVmZmVjdHNEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoXG4gIF9kZWY6IFpvZEVmZmVjdHNEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQge1xuICByZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gJ2lucHV0J1xuICAgID8gcGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcylcbiAgICA6IHBhcnNlQW55RGVmKCk7XG59XG4iLCAiaW1wb3J0IHsgWm9kRW51bURlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3RW51bVR5cGUgPSB7XG4gIHR5cGU6ICdzdHJpbmcnO1xuICBlbnVtOiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmOiBab2RFbnVtRGVmKTogSnNvblNjaGVtYTdFbnVtVHlwZSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ3N0cmluZycsXG4gICAgZW51bTogQXJyYXkuZnJvbShkZWYudmFsdWVzKSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBab2RJbnRlcnNlY3Rpb25EZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdTdHJpbmdUeXBlIH0gZnJvbSAnLi9zdHJpbmcnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN0FsbE9mVHlwZSA9IHtcbiAgYWxsT2Y6IEpzb25TY2hlbWE3VHlwZVtdO1xuICB1bmV2YWx1YXRlZFByb3BlcnRpZXM/OiBib29sZWFuO1xufTtcblxuY29uc3QgaXNKc29uU2NoZW1hN0FsbE9mVHlwZSA9IChcbiAgdHlwZTogSnNvblNjaGVtYTdUeXBlIHwgSnNvblNjaGVtYTdTdHJpbmdUeXBlLFxuKTogdHlwZSBpcyBKc29uU2NoZW1hN0FsbE9mVHlwZSA9PiB7XG4gIGlmICgndHlwZScgaW4gdHlwZSAmJiB0eXBlLnR5cGUgPT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAnYWxsT2YnIGluIHR5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoXG4gIGRlZjogWm9kSW50ZXJzZWN0aW9uRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdBbGxPZlR5cGUgfCBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQge1xuICBjb25zdCBhbGxPZiA9IFtcbiAgICBwYXJzZURlZihkZWYubGVmdC5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMCddLFxuICAgIH0pLFxuICAgIHBhcnNlRGVmKGRlZi5yaWdodC5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMSddLFxuICAgIH0pLFxuICBdLmZpbHRlcigoeCk6IHggaXMgSnNvblNjaGVtYTdUeXBlID0+ICEheCk7XG5cbiAgY29uc3QgbWVyZ2VkQWxsT2Y6IEpzb25TY2hlbWE3VHlwZVtdID0gW107XG4gIC8vIElmIGVpdGhlciBvZiB0aGUgc2NoZW1hcyBpcyBhbiBhbGxPZiwgbWVyZ2UgdGhlbSBpbnRvIGEgc2luZ2xlIGFsbE9mXG4gIGFsbE9mLmZvckVhY2goc2NoZW1hID0+IHtcbiAgICBpZiAoaXNKc29uU2NoZW1hN0FsbE9mVHlwZShzY2hlbWEpKSB7XG4gICAgICBtZXJnZWRBbGxPZi5wdXNoKC4uLnNjaGVtYS5hbGxPZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBuZXN0ZWRTY2hlbWE6IEpzb25TY2hlbWE3VHlwZSA9IHNjaGVtYTtcbiAgICAgIGlmIChcbiAgICAgICAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiBzY2hlbWEgJiZcbiAgICAgICAgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHsgYWRkaXRpb25hbFByb3BlcnRpZXMsIC4uLnJlc3QgfSA9IHNjaGVtYTtcbiAgICAgICAgbmVzdGVkU2NoZW1hID0gcmVzdDtcbiAgICAgIH1cbiAgICAgIG1lcmdlZEFsbE9mLnB1c2gobmVzdGVkU2NoZW1hKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWVyZ2VkQWxsT2YubGVuZ3RoID8geyBhbGxPZjogbWVyZ2VkQWxsT2YgfSA6IHVuZGVmaW5lZDtcbn1cbiIsICJpbXBvcnQgeyBab2RMaXRlcmFsRGVmIH0gZnJvbSAnem9kL3YzJztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdMaXRlcmFsVHlwZSA9XG4gIHwge1xuICAgICAgdHlwZTogJ3N0cmluZycgfCAnbnVtYmVyJyB8ICdpbnRlZ2VyJyB8ICdib29sZWFuJztcbiAgICAgIGNvbnN0OiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnb2JqZWN0JyB8ICdhcnJheSc7XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbERlZihkZWY6IFpvZExpdGVyYWxEZWYpOiBKc29uU2NoZW1hN0xpdGVyYWxUeXBlIHtcbiAgY29uc3QgcGFyc2VkVHlwZSA9IHR5cGVvZiBkZWYudmFsdWU7XG4gIGlmIChcbiAgICBwYXJzZWRUeXBlICE9PSAnYmlnaW50JyAmJlxuICAgIHBhcnNlZFR5cGUgIT09ICdudW1iZXInICYmXG4gICAgcGFyc2VkVHlwZSAhPT0gJ2Jvb2xlYW4nICYmXG4gICAgcGFyc2VkVHlwZSAhPT0gJ3N0cmluZydcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IEFycmF5LmlzQXJyYXkoZGVmLnZhbHVlKSA/ICdhcnJheScgOiAnb2JqZWN0JyxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBwYXJzZWRUeXBlID09PSAnYmlnaW50JyA/ICdpbnRlZ2VyJyA6IHBhcnNlZFR5cGUsXG4gICAgY29uc3Q6IGRlZi52YWx1ZSxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBab2RGaXJzdFBhcnR5VHlwZUtpbmQsXG4gIFpvZE1hcERlZixcbiAgWm9kUmVjb3JkRGVmLFxuICBab2RUeXBlQW55LFxufSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH0gZnJvbSAnLi9icmFuZGVkJztcbmltcG9ydCB7IEpzb25TY2hlbWE3RW51bVR5cGUgfSBmcm9tICcuL2VudW0nO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdTdHJpbmdUeXBlLCBwYXJzZVN0cmluZ0RlZiB9IGZyb20gJy4vc3RyaW5nJztcblxudHlwZSBKc29uU2NoZW1hN1JlY29yZFByb3BlcnR5TmFtZXNUeXBlID1cbiAgfCBPbWl0PEpzb25TY2hlbWE3U3RyaW5nVHlwZSwgJ3R5cGUnPlxuICB8IE9taXQ8SnNvblNjaGVtYTdFbnVtVHlwZSwgJ3R5cGUnPjtcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdSZWNvcmRUeXBlID0ge1xuICB0eXBlOiAnb2JqZWN0JztcbiAgYWRkaXRpb25hbFByb3BlcnRpZXM/OiBKc29uU2NoZW1hN1R5cGUgfCB0cnVlO1xuICBwcm9wZXJ0eU5hbWVzPzogSnNvblNjaGVtYTdSZWNvcmRQcm9wZXJ0eU5hbWVzVHlwZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlY29yZERlZihcbiAgZGVmOiBab2RSZWNvcmREZWY8Wm9kVHlwZUFueSwgWm9kVHlwZUFueT4gfCBab2RNYXBEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1JlY29yZFR5cGUge1xuICBjb25zdCBzY2hlbWE6IEpzb25TY2hlbWE3UmVjb3JkVHlwZSA9IHtcbiAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICBhZGRpdGlvbmFsUHJvcGVydGllczpcbiAgICAgIHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgICAgfSkgPz8gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXMsXG4gIH07XG5cbiAgaWYgKFxuICAgIGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmXG4gICAgZGVmLmtleVR5cGUuX2RlZi5jaGVja3M/Lmxlbmd0aFxuICApIHtcbiAgICBjb25zdCB7IHR5cGUsIC4uLmtleVR5cGUgfSA9IHBhcnNlU3RyaW5nRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnNjaGVtYSxcbiAgICAgIHByb3BlcnR5TmFtZXM6IGtleVR5cGUsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2NoZW1hLFxuICAgICAgcHJvcGVydHlOYW1lczoge1xuICAgICAgICBlbnVtOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIGlmIChcbiAgICBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQgJiZcbiAgICBkZWYua2V5VHlwZS5fZGVmLnR5cGUuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJlxuICAgIGRlZi5rZXlUeXBlLl9kZWYudHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoXG4gICkge1xuICAgIGNvbnN0IHsgdHlwZSwgLi4ua2V5VHlwZSB9ID0gcGFyc2VCcmFuZGVkRGVmKFxuICAgICAgZGVmLmtleVR5cGUuX2RlZixcbiAgICAgIHJlZnMsXG4gICAgKSBhcyBKc29uU2NoZW1hN1N0cmluZ1R5cGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2NoZW1hLFxuICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsICJpbXBvcnQgeyBab2RTdHJpbmdEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5sZXQgZW1vamlSZWdleDogUmVnRXhwIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIEdlbmVyYXRlZCBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGZvdW5kIGhlcmUgYXMgb2YgMjAyNC0wNS0yMjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9ibG9iL21hc3Rlci9zcmMvdHlwZXMudHMuXG4gKlxuICogRXhwcmVzc2lvbnMgd2l0aCAvaSBmbGFnIGhhdmUgYmVlbiBjaGFuZ2VkIGFjY29yZGluZ2x5LlxuICovXG5leHBvcnQgY29uc3Qgem9kUGF0dGVybnMgPSB7XG4gIC8qKlxuICAgKiBgY2Agd2FzIGNoYW5nZWQgdG8gYFtjQ11gIHRvIHJlcGxpY2F0ZSAvaSBmbGFnXG4gICAqL1xuICBjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuICBjdWlkMjogL15bMC05YS16XSskLyxcbiAgdWxpZDogL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXG4gIC8qKlxuICAgKiBgYS16YCB3YXMgYWRkZWQgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICovXG4gIGVtYWlsOlxuICAgIC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbYS16QS1aMC05XycrXFwtXFwuXSopW2EtekEtWjAtOV8rLV1AKFthLXpBLVowLTldW2EtekEtWjAtOVxcLV0qXFwuKStbYS16QS1aXXsyLH0kLyxcbiAgLyoqXG4gICAqIENvbnN0cnVjdGVkIGEgdmFsaWQgVW5pY29kZSBSZWdFeHBcbiAgICpcbiAgICogTGF6aWx5IGluc3RhbnRpYXRlIHNpbmNlIHRoaXMgdHlwZSBvZiByZWdleCBpc24ndCBzdXBwb3J0ZWRcbiAgICogaW4gYWxsIGVudnMgKGUuZy4gUmVhY3QgTmF0aXZlKS5cbiAgICpcbiAgICogU2VlOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvaXNzdWVzLzI0MzNcbiAgICogRml4IGluIFpvZDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2NvbW1pdC85MzQwZmQ1MWU0ODU3NmE3NWFkYzkxOWJmZjY1ZGJjNGE1ZDRjOTliXG4gICAqL1xuICBlbW9qaTogKCkgPT4ge1xuICAgIGlmIChlbW9qaVJlZ2V4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVtb2ppUmVnZXggPSBSZWdFeHAoXG4gICAgICAgICdeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJCcsXG4gICAgICAgICd1JyxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBlbW9qaVJlZ2V4O1xuICB9LFxuICAvKipcbiAgICogVW51c2VkXG4gICAqL1xuICB1dWlkOiAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvLFxuICAvKipcbiAgICogVW51c2VkXG4gICAqL1xuICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvLFxuICBpcHY0Q2lkcjpcbiAgICAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLygzWzAtMl18WzEyXT9bMC05XSkkLyxcbiAgLyoqXG4gICAqIFVudXNlZFxuICAgKi9cbiAgaXB2NjogL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC8sXG4gIGlwdjZDaWRyOlxuICAgIC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC8sXG4gIGJhc2U2NDogL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvLFxuICBiYXNlNjR1cmw6XG4gICAgL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvLFxuICBuYW5vaWQ6IC9eW2EtekEtWjAtOV8tXXsyMX0kLyxcbiAgand0OiAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdTdHJpbmdUeXBlID0ge1xuICB0eXBlOiAnc3RyaW5nJztcbiAgbWluTGVuZ3RoPzogbnVtYmVyO1xuICBtYXhMZW5ndGg/OiBudW1iZXI7XG4gIGZvcm1hdD86XG4gICAgfCAnZW1haWwnXG4gICAgfCAnaWRuLWVtYWlsJ1xuICAgIHwgJ3VyaSdcbiAgICB8ICd1dWlkJ1xuICAgIHwgJ2RhdGUtdGltZSdcbiAgICB8ICdpcHY0J1xuICAgIHwgJ2lwdjYnXG4gICAgfCAnZGF0ZSdcbiAgICB8ICd0aW1lJ1xuICAgIHwgJ2R1cmF0aW9uJztcbiAgcGF0dGVybj86IHN0cmluZztcbiAgYWxsT2Y/OiB7XG4gICAgcGF0dGVybjogc3RyaW5nO1xuICB9W107XG4gIGFueU9mPzoge1xuICAgIGZvcm1hdDogc3RyaW5nO1xuICB9W107XG4gIGNvbnRlbnRFbmNvZGluZz86IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0cmluZ0RlZihcbiAgZGVmOiBab2RTdHJpbmdEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1N0cmluZ1R5cGUge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3U3RyaW5nVHlwZSA9IHtcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgfTtcblxuICBpZiAoZGVmLmNoZWNrcykge1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgcmVzLm1pbkxlbmd0aCA9XG4gICAgICAgICAgICB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgICByZXMubWF4TGVuZ3RoID1cbiAgICAgICAgICAgIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAnZm9ybWF0OmVtYWlsJzpcbiAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2VtYWlsJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZm9ybWF0Omlkbi1lbWFpbCc6XG4gICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpZG4tZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6XG4gICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbWFpbCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1cmknLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndXVpZCc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3V1aWQnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVnZXgnOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBjaGVjay5yZWdleCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2N1aWQnOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY3VpZDInOlxuICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkMiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0YXJ0c1dpdGgnOlxuICAgICAgICAgIGFkZFBhdHRlcm4oXG4gICAgICAgICAgICByZXMsXG4gICAgICAgICAgICBSZWdFeHAoYF4ke2VzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKX1gKSxcbiAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2VuZHNXaXRoJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgUmVnRXhwKGAke2VzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKX0kYCksXG4gICAgICAgICAgICBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRldGltZSc6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2RhdGUtdGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZGF0ZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkdXJhdGlvbic6XG4gICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2R1cmF0aW9uJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlbmd0aCc6XG4gICAgICAgICAgcmVzLm1pbkxlbmd0aCA9XG4gICAgICAgICAgICB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZTtcbiAgICAgICAgICByZXMubWF4TGVuZ3RoID1cbiAgICAgICAgICAgIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICA6IGNoZWNrLnZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbmNsdWRlcyc6IHtcbiAgICAgICAgICBhZGRQYXR0ZXJuKFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgUmVnRXhwKGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKSksXG4gICAgICAgICAgICBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2lwJzoge1xuICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjYnKSB7XG4gICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y0Jykge1xuICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lwdjYnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYmFzZTY0dXJsJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0dXJsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnand0JzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuand0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2lkcic6IHtcbiAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y2Jykge1xuICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmlwdjRDaWRyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NCcpIHtcbiAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY2Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Vtb2ppJzpcbiAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1vamkoKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VsaWQnOiB7XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLnVsaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2Jhc2U2NCc6IHtcbiAgICAgICAgICBzd2l0Y2ggKHJlZnMuYmFzZTY0U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDpiaW5hcnknOiB7XG4gICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdiaW5hcnknIGFzIGFueSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0Jzoge1xuICAgICAgICAgICAgICByZXMuY29udGVudEVuY29kaW5nID0gJ2Jhc2U2NCc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6IHtcbiAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICduYW5vaWQnOiB7XG4gICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLm5hbm9pZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndG9Mb3dlckNhc2UnOlxuICAgICAgICBjYXNlICd0b1VwcGVyQ2FzZSc6XG4gICAgICAgIGNhc2UgJ3RyaW0nOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgKChfOiBuZXZlcikgPT4ge30pKGNoZWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShsaXRlcmFsOiBzdHJpbmcsIHJlZnM6IFJlZnMpOiBzdHJpbmcge1xuICByZXR1cm4gcmVmcy5wYXR0ZXJuU3RyYXRlZ3kgPT09ICdlc2NhcGUnXG4gICAgPyBlc2NhcGVOb25BbHBoYU51bWVyaWMobGl0ZXJhbClcbiAgICA6IGxpdGVyYWw7XG59XG5cbmNvbnN0IEFMUEhBX05VTUVSSUMgPSBuZXcgU2V0KFxuICAnQUJDREVGR0hJSktMTU5PUFFSU1RVVlhZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ4eXowMTIzNDU2Nzg5Jyxcbik7XG5cbmZ1bmN0aW9uIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhzb3VyY2U6IHN0cmluZykge1xuICBsZXQgcmVzdWx0ID0gJyc7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIUFMUEhBX05VTUVSSUMuaGFzKHNvdXJjZVtpXSkpIHtcbiAgICAgIHJlc3VsdCArPSAnXFxcXCc7XG4gICAgfVxuXG4gICAgcmVzdWx0ICs9IHNvdXJjZVtpXTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEFkZHMgYSBcImZvcm1hdFwiIGtleXdvcmQgdG8gdGhlIHNjaGVtYS4gSWYgYSBmb3JtYXQgZXhpc3RzLCBib3RoIGZvcm1hdHMgd2lsbCBiZSBqb2luZWQgaW4gYW4gYWxsT2Ytbm9kZSwgYWxvbmcgd2l0aCBzdWJzZXF1ZW50IG9uZXMuXG5mdW5jdGlvbiBhZGRGb3JtYXQoXG4gIHNjaGVtYTogSnNvblNjaGVtYTdTdHJpbmdUeXBlLFxuICB2YWx1ZTogUmVxdWlyZWQ8SnNvblNjaGVtYTdTdHJpbmdUeXBlPlsnZm9ybWF0J10sXG4gIG1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgcmVmczogUmVmcyxcbikge1xuICBpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuYW55T2Y/LnNvbWUoeCA9PiB4LmZvcm1hdCkpIHtcbiAgICBpZiAoIXNjaGVtYS5hbnlPZikge1xuICAgICAgc2NoZW1hLmFueU9mID0gW107XG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgIHNjaGVtYS5hbnlPZiEucHVzaCh7XG4gICAgICAgIGZvcm1hdDogc2NoZW1hLmZvcm1hdCxcbiAgICAgIH0pO1xuICAgICAgZGVsZXRlIHNjaGVtYS5mb3JtYXQ7XG4gICAgfVxuXG4gICAgc2NoZW1hLmFueU9mIS5wdXNoKHtcbiAgICAgIGZvcm1hdDogdmFsdWUsXG4gICAgICAuLi4obWVzc2FnZSAmJlxuICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgZm9ybWF0OiBtZXNzYWdlIH0gfSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2NoZW1hLmZvcm1hdCA9IHZhbHVlO1xuICB9XG59XG5cbi8vIEFkZHMgYSBcInBhdHRlcm5cIiBrZXl3b3JkIHRvIHRoZSBzY2hlbWEuIElmIGEgcGF0dGVybiBleGlzdHMsIGJvdGggcGF0dGVybnMgd2lsbCBiZSBqb2luZWQgaW4gYW4gYWxsT2Ytbm9kZSwgYWxvbmcgd2l0aCBzdWJzZXF1ZW50IG9uZXMuXG5mdW5jdGlvbiBhZGRQYXR0ZXJuKFxuICBzY2hlbWE6IEpzb25TY2hlbWE3U3RyaW5nVHlwZSxcbiAgcmVnZXg6IFJlZ0V4cCxcbiAgbWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICByZWZzOiBSZWZzLFxuKSB7XG4gIGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoeCA9PiB4LnBhdHRlcm4pKSB7XG4gICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcbiAgICAgIHNjaGVtYS5hbGxPZiA9IFtdO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWEucGF0dGVybikge1xuICAgICAgc2NoZW1hLmFsbE9mIS5wdXNoKHtcbiAgICAgICAgcGF0dGVybjogc2NoZW1hLnBhdHRlcm4sXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcbiAgICB9XG5cbiAgICBzY2hlbWEuYWxsT2YhLnB1c2goe1xuICAgICAgcGF0dGVybjogc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKSxcbiAgICAgIC4uLihtZXNzYWdlICYmXG4gICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2NoZW1hLnBhdHRlcm4gPSBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpO1xuICB9XG59XG5cbi8vIE11dGF0ZSB6LnN0cmluZy5yZWdleCgpIGluIGEgYmVzdCBhdHRlbXB0IHRvIGFjY29tbW9kYXRlIGZvciByZWdleCBmbGFncyB3aGVuIGFwcGx5UmVnZXhGbGFncyBpcyB0cnVlXG5mdW5jdGlvbiBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXg6IFJlZ0V4cCwgcmVmczogUmVmcyk6IHN0cmluZyB7XG4gIGlmICghcmVmcy5hcHBseVJlZ2V4RmxhZ3MgfHwgIXJlZ2V4LmZsYWdzKSB7XG4gICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgfVxuXG4gIC8vIEN1cnJlbnRseSBoYW5kbGVkIGZsYWdzXG4gIGNvbnN0IGZsYWdzID0ge1xuICAgIGk6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdpJyksIC8vIENhc2UtaW5zZW5zaXRpdmVcbiAgICBtOiByZWdleC5mbGFncy5pbmNsdWRlcygnbScpLCAvLyBgXmAgYW5kIGAkYCBtYXRjaGVzIGFkamFjZW50IHRvIG5ld2xpbmUgY2hhcmFjdGVyc1xuICAgIHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdzJyksIC8vIGAuYCBtYXRjaGVzIG5ld2xpbmVzXG4gIH07XG5cbiAgLy8gVGhlIGdlbmVyYWwgcHJpbmNpcGxlIGhlcmUgaXMgdG8gc3RlcCB0aHJvdWdoIGVhY2ggY2hhcmFjdGVyLCBvbmUgYXQgYSB0aW1lLCBhcHBseWluZyBtdXRhdGlvbnMgYXMgZmxhZ3MgcmVxdWlyZS4gV2Uga2VlcCB0cmFjayB3aGVuIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpcyBlc2NhcGVkLCBhbmQgd2hlbiBpdCdzIGluc2lkZSBhIGdyb3VwIC9saWtlIFt0aGlzXS8gb3IgKGFsc28pIGEgcmFuZ2UgbGlrZSAvW2Etel0vLiBUaGUgZm9sbG93aW5nIGlzIGZhaXJseSBicml0dGxlIGltcGVyYXRpdmUgY29kZTsgZWRpdCBhdCB5b3VyIHBlcmlsIVxuICBjb25zdCBzb3VyY2UgPSBmbGFncy5pID8gcmVnZXguc291cmNlLnRvTG93ZXJDYXNlKCkgOiByZWdleC5zb3VyY2U7XG4gIGxldCBwYXR0ZXJuID0gJyc7XG4gIGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgbGV0IGluQ2hhckdyb3VwID0gZmFsc2U7XG4gIGxldCBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzRXNjYXBlZCkge1xuICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChmbGFncy5pKSB7XG4gICAgICBpZiAoaW5DaGFyR3JvdXApIHtcbiAgICAgICAgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgIGlmIChpbkNoYXJSYW5nZSkge1xuICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpIC0gMl19LSR7c291cmNlW2ldfWAudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGluQ2hhclJhbmdlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VbaSArIDFdID09PSAnLScgJiYgc291cmNlW2kgKyAyXT8ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICBwYXR0ZXJuICs9IGBbJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1dYDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZsYWdzLm0pIHtcbiAgICAgIGlmIChzb3VyY2VbaV0gPT09ICdeJykge1xuICAgICAgICBwYXR0ZXJuICs9IGAoXnwoPzw9W1xcclxcbl0pKWA7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChzb3VyY2VbaV0gPT09ICckJykge1xuICAgICAgICBwYXR0ZXJuICs9IGAoJHwoPz1bXFxyXFxuXSkpYDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZsYWdzLnMgJiYgc291cmNlW2ldID09PSAnLicpIHtcbiAgICAgIHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICBpZiAoc291cmNlW2ldID09PSAnXFxcXCcpIHtcbiAgICAgIGlzRXNjYXBlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICddJykge1xuICAgICAgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCFpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICdbJykge1xuICAgICAgaW5DaGFyR3JvdXAgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYENvdWxkIG5vdCBjb252ZXJ0IHJlZ2V4IHBhdHRlcm4gYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXG4gICAgICAgICcvJyxcbiAgICAgICl9IHRvIGEgZmxhZy1pbmRlcGVuZGVudCBmb3JtISBGYWxsaW5nIGJhY2sgdG8gdGhlIGZsYWctaWdub3JhbnQgc291cmNlYCxcbiAgICApO1xuICAgIHJldHVybiByZWdleC5zb3VyY2U7XG4gIH1cblxuICByZXR1cm4gcGF0dGVybjtcbn1cbiIsICJpbXBvcnQgeyBab2RNYXBEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1JlY29yZFR5cGUsIHBhcnNlUmVjb3JkRGVmIH0gZnJvbSAnLi9yZWNvcmQnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN01hcFR5cGUgPSB7XG4gIHR5cGU6ICdhcnJheSc7XG4gIG1heEl0ZW1zOiAxMjU7XG4gIGl0ZW1zOiB7XG4gICAgdHlwZTogJ2FycmF5JztcbiAgICBpdGVtczogW0pzb25TY2hlbWE3VHlwZSwgSnNvblNjaGVtYTdUeXBlXTtcbiAgICBtaW5JdGVtczogMjtcbiAgICBtYXhJdGVtczogMjtcbiAgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hcERlZihcbiAgZGVmOiBab2RNYXBEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN01hcFR5cGUgfCBKc29uU2NoZW1hN1JlY29yZFR5cGUge1xuICBpZiAocmVmcy5tYXBTdHJhdGVneSA9PT0gJ3JlY29yZCcpIHtcbiAgICByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcbiAgfVxuXG4gIGNvbnN0IGtleXMgPVxuICAgIHBhcnNlRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcwJ10sXG4gICAgfSkgfHwgcGFyc2VBbnlEZWYoKTtcbiAgY29uc3QgdmFsdWVzID1cbiAgICBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgIC4uLnJlZnMsXG4gICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcxJ10sXG4gICAgfSkgfHwgcGFyc2VBbnlEZWYoKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnYXJyYXknLFxuICAgIG1heEl0ZW1zOiAxMjUsXG4gICAgaXRlbXM6IHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICBtaW5JdGVtczogMixcbiAgICAgIG1heEl0ZW1zOiAyLFxuICAgIH0sXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgWm9kTmF0aXZlRW51bURlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TmF0aXZlRW51bVR5cGUgPSB7XG4gIHR5cGU6ICdzdHJpbmcnIHwgJ251bWJlcicgfCBbJ3N0cmluZycsICdudW1iZXInXTtcbiAgZW51bTogKHN0cmluZyB8IG51bWJlcilbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU5hdGl2ZUVudW1EZWYoXG4gIGRlZjogWm9kTmF0aXZlRW51bURlZixcbik6IEpzb25TY2hlbWE3TmF0aXZlRW51bVR5cGUge1xuICBjb25zdCBvYmplY3QgPSBkZWYudmFsdWVzO1xuICBjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gJ251bWJlcic7XG4gIH0pO1xuXG4gIGNvbnN0IGFjdHVhbFZhbHVlcyA9IGFjdHVhbEtleXMubWFwKChrZXk6IHN0cmluZykgPT4gb2JqZWN0W2tleV0pO1xuXG4gIGNvbnN0IHBhcnNlZFR5cGVzID0gQXJyYXkuZnJvbShcbiAgICBuZXcgU2V0KGFjdHVhbFZhbHVlcy5tYXAoKHZhbHVlczogc3RyaW5nIHwgbnVtYmVyKSA9PiB0eXBlb2YgdmFsdWVzKSksXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOlxuICAgICAgcGFyc2VkVHlwZXMubGVuZ3RoID09PSAxXG4gICAgICAgID8gcGFyc2VkVHlwZXNbMF0gPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyAnc3RyaW5nJ1xuICAgICAgICAgIDogJ251bWJlcidcbiAgICAgICAgOiBbJ3N0cmluZycsICdudW1iZXInXSxcbiAgICBlbnVtOiBhY3R1YWxWYWx1ZXMsXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgSnNvblNjaGVtYTdBbnlUeXBlLCBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IHR5cGUgSnNvblNjaGVtYTdOZXZlclR5cGUgPSB7XG4gIG5vdDogSnNvblNjaGVtYTdBbnlUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTmV2ZXJEZWYoKTogSnNvblNjaGVtYTdOZXZlclR5cGUgfCB1bmRlZmluZWQge1xuICByZXR1cm4geyBub3Q6IHBhcnNlQW55RGVmKCkgfTtcbn1cbiIsICJleHBvcnQgdHlwZSBKc29uU2NoZW1hN051bGxUeXBlID0ge1xuICB0eXBlOiAnbnVsbCc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsRGVmKCk6IEpzb25TY2hlbWE3TnVsbFR5cGUge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdudWxsJyxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBab2REaXNjcmltaW5hdGVkVW5pb25EZWYsXG4gIFpvZExpdGVyYWxEZWYsXG4gIFpvZFR5cGVBbnksXG4gIFpvZFVuaW9uRGVmLFxufSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgY29uc3QgcHJpbWl0aXZlTWFwcGluZ3MgPSB7XG4gIFpvZFN0cmluZzogJ3N0cmluZycsXG4gIFpvZE51bWJlcjogJ251bWJlcicsXG4gIFpvZEJpZ0ludDogJ2ludGVnZXInLFxuICBab2RCb29sZWFuOiAnYm9vbGVhbicsXG4gIFpvZE51bGw6ICdudWxsJyxcbn0gYXMgY29uc3Q7XG50eXBlIFpvZFByaW1pdGl2ZSA9IGtleW9mIHR5cGVvZiBwcmltaXRpdmVNYXBwaW5ncztcbnR5cGUgSnNvblNjaGVtYTdQcmltaXRpdmUgPVxuICAodHlwZW9mIHByaW1pdGl2ZU1hcHBpbmdzKVtrZXlvZiB0eXBlb2YgcHJpbWl0aXZlTWFwcGluZ3NdO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1VuaW9uVHlwZSA9XG4gIHwgSnNvblNjaGVtYTdQcmltaXRpdmVVbmlvblR5cGVcbiAgfCBKc29uU2NoZW1hN0FueU9mVHlwZTtcblxudHlwZSBKc29uU2NoZW1hN1ByaW1pdGl2ZVVuaW9uVHlwZSA9XG4gIHwge1xuICAgICAgdHlwZTogSnNvblNjaGVtYTdQcmltaXRpdmUgfCBKc29uU2NoZW1hN1ByaW1pdGl2ZVtdO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBKc29uU2NoZW1hN1ByaW1pdGl2ZSB8IEpzb25TY2hlbWE3UHJpbWl0aXZlW107XG4gICAgICBlbnVtOiAoc3RyaW5nIHwgbnVtYmVyIHwgYmlnaW50IHwgYm9vbGVhbiB8IG51bGwpW107XG4gICAgfTtcblxudHlwZSBKc29uU2NoZW1hN0FueU9mVHlwZSA9IHtcbiAgYW55T2Y6IEpzb25TY2hlbWE3VHlwZVtdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5pb25EZWYoXG4gIGRlZjogWm9kVW5pb25EZWYgfCBab2REaXNjcmltaW5hdGVkVW5pb25EZWY8YW55LCBhbnk+LFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdQcmltaXRpdmVVbmlvblR5cGUgfCBKc29uU2NoZW1hN0FueU9mVHlwZSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IG9wdGlvbnM6IHJlYWRvbmx5IFpvZFR5cGVBbnlbXSA9XG4gICAgZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuXG4gIC8vIFRoaXMgYmxvY2tzIHRyaWVzIHRvIGxvb2sgYWhlYWQgYSBiaXQgdG8gcHJvZHVjZSBuaWNlciBsb29raW5nIHNjaGVtYXMgd2l0aCB0eXBlIGFycmF5IGluc3RlYWQgb2YgYW55T2YuXG4gIGlmIChcbiAgICBvcHRpb25zLmV2ZXJ5KFxuICAgICAgeCA9PlxuICAgICAgICB4Ll9kZWYudHlwZU5hbWUgaW4gcHJpbWl0aXZlTWFwcGluZ3MgJiZcbiAgICAgICAgKCF4Ll9kZWYuY2hlY2tzIHx8ICF4Ll9kZWYuY2hlY2tzLmxlbmd0aCksXG4gICAgKVxuICApIHtcbiAgICAvLyBhbGwgdHlwZXMgaW4gdW5pb24gYXJlIHByaW1pdGl2ZSBhbmQgbGFjayBjaGVja3MsIHNvIG1pZ2h0IGFzIHdlbGwgc3F1YXNoIGludG8ge3R5cGU6IFsuLi5dfVxuXG4gICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgodHlwZXM6IEpzb25TY2hlbWE3UHJpbWl0aXZlW10sIHgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWUgYXMgWm9kUHJpbWl0aXZlXTsgLy9DYW4gYmUgc2FmZWx5IGNhc3RlZCBkdWUgdG8gcm93IDQzXG4gICAgICByZXR1cm4gdHlwZSAmJiAhdHlwZXMuaW5jbHVkZXModHlwZSkgPyBbLi4udHlwZXMsIHR5cGVdIDogdHlwZXM7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHR5cGVzLmxlbmd0aCA+IDEgPyB0eXBlcyA6IHR5cGVzWzBdLFxuICAgIH07XG4gIH0gZWxzZSBpZiAoXG4gICAgb3B0aW9ucy5ldmVyeSh4ID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZExpdGVyYWwnICYmICF4LmRlc2NyaXB0aW9uKVxuICApIHtcbiAgICAvLyBhbGwgb3B0aW9ucyBsaXRlcmFsc1xuXG4gICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZShcbiAgICAgIChhY2M6IEpzb25TY2hlbWE3UHJpbWl0aXZlW10sIHg6IHsgX2RlZjogWm9kTGl0ZXJhbERlZiB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgeC5fZGVmLnZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgdHlwZV07XG4gICAgICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAnaW50ZWdlcicgYXMgY29uc3RdO1xuICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKSByZXR1cm4gWy4uLmFjYywgJ251bGwnIGFzIGNvbnN0XTtcbiAgICAgICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW10sXG4gICAgKTtcblxuICAgIGlmICh0eXBlcy5sZW5ndGggPT09IG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAvLyBhbGwgdGhlIGxpdGVyYWxzIGFyZSBwcmltaXRpdmUsIGFzIGZhciBhcyBudWxsIGNhbiBiZSBjb25zaWRlcmVkIHByaW1pdGl2ZVxuXG4gICAgICBjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHVuaXF1ZVR5cGVzLmxlbmd0aCA+IDEgPyB1bmlxdWVUeXBlcyA6IHVuaXF1ZVR5cGVzWzBdLFxuICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW10gYXMgKHN0cmluZyB8IG51bWJlciB8IGJpZ2ludCB8IGJvb2xlYW4gfCBudWxsKVtdLFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5ldmVyeSh4ID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZEVudW0nKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKFxuICAgICAgICAoYWNjOiBzdHJpbmdbXSwgeCkgPT4gW1xuICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAuLi54Ll9kZWYudmFsdWVzLmZpbHRlcigoeDogc3RyaW5nKSA9PiAhYWNjLmluY2x1ZGVzKHgpKSxcbiAgICAgICAgXSxcbiAgICAgICAgW10sXG4gICAgICApLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuXG5jb25zdCBhc0FueU9mID0gKFxuICBkZWY6IFpvZFVuaW9uRGVmIHwgWm9kRGlzY3JpbWluYXRlZFVuaW9uRGVmPGFueSwgYW55PixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3UHJpbWl0aXZlVW5pb25UeXBlIHwgSnNvblNjaGVtYTdBbnlPZlR5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBhbnlPZiA9IChcbiAgICAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXBcbiAgICAgID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSlcbiAgICAgIDogZGVmLm9wdGlvbnMpIGFzIGFueVtdXG4gIClcbiAgICAubWFwKCh4LCBpKSA9PlxuICAgICAgcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgYCR7aX1gXSxcbiAgICAgIH0pLFxuICAgIClcbiAgICAuZmlsdGVyKFxuICAgICAgKHgpOiB4IGlzIEpzb25TY2hlbWE3VHlwZSA9PlxuICAgICAgICAhIXggJiZcbiAgICAgICAgKCFyZWZzLnN0cmljdFVuaW9ucyB8fFxuICAgICAgICAgICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpLFxuICAgICk7XG5cbiAgcmV0dXJuIGFueU9mLmxlbmd0aCA/IHsgYW55T2YgfSA6IHVuZGVmaW5lZDtcbn07XG4iLCAiaW1wb3J0IHsgWm9kTnVsbGFibGVEZWYgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdOdWxsVHlwZSB9IGZyb20gJy4vbnVsbCc7XG5pbXBvcnQgeyBwcmltaXRpdmVNYXBwaW5ncyB9IGZyb20gJy4vdW5pb24nO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN051bGxhYmxlVHlwZSA9XG4gIHwge1xuICAgICAgYW55T2Y6IFtKc29uU2NoZW1hN1R5cGUsIEpzb25TY2hlbWE3TnVsbFR5cGVdO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBbc3RyaW5nLCAnbnVsbCddO1xuICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKFxuICBkZWY6IFpvZE51bGxhYmxlRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdOdWxsYWJsZVR5cGUgfCB1bmRlZmluZWQge1xuICBpZiAoXG4gICAgWydab2RTdHJpbmcnLCAnWm9kTnVtYmVyJywgJ1pvZEJpZ0ludCcsICdab2RCb29sZWFuJywgJ1pvZE51bGwnXS5pbmNsdWRlcyhcbiAgICAgIGRlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZSxcbiAgICApICYmXG4gICAgKCFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzIHx8ICFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzLmxlbmd0aClcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFtcbiAgICAgICAgcHJpbWl0aXZlTWFwcGluZ3NbXG4gICAgICAgICAgZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lIGFzIGtleW9mIHR5cGVvZiBwcmltaXRpdmVNYXBwaW5nc1xuICAgICAgICBdLFxuICAgICAgICAnbnVsbCcsXG4gICAgICBdLFxuICAgIH07XG4gIH1cblxuICBjb25zdCBiYXNlID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgLi4ucmVmcyxcbiAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcwJ10sXG4gIH0pO1xuXG4gIHJldHVybiBiYXNlICYmIHsgYW55T2Y6IFtiYXNlLCB7IHR5cGU6ICdudWxsJyB9XSB9O1xufVxuIiwgImltcG9ydCB7IFpvZE51bWJlckRlZiB9IGZyb20gJ3pvZC92Myc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3TnVtYmVyVHlwZSA9IHtcbiAgdHlwZTogJ251bWJlcicgfCAnaW50ZWdlcic7XG4gIG1pbmltdW0/OiBudW1iZXI7XG4gIGV4Y2x1c2l2ZU1pbmltdW0/OiBudW1iZXI7XG4gIG1heGltdW0/OiBudW1iZXI7XG4gIGV4Y2x1c2l2ZU1heGltdW0/OiBudW1iZXI7XG4gIG11bHRpcGxlT2Y/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJEZWYoZGVmOiBab2ROdW1iZXJEZWYpOiBKc29uU2NoZW1hN051bWJlclR5cGUge1xuICBjb25zdCByZXM6IEpzb25TY2hlbWE3TnVtYmVyVHlwZSA9IHtcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgfTtcblxuICBpZiAoIWRlZi5jaGVja3MpIHJldHVybiByZXM7XG5cbiAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICBjYXNlICdpbnQnOlxuICAgICAgICByZXMudHlwZSA9ICdpbnRlZ2VyJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtaW4nOlxuICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgcmVzLm1pbmltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IGNoZWNrLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgIHJlcy5tYXhpbXVtID0gY2hlY2sudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSBjaGVjay52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ211bHRpcGxlT2YnOlxuICAgICAgICByZXMubXVsdGlwbGVPZiA9IGNoZWNrLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbiIsICJpbXBvcnQgeyBab2RPYmplY3REZWYsIFpvZFR5cGVBbnkgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tICcuLi9wYXJzZS1kZWYnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgUmVmcyB9IGZyb20gJy4uL3JlZnMnO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN09iamVjdFR5cGUgPSB7XG4gIHR5cGU6ICdvYmplY3QnO1xuICBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCBKc29uU2NoZW1hN1R5cGU+O1xuICBhZGRpdGlvbmFsUHJvcGVydGllcz86IGJvb2xlYW4gfCBKc29uU2NoZW1hN1R5cGU7XG4gIHJlcXVpcmVkPzogc3RyaW5nW107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPYmplY3REZWYoZGVmOiBab2RPYmplY3REZWYsIHJlZnM6IFJlZnMpIHtcbiAgY29uc3QgcmVzdWx0OiBKc29uU2NoZW1hN09iamVjdFR5cGUgPSB7XG4gICAgdHlwZTogJ29iamVjdCcsXG4gICAgcHJvcGVydGllczoge30sXG4gIH07XG5cbiAgY29uc3QgcmVxdWlyZWQ6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3Qgc2hhcGUgPSBkZWYuc2hhcGUoKTtcblxuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNoYXBlKSB7XG4gICAgbGV0IHByb3BEZWYgPSBzaGFwZVtwcm9wTmFtZV07XG5cbiAgICBpZiAocHJvcERlZiA9PT0gdW5kZWZpbmVkIHx8IHByb3BEZWYuX2RlZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wT3B0aW9uYWwgPSBzYWZlSXNPcHRpb25hbChwcm9wRGVmKTtcblxuICAgIGNvbnN0IHBhcnNlZERlZiA9IHBhcnNlRGVmKHByb3BEZWYuX2RlZiwge1xuICAgICAgLi4ucmVmcyxcbiAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBwcm9wTmFtZV0sXG4gICAgICBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAncHJvcGVydGllcycsIHByb3BOYW1lXSxcbiAgICB9KTtcblxuICAgIGlmIChwYXJzZWREZWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3BlcnRpZXNbcHJvcE5hbWVdID0gcGFyc2VkRGVmO1xuXG4gICAgaWYgKCFwcm9wT3B0aW9uYWwpIHtcbiAgICAgIHJlcXVpcmVkLnB1c2gocHJvcE5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZXF1aXJlZC5sZW5ndGgpIHtcbiAgICByZXN1bHQucmVxdWlyZWQgPSByZXF1aXJlZDtcbiAgfVxuXG4gIGNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKTtcblxuICBpZiAoYWRkaXRpb25hbFByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIHJlc3VsdC5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmOiBab2RPYmplY3REZWYsIHJlZnM6IFJlZnMpIHtcbiAgaWYgKGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lICE9PSAnWm9kTmV2ZXInKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG4gICAgICAuLi5yZWZzLFxuICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICB9KTtcbiAgfVxuXG4gIHN3aXRjaCAoZGVmLnVua25vd25LZXlzKSB7XG4gICAgY2FzZSAncGFzc3Rocm91Z2gnOlxuICAgICAgcmV0dXJuIHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNhc2UgJ3N0cmljdCc6XG4gICAgICByZXR1cm4gcmVmcy5yZWplY3RlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgIGNhc2UgJ3N0cmlwJzpcbiAgICAgIHJldHVybiByZWZzLnJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneSA9PT0gJ3N0cmljdCdcbiAgICAgICAgPyByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllc1xuICAgICAgICA6IHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSXNPcHRpb25hbChzY2hlbWE6IFpvZFR5cGVBbnkpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gc2NoZW1hLmlzT3B0aW9uYWwoKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBab2RPcHRpb25hbERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vYW55JztcblxuZXhwb3J0IGNvbnN0IHBhcnNlT3B0aW9uYWxEZWYgPSAoXG4gIGRlZjogWm9kT3B0aW9uYWxEZWYsXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAocmVmcy5jdXJyZW50UGF0aC50b1N0cmluZygpID09PSByZWZzLnByb3BlcnR5UGF0aD8udG9TdHJpbmcoKSkge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xuICB9XG5cbiAgY29uc3QgaW5uZXJTY2hlbWEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgJzEnXSxcbiAgfSk7XG5cbiAgcmV0dXJuIGlubmVyU2NoZW1hXG4gICAgPyB7IGFueU9mOiBbeyBub3Q6IHBhcnNlQW55RGVmKCkgfSwgaW5uZXJTY2hlbWFdIH1cbiAgICA6IHBhcnNlQW55RGVmKCk7XG59O1xuIiwgImltcG9ydCB7IFpvZFBpcGVsaW5lRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcbmltcG9ydCB7IEpzb25TY2hlbWE3QWxsT2ZUeXBlIH0gZnJvbSAnLi9pbnRlcnNlY3Rpb24nO1xuXG5leHBvcnQgY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChcbiAgZGVmOiBab2RQaXBlbGluZURlZjxhbnksIGFueT4sXG4gIHJlZnM6IFJlZnMsXG4pOiBKc29uU2NoZW1hN0FsbE9mVHlwZSB8IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gJ2lucHV0Jykge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW4uX2RlZiwgcmVmcyk7XG4gIH0gZWxzZSBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdvdXRwdXQnKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwgcmVmcyk7XG4gIH1cblxuICBjb25zdCBhID0gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzAnXSxcbiAgfSk7XG4gIGNvbnN0IGIgPSBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHtcbiAgICAuLi5yZWZzLFxuICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgYSA/ICcxJyA6ICcwJ10sXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgYWxsT2Y6IFthLCBiXS5maWx0ZXIoKHgpOiB4IGlzIEpzb25TY2hlbWE3VHlwZSA9PiB4ICE9PSB1bmRlZmluZWQpLFxuICB9O1xufTtcbiIsICJpbXBvcnQgeyBab2RQcm9taXNlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4uL3BhcnNlLXR5cGVzJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUHJvbWlzZURlZihcbiAgZGVmOiBab2RQcm9taXNlRGVmLFxuICByZWZzOiBSZWZzLFxuKTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuIiwgImltcG9ydCB7IFpvZFNldERlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3U2V0VHlwZSA9IHtcbiAgdHlwZTogJ2FycmF5JztcbiAgdW5pcXVlSXRlbXM6IHRydWU7XG4gIGl0ZW1zPzogSnNvblNjaGVtYTdUeXBlO1xuICBtaW5JdGVtcz86IG51bWJlcjtcbiAgbWF4SXRlbXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmOiBab2RTZXREZWYsIHJlZnM6IFJlZnMpOiBKc29uU2NoZW1hN1NldFR5cGUge1xuICBjb25zdCBpdGVtcyA9IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgIC4uLnJlZnMsXG4gICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgfSk7XG5cbiAgY29uc3Qgc2NoZW1hOiBKc29uU2NoZW1hN1NldFR5cGUgPSB7XG4gICAgdHlwZTogJ2FycmF5JyxcbiAgICB1bmlxdWVJdGVtczogdHJ1ZSxcbiAgICBpdGVtcyxcbiAgfTtcblxuICBpZiAoZGVmLm1pblNpemUpIHtcbiAgICBzY2hlbWEubWluSXRlbXMgPSBkZWYubWluU2l6ZS52YWx1ZTtcbiAgfVxuXG4gIGlmIChkZWYubWF4U2l6ZSkge1xuICAgIHNjaGVtYS5tYXhJdGVtcyA9IGRlZi5tYXhTaXplLnZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsICJpbXBvcnQgeyBab2RUdXBsZURlZiwgWm9kVHVwbGVJdGVtcywgWm9kVHlwZUFueSB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4uL3BhcnNlLWRlZic7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBSZWZzIH0gZnJvbSAnLi4vcmVmcyc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3VHVwbGVUeXBlID0ge1xuICB0eXBlOiAnYXJyYXknO1xuICBtaW5JdGVtczogbnVtYmVyO1xuICBpdGVtczogSnNvblNjaGVtYTdUeXBlW107XG59ICYgKFxuICB8IHtcbiAgICAgIG1heEl0ZW1zOiBudW1iZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIGFkZGl0aW9uYWxJdGVtcz86IEpzb25TY2hlbWE3VHlwZTtcbiAgICB9XG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUdXBsZURlZihcbiAgZGVmOiBab2RUdXBsZURlZjxab2RUdXBsZUl0ZW1zIHwgW10sIFpvZFR5cGVBbnkgfCBudWxsPixcbiAgcmVmczogUmVmcyxcbik6IEpzb25TY2hlbWE3VHVwbGVUeXBlIHtcbiAgaWYgKGRlZi5yZXN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgLm1hcCgoeCwgaSkgPT5cbiAgICAgICAgICBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsIGAke2l9YF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAoYWNjOiBKc29uU2NoZW1hN1R5cGVbXSwgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSxcbiAgICAgICAgICBbXSxcbiAgICAgICAgKSxcbiAgICAgIGFkZGl0aW9uYWxJdGVtczogcGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsSXRlbXMnXSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgIG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAubWFwKCh4LCBpKSA9PlxuICAgICAgICAgIHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgYCR7aX1gXSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICAucmVkdWNlKFxuICAgICAgICAgIChhY2M6IEpzb25TY2hlbWE3VHlwZVtdLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLFxuICAgICAgICAgIFtdLFxuICAgICAgICApLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKc29uU2NoZW1hN0FueVR5cGUsIHBhcnNlQW55RGVmIH0gZnJvbSAnLi9hbnknO1xuXG5leHBvcnQgdHlwZSBKc29uU2NoZW1hN1VuZGVmaW5lZFR5cGUgPSB7XG4gIG5vdDogSnNvblNjaGVtYTdBbnlUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5kZWZpbmVkRGVmKCk6IEpzb25TY2hlbWE3VW5kZWZpbmVkVHlwZSB7XG4gIHJldHVybiB7XG4gICAgbm90OiBwYXJzZUFueURlZigpLFxuICB9O1xufVxuIiwgImltcG9ydCB7IEpzb25TY2hlbWE3QW55VHlwZSwgcGFyc2VBbnlEZWYgfSBmcm9tICcuL2FueSc7XG5cbmV4cG9ydCB0eXBlIEpzb25TY2hlbWE3VW5rbm93blR5cGUgPSBKc29uU2NoZW1hN0FueVR5cGU7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVua25vd25EZWYoKTogSnNvblNjaGVtYTdVbmtub3duVHlwZSB7XG4gIHJldHVybiBwYXJzZUFueURlZigpO1xufVxuIiwgImltcG9ydCB7IFpvZFJlYWRvbmx5RGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSAnLi4vcGFyc2UtZGVmJztcbmltcG9ydCB7IFJlZnMgfSBmcm9tICcuLi9yZWZzJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlUmVhZG9ubHlEZWYgPSAoZGVmOiBab2RSZWFkb25seURlZjxhbnk+LCByZWZzOiBSZWZzKSA9PiB7XG4gIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbiIsICJpbXBvcnQgeyBab2RUeXBlRGVmIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IFJlZnMsIFNlZW4gfSBmcm9tICcuL3JlZnMnO1xuaW1wb3J0IHsgaWdub3JlT3ZlcnJpZGUgfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgSnNvblNjaGVtYTdUeXBlIH0gZnJvbSAnLi9wYXJzZS10eXBlcyc7XG5pbXBvcnQgeyBzZWxlY3RQYXJzZXIgfSBmcm9tICcuL3NlbGVjdC1wYXJzZXInO1xuaW1wb3J0IHsgZ2V0UmVsYXRpdmVQYXRoIH0gZnJvbSAnLi9nZXQtcmVsYXRpdmUtcGF0aCc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vcGFyc2Vycy9hbnknO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWYoXG4gIGRlZjogWm9kVHlwZURlZixcbiAgcmVmczogUmVmcyxcbiAgZm9yY2VSZXNvbHV0aW9uID0gZmFsc2UsIC8vIEZvcmNlcyBhIG5ldyBzY2hlbWEgdG8gYmUgaW5zdGFudGlhdGVkIGV2ZW4gdGhvdWdoIGl0cyBkZWYgaGFzIGJlZW4gc2Vlbi4gVXNlZCBmb3IgaW1wcm92aW5nIHJlZnMgaW4gZGVmaW5pdGlvbnMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vU3RlZmFuVGVyZGVsbC96b2QtdG8tanNvbi1zY2hlbWEvcHVsbC82MS5cbik6IEpzb25TY2hlbWE3VHlwZSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHNlZW5JdGVtID0gcmVmcy5zZWVuLmdldChkZWYpO1xuXG4gIGlmIChyZWZzLm92ZXJyaWRlKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVSZXN1bHQgPSByZWZzLm92ZXJyaWRlPy4oXG4gICAgICBkZWYsXG4gICAgICByZWZzLFxuICAgICAgc2Vlbkl0ZW0sXG4gICAgICBmb3JjZVJlc29sdXRpb24sXG4gICAgKTtcblxuICAgIGlmIChvdmVycmlkZVJlc3VsdCAhPT0gaWdub3JlT3ZlcnJpZGUpIHtcbiAgICAgIHJldHVybiBvdmVycmlkZVJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcblxuICAgIGlmIChzZWVuU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzZWVuU2NoZW1hO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG5ld0l0ZW06IFNlZW4gPSB7IGRlZiwgcGF0aDogcmVmcy5jdXJyZW50UGF0aCwganNvblNjaGVtYTogdW5kZWZpbmVkIH07XG5cbiAgcmVmcy5zZWVuLnNldChkZWYsIG5ld0l0ZW0pO1xuXG4gIGNvbnN0IGpzb25TY2hlbWFPckdldHRlciA9IHNlbGVjdFBhcnNlcihkZWYsIChkZWYgYXMgYW55KS50eXBlTmFtZSwgcmVmcyk7XG5cbiAgLy8gSWYgdGhlIHJldHVybiB3YXMgYSBmdW5jdGlvbiwgdGhlbiB0aGUgaW5uZXIgZGVmaW5pdGlvbiBuZWVkcyB0byBiZSBleHRyYWN0ZWQgYmVmb3JlIGEgY2FsbCB0byBwYXJzZURlZiAocmVjdXJzaXZlKVxuICBjb25zdCBqc29uU2NoZW1hID1cbiAgICB0eXBlb2YganNvblNjaGVtYU9yR2V0dGVyID09PSAnZnVuY3Rpb24nXG4gICAgICA/IHBhcnNlRGVmKGpzb25TY2hlbWFPckdldHRlcigpLCByZWZzKVxuICAgICAgOiBqc29uU2NoZW1hT3JHZXR0ZXI7XG5cbiAgaWYgKGpzb25TY2hlbWEpIHtcbiAgICBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG4gIH1cblxuICBpZiAocmVmcy5wb3N0UHJvY2Vzcykge1xuICAgIGNvbnN0IHBvc3RQcm9jZXNzUmVzdWx0ID0gcmVmcy5wb3N0UHJvY2Vzcyhqc29uU2NoZW1hLCBkZWYsIHJlZnMpO1xuXG4gICAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblxuICAgIHJldHVybiBwb3N0UHJvY2Vzc1Jlc3VsdDtcbiAgfVxuXG4gIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG5cbiAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG5cbmNvbnN0IGdldCRyZWYgPSAoXG4gIGl0ZW06IFNlZW4sXG4gIHJlZnM6IFJlZnMsXG4pOlxuICB8IHtcbiAgICAgICRyZWY6IHN0cmluZztcbiAgICB9XG4gIHwge31cbiAgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XG4gICAgY2FzZSAncm9vdCc6XG4gICAgICByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbignLycpIH07XG4gICAgY2FzZSAncmVsYXRpdmUnOlxuICAgICAgcmV0dXJuIHsgJHJlZjogZ2V0UmVsYXRpdmVQYXRoKHJlZnMuY3VycmVudFBhdGgsIGl0ZW0ucGF0aCkgfTtcbiAgICBjYXNlICdub25lJzpcbiAgICBjYXNlICdzZWVuJzoge1xuICAgICAgaWYgKFxuICAgICAgICBpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiZcbiAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSlcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXG4gICAgICAgICAgICAnLycsXG4gICAgICAgICAgKX0hIERlZmF1bHRpbmcgdG8gYW55YCxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZnMuJHJlZlN0cmF0ZWd5ID09PSAnc2VlbicgPyBwYXJzZUFueURlZigpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgYWRkTWV0YSA9IChcbiAgZGVmOiBab2RUeXBlRGVmLFxuICByZWZzOiBSZWZzLFxuICBqc29uU2NoZW1hOiBKc29uU2NoZW1hN1R5cGUsXG4pOiBKc29uU2NoZW1hN1R5cGUgPT4ge1xuICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAganNvblNjaGVtYS5kZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgfVxuICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4iLCAiaW1wb3J0IHsgWm9kVHlwZURlZiB9IGZyb20gJ3pvZC92Myc7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucywgT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBKc29uU2NoZW1hN1R5cGUgfSBmcm9tICcuL3BhcnNlLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgUmVmcyA9IHtcbiAgc2VlbjogTWFwPFpvZFR5cGVEZWYsIFNlZW4+O1xuICBjdXJyZW50UGF0aDogc3RyaW5nW107XG4gIHByb3BlcnR5UGF0aDogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG59ICYgT3B0aW9ucztcblxuZXhwb3J0IHR5cGUgU2VlbiA9IHtcbiAgZGVmOiBab2RUeXBlRGVmO1xuICBwYXRoOiBzdHJpbmdbXTtcbiAganNvblNjaGVtYTogSnNvblNjaGVtYTdUeXBlIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlZnMgPSAob3B0aW9ucz86IHN0cmluZyB8IFBhcnRpYWw8T3B0aW9ucz4pOiBSZWZzID0+IHtcbiAgY29uc3QgX29wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zKTtcbiAgY29uc3QgY3VycmVudFBhdGggPVxuICAgIF9vcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgPyBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBfb3B0aW9ucy5uYW1lXVxuICAgICAgOiBfb3B0aW9ucy5iYXNlUGF0aDtcbiAgcmV0dXJuIHtcbiAgICAuLi5fb3B0aW9ucyxcbiAgICBjdXJyZW50UGF0aDogY3VycmVudFBhdGgsXG4gICAgcHJvcGVydHlQYXRoOiB1bmRlZmluZWQsXG4gICAgc2VlbjogbmV3IE1hcChcbiAgICAgIE9iamVjdC5lbnRyaWVzKF9vcHRpb25zLmRlZmluaXRpb25zKS5tYXAoKFtuYW1lLCBkZWZdKSA9PiBbXG4gICAgICAgIGRlZi5fZGVmLFxuICAgICAgICB7XG4gICAgICAgICAgZGVmOiBkZWYuX2RlZixcbiAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAvLyBSZXNvbHV0aW9uIG9mIHJlZmVyZW5jZXMgd2lsbCBiZSBmb3JjZWQgZXZlbiB0aG91Z2ggc2Vlbiwgc28gaXQncyBvayB0aGF0IHRoZSBzY2hlbWEgaXMgdW5kZWZpbmVkIGhlcmUgZm9yIG5vdy5cbiAgICAgICAgICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICBdKSxcbiAgICApLFxuICB9O1xufTtcbiIsICJpbXBvcnQgeyBab2RTY2hlbWEgfSBmcm9tICd6b2QvdjMnO1xuaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gJy4vcGFyc2UtZGVmJztcbmltcG9ydCB7IEpzb25TY2hlbWE3VHlwZSB9IGZyb20gJy4vcGFyc2UtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UmVmcyB9IGZyb20gJy4vcmVmcyc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gJy4vcGFyc2Vycy9hbnknO1xuXG5jb25zdCB6b2RUb0pzb25TY2hlbWEgPSAoXG4gIHNjaGVtYTogWm9kU2NoZW1hPGFueT4sXG4gIG9wdGlvbnM/OiBQYXJ0aWFsPE9wdGlvbnM+IHwgc3RyaW5nLFxuKTogSnNvblNjaGVtYTdUeXBlICYge1xuICAkc2NoZW1hPzogc3RyaW5nO1xuICBkZWZpbml0aW9ucz86IHtcbiAgICBba2V5OiBzdHJpbmddOiBKc29uU2NoZW1hN1R5cGU7XG4gIH07XG59ID0+IHtcbiAgY29uc3QgcmVmcyA9IGdldFJlZnMob3B0aW9ucyk7XG5cbiAgbGV0IGRlZmluaXRpb25zID1cbiAgICB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucy5kZWZpbml0aW9uc1xuICAgICAgPyBPYmplY3QuZW50cmllcyhvcHRpb25zLmRlZmluaXRpb25zKS5yZWR1Y2UoXG4gICAgICAgICAgKGFjYzogeyBba2V5OiBzdHJpbmddOiBKc29uU2NoZW1hN1R5cGUgfSwgW25hbWUsIHNjaGVtYV0pID0+ICh7XG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICBbbmFtZV06XG4gICAgICAgICAgICAgIHBhcnNlRGVmKFxuICAgICAgICAgICAgICAgIHNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgKSA/PyBwYXJzZUFueURlZigpLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHt9LFxuICAgICAgICApXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBuYW1lID1cbiAgICB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZydcbiAgICAgID8gb3B0aW9uc1xuICAgICAgOiBvcHRpb25zPy5uYW1lU3RyYXRlZ3kgPT09ICd0aXRsZSdcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBvcHRpb25zPy5uYW1lO1xuXG4gIGNvbnN0IG1haW4gPVxuICAgIHBhcnNlRGVmKFxuICAgICAgc2NoZW1hLl9kZWYsXG4gICAgICBuYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgPyByZWZzXG4gICAgICAgIDoge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICkgPz8gKHBhcnNlQW55RGVmKCkgYXMgSnNvblNjaGVtYTdUeXBlKTtcblxuICBjb25zdCB0aXRsZSA9XG4gICAgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmXG4gICAgb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICBvcHRpb25zLm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJ1xuICAgICAgPyBvcHRpb25zLm5hbWVcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbWFpbi50aXRsZSA9IHRpdGxlO1xuICB9XG5cbiAgY29uc3QgY29tYmluZWQ6IFJldHVyblR5cGU8dHlwZW9mIHpvZFRvSnNvblNjaGVtYT4gPVxuICAgIG5hbWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBkZWZpbml0aW9uc1xuICAgICAgICA/IHtcbiAgICAgICAgICAgIC4uLm1haW4sXG4gICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IGRlZmluaXRpb25zLFxuICAgICAgICAgIH1cbiAgICAgICAgOiBtYWluXG4gICAgICA6IHtcbiAgICAgICAgICAkcmVmOiBbXG4gICAgICAgICAgICAuLi4ocmVmcy4kcmVmU3RyYXRlZ3kgPT09ICdyZWxhdGl2ZScgPyBbXSA6IHJlZnMuYmFzZVBhdGgpLFxuICAgICAgICAgICAgcmVmcy5kZWZpbml0aW9uUGF0aCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgXS5qb2luKCcvJyksXG4gICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG4gICAgICAgICAgICAuLi5kZWZpbml0aW9ucyxcbiAgICAgICAgICAgIFtuYW1lXTogbWFpbixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gIGNvbWJpbmVkLiRzY2hlbWEgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJztcblxuICByZXR1cm4gY29tYmluZWQ7XG59O1xuXG5leHBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfTtcbiIsICJleHBvcnQgKiBmcm9tICcuL2dldC1yZWxhdGl2ZS1wYXRoJztcbmV4cG9ydCAqIGZyb20gJy4vb3B0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlLWRlZic7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlLXR5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9hbnknO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2FycmF5JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9iaWdpbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2Jvb2xlYW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2JyYW5kZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2NhdGNoJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9kYXRlJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9kZWZhdWx0JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9lZmZlY3RzJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9lbnVtJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9pbnRlcnNlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL2xpdGVyYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL21hcCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbmF0aXZlLWVudW0nO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL25ldmVyJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9udWxsJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9udWxsYWJsZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvbnVtYmVyJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9vYmplY3QnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL29wdGlvbmFsJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9waXBlbGluZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvcHJvbWlzZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvcmVhZG9ubHknO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3JlY29yZCc7XG5leHBvcnQgKiBmcm9tICcuL3BhcnNlcnMvc2V0JztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy9zdHJpbmcnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3R1cGxlJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy91bmRlZmluZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYXJzZXJzL3VuaW9uJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2Vycy91bmtub3duJztcbmV4cG9ydCAqIGZyb20gJy4vcmVmcyc7XG5leHBvcnQgKiBmcm9tICcuL3NlbGVjdC1wYXJzZXInO1xuZXhwb3J0ICogZnJvbSAnLi96b2QtdG8tanNvbi1zY2hlbWEnO1xuaW1wb3J0IHsgem9kVG9Kc29uU2NoZW1hIH0gZnJvbSAnLi96b2QtdG8tanNvbi1zY2hlbWEnO1xuZXhwb3J0IGRlZmF1bHQgem9kVG9Kc29uU2NoZW1hO1xuIiwgImltcG9ydCB7IEpTT05TY2hlbWE3IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgKiBhcyB6MyBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejQgZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IFZhbGlkYXRvciwgdmFsaWRhdG9yU3ltYm9sLCB0eXBlIFZhbGlkYXRpb25SZXN1bHQgfSBmcm9tICcuL3ZhbGlkYXRvcic7XG5pbXBvcnQgeyB6b2RTY2hlbWEgfSBmcm9tICcuL3pvZC1zY2hlbWEnO1xuXG4vKipcbiAqIFVzZWQgdG8gbWFyayBzY2hlbWFzIHNvIHdlIGNhbiBzdXBwb3J0IGJvdGggWm9kIGFuZCBjdXN0b20gc2NoZW1hcy5cbiAqL1xuY29uc3Qgc2NoZW1hU3ltYm9sID0gU3ltYm9sLmZvcigndmVyY2VsLmFpLnNjaGVtYScpO1xuXG5leHBvcnQgdHlwZSBTY2hlbWE8T0JKRUNUID0gdW5rbm93bj4gPSBWYWxpZGF0b3I8T0JKRUNUPiAmIHtcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFyayBzY2hlbWFzIHNvIHdlIGNhbiBzdXBwb3J0IGJvdGggWm9kIGFuZCBjdXN0b20gc2NoZW1hcy5cbiAgICovXG4gIFtzY2hlbWFTeW1ib2xdOiB0cnVlO1xuXG4gIC8qKlxuICAgKiBTY2hlbWEgdHlwZSBmb3IgaW5mZXJlbmNlLlxuICAgKi9cbiAgX3R5cGU6IE9CSkVDVDtcblxuICAvKipcbiAgICogVGhlIEpTT04gU2NoZW1hIGZvciB0aGUgc2NoZW1hLiBJdCBpcyBwYXNzZWQgdG8gdGhlIHByb3ZpZGVycy5cbiAgICovXG4gIHJlYWRvbmx5IGpzb25TY2hlbWE6IEpTT05TY2hlbWE3O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc2NoZW1hIHdpdGggZGVmZXJyZWQgY3JlYXRpb24uXG4gKiBUaGlzIGlzIGltcG9ydGFudCB0byByZWR1Y2UgdGhlIHN0YXJ0dXAgdGltZSBvZiB0aGUgbGlicmFyeVxuICogYW5kIHRvIGF2b2lkIGluaXRpYWxpemluZyB1bnVzZWQgdmFsaWRhdG9ycy5cbiAqXG4gKiBAcGFyYW0gY3JlYXRlVmFsaWRhdG9yIEEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc2NoZW1hLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzY2hlbWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXp5U2NoZW1hPFNDSEVNQT4oXG4gIGNyZWF0ZVNjaGVtYTogKCkgPT4gU2NoZW1hPFNDSEVNQT4sXG4pOiBMYXp5U2NoZW1hPFNDSEVNQT4ge1xuICAvLyBjYWNoZSB0aGUgdmFsaWRhdG9yIHRvIGF2b2lkIGluaXRpYWxpemluZyBpdCBtdWx0aXBsZSB0aW1lc1xuICBsZXQgc2NoZW1hOiBTY2hlbWE8U0NIRU1BPiB8IHVuZGVmaW5lZDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHNjaGVtYSA9IGNyZWF0ZVNjaGVtYSgpO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xuICB9O1xufVxuXG5leHBvcnQgdHlwZSBMYXp5U2NoZW1hPFNDSEVNQT4gPSAoKSA9PiBTY2hlbWE8U0NIRU1BPjtcblxuLy8gTm90ZTogWm9kIHR5cGVzIGhlcmUgZXhhY3RseSBtYXRjaCB0aGUgdHlwZXMgaW4gem9kLXNjaGVtYS50c1xuLy8gdG8gcHJldmVudCB0eXBlIGVycm9ycyB3aGVuIHVzaW5nIHpvZCBzY2hlbWFzIHdpdGggZmxleGlibGUgc2NoZW1hcy5cbmV4cG9ydCB0eXBlIEZsZXhpYmxlU2NoZW1hPFNDSEVNQT4gPVxuICB8IHo0LmNvcmUuJFpvZFR5cGU8U0NIRU1BLCBhbnk+XG4gIHwgejMuU2NoZW1hPFNDSEVNQSwgejMuWm9kVHlwZURlZiwgYW55PlxuICB8IFNjaGVtYTxTQ0hFTUE+XG4gIHwgTGF6eVNjaGVtYTxTQ0hFTUE+O1xuXG5leHBvcnQgdHlwZSBJbmZlclNjaGVtYTxTQ0hFTUE+ID0gU0NIRU1BIGV4dGVuZHMgejMuU2NoZW1hXG4gID8gejMuaW5mZXI8U0NIRU1BPlxuICA6IFNDSEVNQSBleHRlbmRzIHo0LmNvcmUuJFpvZFR5cGVcbiAgICA/IHo0LmluZmVyPFNDSEVNQT5cbiAgICA6IFNDSEVNQSBleHRlbmRzIExhenlTY2hlbWE8aW5mZXIgVD5cbiAgICAgID8gVFxuICAgICAgOiBTQ0hFTUEgZXh0ZW5kcyBTY2hlbWE8aW5mZXIgVD5cbiAgICAgICAgPyBUXG4gICAgICAgIDogbmV2ZXI7XG5cbi8qKlxuICogQ3JlYXRlIGEgc2NoZW1hIHVzaW5nIGEgSlNPTiBTY2hlbWEuXG4gKlxuICogQHBhcmFtIGpzb25TY2hlbWEgVGhlIEpTT04gU2NoZW1hIGZvciB0aGUgc2NoZW1hLlxuICogQHBhcmFtIG9wdGlvbnMudmFsaWRhdGUgT3B0aW9uYWwuIEEgdmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgdGhlIHNjaGVtYS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25TY2hlbWE8T0JKRUNUID0gdW5rbm93bj4oXG4gIGpzb25TY2hlbWE6IEpTT05TY2hlbWE3IHwgKCgpID0+IEpTT05TY2hlbWE3KSxcbiAge1xuICAgIHZhbGlkYXRlLFxuICB9OiB7XG4gICAgdmFsaWRhdGU/OiAoXG4gICAgICB2YWx1ZTogdW5rbm93bixcbiAgICApID0+IFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPiB8IFByb21pc2VMaWtlPFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPj47XG4gIH0gPSB7fSxcbik6IFNjaGVtYTxPQkpFQ1Q+IHtcbiAgcmV0dXJuIHtcbiAgICBbc2NoZW1hU3ltYm9sXTogdHJ1ZSxcbiAgICBfdHlwZTogdW5kZWZpbmVkIGFzIE9CSkVDVCwgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBnZXQganNvblNjaGVtYSgpIHtcbiAgICAgIGlmICh0eXBlb2YganNvblNjaGVtYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBqc29uU2NoZW1hID0ganNvblNjaGVtYSgpOyAvLyBjYWNoZSB0aGUgZnVuY3Rpb24gcmVzdWx0c1xuICAgICAgfVxuICAgICAgcmV0dXJuIGpzb25TY2hlbWE7XG4gICAgfSxcbiAgICB2YWxpZGF0ZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBTY2hlbWEge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHNjaGVtYVN5bWJvbCBpbiB2YWx1ZSAmJlxuICAgIHZhbHVlW3NjaGVtYVN5bWJvbF0gPT09IHRydWUgJiZcbiAgICAnanNvblNjaGVtYScgaW4gdmFsdWUgJiZcbiAgICAndmFsaWRhdGUnIGluIHZhbHVlXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc1NjaGVtYTxPQkpFQ1Q+KFxuICBzY2hlbWE6IEZsZXhpYmxlU2NoZW1hPE9CSkVDVD4gfCB1bmRlZmluZWQsXG4pOiBTY2hlbWE8T0JKRUNUPiB7XG4gIHJldHVybiBzY2hlbWEgPT0gbnVsbFxuICAgID8ganNvblNjaGVtYSh7XG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICB9KVxuICAgIDogaXNTY2hlbWEoc2NoZW1hKVxuICAgICAgPyBzY2hlbWFcbiAgICAgIDogdHlwZW9mIHNjaGVtYSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHNjaGVtYSgpXG4gICAgICAgIDogem9kU2NoZW1hKHNjaGVtYSk7XG59XG4iLCAiLy8gYnRvYSBhbmQgYXRvYiBuZWVkIHRvIGJlIGludm9rZWQgYXMgYSBmdW5jdGlvbiBjYWxsLCBub3QgYXMgYSBtZXRob2QgY2FsbC5cbi8vIE90aGVyd2lzZSBDbG91ZEZsYXJlIHdpbGwgdGhyb3cgYVxuLy8gXCJUeXBlRXJyb3I6IElsbGVnYWwgaW52b2NhdGlvbjogZnVuY3Rpb24gY2FsbGVkIHdpdGggaW5jb3JyZWN0IHRoaXMgcmVmZXJlbmNlXCJcbmNvbnN0IHsgYnRvYSwgYXRvYiB9ID0gZ2xvYmFsVGhpcztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nOiBzdHJpbmcpIHtcbiAgY29uc3QgYmFzZTY0VXJsID0gYmFzZTY0U3RyaW5nLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gIGNvbnN0IGxhdGluMXN0cmluZyA9IGF0b2IoYmFzZTY0VXJsKTtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShsYXRpbjFzdHJpbmcsIGJ5dGUgPT4gYnl0ZS5jb2RlUG9pbnRBdCgwKSEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChhcnJheTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBsYXRpbjFzdHJpbmcgPSAnJztcblxuICAvLyBOb3RlOiByZWd1bGFyIGZvciBsb29wIHRvIHN1cHBvcnQgb2xkZXIgSmF2YVNjcmlwdCB2ZXJzaW9ucyB0aGF0XG4gIC8vIGRvIG5vdCBzdXBwb3J0IGZvci4ub2Ygb24gVWludDhBcnJheVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGF0aW4xc3RyaW5nICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KGFycmF5W2ldKTtcbiAgfVxuXG4gIHJldHVybiBidG9hKGxhdGluMXN0cmluZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9CYXNlNjQodmFsdWU6IHN0cmluZyB8IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCh2YWx1ZSkgOiB2YWx1ZTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gd2l0aG91dFRyYWlsaW5nU2xhc2godXJsOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgcmV0dXJuIHVybD8ucmVwbGFjZSgvXFwvJC8sICcnKTtcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlPFQgPSBhbnk+KG9iajogYW55KTogb2JqIGlzIEFzeW5jSXRlcmFibGU8VD4ge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4iLCAiaW1wb3J0IHsgVG9vbCwgVG9vbENhbGxPcHRpb25zLCBUb29sRXhlY3V0ZUZ1bmN0aW9uIH0gZnJvbSAnLi90b29sJztcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL2lzLWFzeW5jLWl0ZXJhYmxlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBleGVjdXRlVG9vbDxJTlBVVCwgT1VUUFVUPih7XG4gIGV4ZWN1dGUsXG4gIGlucHV0LFxuICBvcHRpb25zLFxufToge1xuICBleGVjdXRlOiBUb29sRXhlY3V0ZUZ1bmN0aW9uPElOUFVULCBPVVRQVVQ+O1xuICBpbnB1dDogSU5QVVQ7XG4gIG9wdGlvbnM6IFRvb2xDYWxsT3B0aW9ucztcbn0pOiBBc3luY0dlbmVyYXRvcjxcbiAgeyB0eXBlOiAncHJlbGltaW5hcnknOyBvdXRwdXQ6IE9VVFBVVCB9IHwgeyB0eXBlOiAnZmluYWwnOyBvdXRwdXQ6IE9VVFBVVCB9XG4+IHtcbiAgY29uc3QgcmVzdWx0ID0gZXhlY3V0ZShpbnB1dCwgb3B0aW9ucyk7XG5cbiAgaWYgKGlzQXN5bmNJdGVyYWJsZShyZXN1bHQpKSB7XG4gICAgbGV0IGxhc3RPdXRwdXQ6IE9VVFBVVCB8IHVuZGVmaW5lZDtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IG91dHB1dCBvZiByZXN1bHQpIHtcbiAgICAgIGxhc3RPdXRwdXQgPSBvdXRwdXQ7XG4gICAgICB5aWVsZCB7IHR5cGU6ICdwcmVsaW1pbmFyeScsIG91dHB1dCB9O1xuICAgIH1cbiAgICB5aWVsZCB7IHR5cGU6ICdmaW5hbCcsIG91dHB1dDogbGFzdE91dHB1dCEgfTtcbiAgfSBlbHNlIHtcbiAgICB5aWVsZCB7IHR5cGU6ICdmaW5hbCcsIG91dHB1dDogYXdhaXQgcmVzdWx0IH07XG4gIH1cbn1cbiIsICJleHBvcnQgKiBmcm9tICcuL2NvbWJpbmUtaGVhZGVycyc7XG5leHBvcnQgeyBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuL2NvbnZlcnQtYXN5bmMtaXRlcmF0b3ItdG8tcmVhZGFibGUtc3RyZWFtJztcbmV4cG9ydCAqIGZyb20gJy4vZGVsYXknO1xuZXhwb3J0IHsgRGVsYXllZFByb21pc2UgfSBmcm9tICcuL2RlbGF5ZWQtcHJvbWlzZSc7XG5leHBvcnQgKiBmcm9tICcuL2V4dHJhY3QtcmVzcG9uc2UtaGVhZGVycyc7XG5leHBvcnQgKiBmcm9tICcuL2ZldGNoLWZ1bmN0aW9uJztcbmV4cG9ydCB7IGNyZWF0ZUlkR2VuZXJhdG9yLCBnZW5lcmF0ZUlkLCB0eXBlIElkR2VuZXJhdG9yIH0gZnJvbSAnLi9nZW5lcmF0ZS1pZCc7XG5leHBvcnQgKiBmcm9tICcuL2dldC1lcnJvci1tZXNzYWdlJztcbmV4cG9ydCAqIGZyb20gJy4vZ2V0LWZyb20tYXBpJztcbmV4cG9ydCB7IGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCB9IGZyb20gJy4vZ2V0LXJ1bnRpbWUtZW52aXJvbm1lbnQtdXNlci1hZ2VudCc7XG5leHBvcnQgeyBpbmplY3RKc29uSW5zdHJ1Y3Rpb25JbnRvTWVzc2FnZXMgfSBmcm9tICcuL2luamVjdC1qc29uLWluc3RydWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vaXMtYWJvcnQtZXJyb3InO1xuZXhwb3J0IHsgaXNVcmxTdXBwb3J0ZWQgfSBmcm9tICcuL2lzLXVybC1zdXBwb3J0ZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9sb2FkLWFwaS1rZXknO1xuZXhwb3J0IHsgbG9hZE9wdGlvbmFsU2V0dGluZyB9IGZyb20gJy4vbG9hZC1vcHRpb25hbC1zZXR0aW5nJztcbmV4cG9ydCB7IGxvYWRTZXR0aW5nIH0gZnJvbSAnLi9sb2FkLXNldHRpbmcnO1xuZXhwb3J0IHsgbWVkaWFUeXBlVG9FeHRlbnNpb24gfSBmcm9tICcuL21lZGlhLXR5cGUtdG8tZXh0ZW5zaW9uJztcbmV4cG9ydCB7IG5vcm1hbGl6ZUhlYWRlcnMgfSBmcm9tICcuL25vcm1hbGl6ZS1oZWFkZXJzJztcbmV4cG9ydCAqIGZyb20gJy4vcGFyc2UtanNvbic7XG5leHBvcnQgeyBwYXJzZUpzb25FdmVudFN0cmVhbSB9IGZyb20gJy4vcGFyc2UtanNvbi1ldmVudC1zdHJlYW0nO1xuZXhwb3J0IHsgcGFyc2VQcm92aWRlck9wdGlvbnMgfSBmcm9tICcuL3BhcnNlLXByb3ZpZGVyLW9wdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9wb3N0LXRvLWFwaSc7XG5leHBvcnQge1xuICBjcmVhdGVQcm92aWRlckRlZmluZWRUb29sRmFjdG9yeSxcbiAgY3JlYXRlUHJvdmlkZXJEZWZpbmVkVG9vbEZhY3RvcnlXaXRoT3V0cHV0U2NoZW1hLFxuICB0eXBlIFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5LFxuICB0eXBlIFByb3ZpZGVyRGVmaW5lZFRvb2xGYWN0b3J5V2l0aE91dHB1dFNjaGVtYSxcbn0gZnJvbSAnLi9wcm92aWRlci1kZWZpbmVkLXRvb2wtZmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL3JlbW92ZS11bmRlZmluZWQtZW50cmllcyc7XG5leHBvcnQgKiBmcm9tICcuL3Jlc29sdmUnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNwb25zZS1oYW5kbGVyJztcbmV4cG9ydCB7XG4gIGFzU2NoZW1hLFxuICBqc29uU2NoZW1hLFxuICBsYXp5U2NoZW1hLFxuICB0eXBlIEZsZXhpYmxlU2NoZW1hLFxuICB0eXBlIEluZmVyU2NoZW1hLFxuICB0eXBlIExhenlTY2hlbWEsXG4gIHR5cGUgU2NoZW1hLFxufSBmcm9tICcuL3NjaGVtYSc7XG5leHBvcnQgKiBmcm9tICcuL3VpbnQ4LXV0aWxzJztcbmV4cG9ydCAqIGZyb20gJy4vdmFsaWRhdGUtdHlwZXMnO1xuZXhwb3J0IHtcbiAgYXNWYWxpZGF0b3IsXG4gIGlzVmFsaWRhdG9yLFxuICBsYXp5VmFsaWRhdG9yLFxuICBzdGFuZGFyZFNjaGVtYVZhbGlkYXRvcixcbiAgdmFsaWRhdG9yLFxuICB0eXBlIEZsZXhpYmxlVmFsaWRhdG9yLFxuICB0eXBlIEluZmVyVmFsaWRhdG9yLFxuICB0eXBlIExhenlWYWxpZGF0b3IsXG4gIHR5cGUgVmFsaWRhdGlvblJlc3VsdCxcbiAgdHlwZSBWYWxpZGF0b3IsXG59IGZyb20gJy4vdmFsaWRhdG9yJztcbmV4cG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuZXhwb3J0IHsgd2l0aFVzZXJBZ2VudFN1ZmZpeCB9IGZyb20gJy4vd2l0aC11c2VyLWFnZW50LXN1ZmZpeCc7XG5leHBvcnQgKiBmcm9tICcuL3dpdGhvdXQtdHJhaWxpbmctc2xhc2gnO1xuZXhwb3J0IHsgem9kU2NoZW1hIH0gZnJvbSAnLi96b2Qtc2NoZW1hJztcblxuLy8gZm9sZGVyIHJlLWV4cG9ydHNcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuXG4vLyBleHRlcm5hbCByZS1leHBvcnRzXG5leHBvcnQgKiBmcm9tICdAc3RhbmRhcmQtc2NoZW1hL3NwZWMnO1xuZXhwb3J0IHtcbiAgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0sXG4gIHR5cGUgRXZlbnRTb3VyY2VNZXNzYWdlLFxufSBmcm9tICdldmVudHNvdXJjZS1wYXJzZXIvc3RyZWFtJztcbiIsICJpbXBvcnQge1xuICBsb2FkT3B0aW9uYWxTZXR0aW5nLFxuICB3aXRob3V0VHJhaWxpbmdTbGFzaCxcbiAgdHlwZSBGZXRjaEZ1bmN0aW9uLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yLCBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7XG4gIEdBVEVXQVlfQVVUSF9NRVRIT0RfSEVBREVSLFxuICBwYXJzZUF1dGhNZXRob2QsXG59IGZyb20gJy4vZXJyb3JzL3BhcnNlLWF1dGgtbWV0aG9kJztcbmltcG9ydCB7XG4gIEdhdGV3YXlGZXRjaE1ldGFkYXRhLFxuICB0eXBlIEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2UsXG4gIHR5cGUgR2F0ZXdheUNyZWRpdHNSZXNwb25zZSxcbn0gZnJvbSAnLi9nYXRld2F5LWZldGNoLW1ldGFkYXRhJztcbmltcG9ydCB7IEdhdGV3YXlMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi9nYXRld2F5LWxhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IEdhdGV3YXlFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4vZ2F0ZXdheS1lbWJlZGRpbmctbW9kZWwnO1xuaW1wb3J0IHsgR2F0ZXdheUltYWdlTW9kZWwgfSBmcm9tICcuL2dhdGV3YXktaW1hZ2UtbW9kZWwnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5RW1iZWRkaW5nTW9kZWxJZCB9IGZyb20gJy4vZ2F0ZXdheS1lbWJlZGRpbmctbW9kZWwtc2V0dGluZ3MnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5SW1hZ2VNb2RlbElkIH0gZnJvbSAnLi9nYXRld2F5LWltYWdlLW1vZGVsLXNldHRpbmdzJztcbmltcG9ydCB7IGdldFZlcmNlbE9pZGNUb2tlbiwgZ2V0VmVyY2VsUmVxdWVzdElkIH0gZnJvbSAnLi92ZXJjZWwtZW52aXJvbm1lbnQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5TW9kZWxJZCB9IGZyb20gJy4vZ2F0ZXdheS1sYW5ndWFnZS1tb2RlbC1zZXR0aW5ncyc7XG5pbXBvcnQgdHlwZSB7XG4gIExhbmd1YWdlTW9kZWxWMixcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgSW1hZ2VNb2RlbFYyLFxuICBQcm92aWRlclYyLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL3ZlcnNpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdhdGV3YXlQcm92aWRlciBleHRlbmRzIFByb3ZpZGVyVjIge1xuICAobW9kZWxJZDogR2F0ZXdheU1vZGVsSWQpOiBMYW5ndWFnZU1vZGVsVjI7XG5cbiAgLyoqXG5DcmVhdGVzIGEgbW9kZWwgZm9yIHRleHQgZ2VuZXJhdGlvbi5cbiovXG4gIGxhbmd1YWdlTW9kZWwobW9kZWxJZDogR2F0ZXdheU1vZGVsSWQpOiBMYW5ndWFnZU1vZGVsVjI7XG5cbiAgLyoqXG5SZXR1cm5zIGF2YWlsYWJsZSBwcm92aWRlcnMgYW5kIG1vZGVscyBmb3IgdXNlIHdpdGggdGhlIHJlbW90ZSBwcm92aWRlci5cbiAqL1xuICBnZXRBdmFpbGFibGVNb2RlbHMoKTogUHJvbWlzZTxHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlPjtcblxuICAvKipcblJldHVybnMgY3JlZGl0IGluZm9ybWF0aW9uIGZvciB0aGUgYXV0aGVudGljYXRlZCB1c2VyLlxuICovXG4gIGdldENyZWRpdHMoKTogUHJvbWlzZTxHYXRld2F5Q3JlZGl0c1Jlc3BvbnNlPjtcblxuICAvKipcbkNyZWF0ZXMgYSBtb2RlbCBmb3IgZ2VuZXJhdGluZyB0ZXh0IGVtYmVkZGluZ3MuXG4qL1xuICB0ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgbW9kZWxJZDogR2F0ZXdheUVtYmVkZGluZ01vZGVsSWQsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcblxuICAvKipcbkNyZWF0ZXMgYSBtb2RlbCBmb3IgZ2VuZXJhdGluZyBpbWFnZXMuXG4qL1xuICBpbWFnZU1vZGVsKG1vZGVsSWQ6IEdhdGV3YXlJbWFnZU1vZGVsSWQpOiBJbWFnZU1vZGVsVjI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2F0ZXdheVByb3ZpZGVyU2V0dGluZ3Mge1xuICAvKipcblRoZSBiYXNlIFVSTCBwcmVmaXggZm9yIEFQSSBjYWxscy4gRGVmYXVsdHMgdG8gYGh0dHBzOi8vYWktZ2F0ZXdheS52ZXJjZWwuc2gvdjEvYWlgLlxuICAgKi9cbiAgYmFzZVVSTD86IHN0cmluZztcblxuICAvKipcbkFQSSBrZXkgdGhhdCBpcyBiZWluZyBzZW50IHVzaW5nIHRoZSBgQXV0aG9yaXphdGlvbmAgaGVhZGVyLlxuICAgKi9cbiAgYXBpS2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuQ3VzdG9tIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdHMuXG4gICAgICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIC8qKlxuQ3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uLiBZb3UgY2FuIHVzZSBpdCBhcyBhIG1pZGRsZXdhcmUgdG8gaW50ZXJjZXB0IHJlcXVlc3RzLFxub3IgdG8gcHJvdmlkZSBhIGN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvbiBmb3IgZS5nLiB0ZXN0aW5nLlxuICAgICovXG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcblxuICAvKipcbkhvdyBmcmVxdWVudGx5IHRvIHJlZnJlc2ggdGhlIG1ldGFkYXRhIGNhY2hlIGluIG1pbGxpc2Vjb25kcy5cbiAgICovXG4gIG1ldGFkYXRhQ2FjaGVSZWZyZXNoTWlsbGlzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seVxuICAgKi9cbiAgX2ludGVybmFsPzoge1xuICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgfTtcbn1cblxuY29uc3QgQUlfR0FURVdBWV9QUk9UT0NPTF9WRVJTSU9OID0gJzAuMC4xJztcblxuLyoqXG5DcmVhdGUgYSByZW1vdGUgcHJvdmlkZXIgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHYXRld2F5UHJvdmlkZXIoXG4gIG9wdGlvbnM6IEdhdGV3YXlQcm92aWRlclNldHRpbmdzID0ge30sXG4pOiBHYXRld2F5UHJvdmlkZXIge1xuICBsZXQgcGVuZGluZ01ldGFkYXRhOiBQcm9taXNlPEdhdGV3YXlGZXRjaE1ldGFkYXRhUmVzcG9uc2U+IHwgbnVsbCA9IG51bGw7XG4gIGxldCBtZXRhZGF0YUNhY2hlOiBHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlIHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IGNhY2hlUmVmcmVzaE1pbGxpcyA9XG4gICAgb3B0aW9ucy5tZXRhZGF0YUNhY2hlUmVmcmVzaE1pbGxpcyA/PyAxMDAwICogNjAgKiA1O1xuICBsZXQgbGFzdEZldGNoVGltZSA9IDA7XG5cbiAgY29uc3QgYmFzZVVSTCA9XG4gICAgd2l0aG91dFRyYWlsaW5nU2xhc2gob3B0aW9ucy5iYXNlVVJMKSA/P1xuICAgICdodHRwczovL2FpLWdhdGV3YXkudmVyY2VsLnNoL3YxL2FpJztcblxuICBjb25zdCBnZXRIZWFkZXJzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGF1dGggPSBhd2FpdCBnZXRHYXRld2F5QXV0aFRva2VuKG9wdGlvbnMpO1xuICAgIGlmIChhdXRoKSB7XG4gICAgICByZXR1cm4gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICAgICAge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthdXRoLnRva2VufWAsXG4gICAgICAgICAgJ2FpLWdhdGV3YXktcHJvdG9jb2wtdmVyc2lvbic6IEFJX0dBVEVXQVlfUFJPVE9DT0xfVkVSU0lPTixcbiAgICAgICAgICBbR0FURVdBWV9BVVRIX01FVEhPRF9IRUFERVJdOiBhdXRoLmF1dGhNZXRob2QsXG4gICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICB9LFxuICAgICAgICBgYWktc2RrL2dhdGV3YXkvJHtWRVJTSU9OfWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRocm93IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLmNyZWF0ZUNvbnRleHR1YWxFcnJvcih7XG4gICAgICBhcGlLZXlQcm92aWRlZDogZmFsc2UsXG4gICAgICBvaWRjVG9rZW5Qcm92aWRlZDogZmFsc2UsXG4gICAgICBzdGF0dXNDb2RlOiA0MDEsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlTzExeUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVwbG95bWVudElkID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgICBzZXR0aW5nVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnVkVSQ0VMX0RFUExPWU1FTlRfSUQnLFxuICAgIH0pO1xuICAgIGNvbnN0IGVudmlyb25tZW50ID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgICBzZXR0aW5nVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnVkVSQ0VMX0VOVicsXG4gICAgfSk7XG4gICAgY29uc3QgcmVnaW9uID0gbG9hZE9wdGlvbmFsU2V0dGluZyh7XG4gICAgICBzZXR0aW5nVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnVkVSQ0VMX1JFR0lPTicsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdElkID0gYXdhaXQgZ2V0VmVyY2VsUmVxdWVzdElkKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi4oZGVwbG95bWVudElkICYmIHsgJ2FpLW8xMXktZGVwbG95bWVudC1pZCc6IGRlcGxveW1lbnRJZCB9KSxcbiAgICAgICAgLi4uKGVudmlyb25tZW50ICYmIHsgJ2FpLW8xMXktZW52aXJvbm1lbnQnOiBlbnZpcm9ubWVudCB9KSxcbiAgICAgICAgLi4uKHJlZ2lvbiAmJiB7ICdhaS1vMTF5LXJlZ2lvbic6IHJlZ2lvbiB9KSxcbiAgICAgICAgLi4uKHJlcXVlc3RJZCAmJiB7ICdhaS1vMTF5LXJlcXVlc3QtaWQnOiByZXF1ZXN0SWQgfSksXG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgY3JlYXRlTGFuZ3VhZ2VNb2RlbCA9IChtb2RlbElkOiBHYXRld2F5TW9kZWxJZCkgPT4ge1xuICAgIHJldHVybiBuZXcgR2F0ZXdheUxhbmd1YWdlTW9kZWwobW9kZWxJZCwge1xuICAgICAgcHJvdmlkZXI6ICdnYXRld2F5JyxcbiAgICAgIGJhc2VVUkwsXG4gICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICBvMTF5SGVhZGVyczogY3JlYXRlTzExeUhlYWRlcnMoKSxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRBdmFpbGFibGVNb2RlbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gb3B0aW9ucy5faW50ZXJuYWw/LmN1cnJlbnREYXRlPy4oKS5nZXRUaW1lKCkgPz8gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXBlbmRpbmdNZXRhZGF0YSB8fCBub3cgLSBsYXN0RmV0Y2hUaW1lID4gY2FjaGVSZWZyZXNoTWlsbGlzKSB7XG4gICAgICBsYXN0RmV0Y2hUaW1lID0gbm93O1xuXG4gICAgICBwZW5kaW5nTWV0YWRhdGEgPSBuZXcgR2F0ZXdheUZldGNoTWV0YWRhdGEoe1xuICAgICAgICBiYXNlVVJMLFxuICAgICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICAgIH0pXG4gICAgICAgIC5nZXRBdmFpbGFibGVNb2RlbHMoKVxuICAgICAgICAudGhlbihtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgbWV0YWRhdGFDYWNoZSA9IG1ldGFkYXRhO1xuICAgICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGFzeW5jIChlcnJvcjogdW5rbm93bikgPT4ge1xuICAgICAgICAgIHRocm93IGF3YWl0IGFzR2F0ZXdheUVycm9yKFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICBhd2FpdCBwYXJzZUF1dGhNZXRob2QoYXdhaXQgZ2V0SGVhZGVycygpKSxcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0YWRhdGFDYWNoZSA/IFByb21pc2UucmVzb2x2ZShtZXRhZGF0YUNhY2hlKSA6IHBlbmRpbmdNZXRhZGF0YTtcbiAgfTtcblxuICBjb25zdCBnZXRDcmVkaXRzID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiBuZXcgR2F0ZXdheUZldGNoTWV0YWRhdGEoe1xuICAgICAgYmFzZVVSTCxcbiAgICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICB9KVxuICAgICAgLmdldENyZWRpdHMoKVxuICAgICAgLmNhdGNoKGFzeW5jIChlcnJvcjogdW5rbm93bikgPT4ge1xuICAgICAgICB0aHJvdyBhd2FpdCBhc0dhdGV3YXlFcnJvcihcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBhd2FpdCBwYXJzZUF1dGhNZXRob2QoYXdhaXQgZ2V0SGVhZGVycygpKSxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHByb3ZpZGVyID0gZnVuY3Rpb24gKG1vZGVsSWQ6IEdhdGV3YXlNb2RlbElkKSB7XG4gICAgaWYgKG5ldy50YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBHYXRld2F5IFByb3ZpZGVyIG1vZGVsIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IGtleXdvcmQuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUxhbmd1YWdlTW9kZWwobW9kZWxJZCk7XG4gIH07XG5cbiAgcHJvdmlkZXIuZ2V0QXZhaWxhYmxlTW9kZWxzID0gZ2V0QXZhaWxhYmxlTW9kZWxzO1xuICBwcm92aWRlci5nZXRDcmVkaXRzID0gZ2V0Q3JlZGl0cztcbiAgcHJvdmlkZXIuaW1hZ2VNb2RlbCA9IChtb2RlbElkOiBHYXRld2F5SW1hZ2VNb2RlbElkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBHYXRld2F5SW1hZ2VNb2RlbChtb2RlbElkLCB7XG4gICAgICBwcm92aWRlcjogJ2dhdGV3YXknLFxuICAgICAgYmFzZVVSTCxcbiAgICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICAgIG8xMXlIZWFkZXJzOiBjcmVhdGVPMTF5SGVhZGVycygpLFxuICAgIH0pO1xuICB9O1xuICBwcm92aWRlci5sYW5ndWFnZU1vZGVsID0gY3JlYXRlTGFuZ3VhZ2VNb2RlbDtcbiAgcHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsID0gKG1vZGVsSWQ6IEdhdGV3YXlFbWJlZGRpbmdNb2RlbElkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBHYXRld2F5RW1iZWRkaW5nTW9kZWwobW9kZWxJZCwge1xuICAgICAgcHJvdmlkZXI6ICdnYXRld2F5JyxcbiAgICAgIGJhc2VVUkwsXG4gICAgICBoZWFkZXJzOiBnZXRIZWFkZXJzLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgICBvMTF5SGVhZGVyczogY3JlYXRlTzExeUhlYWRlcnMoKSxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gcHJvdmlkZXI7XG59XG5cbmV4cG9ydCBjb25zdCBnYXRld2F5ID0gY3JlYXRlR2F0ZXdheVByb3ZpZGVyKCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHYXRld2F5QXV0aFRva2VuKFxuICBvcHRpb25zOiBHYXRld2F5UHJvdmlkZXJTZXR0aW5ncyxcbik6IFByb21pc2U8e1xuICB0b2tlbjogc3RyaW5nO1xuICBhdXRoTWV0aG9kOiAnYXBpLWtleScgfCAnb2lkYyc7XG59IHwgbnVsbD4ge1xuICBjb25zdCBhcGlLZXkgPSBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgICBzZXR0aW5nVmFsdWU6IG9wdGlvbnMuYXBpS2V5LFxuICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiAnQUlfR0FURVdBWV9BUElfS0VZJyxcbiAgfSk7XG5cbiAgaWYgKGFwaUtleSkge1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbjogYXBpS2V5LFxuICAgICAgYXV0aE1ldGhvZDogJ2FwaS1rZXknLFxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IG9pZGNUb2tlbiA9IGF3YWl0IGdldFZlcmNlbE9pZGNUb2tlbigpO1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbjogb2lkY1Rva2VuLFxuICAgICAgYXV0aE1ldGhvZDogJ29pZGMnLFxuICAgIH07XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBleHRyYWN0QXBpQ2FsbFJlc3BvbnNlLCBHYXRld2F5RXJyb3IgfSBmcm9tICcuJztcbmltcG9ydCB7IGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSB9IGZyb20gJy4vY3JlYXRlLWdhdGV3YXktZXJyb3InO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNHYXRld2F5RXJyb3IoXG4gIGVycm9yOiB1bmtub3duLFxuICBhdXRoTWV0aG9kPzogJ2FwaS1rZXknIHwgJ29pZGMnLFxuKSB7XG4gIGlmIChHYXRld2F5RXJyb3IuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICBpZiAoQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSh7XG4gICAgICByZXNwb25zZTogZXh0cmFjdEFwaUNhbGxSZXNwb25zZShlcnJvciksXG4gICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXNDb2RlID8/IDUwMCxcbiAgICAgIGRlZmF1bHRNZXNzYWdlOiAnR2F0ZXdheSByZXF1ZXN0IGZhaWxlZCcsXG4gICAgICBjYXVzZTogZXJyb3IsXG4gICAgICBhdXRoTWV0aG9kLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZUdhdGV3YXlFcnJvckZyb21SZXNwb25zZSh7XG4gICAgcmVzcG9uc2U6IHt9LFxuICAgIHN0YXR1c0NvZGU6IDUwMCxcbiAgICBkZWZhdWx0TWVzc2FnZTpcbiAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgPyBgR2F0ZXdheSByZXF1ZXN0IGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWBcbiAgICAgICAgOiAnVW5rbm93biBHYXRld2F5IGVycm9yJyxcbiAgICBjYXVzZTogZXJyb3IsXG4gICAgYXV0aE1ldGhvZCxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5QXV0aGVudGljYXRpb25FcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1hdXRoZW50aWNhdGlvbi1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1pbnZhbGlkLXJlcXVlc3QtZXJyb3InO1xuaW1wb3J0IHsgR2F0ZXdheVJhdGVMaW1pdEVycm9yIH0gZnJvbSAnLi9nYXRld2F5LXJhdGUtbGltaXQtZXJyb3InO1xuaW1wb3J0IHtcbiAgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvcixcbiAgbW9kZWxOb3RGb3VuZFBhcmFtU2NoZW1hLFxufSBmcm9tICcuL2dhdGV3YXktbW9kZWwtbm90LWZvdW5kLWVycm9yJztcbmltcG9ydCB7IEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWludGVybmFsLXNlcnZlci1lcnJvcic7XG5pbXBvcnQgeyBHYXRld2F5UmVzcG9uc2VFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1yZXNwb25zZS1lcnJvcic7XG5pbXBvcnQge1xuICBJbmZlclZhbGlkYXRvcixcbiAgbGF6eVZhbGlkYXRvcixcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG4gIHZhbGlkYXRlVHlwZXMsXG4gIHpvZFNjaGVtYSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHYXRld2F5RXJyb3JGcm9tUmVzcG9uc2Uoe1xuICByZXNwb25zZSxcbiAgc3RhdHVzQ29kZSxcbiAgZGVmYXVsdE1lc3NhZ2UgPSAnR2F0ZXdheSByZXF1ZXN0IGZhaWxlZCcsXG4gIGNhdXNlLFxuICBhdXRoTWV0aG9kLFxufToge1xuICByZXNwb25zZTogdW5rbm93bjtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBkZWZhdWx0TWVzc2FnZT86IHN0cmluZztcbiAgY2F1c2U/OiB1bmtub3duO1xuICBhdXRoTWV0aG9kPzogJ2FwaS1rZXknIHwgJ29pZGMnO1xufSk6IFByb21pc2U8R2F0ZXdheUVycm9yPiB7XG4gIGNvbnN0IHBhcnNlUmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiByZXNwb25zZSxcbiAgICBzY2hlbWE6IGdhdGV3YXlFcnJvclJlc3BvbnNlU2NoZW1hLFxuICB9KTtcblxuICBpZiAoIXBhcnNlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4gbmV3IEdhdGV3YXlSZXNwb25zZUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGVycm9yIHJlc3BvbnNlIGZvcm1hdDogJHtkZWZhdWx0TWVzc2FnZX1gLFxuICAgICAgc3RhdHVzQ29kZSxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICAgIGNhdXNlLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGVkUmVzcG9uc2U6IEdhdGV3YXlFcnJvclJlc3BvbnNlID0gcGFyc2VSZXN1bHQudmFsdWU7XG4gIGNvbnN0IGVycm9yVHlwZSA9IHZhbGlkYXRlZFJlc3BvbnNlLmVycm9yLnR5cGU7XG4gIGNvbnN0IG1lc3NhZ2UgPSB2YWxpZGF0ZWRSZXNwb25zZS5lcnJvci5tZXNzYWdlO1xuXG4gIHN3aXRjaCAoZXJyb3JUeXBlKSB7XG4gICAgY2FzZSAnYXV0aGVudGljYXRpb25fZXJyb3InOlxuICAgICAgcmV0dXJuIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLmNyZWF0ZUNvbnRleHR1YWxFcnJvcih7XG4gICAgICAgIGFwaUtleVByb3ZpZGVkOiBhdXRoTWV0aG9kID09PSAnYXBpLWtleScsXG4gICAgICAgIG9pZGNUb2tlblByb3ZpZGVkOiBhdXRoTWV0aG9kID09PSAnb2lkYycsXG4gICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgIGNhdXNlLFxuICAgICAgfSk7XG4gICAgY2FzZSAnaW52YWxpZF9yZXF1ZXN0X2Vycm9yJzpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3IoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgICBjYXNlICdyYXRlX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheVJhdGVMaW1pdEVycm9yKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgY2FzZSAnbW9kZWxfbm90X2ZvdW5kJzoge1xuICAgICAgY29uc3QgbW9kZWxSZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gICAgICAgIHZhbHVlOiB2YWxpZGF0ZWRSZXNwb25zZS5lcnJvci5wYXJhbSxcbiAgICAgICAgc2NoZW1hOiBtb2RlbE5vdEZvdW5kUGFyYW1TY2hlbWEsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5ldyBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yKHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgbW9kZWxJZDogbW9kZWxSZXN1bHQuc3VjY2VzcyA/IG1vZGVsUmVzdWx0LnZhbHVlLm1vZGVsSWQgOiB1bmRlZmluZWQsXG4gICAgICAgIGNhdXNlLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNhc2UgJ2ludGVybmFsX3NlcnZlcl9lcnJvcic6XG4gICAgICByZXR1cm4gbmV3IEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBuZXcgR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3IoeyBtZXNzYWdlLCBzdGF0dXNDb2RlLCBjYXVzZSB9KTtcbiAgfVxufVxuXG5jb25zdCBnYXRld2F5RXJyb3JSZXNwb25zZVNjaGVtYSA9IGxhenlWYWxpZGF0b3IoKCkgPT5cbiAgem9kU2NoZW1hKFxuICAgIHoub2JqZWN0KHtcbiAgICAgIGVycm9yOiB6Lm9iamVjdCh7XG4gICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgICAgIHR5cGU6IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICBwYXJhbTogei51bmtub3duKCkubnVsbGlzaCgpLFxuICAgICAgICBjb2RlOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpXSkubnVsbGlzaCgpLFxuICAgICAgfSksXG4gICAgfSksXG4gICksXG4pO1xuXG5leHBvcnQgdHlwZSBHYXRld2F5RXJyb3JSZXNwb25zZSA9IEluZmVyVmFsaWRhdG9yPFxuICB0eXBlb2YgZ2F0ZXdheUVycm9yUmVzcG9uc2VTY2hlbWFcbj47XG4iLCAiY29uc3QgbWFya2VyID0gJ3ZlcmNlbC5haS5nYXRld2F5LmVycm9yJztcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdhdGV3YXlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGFic3RyYWN0IHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgYWJzdHJhY3QgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIHJlYWRvbmx5IGNhdXNlPzogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBzdGF0dXNDb2RlID0gNTAwLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBlcnJvciBpcyBhIEdhdGV3YXkgRXJyb3IuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlcnJvciBpcyBhIEdhdGV3YXkgRXJyb3IsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcik7XG4gIH1cblxuICBzdGF0aWMgaGFzTWFya2VyKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheUVycm9yIHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgIHN5bWJvbCBpbiBlcnJvciAmJlxuICAgICAgKGVycm9yIGFzIGFueSlbc3ltYm9sXSA9PT0gdHJ1ZVxuICAgICk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBHYXRld2F5RXJyb3IgfSBmcm9tICcuL2dhdGV3YXktZXJyb3InO1xuXG5jb25zdCBuYW1lID0gJ0dhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBBdXRoZW50aWNhdGlvbiBmYWlsZWQgLSBpbnZhbGlkIEFQSSBrZXkgb3IgT0lEQyB0b2tlblxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAnYXV0aGVudGljYXRpb25fZXJyb3InO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcsXG4gICAgc3RhdHVzQ29kZSA9IDQwMSxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjb250ZXh0dWFsIGVycm9yIG1lc3NhZ2Ugd2hlbiBhdXRoZW50aWNhdGlvbiBmYWlsc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUNvbnRleHR1YWxFcnJvcih7XG4gICAgYXBpS2V5UHJvdmlkZWQsXG4gICAgb2lkY1Rva2VuUHJvdmlkZWQsXG4gICAgbWVzc2FnZSA9ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQnLFxuICAgIHN0YXR1c0NvZGUgPSA0MDEsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBhcGlLZXlQcm92aWRlZDogYm9vbGVhbjtcbiAgICBvaWRjVG9rZW5Qcm92aWRlZDogYm9vbGVhbjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9KTogR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3Ige1xuICAgIGxldCBjb250ZXh0dWFsTWVzc2FnZTogc3RyaW5nO1xuXG4gICAgaWYgKGFwaUtleVByb3ZpZGVkKSB7XG4gICAgICBjb250ZXh0dWFsTWVzc2FnZSA9IGBBSSBHYXRld2F5IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogSW52YWxpZCBBUEkga2V5LlxuXG5DcmVhdGUgYSBuZXcgQVBJIGtleTogaHR0cHM6Ly92ZXJjZWwuY29tL2Q/dG89JTJGJTVCdGVhbSU1RCUyRiU3RSUyRmFpJTJGYXBpLWtleXNcblxuUHJvdmlkZSB2aWEgJ2FwaUtleScgb3B0aW9uIG9yICdBSV9HQVRFV0FZX0FQSV9LRVknIGVudmlyb25tZW50IHZhcmlhYmxlLmA7XG4gICAgfSBlbHNlIGlmIChvaWRjVG9rZW5Qcm92aWRlZCkge1xuICAgICAgY29udGV4dHVhbE1lc3NhZ2UgPSBgQUkgR2F0ZXdheSBhdXRoZW50aWNhdGlvbiBmYWlsZWQ6IEludmFsaWQgT0lEQyB0b2tlbi5cblxuUnVuICducHggdmVyY2VsIGxpbmsnIHRvIGxpbmsgeW91ciBwcm9qZWN0LCB0aGVuICd2YyBlbnYgcHVsbCcgdG8gZmV0Y2ggdGhlIHRva2VuLlxuXG5BbHRlcm5hdGl2ZWx5LCB1c2UgYW4gQVBJIGtleTogaHR0cHM6Ly92ZXJjZWwuY29tL2Q/dG89JTJGJTVCdGVhbSU1RCUyRiU3RSUyRmFpJTJGYXBpLWtleXNgO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0dWFsTWVzc2FnZSA9IGBBSSBHYXRld2F5IGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogTm8gYXV0aGVudGljYXRpb24gcHJvdmlkZWQuXG5cbk9wdGlvbiAxIC0gQVBJIGtleTpcbkNyZWF0ZSBhbiBBUEkga2V5OiBodHRwczovL3ZlcmNlbC5jb20vZD90bz0lMkYlNUJ0ZWFtJTVEJTJGJTdFJTJGYWklMkZhcGkta2V5c1xuUHJvdmlkZSB2aWEgJ2FwaUtleScgb3B0aW9uIG9yICdBSV9HQVRFV0FZX0FQSV9LRVknIGVudmlyb25tZW50IHZhcmlhYmxlLlxuXG5PcHRpb24gMiAtIE9JREMgdG9rZW46XG5SdW4gJ25weCB2ZXJjZWwgbGluaycgdG8gbGluayB5b3VyIHByb2plY3QsIHRoZW4gJ3ZjIGVudiBwdWxsJyB0byBmZXRjaCB0aGUgdG9rZW4uYDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGNvbnRleHR1YWxNZXNzYWdlLFxuICAgICAgc3RhdHVzQ29kZSxcbiAgICAgIGNhdXNlLFxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogSW52YWxpZCByZXF1ZXN0IC0gbWlzc2luZyBoZWFkZXJzLCBtYWxmb3JtZWQgZGF0YSwgZXRjLlxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheUludmFsaWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBHYXRld2F5RXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgbmFtZSA9IG5hbWU7XG4gIHJlYWRvbmx5IHR5cGUgPSAnaW52YWxpZF9yZXF1ZXN0X2Vycm9yJztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdJbnZhbGlkIHJlcXVlc3QnLFxuICAgIHN0YXR1c0NvZGUgPSA0MDAsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5SW52YWxpZFJlcXVlc3RFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheVJhdGVMaW1pdEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG4gKiBSYXRlIGxpbWl0IGV4Y2VlZGVkLlxuICovXG5leHBvcnQgY2xhc3MgR2F0ZXdheVJhdGVMaW1pdEVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ3JhdGVfbGltaXRfZXhjZWVkZWQnO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ1JhdGUgbGltaXQgZXhjZWVkZWQnLFxuICAgIHN0YXR1c0NvZGUgPSA0MjksXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBHYXRld2F5UmF0ZUxpbWl0RXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBsYXp5VmFsaWRhdG9yLCB6b2RTY2hlbWEgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZ2F0ZXdheS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNvbnN0IG1vZGVsTm90Rm91bmRQYXJhbVNjaGVtYSA9IGxhenlWYWxpZGF0b3IoKCkgPT5cbiAgem9kU2NoZW1hKFxuICAgIHoub2JqZWN0KHtcbiAgICAgIG1vZGVsSWQ6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICksXG4pO1xuXG4vKipcbiAqIE1vZGVsIG5vdCBmb3VuZCBvciBub3QgYXZhaWxhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yIGV4dGVuZHMgR2F0ZXdheUVycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IG5hbWUgPSBuYW1lO1xuICByZWFkb25seSB0eXBlID0gJ21vZGVsX25vdF9mb3VuZCc7XG4gIHJlYWRvbmx5IG1vZGVsSWQ/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTW9kZWwgbm90IGZvdW5kJyxcbiAgICBzdGF0dXNDb2RlID0gNDA0LFxuICAgIG1vZGVsSWQsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgbW9kZWxJZD86IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheU1vZGVsTm90Rm91bmRFcnJvciB7XG4gICAgcmV0dXJuIEdhdGV3YXlFcnJvci5oYXNNYXJrZXIoZXJyb3IpICYmIHN5bWJvbCBpbiBlcnJvcjtcbiAgfVxufVxuIiwgImltcG9ydCB7IEdhdGV3YXlFcnJvciB9IGZyb20gJy4vZ2F0ZXdheS1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnR2F0ZXdheUludGVybmFsU2VydmVyRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5nYXRld2F5LmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcbiAqIEludGVybmFsIHNlcnZlciBlcnJvciBmcm9tIHRoZSBHYXRld2F5XG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5SW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdpbnRlcm5hbF9zZXJ2ZXJfZXJyb3InO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXG4gICAgc3RhdHVzQ29kZSA9IDUwMCxcbiAgICBjYXVzZSxcbiAgfToge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZSwgc3RhdHVzQ29kZSwgY2F1c2UgfSk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEdhdGV3YXlJbnRlcm5hbFNlcnZlckVycm9yIHtcbiAgICByZXR1cm4gR2F0ZXdheUVycm9yLmhhc01hcmtlcihlcnJvcikgJiYgc3ltYm9sIGluIGVycm9yO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9nYXRld2F5LWVycm9yJztcblxuY29uc3QgbmFtZSA9ICdHYXRld2F5UmVzcG9uc2VFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmdhdGV3YXkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuICogR2F0ZXdheSByZXNwb25zZSBwYXJzaW5nIGVycm9yXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5UmVzcG9uc2VFcnJvciBleHRlbmRzIEdhdGV3YXlFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBuYW1lID0gbmFtZTtcbiAgcmVhZG9ubHkgdHlwZSA9ICdyZXNwb25zZV9lcnJvcic7XG4gIHJlYWRvbmx5IHJlc3BvbnNlPzogdW5rbm93bjtcbiAgcmVhZG9ubHkgdmFsaWRhdGlvbkVycm9yPzogVHlwZVZhbGlkYXRpb25FcnJvcjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdJbnZhbGlkIHJlc3BvbnNlIGZyb20gR2F0ZXdheScsXG4gICAgc3RhdHVzQ29kZSA9IDUwMixcbiAgICByZXNwb25zZSxcbiAgICB2YWxpZGF0aW9uRXJyb3IsXG4gICAgY2F1c2UsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgcmVzcG9uc2U/OiB1bmtub3duO1xuICAgIHZhbGlkYXRpb25FcnJvcj86IFR5cGVWYWxpZGF0aW9uRXJyb3I7XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIHN0YXR1c0NvZGUsIGNhdXNlIH0pO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRpb25FcnJvcjtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgR2F0ZXdheVJlc3BvbnNlRXJyb3Ige1xuICAgIHJldHVybiBHYXRld2F5RXJyb3IuaGFzTWFya2VyKGVycm9yKSAmJiBzeW1ib2wgaW4gZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEFwaUNhbGxSZXNwb25zZShlcnJvcjogQVBJQ2FsbEVycm9yKTogdW5rbm93biB7XG4gIGlmIChlcnJvci5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZXJyb3IuZGF0YTtcbiAgfVxuICBpZiAoZXJyb3IucmVzcG9uc2VCb2R5ICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZXJyb3IucmVzcG9uc2VCb2R5KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBlcnJvci5yZXNwb25zZUJvZHk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7fTtcbn1cbiIsICJpbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7XG4gIGxhenlWYWxpZGF0b3IsXG4gIHNhZmVWYWxpZGF0ZVR5cGVzLFxuICB6b2RTY2hlbWEsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgR0FURVdBWV9BVVRIX01FVEhPRF9IRUFERVIgPSAnYWktZ2F0ZXdheS1hdXRoLW1ldGhvZCcgYXMgY29uc3Q7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUF1dGhNZXRob2QoXG4gIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4sXG4pIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiBoZWFkZXJzW0dBVEVXQVlfQVVUSF9NRVRIT0RfSEVBREVSXSxcbiAgICBzY2hlbWE6IGdhdGV3YXlBdXRoTWV0aG9kU2NoZW1hLFxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3MgPyByZXN1bHQudmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IGdhdGV3YXlBdXRoTWV0aG9kU2NoZW1hID0gbGF6eVZhbGlkYXRvcigoKSA9PlxuICB6b2RTY2hlbWEoei51bmlvbihbei5saXRlcmFsKCdhcGkta2V5JyksIHoubGl0ZXJhbCgnb2lkYycpXSkpLFxuKTtcbiIsICJpbXBvcnQge1xuICBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIsXG4gIGdldEZyb21BcGksXG4gIGxhenlWYWxpZGF0b3IsXG4gIHJlc29sdmUsXG4gIHpvZFNjaGVtYSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlMYW5ndWFnZU1vZGVsRW50cnkgfSBmcm9tICcuL2dhdGV3YXktbW9kZWwtZW50cnknO1xuXG50eXBlIEdhdGV3YXlGZXRjaE1ldGFkYXRhQ29uZmlnID0gR2F0ZXdheUNvbmZpZztcblxuZXhwb3J0IGludGVyZmFjZSBHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlIHtcbiAgbW9kZWxzOiBHYXRld2F5TGFuZ3VhZ2VNb2RlbEVudHJ5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2F0ZXdheUNyZWRpdHNSZXNwb25zZSB7XG4gIC8qKiBUaGUgcmVtYWluaW5nIGdhdGV3YXkgY3JlZGl0IGJhbGFuY2UgYXZhaWxhYmxlIGZvciBBUEkgdXNhZ2UgKi9cbiAgYmFsYW5jZTogc3RyaW5nO1xuICAvKiogVGhlIHRvdGFsIGFtb3VudCBvZiBnYXRld2F5IGNyZWRpdHMgdGhhdCBoYXZlIGJlZW4gY29uc3VtZWQgKi9cbiAgdG90YWxVc2VkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBHYXRld2F5RmV0Y2hNZXRhZGF0YSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBHYXRld2F5RmV0Y2hNZXRhZGF0YUNvbmZpZykge31cblxuICBhc3luYyBnZXRBdmFpbGFibGVNb2RlbHMoKTogUHJvbWlzZTxHYXRld2F5RmV0Y2hNZXRhZGF0YVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IGdldEZyb21BcGkoe1xuICAgICAgICB1cmw6IGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2NvbmZpZ2AsXG4gICAgICAgIGhlYWRlcnM6IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKSxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgICBnYXRld2F5QXZhaWxhYmxlTW9kZWxzUmVzcG9uc2VTY2hlbWEsXG4gICAgICAgICksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgZmV0Y2g6IHRoaXMuY29uZmlnLmZldGNoLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgYXdhaXQgYXNHYXRld2F5RXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldENyZWRpdHMoKTogUHJvbWlzZTxHYXRld2F5Q3JlZGl0c1Jlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJhc2VVcmwgPSBuZXcgVVJMKHRoaXMuY29uZmlnLmJhc2VVUkwpO1xuXG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCBnZXRGcm9tQXBpKHtcbiAgICAgICAgdXJsOiBgJHtiYXNlVXJsLm9yaWdpbn0vdjEvY3JlZGl0c2AsXG4gICAgICAgIGhlYWRlcnM6IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKSxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgICBnYXRld2F5Q3JlZGl0c1Jlc3BvbnNlU2NoZW1hLFxuICAgICAgICApLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGF3YWl0IGFzR2F0ZXdheUVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZ2F0ZXdheUF2YWlsYWJsZU1vZGVsc1Jlc3BvbnNlU2NoZW1hID0gbGF6eVZhbGlkYXRvcigoKSA9PlxuICB6b2RTY2hlbWEoXG4gICAgei5vYmplY3Qoe1xuICAgICAgbW9kZWxzOiB6LmFycmF5KFxuICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgaWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgICAgcHJpY2luZzogelxuICAgICAgICAgICAgLm9iamVjdCh7XG4gICAgICAgICAgICAgIGlucHV0OiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICBvdXRwdXQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgIGlucHV0X2NhY2hlX3JlYWQ6IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgICAgICAgICBpbnB1dF9jYWNoZV93cml0ZTogei5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRyYW5zZm9ybShcbiAgICAgICAgICAgICAgKHsgaW5wdXQsIG91dHB1dCwgaW5wdXRfY2FjaGVfcmVhZCwgaW5wdXRfY2FjaGVfd3JpdGUgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgLi4uKGlucHV0X2NhY2hlX3JlYWRcbiAgICAgICAgICAgICAgICAgID8geyBjYWNoZWRJbnB1dFRva2VuczogaW5wdXRfY2FjaGVfcmVhZCB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAuLi4oaW5wdXRfY2FjaGVfd3JpdGVcbiAgICAgICAgICAgICAgICAgID8geyBjYWNoZUNyZWF0aW9uSW5wdXRUb2tlbnM6IGlucHV0X2NhY2hlX3dyaXRlIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5udWxsaXNoKCksXG4gICAgICAgICAgc3BlY2lmaWNhdGlvbjogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3BlY2lmaWNhdGlvblZlcnNpb246IHoubGl0ZXJhbCgndjInKSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgbW9kZWxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBtb2RlbFR5cGU6IHouZW51bShbJ2xhbmd1YWdlJywgJ2VtYmVkZGluZycsICdpbWFnZSddKS5udWxsaXNoKCksXG4gICAgICAgIH0pLFxuICAgICAgKSxcbiAgICB9KSxcbiAgKSxcbik7XG5cbmNvbnN0IGdhdGV3YXlDcmVkaXRzUmVzcG9uc2VTY2hlbWEgPSBsYXp5VmFsaWRhdG9yKCgpID0+XG4gIHpvZFNjaGVtYShcbiAgICB6XG4gICAgICAub2JqZWN0KHtcbiAgICAgICAgYmFsYW5jZTogei5zdHJpbmcoKSxcbiAgICAgICAgdG90YWxfdXNlZDogei5zdHJpbmcoKSxcbiAgICAgIH0pXG4gICAgICAudHJhbnNmb3JtKCh7IGJhbGFuY2UsIHRvdGFsX3VzZWQgfSkgPT4gKHtcbiAgICAgICAgYmFsYW5jZSxcbiAgICAgICAgdG90YWxVc2VkOiB0b3RhbF91c2VkLFxuICAgICAgfSkpLFxuICApLFxuKTtcbiIsICJpbXBvcnQgdHlwZSB7XG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBMYW5ndWFnZU1vZGVsVjJGaWxlUGFydCxcbiAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyxcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcmVzb2x2ZSxcbiAgdHlwZSBQYXJzZVJlc3VsdCxcbiAgdHlwZSBSZXNvbHZhYmxlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IEdhdGV3YXlNb2RlbElkIH0gZnJvbSAnLi9nYXRld2F5LWxhbmd1YWdlLW1vZGVsLXNldHRpbmdzJztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgcGFyc2VBdXRoTWV0aG9kIH0gZnJvbSAnLi9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QnO1xuXG50eXBlIEdhdGV3YXlDaGF0Q29uZmlnID0gR2F0ZXdheUNvbmZpZyAmIHtcbiAgcHJvdmlkZXI6IHN0cmluZztcbiAgbzExeUhlYWRlcnM6IFJlc29sdmFibGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG59O1xuXG5leHBvcnQgY2xhc3MgR2F0ZXdheUxhbmd1YWdlTW9kZWwgaW1wbGVtZW50cyBMYW5ndWFnZU1vZGVsVjIge1xuICByZWFkb25seSBzcGVjaWZpY2F0aW9uVmVyc2lvbiA9ICd2Mic7XG4gIHJlYWRvbmx5IHN1cHBvcnRlZFVybHMgPSB7ICcqLyonOiBbLy4qL10gfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBtb2RlbElkOiBHYXRld2F5TW9kZWxJZCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogR2F0ZXdheUNoYXRDb25maWcsXG4gICkge31cblxuICBnZXQgcHJvdmlkZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEFyZ3Mob3B0aW9uczogUGFyYW1ldGVyczxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT5bMF0pIHtcbiAgICBjb25zdCB7IGFib3J0U2lnbmFsOiBfYWJvcnRTaWduYWwsIC4uLm9wdGlvbnNXaXRob3V0U2lnbmFsIH0gPSBvcHRpb25zO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFyZ3M6IHRoaXMubWF5YmVFbmNvZGVGaWxlUGFydHMob3B0aW9uc1dpdGhvdXRTaWduYWwpLFxuICAgICAgd2FybmluZ3M6IFtdLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBkb0dlbmVyYXRlKFxuICAgIG9wdGlvbnM6IFBhcmFtZXRlcnM8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+WzBdLFxuICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT4+PiB7XG4gICAgY29uc3QgeyBhcmdzLCB3YXJuaW5ncyB9ID0gYXdhaXQgdGhpcy5nZXRBcmdzKG9wdGlvbnMpO1xuICAgIGNvbnN0IHsgYWJvcnRTaWduYWwgfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLmhlYWRlcnMoKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiByZXNwb25zZUJvZHksXG4gICAgICAgIHJhd1ZhbHVlOiByYXdSZXNwb25zZSxcbiAgICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpKHtcbiAgICAgICAgdXJsOiB0aGlzLmdldFVybCgpLFxuICAgICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyhcbiAgICAgICAgICByZXNvbHZlZEhlYWRlcnMsXG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWxDb25maWdIZWFkZXJzKHRoaXMubW9kZWxJZCwgZmFsc2UpLFxuICAgICAgICAgIGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcubzExeUhlYWRlcnMpLFxuICAgICAgICApLFxuICAgICAgICBib2R5OiBhcmdzLFxuICAgICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyKHouYW55KCkpLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIC4uLihhYm9ydFNpZ25hbCAmJiB7IGFib3J0U2lnbmFsIH0pLFxuICAgICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVzcG9uc2VCb2R5LFxuICAgICAgICByZXF1ZXN0OiB7IGJvZHk6IGFyZ3MgfSxcbiAgICAgICAgcmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLCBib2R5OiByYXdSZXNwb25zZSB9LFxuICAgICAgICB3YXJuaW5ncyxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGF3YWl0IGFzR2F0ZXdheUVycm9yKGVycm9yLCBhd2FpdCBwYXJzZUF1dGhNZXRob2QocmVzb2x2ZWRIZWFkZXJzKSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZG9TdHJlYW0oXG4gICAgb3B0aW9uczogUGFyYW1ldGVyczxMYW5ndWFnZU1vZGVsVjJbJ2RvU3RyZWFtJ10+WzBdLFxuICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvU3RyZWFtJ10+Pj4ge1xuICAgIGNvbnN0IHsgYXJncywgd2FybmluZ3MgfSA9IGF3YWl0IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCB7IGFib3J0U2lnbmFsIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgcmVzb2x2ZWRIZWFkZXJzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5oZWFkZXJzKCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgdmFsdWU6IHJlc3BvbnNlLCByZXNwb25zZUhlYWRlcnMgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKFxuICAgICAgICAgIHJlc29sdmVkSGVhZGVycyxcbiAgICAgICAgICBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgdGhpcy5nZXRNb2RlbENvbmZpZ0hlYWRlcnModGhpcy5tb2RlbElkLCB0cnVlKSxcbiAgICAgICAgICBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLm8xMXlIZWFkZXJzKSxcbiAgICAgICAgKSxcbiAgICAgICAgYm9keTogYXJncyxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIoei5hbnkoKSksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGFib3J0U2lnbmFsICYmIHsgYWJvcnRTaWduYWwgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgICBQYXJzZVJlc3VsdDxMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0PixcbiAgICAgICAgICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnRcbiAgICAgICAgICA+KHtcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgaWYgKHdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RyZWFtLXN0YXJ0Jywgd2FybmluZ3MgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1QYXJ0ID0gY2h1bmsudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcmF3IGNodW5rczogaWYgdGhpcyBpcyBhIHJhdyBjaHVuayBmcm9tIHRoZSBnYXRld2F5IEFQSSxcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGVtaXQgaXQgaWYgaW5jbHVkZVJhd0NodW5rcyBpcyB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbVBhcnQudHlwZSA9PT0gJ3JhdycgJiYgIW9wdGlvbnMuaW5jbHVkZVJhd0NodW5rcykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTa2lwIHJhdyBjaHVua3MgaWYgbm90IHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHN0cmVhbVBhcnQudHlwZSA9PT0gJ3Jlc3BvbnNlLW1ldGFkYXRhJyAmJlxuICAgICAgICAgICAgICAgICAgc3RyZWFtUGFydC50aW1lc3RhbXAgJiZcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBzdHJlYW1QYXJ0LnRpbWVzdGFtcCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHN0cmVhbVBhcnQudGltZXN0YW1wID0gbmV3IERhdGUoc3RyZWFtUGFydC50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShzdHJlYW1QYXJ0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKFxuICAgICAgICAgICAgICAgICAgKGNodW5rIGFzIHsgc3VjY2VzczogZmFsc2U7IGVycm9yOiB1bmtub3duIH0pLmVycm9yLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICAgIHJlcXVlc3Q6IHsgYm9keTogYXJncyB9LFxuICAgICAgICByZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgfSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGF3YWl0IGFzR2F0ZXdheUVycm9yKGVycm9yLCBhd2FpdCBwYXJzZUF1dGhNZXRob2QocmVzb2x2ZWRIZWFkZXJzKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0ZpbGVQYXJ0KHBhcnQ6IHVua25vd24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgcGFydCAmJiB0eXBlb2YgcGFydCA9PT0gJ29iamVjdCcgJiYgJ3R5cGUnIGluIHBhcnQgJiYgcGFydC50eXBlID09PSAnZmlsZSdcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuY29kZXMgZmlsZSBwYXJ0cyBpbiB0aGUgcHJvbXB0IHRvIGJhc2U2NC4gTXV0YXRlcyB0aGUgcGFzc2VkIG9wdGlvbnNcbiAgICogaW5zdGFuY2UgZGlyZWN0bHkgdG8gYXZvaWQgY29weWluZyB0aGUgZmlsZSBkYXRhLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHRvIGVuY29kZS5cbiAgICogQHJldHVybnMgVGhlIG9wdGlvbnMgd2l0aCB0aGUgZmlsZSBwYXJ0cyBlbmNvZGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBtYXliZUVuY29kZUZpbGVQYXJ0cyhvcHRpb25zOiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucykge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBvcHRpb25zLnByb21wdCkge1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICBpZiAodGhpcy5pc0ZpbGVQYXJ0KHBhcnQpKSB7XG4gICAgICAgICAgY29uc3QgZmlsZVBhcnQgPSBwYXJ0IGFzIExhbmd1YWdlTW9kZWxWMkZpbGVQYXJ0O1xuICAgICAgICAgIC8vIElmIHRoZSBmaWxlIHBhcnQgaXMgYSBVUkwgaXQgd2lsbCBnZXQgY2xlYW5seSBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXG4gICAgICAgICAgLy8gSWYgaXQncyBhIGJpbmFyeSBmaWxlIGF0dGFjaG1lbnQgd2UgY29udmVydCBpdCB0byBhIGRhdGEgdXJsLlxuICAgICAgICAgIC8vIEluIGVpdGhlciBjYXNlLCBzZXJ2ZXItc2lkZSB3ZSBzaG91bGQgb25seSBldmVyIHNlZSBVUkxzIGFzIHN0cmluZ3MuXG4gICAgICAgICAgaWYgKGZpbGVQYXJ0LmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBVaW50OEFycmF5LmZyb20oZmlsZVBhcnQuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBiYXNlNjREYXRhID0gQnVmZmVyLmZyb20oYnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgICAgICAgICBmaWxlUGFydC5kYXRhID0gbmV3IFVSTChcbiAgICAgICAgICAgICAgYGRhdGE6JHtmaWxlUGFydC5tZWRpYVR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSd9O2Jhc2U2NCwke2Jhc2U2NERhdGF9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2xhbmd1YWdlLW1vZGVsYDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TW9kZWxDb25maWdIZWFkZXJzKG1vZGVsSWQ6IHN0cmluZywgc3RyZWFtaW5nOiBib29sZWFuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhaS1sYW5ndWFnZS1tb2RlbC1zcGVjaWZpY2F0aW9uLXZlcnNpb24nOiAnMicsXG4gICAgICAnYWktbGFuZ3VhZ2UtbW9kZWwtaWQnOiBtb2RlbElkLFxuICAgICAgJ2FpLWxhbmd1YWdlLW1vZGVsLXN0cmVhbWluZyc6IFN0cmluZyhzdHJlYW1pbmcpLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIEVtYmVkZGluZ01vZGVsVjIsXG4gIFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb21iaW5lSGVhZGVycyxcbiAgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyLFxuICBsYXp5VmFsaWRhdG9yLFxuICBwb3N0SnNvblRvQXBpLFxuICByZXNvbHZlLFxuICB6b2RTY2hlbWEsXG4gIHR5cGUgUmVzb2x2YWJsZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IGFzR2F0ZXdheUVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgcGFyc2VBdXRoTWV0aG9kIH0gZnJvbSAnLi9lcnJvcnMvcGFyc2UtYXV0aC1tZXRob2QnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBHYXRld2F5RW1iZWRkaW5nTW9kZWwgaW1wbGVtZW50cyBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz4ge1xuICByZWFkb25seSBzcGVjaWZpY2F0aW9uVmVyc2lvbiA9ICd2Mic7XG4gIHJlYWRvbmx5IG1heEVtYmVkZGluZ3NQZXJDYWxsID0gMjA0ODtcbiAgcmVhZG9ubHkgc3VwcG9ydHNQYXJhbGxlbENhbGxzID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBtb2RlbElkOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEdhdGV3YXlDb25maWcgJiB7XG4gICAgICBwcm92aWRlcjogc3RyaW5nO1xuICAgICAgbzExeUhlYWRlcnM6IFJlc29sdmFibGU8UmVjb3JkPHN0cmluZywgc3RyaW5nPj47XG4gICAgfSxcbiAgKSB7fVxuXG4gIGdldCBwcm92aWRlcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm92aWRlcjtcbiAgfVxuXG4gIGFzeW5jIGRvRW1iZWQoe1xuICAgIHZhbHVlcyxcbiAgICBoZWFkZXJzLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgfTogUGFyYW1ldGVyczxFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz5bJ2RvRW1iZWQnXT5bMF0pOiBQcm9taXNlPFxuICAgIEF3YWl0ZWQ8UmV0dXJuVHlwZTxFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz5bJ2RvRW1iZWQnXT4+XG4gID4ge1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycygpKTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHZhbHVlOiByZXNwb25zZUJvZHksXG4gICAgICAgIHJhd1ZhbHVlLFxuICAgICAgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgICB1cmw6IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgIGhlYWRlcnM6IGNvbWJpbmVIZWFkZXJzKFxuICAgICAgICAgIHJlc29sdmVkSGVhZGVycyxcbiAgICAgICAgICBoZWFkZXJzID8/IHt9LFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWxDb25maWdIZWFkZXJzKCksXG4gICAgICAgICAgYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5vMTF5SGVhZGVycyksXG4gICAgICAgICksXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBpbnB1dDogdmFsdWVzLmxlbmd0aCA9PT0gMSA/IHZhbHVlc1swXSA6IHZhbHVlcyxcbiAgICAgICAgICAuLi4ocHJvdmlkZXJPcHRpb25zID8geyBwcm92aWRlck9wdGlvbnMgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihcbiAgICAgICAgICBnYXRld2F5RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWEsXG4gICAgICAgICksXG4gICAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgICBlcnJvclNjaGVtYTogei5hbnkoKSxcbiAgICAgICAgICBlcnJvclRvTWVzc2FnZTogZGF0YSA9PiBkYXRhLFxuICAgICAgICB9KSxcbiAgICAgICAgLi4uKGFib3J0U2lnbmFsICYmIHsgYWJvcnRTaWduYWwgfSksXG4gICAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbWJlZGRpbmdzOiByZXNwb25zZUJvZHkuZW1iZWRkaW5ncyxcbiAgICAgICAgdXNhZ2U6IHJlc3BvbnNlQm9keS51c2FnZSA/PyB1bmRlZmluZWQsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6XG4gICAgICAgICAgcmVzcG9uc2VCb2R5LnByb3ZpZGVyTWV0YWRhdGEgYXMgdW5rbm93biBhcyBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIHJlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycywgYm9keTogcmF3VmFsdWUgfSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGF3YWl0IGFzR2F0ZXdheUVycm9yKGVycm9yLCBhd2FpdCBwYXJzZUF1dGhNZXRob2QocmVzb2x2ZWRIZWFkZXJzKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uZmlnLmJhc2VVUkx9L2VtYmVkZGluZy1tb2RlbGA7XG4gIH1cblxuICBwcml2YXRlIGdldE1vZGVsQ29uZmlnSGVhZGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2FpLWVtYmVkZGluZy1tb2RlbC1zcGVjaWZpY2F0aW9uLXZlcnNpb24nOiAnMicsXG4gICAgICAnYWktbW9kZWwtaWQnOiB0aGlzLm1vZGVsSWQsXG4gICAgfTtcbiAgfVxufVxuXG5jb25zdCBnYXRld2F5RW1iZWRkaW5nUmVzcG9uc2VTY2hlbWEgPSBsYXp5VmFsaWRhdG9yKCgpID0+XG4gIHpvZFNjaGVtYShcbiAgICB6Lm9iamVjdCh7XG4gICAgICBlbWJlZGRpbmdzOiB6LmFycmF5KHouYXJyYXkoei5udW1iZXIoKSkpLFxuICAgICAgdXNhZ2U6IHoub2JqZWN0KHsgdG9rZW5zOiB6Lm51bWJlcigpIH0pLm51bGxpc2goKSxcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHpcbiAgICAgICAgLnJlY29yZCh6LnN0cmluZygpLCB6LnJlY29yZCh6LnN0cmluZygpLCB6LnVua25vd24oKSkpXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIH0pLFxuICApLFxuKTtcbiIsICJpbXBvcnQgdHlwZSB7XG4gIEltYWdlTW9kZWxWMixcbiAgSW1hZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGEsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcmVzb2x2ZSxcbiAgdHlwZSBSZXNvbHZhYmxlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5Q29uZmlnIH0gZnJvbSAnLi9nYXRld2F5LWNvbmZpZyc7XG5pbXBvcnQgeyBhc0dhdGV3YXlFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IHBhcnNlQXV0aE1ldGhvZCB9IGZyb20gJy4vZXJyb3JzL3BhcnNlLWF1dGgtbWV0aG9kJztcblxuZXhwb3J0IGNsYXNzIEdhdGV3YXlJbWFnZU1vZGVsIGltcGxlbWVudHMgSW1hZ2VNb2RlbFYyIHtcbiAgcmVhZG9ubHkgc3BlY2lmaWNhdGlvblZlcnNpb24gPSAndjInO1xuICAvLyBTZXQgYSB2ZXJ5IGxhcmdlIG51bWJlciB0byBwcmV2ZW50IGNsaWVudC1zaWRlIHNwbGl0dGluZyBvZiByZXF1ZXN0c1xuICByZWFkb25seSBtYXhJbWFnZXNQZXJDYWxsID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgbW9kZWxJZDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBHYXRld2F5Q29uZmlnICYge1xuICAgICAgcHJvdmlkZXI6IHN0cmluZztcbiAgICAgIG8xMXlIZWFkZXJzOiBSZXNvbHZhYmxlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+O1xuICAgIH0sXG4gICkge31cblxuICBnZXQgcHJvdmlkZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cblxuICBhc3luYyBkb0dlbmVyYXRlKHtcbiAgICBwcm9tcHQsXG4gICAgbixcbiAgICBzaXplLFxuICAgIGFzcGVjdFJhdGlvLFxuICAgIHNlZWQsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIGhlYWRlcnMsXG4gICAgYWJvcnRTaWduYWwsXG4gIH06IFBhcmFtZXRlcnM8SW1hZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+WzBdKTogUHJvbWlzZTxcbiAgICBBd2FpdGVkPFJldHVyblR5cGU8SW1hZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+PlxuICA+IHtcbiAgICBjb25zdCByZXNvbHZlZEhlYWRlcnMgPSBhd2FpdCByZXNvbHZlKHRoaXMuY29uZmlnLmhlYWRlcnMoKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB2YWx1ZTogcmVzcG9uc2VCb2R5LFxuICAgICAgICByYXdWYWx1ZSxcbiAgICAgIH0gPSBhd2FpdCBwb3N0SnNvblRvQXBpKHtcbiAgICAgICAgdXJsOiB0aGlzLmdldFVybCgpLFxuICAgICAgICBoZWFkZXJzOiBjb21iaW5lSGVhZGVycyhcbiAgICAgICAgICByZXNvbHZlZEhlYWRlcnMsXG4gICAgICAgICAgaGVhZGVycyA/PyB7fSxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsQ29uZmlnSGVhZGVycygpLFxuICAgICAgICAgIGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcubzExeUhlYWRlcnMpLFxuICAgICAgICApLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIG4sXG4gICAgICAgICAgLi4uKHNpemUgJiYgeyBzaXplIH0pLFxuICAgICAgICAgIC4uLihhc3BlY3RSYXRpbyAmJiB7IGFzcGVjdFJhdGlvIH0pLFxuICAgICAgICAgIC4uLihzZWVkICYmIHsgc2VlZCB9KSxcbiAgICAgICAgICAuLi4ocHJvdmlkZXJPcHRpb25zICYmIHsgcHJvdmlkZXJPcHRpb25zIH0pLFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyKFxuICAgICAgICAgIGdhdGV3YXlJbWFnZVJlc3BvbnNlU2NoZW1hLFxuICAgICAgICApLFxuICAgICAgICBmYWlsZWRSZXNwb25zZUhhbmRsZXI6IGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgZXJyb3JTY2hlbWE6IHouYW55KCksXG4gICAgICAgICAgZXJyb3JUb01lc3NhZ2U6IGRhdGEgPT4gZGF0YSxcbiAgICAgICAgfSksXG4gICAgICAgIC4uLihhYm9ydFNpZ25hbCAmJiB7IGFib3J0U2lnbmFsIH0pLFxuICAgICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW1hZ2VzOiByZXNwb25zZUJvZHkuaW1hZ2VzLCAvLyBBbHdheXMgYmFzZTY0IHN0cmluZ3MgZnJvbSBzZXJ2ZXJcbiAgICAgICAgd2FybmluZ3M6IHJlc3BvbnNlQm9keS53YXJuaW5ncyA/PyBbXSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTpcbiAgICAgICAgICByZXNwb25zZUJvZHkucHJvdmlkZXJNZXRhZGF0YSBhcyBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICBtb2RlbElkOiB0aGlzLm1vZGVsSWQsXG4gICAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgYXNHYXRld2F5RXJyb3IoZXJyb3IsIGF3YWl0IHBhcnNlQXV0aE1ldGhvZChyZXNvbHZlZEhlYWRlcnMpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFVybCgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25maWcuYmFzZVVSTH0vaW1hZ2UtbW9kZWxgO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNb2RlbENvbmZpZ0hlYWRlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhaS1pbWFnZS1tb2RlbC1zcGVjaWZpY2F0aW9uLXZlcnNpb24nOiAnMicsXG4gICAgICAnYWktbW9kZWwtaWQnOiB0aGlzLm1vZGVsSWQsXG4gICAgfTtcbiAgfVxufVxuXG5jb25zdCBwcm92aWRlck1ldGFkYXRhRW50cnlTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGltYWdlczogei5hcnJheSh6LnVua25vd24oKSkub3B0aW9uYWwoKSxcbiAgfSlcbiAgLmNhdGNoYWxsKHoudW5rbm93bigpKTtcblxuY29uc3QgZ2F0ZXdheUltYWdlUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGltYWdlczogei5hcnJheSh6LnN0cmluZygpKSwgLy8gQWx3YXlzIGJhc2U2NCBzdHJpbmdzIG92ZXIgdGhlIHdpcmVcbiAgd2FybmluZ3M6IHpcbiAgICAuYXJyYXkoXG4gICAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb3RoZXInKSxcbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgIH0pLFxuICAgIClcbiAgICAub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJNZXRhZGF0YTogelxuICAgIC5yZWNvcmQoei5zdHJpbmcoKSwgcHJvdmlkZXJNZXRhZGF0YUVudHJ5U2NoZW1hKVxuICAgIC5vcHRpb25hbCgpLFxufSk7XG4iLCAiaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJ0B2ZXJjZWwvb2lkYyc7XG5leHBvcnQgeyBnZXRWZXJjZWxPaWRjVG9rZW4gfSBmcm9tICdAdmVyY2VsL29pZGMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VmVyY2VsUmVxdWVzdElkKCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuaGVhZGVycz8uWyd4LXZlcmNlbC1pZCddO1xufVxuIiwgIi8vIFZlcnNpb24gc3RyaW5nIG9mIHRoaXMgcGFja2FnZSBpbmplY3RlZCBhdCBidWlsZCB0aW1lLlxuZGVjbGFyZSBjb25zdCBfX1BBQ0tBR0VfVkVSU0lPTl9fOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgVkVSU0lPTjogc3RyaW5nID1cbiAgdHlwZW9mIF9fUEFDS0FHRV9WRVJTSU9OX18gIT09ICd1bmRlZmluZWQnXG4gICAgPyBfX1BBQ0tBR0VfVkVSU0lPTl9fXG4gICAgOiAnMC4wLjAtdGVzdCc7XG4iLCAiLy8gcmUtZXhwb3J0czpcbmV4cG9ydCB7IGNyZWF0ZUdhdGV3YXksIGdhdGV3YXksIHR5cGUgR2F0ZXdheU1vZGVsSWQgfSBmcm9tICdAYWktc2RrL2dhdGV3YXknO1xuZXhwb3J0IHtcbiAgYXNTY2hlbWEsXG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBkeW5hbWljVG9vbCxcbiAgZ2VuZXJhdGVJZCxcbiAganNvblNjaGVtYSxcbiAgcGFyc2VKc29uRXZlbnRTdHJlYW0sXG4gIHRvb2wsXG4gIHpvZFNjaGVtYSxcbiAgdHlwZSBJZEdlbmVyYXRvcixcbiAgdHlwZSBJbmZlclRvb2xJbnB1dCxcbiAgdHlwZSBJbmZlclRvb2xPdXRwdXQsXG4gIHR5cGUgU2NoZW1hLFxuICB0eXBlIFRvb2wsXG4gIHR5cGUgVG9vbENhbGxPcHRpb25zLFxuICB0eXBlIFRvb2xFeGVjdXRlRnVuY3Rpb24sXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG4vLyBkaXJlY3RvcnkgZXhwb3J0c1xuZXhwb3J0ICogZnJvbSAnLi9hZ2VudCc7XG5leHBvcnQgKiBmcm9tICcuL2VtYmVkJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3InO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZS1pbWFnZSc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLW9iamVjdCc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLXNwZWVjaCc7XG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlLXRleHQnO1xuZXhwb3J0ICogZnJvbSAnLi9sb2dnZXInO1xuZXhwb3J0ICogZnJvbSAnLi9taWRkbGV3YXJlJztcbmV4cG9ydCAqIGZyb20gJy4vcHJvbXB0JztcbmV4cG9ydCAqIGZyb20gJy4vcmVnaXN0cnknO1xuZXhwb3J0ICogZnJvbSAnLi90ZXh0LXN0cmVhbSc7XG5leHBvcnQgKiBmcm9tICcuL3RyYW5zY3JpYmUnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3VpJztcbmV4cG9ydCAqIGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0nO1xuZXhwb3J0ICogZnJvbSAnLi91dGlsJztcblxuLy8gdGVsZW1ldHJ5IHR5cGVzOlxuZXhwb3J0IHR5cGUgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5cbi8vIGltcG9ydCBnbG9iYWxzXG5pbXBvcnQgJy4vZ2xvYmFsJztcbiIsICJpbXBvcnQge1xuICBMYW5ndWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMkNvbnRlbnQsXG4gIExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBleGVjdXRlVG9vbCxcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBJZEdlbmVyYXRvcixcbiAgUHJvdmlkZXJPcHRpb25zLFxuICB3aXRoVXNlckFnZW50U3VmZml4LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBOb091dHB1dFNwZWNpZmllZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvcic7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IE1vZGVsTWVzc2FnZSB9IGZyb20gJy4uL3Byb21wdCc7XG5pbXBvcnQgeyBDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0JztcbmltcG9ydCB7IHByZXBhcmVDYWxsU2V0dGluZ3MgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS1jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2UgfSBmcm9tICcuLi9wcm9tcHQvcHJlcGFyZS10b29scy1hbmQtdG9vbC1jaG9pY2UnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBzdGFuZGFyZGl6ZVByb21wdCB9IGZyb20gJy4uL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuaW1wb3J0IHsgd3JhcEdhdGV3YXlFcnJvciB9IGZyb20gJy4uL3Byb21wdC93cmFwLWdhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZEVycm9yT25TcGFuLCByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IHN0cmluZ2lmeUZvclRlbGVtZXRyeSB9IGZyb20gJy4uL3RlbGVtZXRyeS9zdHJpbmdpZnktZm9yLXRlbGVtZXRyeSc7XG5pbXBvcnQgeyBUZWxlbWV0cnlTZXR0aW5ncyB9IGZyb20gJy4uL3RlbGVtZXRyeS90ZWxlbWV0cnktc2V0dGluZ3MnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbCwgVG9vbENob2ljZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFkZExhbmd1YWdlTW9kZWxVc2FnZSwgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL3V0aWwvYXMtYXJyYXknO1xuaW1wb3J0IHsgRG93bmxvYWRGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBDb250ZW50UGFydCB9IGZyb20gJy4vY29udGVudC1wYXJ0JztcbmltcG9ydCB7IGV4dHJhY3RUZXh0Q29udGVudCB9IGZyb20gJy4vZXh0cmFjdC10ZXh0LWNvbnRlbnQnO1xuaW1wb3J0IHsgR2VuZXJhdGVUZXh0UmVzdWx0IH0gZnJvbSAnLi9nZW5lcmF0ZS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyBEZWZhdWx0R2VuZXJhdGVkRmlsZSB9IGZyb20gJy4vZ2VuZXJhdGVkLWZpbGUnO1xuaW1wb3J0IHsgT3V0cHV0IH0gZnJvbSAnLi9vdXRwdXQnO1xuaW1wb3J0IHsgcGFyc2VUb29sQ2FsbCB9IGZyb20gJy4vcGFyc2UtdG9vbC1jYWxsJztcbmltcG9ydCB7IFByZXBhcmVTdGVwRnVuY3Rpb24gfSBmcm9tICcuL3ByZXBhcmUtc3RlcCc7XG5pbXBvcnQgeyBSZXNwb25zZU1lc3NhZ2UgfSBmcm9tICcuL3Jlc3BvbnNlLW1lc3NhZ2UnO1xuaW1wb3J0IHsgRGVmYXVsdFN0ZXBSZXN1bHQsIFN0ZXBSZXN1bHQgfSBmcm9tICcuL3N0ZXAtcmVzdWx0JztcbmltcG9ydCB7XG4gIGlzU3RvcENvbmRpdGlvbk1ldCxcbiAgc3RlcENvdW50SXMsXG4gIFN0b3BDb25kaXRpb24sXG59IGZyb20gJy4vc3RvcC1jb25kaXRpb24nO1xuaW1wb3J0IHsgdG9SZXNwb25zZU1lc3NhZ2VzIH0gZnJvbSAnLi90by1yZXNwb25zZS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBUeXBlZFRvb2xDYWxsIH0gZnJvbSAnLi90b29sLWNhbGwnO1xuaW1wb3J0IHsgVG9vbENhbGxSZXBhaXJGdW5jdGlvbiB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1mdW5jdGlvbic7XG5pbXBvcnQgeyBUeXBlZFRvb2xFcnJvciB9IGZyb20gJy4vdG9vbC1lcnJvcic7XG5pbXBvcnQgeyBUb29sT3V0cHV0IH0gZnJvbSAnLi90b29sLW91dHB1dCc7XG5pbXBvcnQgeyBUeXBlZFRvb2xSZXN1bHQgfSBmcm9tICcuL3Rvb2wtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcblxuY29uc3Qgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3Ioe1xuICBwcmVmaXg6ICdhaXR4dCcsXG4gIHNpemU6IDI0LFxufSk7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvblN0ZXBGaW5pc2hgIG9wdGlvbi5cblxuQHBhcmFtIHN0ZXBSZXN1bHQgLSBUaGUgcmVzdWx0IG9mIHRoZSBzdGVwLlxuICovXG5leHBvcnQgdHlwZSBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKFxuICBzdGVwUmVzdWx0OiBTdGVwUmVzdWx0PFRPT0xTPixcbikgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuR2VuZXJhdGUgYSB0ZXh0IGFuZCBjYWxsIHRvb2xzIGZvciBhIGdpdmVuIHByb21wdCB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN0cmVhbSB0aGUgb3V0cHV0LiBJZiB5b3Ugd2FudCB0byBzdHJlYW0gdGhlIG91dHB1dCwgdXNlIGBzdHJlYW1UZXh0YCBpbnN0ZWFkLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gdXNlLlxuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbkBwYXJhbSB0b29sQ2hvaWNlIC0gVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG5cbkBwYXJhbSBzeXN0ZW0gLSBBIHN5c3RlbSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBwYXJ0IG9mIHRoZSBwcm9tcHQuXG5AcGFyYW0gcHJvbXB0IC0gQSBzaW1wbGUgdGV4dCBwcm9tcHQuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cbkBwYXJhbSBtZXNzYWdlcyAtIEEgbGlzdCBvZiBtZXNzYWdlcy4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuXG5AcGFyYW0gbWF4T3V0cHV0VG9rZW5zIC0gTWF4aW11bSBudW1iZXIgb2YgdG9rZW5zIHRvIGdlbmVyYXRlLlxuQHBhcmFtIHRlbXBlcmF0dXJlIC0gVGVtcGVyYXR1cmUgc2V0dGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wUCAtIE51Y2xldXMgc2FtcGxpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcEsgLSBPbmx5IHNhbXBsZSBmcm9tIHRoZSB0b3AgSyBvcHRpb25zIGZvciBlYWNoIHN1YnNlcXVlbnQgdG9rZW4uXG5Vc2VkIHRvIHJlbW92ZSBcImxvbmcgdGFpbFwiIGxvdyBwcm9iYWJpbGl0eSByZXNwb25zZXMuXG5SZWNvbW1lbmRlZCBmb3IgYWR2YW5jZWQgdXNlIGNhc2VzIG9ubHkuIFlvdSB1c3VhbGx5IG9ubHkgbmVlZCB0byB1c2UgdGVtcGVyYXR1cmUuXG5AcGFyYW0gcHJlc2VuY2VQZW5hbHR5IC0gUHJlc2VuY2UgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0IGluZm9ybWF0aW9uIHRoYXQgaXMgYWxyZWFkeSBpbiB0aGUgcHJvbXB0LlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBmcmVxdWVuY3lQZW5hbHR5IC0gRnJlcXVlbmN5IHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdGVkbHkgdXNlIHRoZSBzYW1lIHdvcmRzIG9yIHBocmFzZXMuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIHN0b3BTZXF1ZW5jZXMgLSBTdG9wIHNlcXVlbmNlcy5cbklmIHNldCwgdGhlIG1vZGVsIHdpbGwgc3RvcCBnZW5lcmF0aW5nIHRleHQgd2hlbiBvbmUgb2YgdGhlIHN0b3Agc2VxdWVuY2VzIGlzIGdlbmVyYXRlZC5cbkBwYXJhbSBzZWVkIC0gVGhlIHNlZWQgKGludGVnZXIpIHRvIHVzZSBmb3IgcmFuZG9tIHNhbXBsaW5nLlxuSWYgc2V0IGFuZCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLCBjYWxscyB3aWxsIGdlbmVyYXRlIGRldGVybWluaXN0aWMgcmVzdWx0cy5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHBhcmFtIGV4cGVyaW1lbnRhbF9nZW5lcmF0ZU1lc3NhZ2VJZCAtIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciBlYWNoIG1lc3NhZ2UuXG5cbkBwYXJhbSBvblN0ZXBGaW5pc2ggLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuXG5AcmV0dXJuc1xuQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCB0ZXh0LCB0aGUgcmVzdWx0cyBvZiB0aGUgdG9vbCBjYWxscywgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVRleHQ8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIE9VVFBVVF9QQVJUSUFMID0gbmV2ZXIsXG4+KHtcbiAgbW9kZWw6IG1vZGVsQXJnLFxuICB0b29scyxcbiAgdG9vbENob2ljZSxcbiAgc3lzdGVtLFxuICBwcm9tcHQsXG4gIG1lc3NhZ2VzLFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgc3RvcFdoZW4gPSBzdGVwQ291bnRJcygxKSxcbiAgZXhwZXJpbWVudGFsX291dHB1dDogb3V0cHV0LFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzLFxuICBhY3RpdmVUb29scyA9IGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scyxcbiAgZXhwZXJpbWVudGFsX3ByZXBhcmVTdGVwLFxuICBwcmVwYXJlU3RlcCA9IGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcCxcbiAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsOiByZXBhaXJUb29sQ2FsbCxcbiAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gIF9pbnRlcm5hbDoge1xuICAgIGdlbmVyYXRlSWQgPSBvcmlnaW5hbEdlbmVyYXRlSWQsXG4gICAgY3VycmVudERhdGUgPSAoKSA9PiBuZXcgRGF0ZSgpLFxuICB9ID0ge30sXG4gIG9uU3RlcEZpbmlzaCxcbiAgLi4uc2V0dGluZ3Ncbn06IENhbGxTZXR0aW5ncyAmXG4gIFByb21wdCAmIHtcbiAgICAvKipcblRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG5cbiAgICAvKipcblRoZSB0b29scyB0aGF0IHRoZSBtb2RlbCBjYW4gY2FsbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cbiovXG4gICAgdG9vbHM/OiBUT09MUztcblxuICAgIC8qKlxuVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG4gICAgICovXG4gICAgdG9vbENob2ljZT86IFRvb2xDaG9pY2U8Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5Db25kaXRpb24gZm9yIHN0b3BwaW5nIHRoZSBnZW5lcmF0aW9uIHdoZW4gdGhlcmUgYXJlIHRvb2wgcmVzdWx0cyBpbiB0aGUgbGFzdCBzdGVwLlxuV2hlbiB0aGUgY29uZGl0aW9uIGlzIGFuIGFycmF5LCBhbnkgb2YgdGhlIGNvbmRpdGlvbnMgY2FuIGJlIG1ldCB0byBzdG9wIHRoZSBnZW5lcmF0aW9uLlxuXG5AZGVmYXVsdCBzdGVwQ291bnRJcygxKVxuICAgICAqL1xuICAgIHN0b3BXaGVuPzpcbiAgICAgIHwgU3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj5cbiAgICAgIHwgQXJyYXk8U3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBhY3RpdmVUb29sc2AgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbkxpbWl0cyB0aGUgdG9vbHMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGUgbW9kZWwgdG8gY2FsbCB3aXRob3V0XG5jaGFuZ2luZyB0aGUgdG9vbCBjYWxsIGFuZCByZXN1bHQgdHlwZXMgaW4gdGhlIHJlc3VsdC5cbiAgICAgKi9cbiAgICBhY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBmb3IgcGFyc2luZyBzdHJ1Y3R1cmVkIG91dHB1dHMgZnJvbSB0aGUgTExNIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9vdXRwdXQ/OiBPdXRwdXQ8T1VUUFVULCBPVVRQVVRfUEFSVElBTD47XG5cbiAgICAvKipcbkN1c3RvbSBkb3dubG9hZCBmdW5jdGlvbiB0byB1c2UgZm9yIFVSTHMuXG5cbkJ5IGRlZmF1bHQsIGZpbGVzIGFyZSBkb3dubG9hZGVkIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkwgZm9yIHRoZSBnaXZlbiBtZWRpYSB0eXBlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZD86IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYHByZXBhcmVTdGVwYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCBmdW5jdGlvbiB0aGF0IHlvdSBjYW4gdXNlIHRvIHByb3ZpZGUgZGlmZmVyZW50IHNldHRpbmdzIGZvciBhIHN0ZXAuXG4gICAgKi9cbiAgICBwcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG5BIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIGEgdG9vbCBjYWxsIHRoYXQgZmFpbGVkIHRvIHBhcnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbD86IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gICAgLyoqXG4gICAgQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cbiAgICAqL1xuICAgIG9uU3RlcEZpbmlzaD86IEdlbmVyYXRlVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuICAgICAqIENvbnRleHQgdGhhdCBpcyBwYXNzZWQgaW50byB0b29sIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEV4cGVyaW1lbnRhbCAoY2FuIGJyZWFrIGluIHBhdGNoIHJlbGVhc2VzKS5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0PzogdW5rbm93bjtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICAgKi9cbiAgICBfaW50ZXJuYWw/OiB7XG4gICAgICBnZW5lcmF0ZUlkPzogSWRHZW5lcmF0b3I7XG4gICAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gICAgfTtcbiAgfSk6IFByb21pc2U8R2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+PiB7XG4gIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWxBcmcpO1xuICBjb25zdCBzdG9wQ29uZGl0aW9ucyA9IGFzQXJyYXkoc3RvcFdoZW4pO1xuICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgY2FsbFNldHRpbmdzID0gcHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICBzZXR0aW5nczogeyAuLi5jYWxsU2V0dGluZ3MsIG1heFJldHJpZXMgfSxcbiAgfSk7XG5cbiAgY29uc3QgaW5pdGlhbFByb21wdCA9IGF3YWl0IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICB9IGFzIFByb21wdCk7XG5cbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiAnYWkuZ2VuZXJhdGVUZXh0JyxcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5nZW5lcmF0ZVRleHQnLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIG1vZGVsOlxuICAgICAgICAgICdhaS5tb2RlbC5wcm92aWRlcic6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICdhaS5tb2RlbC5pZCc6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgLy8gc3BlY2lmaWMgc2V0dGluZ3MgdGhhdCBvbmx5IG1ha2Ugc2Vuc2Ugb24gdGhlIG91dGVyIGxldmVsOlxuICAgICAgICAgICdhaS5wcm9tcHQnOiB7XG4gICAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgICBsZXQgY3VycmVudE1vZGVsUmVzcG9uc2U6IEF3YWl0ZWQ8XG4gICAgICAgICAgUmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvR2VuZXJhdGUnXT5cbiAgICAgICAgPiAmIHsgcmVzcG9uc2U6IHsgaWQ6IHN0cmluZzsgdGltZXN0YW1wOiBEYXRlOyBtb2RlbElkOiBzdHJpbmcgfSB9O1xuICAgICAgICBsZXQgY2xpZW50VG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj4gPSBbXTtcbiAgICAgICAgbGV0IGNsaWVudFRvb2xPdXRwdXRzOiBBcnJheTxUb29sT3V0cHV0PFRPT0xTPj4gPSBbXTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlczogQXJyYXk8UmVzcG9uc2VNZXNzYWdlPiA9IFtdO1xuICAgICAgICBjb25zdCBzdGVwczogR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+WydzdGVwcyddID0gW107XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIGNvbnN0IHN0ZXBJbnB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgLi4uaW5pdGlhbFByb21wdC5tZXNzYWdlcyxcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIGNvbnN0IHByZXBhcmVTdGVwUmVzdWx0ID0gYXdhaXQgcHJlcGFyZVN0ZXA/Lih7XG4gICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgIHN0ZXBzLFxuICAgICAgICAgICAgc3RlcE51bWJlcjogc3RlcHMubGVuZ3RoLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3Qgc3RlcE1vZGVsID0gcmVzb2x2ZUxhbmd1YWdlTW9kZWwoXG4gICAgICAgICAgICBwcmVwYXJlU3RlcFJlc3VsdD8ubW9kZWwgPz8gbW9kZWwsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgICAgc3lzdGVtOiBwcmVwYXJlU3RlcFJlc3VsdD8uc3lzdGVtID8/IGluaXRpYWxQcm9tcHQuc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlczogcHJlcGFyZVN0ZXBSZXN1bHQ/Lm1lc3NhZ2VzID8/IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRlZFVybHM6IGF3YWl0IHN0ZXBNb2RlbC5zdXBwb3J0ZWRVcmxzLFxuICAgICAgICAgICAgZG93bmxvYWQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCB7IHRvb2xDaG9pY2U6IHN0ZXBUb29sQ2hvaWNlLCB0b29sczogc3RlcFRvb2xzIH0gPVxuICAgICAgICAgICAgcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7XG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICB0b29sQ2hvaWNlOiBwcmVwYXJlU3RlcFJlc3VsdD8udG9vbENob2ljZSA/PyB0b29sQ2hvaWNlLFxuICAgICAgICAgICAgICBhY3RpdmVUb29sczogcHJlcGFyZVN0ZXBSZXN1bHQ/LmFjdGl2ZVRvb2xzID8/IGFjdGl2ZVRvb2xzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZSA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogJ2FpLmdlbmVyYXRlVGV4dC5kb0dlbmVyYXRlJyxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZ2VuZXJhdGVUZXh0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgLy8gbW9kZWw6XG4gICAgICAgICAgICAgICAgICAnYWkubW9kZWwucHJvdmlkZXInOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAnYWkubW9kZWwuaWQnOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgIC8vIHByb21wdDpcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQubWVzc2FnZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0TWVzc2FnZXMpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQudG9vbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdGhlIGxhbmd1YWdlIG1vZGVsIGxldmVsIHRvb2xzOlxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RlcFRvb2xzPy5tYXAodG9vbCA9PiBKU09OLnN0cmluZ2lmeSh0b29sKSksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnByb21wdC50b29sQ2hvaWNlJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbENob2ljZSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHN0ZXBUb29sQ2hvaWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnN5c3RlbSc6IHN0ZXBNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tb2RlbCc6IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LmZyZXF1ZW5jeV9wZW5hbHR5Jzogc2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zJzogc2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHknOiBzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3Quc3RvcF9zZXF1ZW5jZXMnOiBzZXR0aW5ncy5zdG9wU2VxdWVuY2VzLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MudGVtcGVyYXR1cmUgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogc2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3BfcCc6IHNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0ZXBNb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICAgICAgICAgIC4uLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgIHRvb2xzOiBzdGVwVG9vbHMsXG4gICAgICAgICAgICAgICAgICB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiBvdXRwdXQ/LnJlc3BvbnNlRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGaWxsIGluIGRlZmF1bHQgdmFsdWVzOlxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiByZXN1bHQucmVzcG9uc2U/LmlkID8/IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcmVzdWx0LnJlc3BvbnNlPy50aW1lc3RhbXAgPz8gY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IHJlc3VsdC5yZXNwb25zZT8ubW9kZWxJZCA/PyBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5yZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IHJlc3VsdC5yZXNwb25zZT8uYm9keSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSBzcGFuOlxuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGV4dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gZXh0cmFjdFRleHRDb250ZW50KHJlc3VsdC5jb250ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50b29sQ2FsbHMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGxzID0gYXNUb29sQ2FsbHMocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbENhbGxzID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkodG9vbENhbGxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuaWQnOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1vZGVsJzogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRpbWVzdGFtcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHJlbmFtZSB0ZWxlbWV0cnkgYXR0cmlidXRlcyB0byBpbnB1dFRva2VucyBhbmQgb3V0cHV0VG9rZW5zXG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY29tcGxldGlvblRva2Vucyc6IHJlc3VsdC51c2FnZS5vdXRwdXRUb2tlbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29ucyc6IFtyZXN1bHQuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLmlkJzogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UubW9kZWwnOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnMnOiByZXN1bHQudXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgcmVzcG9uc2U6IHJlc3BvbnNlRGF0YSB9O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIHBhcnNlIHRvb2wgY2FsbHM6XG4gICAgICAgICAgY29uc3Qgc3RlcFRvb2xDYWxsczogVHlwZWRUb29sQ2FsbDxUT09MUz5bXSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UuY29udGVudFxuICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChwYXJ0KTogcGFydCBpcyBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbCA9PlxuICAgICAgICAgICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1jYWxsJyxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAubWFwKHRvb2xDYWxsID0+XG4gICAgICAgICAgICAgICAgcGFyc2VUb29sQ2FsbCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICAgICAgcmVwYWlyVG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIG5vdGlmeSB0aGUgdG9vbHMgdGhhdCB0aGUgdG9vbCBjYWxscyBhcmUgYXZhaWxhYmxlOlxuICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2Ygc3RlcFRvb2xDYWxscykge1xuICAgICAgICAgICAgaWYgKHRvb2xDYWxsLmludmFsaWQpIHtcbiAgICAgICAgICAgICAgY29udGludWU7IC8vIGlnbm9yZSBpbnZhbGlkIHRvb2wgY2FsbHNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdG9vbCA9IHRvb2xzIVt0b29sQ2FsbC50b29sTmFtZV07XG4gICAgICAgICAgICBpZiAodG9vbD8ub25JbnB1dEF2YWlsYWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dEF2YWlsYWJsZSh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHRvb2xDYWxsLmlucHV0LFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpbnNlcnQgZXJyb3IgdG9vbCBvdXRwdXRzIGZvciBpbnZhbGlkIHRvb2wgY2FsbHM6XG4gICAgICAgICAgLy8gVE9ETyBBSSBTREsgNjogaW52YWxpZCBpbnB1dHMgc2hvdWxkIG5vdCByZXF1aXJlIG91dHB1dCBwYXJ0c1xuICAgICAgICAgIGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBzdGVwVG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgIHRvb2xDYWxsID0+IHRvb2xDYWxsLmludmFsaWQgJiYgdG9vbENhbGwuZHluYW1pYyxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMgPSBbXTtcblxuICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgaW52YWxpZFRvb2xDYWxscykge1xuICAgICAgICAgICAgY2xpZW50VG9vbE91dHB1dHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgIGVycm9yOiBnZXRFcnJvck1lc3NhZ2UodG9vbENhbGwuZXJyb3IhKSxcbiAgICAgICAgICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGV4ZWN1dGUgY2xpZW50IHRvb2wgY2FsbHM6XG4gICAgICAgICAgY2xpZW50VG9vbENhbGxzID0gc3RlcFRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAgICAgICB0b29sQ2FsbCA9PiAhdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHRvb2xzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLnB1c2goXG4gICAgICAgICAgICAgIC4uLihhd2FpdCBleGVjdXRlVG9vbHMoe1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsczogY2xpZW50VG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsID0+ICF0b29sQ2FsbC5pbnZhbGlkLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY29udGVudDpcbiAgICAgICAgICBjb25zdCBzdGVwQ29udGVudCA9IGFzQ29udGVudCh7XG4gICAgICAgICAgICBjb250ZW50OiBjdXJyZW50TW9kZWxSZXNwb25zZS5jb250ZW50LFxuICAgICAgICAgICAgdG9vbENhbGxzOiBzdGVwVG9vbENhbGxzLFxuICAgICAgICAgICAgdG9vbE91dHB1dHM6IGNsaWVudFRvb2xPdXRwdXRzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gYXBwZW5kIHRvIG1lc3NhZ2VzIGZvciBwb3RlbnRpYWwgbmV4dCBzdGVwOlxuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgIC4uLnRvUmVzcG9uc2VNZXNzYWdlcyh7XG4gICAgICAgICAgICAgIGNvbnRlbnQ6IHN0ZXBDb250ZW50LFxuICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBBZGQgc3RlcCBpbmZvcm1hdGlvbiAoYWZ0ZXIgcmVzcG9uc2UgbWVzc2FnZXMgYXJlIHVwZGF0ZWQpOlxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGVwUmVzdWx0OiBTdGVwUmVzdWx0PFRPT0xTPiA9IG5ldyBEZWZhdWx0U3RlcFJlc3VsdCh7XG4gICAgICAgICAgICBjb250ZW50OiBzdGVwQ29udGVudCxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnVzYWdlLFxuICAgICAgICAgICAgd2FybmluZ3M6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLndhcm5pbmdzLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY3VycmVudE1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIHJlcXVlc3Q6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlcXVlc3QgPz8ge30sXG4gICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAuLi5jdXJyZW50TW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgICAgLy8gZGVlcCBjbG9uZSBtc2dzIHRvIGF2b2lkIG11dGF0aW5nIHBhc3QgbWVzc2FnZXMgaW4gbXVsdGktc3RlcDpcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0cnVjdHVyZWRDbG9uZShyZXNwb25zZU1lc3NhZ2VzKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBsb2dXYXJuaW5ncyhjdXJyZW50TW9kZWxSZXNwb25zZS53YXJuaW5ncyA/PyBbXSk7XG5cbiAgICAgICAgICBzdGVwcy5wdXNoKGN1cnJlbnRTdGVwUmVzdWx0KTtcbiAgICAgICAgICBhd2FpdCBvblN0ZXBGaW5pc2g/LihjdXJyZW50U3RlcFJlc3VsdCk7XG4gICAgICAgIH0gd2hpbGUgKFxuICAgICAgICAgIC8vIHRoZXJlIGFyZSB0b29sIGNhbGxzOlxuICAgICAgICAgIGNsaWVudFRvb2xDYWxscy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgLy8gYWxsIGN1cnJlbnQgdG9vbCBjYWxscyBoYXZlIG91dHB1dHMgKGluY2wuIGV4ZWN1dGlvbiBlcnJvcnMpOlxuICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLmxlbmd0aCA9PT0gY2xpZW50VG9vbENhbGxzLmxlbmd0aCAmJlxuICAgICAgICAgIC8vIGNvbnRpbnVlIHVudGlsIGEgc3RvcCBjb25kaXRpb24gaXMgbWV0OlxuICAgICAgICAgICEoYXdhaXQgaXNTdG9wQ29uZGl0aW9uTWV0KHsgc3RvcENvbmRpdGlvbnMsIHN0ZXBzIH0pKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgc3BhbjpcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudGV4dCc6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGV4dHJhY3RUZXh0Q29udGVudChjdXJyZW50TW9kZWxSZXNwb25zZS5jb250ZW50KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRvb2xDYWxscyc6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxscyA9IGFzVG9vbENhbGxzKGN1cnJlbnRNb2RlbFJlc3BvbnNlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2xDYWxscyA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkodG9vbENhbGxzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgLy8gVE9ETyByZW5hbWUgdGVsZW1ldHJ5IGF0dHJpYnV0ZXMgdG8gaW5wdXRUb2tlbnMgYW5kIG91dHB1dFRva2Vuc1xuICAgICAgICAgICAgICAnYWkudXNhZ2UucHJvbXB0VG9rZW5zJzogY3VycmVudE1vZGVsUmVzcG9uc2UudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICdhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zJzpcbiAgICAgICAgICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZS51c2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGxhc3RTdGVwID0gc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgLy8gcGFyc2Ugb3V0cHV0IG9ubHkgaWYgdGhlIGxhc3Qgc3RlcCB3YXMgZmluaXNoZWQgd2l0aCBcInN0b3BcIjpcbiAgICAgICAgbGV0IHJlc29sdmVkT3V0cHV0O1xuICAgICAgICBpZiAobGFzdFN0ZXAuZmluaXNoUmVhc29uID09PSAnc3RvcCcpIHtcbiAgICAgICAgICByZXNvbHZlZE91dHB1dCA9IGF3YWl0IG91dHB1dD8ucGFyc2VPdXRwdXQoXG4gICAgICAgICAgICB7IHRleHQ6IGxhc3RTdGVwLnRleHQgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IGxhc3RTdGVwLnJlc3BvbnNlLFxuICAgICAgICAgICAgICB1c2FnZTogbGFzdFN0ZXAudXNhZ2UsXG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogbGFzdFN0ZXAuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVUZXh0UmVzdWx0KHtcbiAgICAgICAgICBzdGVwcyxcbiAgICAgICAgICByZXNvbHZlZE91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IHdyYXBHYXRld2F5RXJyb3IoZXJyb3IpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVUb29sczxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbENhbGxzLFxuICB0b29scyxcbiAgdHJhY2VyLFxuICB0ZWxlbWV0cnksXG4gIG1lc3NhZ2VzLFxuICBhYm9ydFNpZ25hbCxcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG59OiB7XG4gIHRvb2xDYWxsczogQXJyYXk8VHlwZWRUb29sQ2FsbDxUT09MUz4+O1xuICB0b29sczogVE9PTFM7XG4gIHRyYWNlcjogVHJhY2VyO1xuICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG4gIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ6IHVua25vd247XG59KTogUHJvbWlzZTxBcnJheTxUb29sT3V0cHV0PFRPT0xTPj4+IHtcbiAgY29uc3QgdG9vbE91dHB1dHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICB0b29sQ2FsbHMubWFwKGFzeW5jICh7IHRvb2xDYWxsSWQsIHRvb2xOYW1lLCBpbnB1dCB9KSA9PiB7XG4gICAgICBjb25zdCB0b29sID0gdG9vbHNbdG9vbE5hbWVdO1xuXG4gICAgICBpZiAodG9vbD8uZXhlY3V0ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgbmFtZTogJ2FpLnRvb2xDYWxsJyxcbiAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkudG9vbENhbGwnLFxuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICdhaS50b29sQ2FsbC5uYW1lJzogdG9vbE5hbWUsXG4gICAgICAgICAgICAnYWkudG9vbENhbGwuaWQnOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmFyZ3MnOiB7XG4gICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoaW5wdXQpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgdHJhY2VyLFxuICAgICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGV4ZWN1dGVUb29sKHtcbiAgICAgICAgICAgICAgZXhlY3V0ZTogdG9vbC5leGVjdXRlIS5iaW5kKHRvb2wpLFxuICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IG91dHB1dDogdW5rbm93bjtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgcGFydCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbmFsJykge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHBhcnQub3V0cHV0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICdhaS50b29sQ2FsbC5yZXN1bHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXQpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgLy8gSlNPTiBzdHJpbmdpZnkgbWlnaHQgZmFpbCBpZiB0aGUgcmVzdWx0IGlzIG5vdCBzZXJpYWxpemFibGUsXG4gICAgICAgICAgICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UganVzdCBpZ25vcmUgaXQuIEluIHRoZSBmdXR1cmUgd2UgbWlnaHQgd2FudCB0b1xuICAgICAgICAgICAgICAvLyBhZGQgYW4gb3B0aW9uYWwgc2VyaWFsaXplIG1ldGhvZCB0byB0aGUgdG9vbCBpbnRlcmZhY2UgYW5kIHdhcm5cbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlc3VsdCBpcyBub3Qgc2VyaWFsaXphYmxlLlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgZHluYW1pYzogdG9vbC50eXBlID09PSAnZHluYW1pYycsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbFJlc3VsdDxUT09MUz47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlY29yZEVycm9yT25TcGFuKHNwYW4sIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgZHluYW1pYzogdG9vbC50eXBlID09PSAnZHluYW1pYycsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbEVycm9yPFRPT0xTPjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KSxcbiAgKTtcblxuICByZXR1cm4gdG9vbE91dHB1dHMuZmlsdGVyKFxuICAgIChvdXRwdXQpOiBvdXRwdXQgaXMgTm9uTnVsbGFibGU8dHlwZW9mIG91dHB1dD4gPT4gb3V0cHV0ICE9IG51bGwsXG4gICk7XG59XG5cbmNsYXNzIERlZmF1bHRHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0LCBPVVRQVVQ+XG4gIGltcGxlbWVudHMgR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+XG57XG4gIHJlYWRvbmx5IHN0ZXBzOiBHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD5bJ3N0ZXBzJ107XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZXNvbHZlZE91dHB1dDogT1VUUFVUO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBzdGVwczogR2VuZXJhdGVUZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQ+WydzdGVwcyddO1xuICAgIHJlc29sdmVkT3V0cHV0OiBPVVRQVVQ7XG4gIH0pIHtcbiAgICB0aGlzLnN0ZXBzID0gb3B0aW9ucy5zdGVwcztcbiAgICB0aGlzLnJlc29sdmVkT3V0cHV0ID0gb3B0aW9ucy5yZXNvbHZlZE91dHB1dDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGZpbmFsU3RlcCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwc1t0aGlzLnN0ZXBzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmNvbnRlbnQ7XG4gIH1cblxuICBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGV4dDtcbiAgfVxuXG4gIGdldCBmaWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuZmlsZXM7XG4gIH1cblxuICBnZXQgcmVhc29uaW5nVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVhc29uaW5nVGV4dDtcbiAgfVxuXG4gIGdldCByZWFzb25pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnJlYXNvbmluZztcbiAgfVxuXG4gIGdldCB0b29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRvb2xDYWxscztcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnN0YXRpY1Rvb2xDYWxscztcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5keW5hbWljVG9vbENhbGxzO1xuICB9XG5cbiAgZ2V0IHRvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50b29sUmVzdWx0cztcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuc3RhdGljVG9vbFJlc3VsdHM7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC5keW5hbWljVG9vbFJlc3VsdHM7XG4gIH1cblxuICBnZXQgc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAuc291cmNlcztcbiAgfVxuXG4gIGdldCBmaW5pc2hSZWFzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLmZpbmlzaFJlYXNvbjtcbiAgfVxuXG4gIGdldCB3YXJuaW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAud2FybmluZ3M7XG4gIH1cblxuICBnZXQgcHJvdmlkZXJNZXRhZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucHJvdmlkZXJNZXRhZGF0YTtcbiAgfVxuXG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVzcG9uc2U7XG4gIH1cblxuICBnZXQgcmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAucmVxdWVzdDtcbiAgfVxuXG4gIGdldCB1c2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudXNhZ2U7XG4gIH1cblxuICBnZXQgdG90YWxVc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcy5yZWR1Y2UoXG4gICAgICAodG90YWxVc2FnZSwgc3RlcCkgPT4ge1xuICAgICAgICByZXR1cm4gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKHRvdGFsVXNhZ2UsIHN0ZXAudXNhZ2UpO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW5wdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgIHJlYXNvbmluZ1Rva2VuczogdW5kZWZpbmVkLFxuICAgICAgICBjYWNoZWRJbnB1dFRva2VuczogdW5kZWZpbmVkLFxuICAgICAgfSBhcyBMYW5ndWFnZU1vZGVsVXNhZ2UsXG4gICAgKTtcbiAgfVxuXG4gIGdldCBleHBlcmltZW50YWxfb3V0cHV0KCkge1xuICAgIGlmICh0aGlzLnJlc29sdmVkT3V0cHV0ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb091dHB1dFNwZWNpZmllZEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRPdXRwdXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNUb29sQ2FsbHMoY29udGVudDogQXJyYXk8TGFuZ3VhZ2VNb2RlbFYyQ29udGVudD4pIHtcbiAgY29uc3QgcGFydHMgPSBjb250ZW50LmZpbHRlcihcbiAgICAocGFydCk6IHBhcnQgaXMgTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwgPT4gcGFydC50eXBlID09PSAndG9vbC1jYWxsJyxcbiAgKTtcblxuICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5tYXAodG9vbENhbGwgPT4gKHtcbiAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gYXNDb250ZW50PFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICBjb250ZW50LFxuICB0b29sQ2FsbHMsXG4gIHRvb2xPdXRwdXRzLFxufToge1xuICBjb250ZW50OiBBcnJheTxMYW5ndWFnZU1vZGVsVjJDb250ZW50PjtcbiAgdG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj47XG4gIHRvb2xPdXRwdXRzOiBBcnJheTxUb29sT3V0cHV0PFRPT0xTPj47XG59KTogQXJyYXk8Q29udGVudFBhcnQ8VE9PTFM+PiB7XG4gIHJldHVybiBbXG4gICAgLi4uY29udGVudC5tYXAocGFydCA9PiB7XG4gICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgY2FzZSAncmVhc29uaW5nJzpcbiAgICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgICByZXR1cm4gcGFydDtcblxuICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZScgYXMgY29uc3QsXG4gICAgICAgICAgICBmaWxlOiBuZXcgRGVmYXVsdEdlbmVyYXRlZEZpbGUocGFydCksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3Rvb2wtY2FsbCc6IHtcbiAgICAgICAgICByZXR1cm4gdG9vbENhbGxzLmZpbmQoXG4gICAgICAgICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC50b29sQ2FsbElkID09PSBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgKSE7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IHRvb2xDYWxscy5maW5kKFxuICAgICAgICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwudG9vbENhbGxJZCA9PT0gcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICkhO1xuXG4gICAgICAgICAgaWYgKHRvb2xDYWxsID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVG9vbCBjYWxsICR7cGFydC50b29sQ2FsbElkfSBub3QgZm91bmQuYCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBhcnQuaXNFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lIGFzIGtleW9mIFRPT0xTICYgc3RyaW5nLFxuICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgIGVycm9yOiBwYXJ0LnJlc3VsdCxcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgZHluYW1pYzogdG9vbENhbGwuZHluYW1pYyxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sRXJyb3I8VE9PTFM+O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUgYXMga2V5b2YgVE9PTFMgJiBzdHJpbmcsXG4gICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICBvdXRwdXQ6IHBhcnQucmVzdWx0LFxuICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGR5bmFtaWM6IHRvb2xDYWxsLmR5bmFtaWMsXG4gICAgICAgICAgfSBhcyBUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgLi4udG9vbE91dHB1dHMsXG4gIF07XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vT3V0cHV0U3BlY2lmaWVkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuLyoqXG5UaHJvd24gd2hlbiBubyBvdXRwdXQgdHlwZSBpcyBzcGVjaWZpZWQgYW5kIG91dHB1dC1yZWxhdGVkIG1ldGhvZHMgYXJlIGNhbGxlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSA9ICdObyBvdXRwdXQgc3BlY2lmaWVkLicgfTogeyBtZXNzYWdlPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9PdXRwdXRTcGVjaWZpZWRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgSW1hZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBTcGVlY2hNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIFRyYW5zY3JpcHRpb25Nb2RlbFYyQ2FsbFdhcm5pbmcsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgdHlwZSBXYXJuaW5nID1cbiAgfCBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1xuICB8IEltYWdlTW9kZWxWMkNhbGxXYXJuaW5nXG4gIHwgU3BlZWNoTW9kZWxWMkNhbGxXYXJuaW5nXG4gIHwgVHJhbnNjcmlwdGlvbk1vZGVsVjJDYWxsV2FybmluZztcblxuZXhwb3J0IHR5cGUgTG9nV2FybmluZ3NGdW5jdGlvbiA9ICh3YXJuaW5nczogV2FybmluZ1tdKSA9PiB2b2lkO1xuXG4vKipcbiAqIEZvcm1hdHMgYSB3YXJuaW5nIG9iamVjdCBpbnRvIGEgaHVtYW4tcmVhZGFibGUgc3RyaW5nIHdpdGggY2xlYXIgQUkgU0RLIGJyYW5kaW5nXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFdhcm5pbmcod2FybmluZzogV2FybmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHByZWZpeCA9ICdBSSBTREsgV2FybmluZzonO1xuXG4gIHN3aXRjaCAod2FybmluZy50eXBlKSB7XG4gICAgY2FzZSAndW5zdXBwb3J0ZWQtc2V0dGluZyc6IHtcbiAgICAgIGxldCBtZXNzYWdlID0gYCR7cHJlZml4fSBUaGUgXCIke3dhcm5pbmcuc2V0dGluZ31cIiBzZXR0aW5nIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBtb2RlbGA7XG4gICAgICBpZiAod2FybmluZy5kZXRhaWxzKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gYCAtICR7d2FybmluZy5kZXRhaWxzfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBjYXNlICd1bnN1cHBvcnRlZC10b29sJzoge1xuICAgICAgY29uc3QgdG9vbE5hbWUgPVxuICAgICAgICAnbmFtZScgaW4gd2FybmluZy50b29sID8gd2FybmluZy50b29sLm5hbWUgOiAndW5rbm93biB0b29sJztcbiAgICAgIGxldCBtZXNzYWdlID0gYCR7cHJlZml4fSBUaGUgdG9vbCBcIiR7dG9vbE5hbWV9XCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIG1vZGVsYDtcbiAgICAgIGlmICh3YXJuaW5nLmRldGFpbHMpIHtcbiAgICAgICAgbWVzc2FnZSArPSBgIC0gJHt3YXJuaW5nLmRldGFpbHN9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGNhc2UgJ290aGVyJzoge1xuICAgICAgcmV0dXJuIGAke3ByZWZpeH0gJHt3YXJuaW5nLm1lc3NhZ2V9YDtcbiAgICB9XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICAvLyBGYWxsYmFjayBmb3IgYW55IHVua25vd24gd2FybmluZyB0eXBlc1xuICAgICAgcmV0dXJuIGAke3ByZWZpeH0gJHtKU09OLnN0cmluZ2lmeSh3YXJuaW5nLCBudWxsLCAyKX1gO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRklSU1RfV0FSTklOR19JTkZPX01FU1NBR0UgPVxuICAnQUkgU0RLIFdhcm5pbmcgU3lzdGVtOiBUbyB0dXJuIG9mZiB3YXJuaW5nIGxvZ2dpbmcsIHNldCB0aGUgQUlfU0RLX0xPR19XQVJOSU5HUyBnbG9iYWwgdG8gZmFsc2UuJztcblxubGV0IGhhc0xvZ2dlZEJlZm9yZSA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgbG9nV2FybmluZ3M6IExvZ1dhcm5pbmdzRnVuY3Rpb24gPSB3YXJuaW5ncyA9PiB7XG4gIC8vIGlmIHRoZSB3YXJuaW5ncyBhcnJheSBpcyBlbXB0eSwgZG8gbm90aGluZ1xuICBpZiAod2FybmluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbG9nZ2VyID0gZ2xvYmFsVGhpcy5BSV9TREtfTE9HX1dBUk5JTkdTO1xuXG4gIC8vIGlmIHRoZSBsb2dnZXIgaXMgc2V0IHRvIGZhbHNlLCBkbyBub3RoaW5nXG4gIGlmIChsb2dnZXIgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gdXNlIHRoZSBwcm92aWRlZCBsb2dnZXIgaWYgaXQgaXMgYSBmdW5jdGlvblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxvZ2dlcih3YXJuaW5ncyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZGlzcGxheSBpbmZvcm1hdGlvbiBub3RlIG9uIGZpcnN0IGNhbGxcbiAgaWYgKCFoYXNMb2dnZWRCZWZvcmUpIHtcbiAgICBoYXNMb2dnZWRCZWZvcmUgPSB0cnVlO1xuICAgIGNvbnNvbGUuaW5mbyhGSVJTVF9XQVJOSU5HX0lORk9fTUVTU0FHRSk7XG4gIH1cblxuICAvLyBkZWZhdWx0IGJlaGF2aW9yOiBsb2cgd2FybmluZ3MgdG8gdGhlIGNvbnNvbGVcbiAgZm9yIChjb25zdCB3YXJuaW5nIG9mIHdhcm5pbmdzKSB7XG4gICAgY29uc29sZS53YXJuKGZvcm1hdFdhcm5pbmcod2FybmluZykpO1xuICB9XG59O1xuXG4vLyBSZXNldCBmdW5jdGlvbiBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuZXhwb3J0IGNvbnN0IHJlc2V0TG9nV2FybmluZ3NTdGF0ZSA9ICgpID0+IHtcbiAgaGFzTG9nZ2VkQmVmb3JlID0gZmFsc2U7XG59O1xuIiwgImltcG9ydCB7IGdhdGV3YXkgfSBmcm9tICdAYWktc2RrL2dhdGV3YXknO1xuaW1wb3J0IHtcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgSW1hZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjIsXG4gIFByb3ZpZGVyVjIsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yJztcbmltcG9ydCB7IEVtYmVkZGluZ01vZGVsIH0gZnJvbSAnLi4vdHlwZXMvZW1iZWRkaW5nLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBJbWFnZU1vZGVsIH0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UtbW9kZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUxhbmd1YWdlTW9kZWwobW9kZWw6IExhbmd1YWdlTW9kZWwpOiBMYW5ndWFnZU1vZGVsVjIge1xuICBpZiAodHlwZW9mIG1vZGVsICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgcmV0dXJuIGdldEdsb2JhbFByb3ZpZGVyKCkubGFuZ3VhZ2VNb2RlbChtb2RlbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRW1iZWRkaW5nTW9kZWw8VkFMVUUgPSBzdHJpbmc+KFxuICBtb2RlbDogRW1iZWRkaW5nTW9kZWw8VkFMVUU+LFxuKTogRW1iZWRkaW5nTW9kZWxWMjxWQUxVRT4ge1xuICBpZiAodHlwZW9mIG1vZGVsICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgICB2ZXJzaW9uOiBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbixcbiAgICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgLy8gVE9ETyBBSSBTREsgNjogZmlndXJlIG91dCBob3cgdG8gY2xlYW5seSBzdXBwb3J0IGRpZmZlcmVudCBnZW5lcmljIHR5cGVzXG4gIHJldHVybiBnZXRHbG9iYWxQcm92aWRlcigpLnRleHRFbWJlZGRpbmdNb2RlbChcbiAgICBtb2RlbCxcbiAgKSBhcyBFbWJlZGRpbmdNb2RlbFYyPFZBTFVFPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbWFnZU1vZGVsKG1vZGVsOiBJbWFnZU1vZGVsKTogSW1hZ2VNb2RlbFYyIHtcbiAgaWYgKHR5cGVvZiBtb2RlbCAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAobW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09ICd2MicpIHtcbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICAgIHByb3ZpZGVyOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHJldHVybiBnZXRHbG9iYWxQcm92aWRlcigpLmltYWdlTW9kZWwobW9kZWwpO1xufVxuXG5mdW5jdGlvbiBnZXRHbG9iYWxQcm92aWRlcigpOiBQcm92aWRlclYyIHtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuQUlfU0RLX0RFRkFVTFRfUFJPVklERVIgPz8gZ2F0ZXdheTtcbn1cbiIsICJleHBvcnQge1xuICBBSVNES0Vycm9yLFxuICBBUElDYWxsRXJyb3IsXG4gIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBMb2FkU2V0dGluZ0Vycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4vaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5leHBvcnQgeyBJbnZhbGlkU3RyZWFtUGFydEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLXN0cmVhbS1wYXJ0LWVycm9yJztcbmV4cG9ydCB7IEludmFsaWRUb29sSW5wdXRFcnJvciB9IGZyb20gJy4vaW52YWxpZC10b29sLWlucHV0LWVycm9yJztcbmV4cG9ydCB7IE5vSW1hZ2VHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4vbm8taW1hZ2UtZ2VuZXJhdGVkLWVycm9yJztcbmV4cG9ydCB7IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuZXhwb3J0IHsgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4vbm8tb3V0cHV0LWdlbmVyYXRlZC1lcnJvcic7XG5leHBvcnQgeyBOb091dHB1dFNwZWNpZmllZEVycm9yIH0gZnJvbSAnLi9uby1vdXRwdXQtc3BlY2lmaWVkLWVycm9yJztcbmV4cG9ydCB7IE5vU3BlZWNoR2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuL25vLXNwZWVjaC1nZW5lcmF0ZWQtZXJyb3InO1xuZXhwb3J0IHsgTm9TdWNoVG9vbEVycm9yIH0gZnJvbSAnLi9uby1zdWNoLXRvb2wtZXJyb3InO1xuZXhwb3J0IHsgVG9vbENhbGxSZXBhaXJFcnJvciB9IGZyb20gJy4vdG9vbC1jYWxsLXJlcGFpci1lcnJvcic7XG5leHBvcnQgeyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yIH0gZnJvbSAnLi91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcblxuZXhwb3J0IHsgSW52YWxpZERhdGFDb250ZW50RXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvaW52YWxpZC1kYXRhLWNvbnRlbnQtZXJyb3InO1xuZXhwb3J0IHsgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IgfSBmcm9tICcuLi9wcm9tcHQvaW52YWxpZC1tZXNzYWdlLXJvbGUtZXJyb3InO1xuZXhwb3J0IHsgTWVzc2FnZUNvbnZlcnNpb25FcnJvciB9IGZyb20gJy4uL3Byb21wdC9tZXNzYWdlLWNvbnZlcnNpb24tZXJyb3InO1xuZXhwb3J0IHsgRG93bmxvYWRFcnJvciB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZXJyb3InO1xuZXhwb3J0IHsgUmV0cnlFcnJvciB9IGZyb20gJy4uL3V0aWwvcmV0cnktZXJyb3InO1xuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkQXJndW1lbnRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHBhcmFtZXRlcjogc3RyaW5nO1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcGFyYW1ldGVyLFxuICAgIHZhbHVlLFxuICAgIG1lc3NhZ2UsXG4gIH06IHtcbiAgICBwYXJhbWV0ZXI6IHN0cmluZztcbiAgICB2YWx1ZTogdW5rbm93bjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lLFxuICAgICAgbWVzc2FnZTogYEludmFsaWQgYXJndW1lbnQgZm9yIHBhcmFtZXRlciAke3BhcmFtZXRlcn06ICR7bWVzc2FnZX1gLFxuICAgIH0pO1xuXG4gICAgdGhpcy5wYXJhbWV0ZXIgPSBwYXJhbWV0ZXI7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkQXJndW1lbnRFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24nO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRTdHJlYW1QYXJ0RXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIEludmFsaWRTdHJlYW1QYXJ0RXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IGNodW5rOiBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8YW55PjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY2h1bmssXG4gICAgbWVzc2FnZSxcbiAgfToge1xuICAgIGNodW5rOiBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8YW55PjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLmNodW5rID0gY2h1bms7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIEludmFsaWRTdHJlYW1QYXJ0RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIGdldEVycm9yTWVzc2FnZSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWRUb29sSW5wdXRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZFRvb2xJbnB1dEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSB0b29sTmFtZTogc3RyaW5nO1xuICByZWFkb25seSB0b29sSW5wdXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdG9vbElucHV0LFxuICAgIHRvb2xOYW1lLFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dCBmb3IgdG9vbCAke3Rvb2xOYW1lfTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHRvb2xJbnB1dDogc3RyaW5nO1xuICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgY2F1c2U6IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy50b29sSW5wdXQgPSB0b29sSW5wdXQ7XG4gICAgdGhpcy50b29sTmFtZSA9IHRvb2xOYW1lO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBJbnZhbGlkVG9vbElucHV0RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuXG5jb25zdCBuYW1lID0gJ0FJX05vSW1hZ2VHZW5lcmF0ZWRFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG4vKipcblRocm93biB3aGVuIG5vIGltYWdlIGNvdWxkIGJlIGdlbmVyYXRlZC4gVGhpcyBjYW4gaGF2ZSBtdWx0aXBsZSBjYXVzZXM6XG5cbi0gVGhlIG1vZGVsIGZhaWxlZCB0byBnZW5lcmF0ZSBhIHJlc3BvbnNlLlxuLSBUaGUgbW9kZWwgZ2VuZXJhdGVkIGEgcmVzcG9uc2UgdGhhdCBjb3VsZCBub3QgYmUgcGFyc2VkLlxuICovXG5leHBvcnQgY2xhc3MgTm9JbWFnZUdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICAvKipcblRoZSByZXNwb25zZSBtZXRhZGF0YSBmb3IgZWFjaCBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBBcnJheTxJbWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTm8gaW1hZ2UgZ2VuZXJhdGVkLicsXG4gICAgY2F1c2UsXG4gICAgcmVzcG9uc2VzLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IEVycm9yO1xuICAgIHJlc3BvbnNlcz86IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnJlc3BvbnNlcyA9IHJlc3BvbnNlcztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9JbWFnZUdlbmVyYXRlZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBGaW5pc2hSZWFzb24gfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob09iamVjdEdlbmVyYXRlZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gbm8gb2JqZWN0IGNvdWxkIGJlIGdlbmVyYXRlZC4gVGhpcyBjYW4gaGF2ZSBzZXZlcmFsIGNhdXNlczpcblxuLSBUaGUgbW9kZWwgZmFpbGVkIHRvIGdlbmVyYXRlIGEgcmVzcG9uc2UuXG4tIFRoZSBtb2RlbCBnZW5lcmF0ZWQgYSByZXNwb25zZSB0aGF0IGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4tIFRoZSBtb2RlbCBnZW5lcmF0ZWQgYSByZXNwb25zZSB0aGF0IGNvdWxkIG5vdCBiZSB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgc2NoZW1hLlxuXG5UaGUgZXJyb3IgY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXG4tIGB0ZXh0YDogVGhlIHRleHQgdGhhdCB3YXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbC4gVGhpcyBjYW4gYmUgdGhlIHJhdyB0ZXh0IG9yIHRoZSB0b29sIGNhbGwgdGV4dCwgZGVwZW5kaW5nIG9uIHRoZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIC8qKlxuICBUaGUgdGV4dCB0aGF0IHdhcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsLiBUaGlzIGNhbiBiZSB0aGUgcmF3IHRleHQgb3IgdGhlIHRvb2wgY2FsbCB0ZXh0LCBkZXBlbmRpbmcgb24gdGhlIG1vZGVsLlxuICAgKi9cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICBUaGUgcmVzcG9uc2UgbWV0YWRhdGEuXG4gICAqL1xuICByZWFkb25seSByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gIFRoZSB1c2FnZSBvZiB0aGUgbW9kZWwuXG4gICAqL1xuICByZWFkb25seSB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICBSZWFzb24gd2h5IHRoZSBtb2RlbCBmaW5pc2hlZCBnZW5lcmF0aW5nIGEgcmVzcG9uc2UuXG4gICAqL1xuICByZWFkb25seSBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9ICdObyBvYmplY3QgZ2VuZXJhdGVkLicsXG4gICAgY2F1c2UsXG4gICAgdGV4dCxcbiAgICByZXNwb25zZSxcbiAgICB1c2FnZSxcbiAgICBmaW5pc2hSZWFzb24sXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlPzogRXJyb3I7XG4gICAgdGV4dD86IHN0cmluZztcbiAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG5cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnVzYWdlID0gdXNhZ2U7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBmaW5pc2hSZWFzb247XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob091dHB1dEdlbmVyYXRlZEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbi8qKlxuVGhyb3duIHdoZW4gbm8gTExNIG91dHB1dCB3YXMgZ2VuZXJhdGVkLCBlLmcuIGJlY2F1c2Ugb2YgZXJyb3JzLlxuICovXG5leHBvcnQgY2xhc3MgTm9PdXRwdXRHZW5lcmF0ZWRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UgPSAnTm8gb3V0cHV0IGdlbmVyYXRlZC4nLFxuICAgIGNhdXNlLFxuICB9OiB7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IEVycm9yO1xuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBOb091dHB1dEdlbmVyYXRlZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBTcGVlY2hNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9zcGVlY2gtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuXG4vKipcbkVycm9yIHRoYXQgaXMgdGhyb3duIHdoZW4gbm8gc3BlZWNoIGF1ZGlvIHdhcyBnZW5lcmF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb1NwZWVjaEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPiB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogJ0FJX05vU3BlZWNoR2VuZXJhdGVkRXJyb3InLFxuICAgICAgbWVzc2FnZTogJ05vIHNwZWVjaCBhdWRpbyBnZW5lcmF0ZWQuJyxcbiAgICB9KTtcblxuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfTm9TdWNoVG9vbEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBOb1N1Y2hUb29sRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHRvb2xOYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGF2YWlsYWJsZVRvb2xzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgdG9vbE5hbWUsXG4gICAgYXZhaWxhYmxlVG9vbHMgPSB1bmRlZmluZWQsXG4gICAgbWVzc2FnZSA9IGBNb2RlbCB0cmllZCB0byBjYWxsIHVuYXZhaWxhYmxlIHRvb2wgJyR7dG9vbE5hbWV9Jy4gJHtcbiAgICAgIGF2YWlsYWJsZVRvb2xzID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAnTm8gdG9vbHMgYXJlIGF2YWlsYWJsZS4nXG4gICAgICAgIDogYEF2YWlsYWJsZSB0b29sczogJHthdmFpbGFibGVUb29scy5qb2luKCcsICcpfS5gXG4gICAgfWAsXG4gIH06IHtcbiAgICB0b29sTmFtZTogc3RyaW5nO1xuICAgIGF2YWlsYWJsZVRvb2xzPzogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSB9KTtcblxuICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgICB0aGlzLmF2YWlsYWJsZVRvb2xzID0gYXZhaWxhYmxlVG9vbHM7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcjogdW5rbm93bik6IGVycm9yIGlzIE5vU3VjaFRvb2xFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciwgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBJbnZhbGlkVG9vbElucHV0RXJyb3IgfSBmcm9tICcuL2ludmFsaWQtdG9vbC1pbnB1dC1lcnJvcic7XG5pbXBvcnQgeyBOb1N1Y2hUb29sRXJyb3IgfSBmcm9tICcuL25vLXN1Y2gtdG9vbC1lcnJvcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfVG9vbENhbGxSZXBhaXJFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgVG9vbENhbGxSZXBhaXJFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgb3JpZ2luYWxFcnJvcjogTm9TdWNoVG9vbEVycm9yIHwgSW52YWxpZFRvb2xJbnB1dEVycm9yO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjYXVzZSxcbiAgICBvcmlnaW5hbEVycm9yLFxuICAgIG1lc3NhZ2UgPSBgRXJyb3IgcmVwYWlyaW5nIHRvb2wgY2FsbDogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gIH06IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIGNhdXNlOiB1bmtub3duO1xuICAgIG9yaWdpbmFsRXJyb3I6IE5vU3VjaFRvb2xFcnJvciB8IEludmFsaWRUb29sSW5wdXRFcnJvcjtcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgVG9vbENhbGxSZXBhaXJFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbkVycm9yIHRoYXQgaXMgdGhyb3duIHdoZW4gYSBtb2RlbCB3aXRoIGFuIHVuc3VwcG9ydGVkIHZlcnNpb24gaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcmVhZG9ubHkgdmVyc2lvbjogc3RyaW5nO1xuICByZWFkb25seSBwcm92aWRlcjogc3RyaW5nO1xuICByZWFkb25seSBtb2RlbElkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogeyB2ZXJzaW9uOiBzdHJpbmc7IHByb3ZpZGVyOiBzdHJpbmc7IG1vZGVsSWQ6IHN0cmluZyB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogJ0FJX1Vuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3InLFxuICAgICAgbWVzc2FnZTpcbiAgICAgICAgYFVuc3VwcG9ydGVkIG1vZGVsIHZlcnNpb24gJHtvcHRpb25zLnZlcnNpb259IGZvciBwcm92aWRlciBcIiR7b3B0aW9ucy5wcm92aWRlcn1cIiBhbmQgbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIi4gYCArXG4gICAgICAgIGBBSSBTREsgNSBvbmx5IHN1cHBvcnRzIG1vZGVscyB0aGF0IGltcGxlbWVudCBzcGVjaWZpY2F0aW9uIHZlcnNpb24gXCJ2MlwiLmAsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZlcnNpb24gPSBvcHRpb25zLnZlcnNpb247XG4gICAgdGhpcy5wcm92aWRlciA9IG9wdGlvbnMucHJvdmlkZXI7XG4gICAgdGhpcy5tb2RlbElkID0gb3B0aW9ucy5tb2RlbElkO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0ludmFsaWREYXRhQ29udGVudEVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgcmVhZG9ubHkgY29udGVudDogdW5rbm93bjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29udGVudCxcbiAgICBjYXVzZSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0YSBjb250ZW50LiBFeHBlY3RlZCBhIGJhc2U2NCBzdHJpbmcsIFVpbnQ4QXJyYXksIEFycmF5QnVmZmVyLCBvciBCdWZmZXIsIGJ1dCBnb3QgJHt0eXBlb2YgY29udGVudH0uYCxcbiAgfToge1xuICAgIGNvbnRlbnQ6IHVua25vd247XG4gICAgY2F1c2U/OiB1bmtub3duO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZERhdGFDb250ZW50RXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9JbnZhbGlkTWVzc2FnZVJvbGVFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgY2xhc3MgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHJvbGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgcm9sZSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgbWVzc2FnZSByb2xlOiAnJHtyb2xlfScuIE11c3QgYmUgb25lIG9mOiBcInN5c3RlbVwiLCBcInVzZXJcIiwgXCJhc3Npc3RhbnRcIiwgXCJ0b29sXCIuYCxcbiAgfToge1xuICAgIHJvbGU6IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3Ige1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcblxuY29uc3QgbmFtZSA9ICdBSV9NZXNzYWdlQ29udmVyc2lvbkVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlQ29udmVyc2lvbkVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBvcmlnaW5hbE1lc3NhZ2U6IE9taXQ8VUlNZXNzYWdlLCAnaWQnPjtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgb3JpZ2luYWxNZXNzYWdlLFxuICAgIG1lc3NhZ2UsXG4gIH06IHtcbiAgICBvcmlnaW5hbE1lc3NhZ2U6IE9taXQ8VUlNZXNzYWdlLCAnaWQnPjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLm9yaWdpbmFsTWVzc2FnZSA9IG9yaWdpbmFsTWVzc2FnZTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTWVzc2FnZUNvbnZlcnNpb25FcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5jb25zdCBuYW1lID0gJ0FJX0Rvd25sb2FkRXJyb3InO1xuY29uc3QgbWFya2VyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbmNvbnN0IHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcblxuZXhwb3J0IGNsYXNzIERvd25sb2FkRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgcHJpdmF0ZSByZWFkb25seSBbc3ltYm9sXSA9IHRydWU7IC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuXG4gIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICByZWFkb25seSBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICByZWFkb25seSBzdGF0dXNUZXh0Pzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB1cmwsXG4gICAgc3RhdHVzQ29kZSxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBjYXVzZSA9PSBudWxsXG4gICAgICA/IGBGYWlsZWQgdG8gZG93bmxvYWQgJHt1cmx9OiAke3N0YXR1c0NvZGV9ICR7c3RhdHVzVGV4dH1gXG4gICAgICA6IGBGYWlsZWQgdG8gZG93bmxvYWQgJHt1cmx9OiAke2NhdXNlfWAsXG4gIH06IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIHN0YXR1c1RleHQ/OiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBjYXVzZT86IHVua25vd247XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0O1xuICB9XG5cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3I6IHVua25vd24pOiBlcnJvciBpcyBEb3dubG9hZEVycm9yIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcik7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBBSVNES0Vycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmNvbnN0IG5hbWUgPSAnQUlfUmV0cnlFcnJvcic7XG5jb25zdCBtYXJrZXIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xuY29uc3Qgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xuXG5leHBvcnQgdHlwZSBSZXRyeUVycm9yUmVhc29uID1cbiAgfCAnbWF4UmV0cmllc0V4Y2VlZGVkJ1xuICB8ICdlcnJvck5vdFJldHJ5YWJsZSdcbiAgfCAnYWJvcnQnO1xuXG5leHBvcnQgY2xhc3MgUmV0cnlFcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBwcml2YXRlIHJlYWRvbmx5IFtzeW1ib2xdID0gdHJ1ZTsgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG5cbiAgLy8gbm90ZTogcHJvcGVydHkgb3JkZXIgZGV0ZXJtaW5lcyBkZWJ1Z2dpbmcgb3V0cHV0XG4gIHJlYWRvbmx5IHJlYXNvbjogUmV0cnlFcnJvclJlYXNvbjtcbiAgcmVhZG9ubHkgbGFzdEVycm9yOiB1bmtub3duO1xuICByZWFkb25seSBlcnJvcnM6IEFycmF5PHVua25vd24+O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIHJlYXNvbixcbiAgICBlcnJvcnMsXG4gIH06IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgcmVhc29uOiBSZXRyeUVycm9yUmVhc29uO1xuICAgIGVycm9yczogQXJyYXk8dW5rbm93bj47XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UgfSk7XG5cbiAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcblxuICAgIC8vIHNlcGFyYXRlIG91ciBsYXN0IGVycm9yIHRvIG1ha2UgZGVidWdnaW5nIHZpYSBsb2cgZWFzaWVyOlxuICAgIHRoaXMubGFzdEVycm9yID0gZXJyb3JzW2Vycm9ycy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgUmV0cnlFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyRmlsZVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMk1lc3NhZ2UsXG4gIExhbmd1YWdlTW9kZWxWMlByb21wdCxcbiAgTGFuZ3VhZ2VNb2RlbFYyVGV4dFBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgRGF0YUNvbnRlbnQsXG4gIEZpbGVQYXJ0LFxuICBJbWFnZVBhcnQsXG4gIGlzVXJsU3VwcG9ydGVkLFxuICBNb2RlbE1lc3NhZ2UsXG4gIFRleHRQYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7XG4gIGRldGVjdE1lZGlhVHlwZSxcbiAgaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzLFxufSBmcm9tICcuLi91dGlsL2RldGVjdC1tZWRpYS10eXBlJztcbmltcG9ydCB7XG4gIGNyZWF0ZURlZmF1bHREb3dubG9hZEZ1bmN0aW9uLFxuICBEb3dubG9hZEZ1bmN0aW9uLFxufSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50IH0gZnJvbSAnLi9kYXRhLWNvbnRlbnQnO1xuaW1wb3J0IHsgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IgfSBmcm9tICcuL2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yJztcbmltcG9ydCB7IFN0YW5kYXJkaXplZFByb21wdCB9IGZyb20gJy4vc3RhbmRhcmRpemUtcHJvbXB0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICBwcm9tcHQsXG4gIHN1cHBvcnRlZFVybHMsXG4gIGRvd25sb2FkID0gY3JlYXRlRGVmYXVsdERvd25sb2FkRnVuY3Rpb24oKSxcbn06IHtcbiAgcHJvbXB0OiBTdGFuZGFyZGl6ZWRQcm9tcHQ7XG4gIHN1cHBvcnRlZFVybHM6IFJlY29yZDxzdHJpbmcsIFJlZ0V4cFtdPjtcbiAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG59KTogUHJvbWlzZTxMYW5ndWFnZU1vZGVsVjJQcm9tcHQ+IHtcbiAgY29uc3QgZG93bmxvYWRlZEFzc2V0cyA9IGF3YWl0IGRvd25sb2FkQXNzZXRzKFxuICAgIHByb21wdC5tZXNzYWdlcyxcbiAgICBkb3dubG9hZCxcbiAgICBzdXBwb3J0ZWRVcmxzLFxuICApO1xuXG4gIHJldHVybiBbXG4gICAgLi4uKHByb21wdC5zeXN0ZW0gIT0gbnVsbFxuICAgICAgPyBbeyByb2xlOiAnc3lzdGVtJyBhcyBjb25zdCwgY29udGVudDogcHJvbXB0LnN5c3RlbSB9XVxuICAgICAgOiBbXSksXG4gICAgLi4ucHJvbXB0Lm1lc3NhZ2VzLm1hcChtZXNzYWdlID0+XG4gICAgICBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsTWVzc2FnZSh7IG1lc3NhZ2UsIGRvd25sb2FkZWRBc3NldHMgfSksXG4gICAgKSxcbiAgXTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgTW9kZWxNZXNzYWdlIHRvIGEgTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgTW9kZWxNZXNzYWdlIHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gZG93bmxvYWRlZEFzc2V0cyBBIG1hcCBvZiBVUkxzIHRvIHRoZWlyIGRvd25sb2FkZWQgZGF0YS4gT25seVxuICogICBhdmFpbGFibGUgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgVVJMcywgbnVsbCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsTWVzc2FnZSh7XG4gIG1lc3NhZ2UsXG4gIGRvd25sb2FkZWRBc3NldHMsXG59OiB7XG4gIG1lc3NhZ2U6IE1vZGVsTWVzc2FnZTtcbiAgZG93bmxvYWRlZEFzc2V0czogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICB7IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOyBkYXRhOiBVaW50OEFycmF5IH1cbiAgPjtcbn0pOiBMYW5ndWFnZU1vZGVsVjJNZXNzYWdlIHtcbiAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTtcbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSAnc3lzdGVtJzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2FzZSAndXNlcic6IHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiAndGV4dCcsIHRleHQ6IG1lc3NhZ2UuY29udGVudCB9XSxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgIC5tYXAocGFydCA9PiBjb252ZXJ0UGFydFRvTGFuZ3VhZ2VNb2RlbFBhcnQocGFydCwgZG93bmxvYWRlZEFzc2V0cykpXG4gICAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHRleHQgcGFydHM6XG4gICAgICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3RleHQnIHx8IHBhcnQudGV4dCAhPT0gJycpLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXNlICdhc3Npc3RhbnQnOiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiAndGV4dCcsIHRleHQ6IG1lc3NhZ2UuY29udGVudCB9XSxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IG1lc3NhZ2UucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgIC8vIHJlbW92ZSBlbXB0eSB0ZXh0IHBhcnRzIChubyB0ZXh0LCBhbmQgbm8gcHJvdmlkZXIgb3B0aW9ucyk6XG4gICAgICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgICAgIHBhcnQudHlwZSAhPT0gJ3RleHQnIHx8XG4gICAgICAgICAgICAgIHBhcnQudGV4dCAhPT0gJycgfHxcbiAgICAgICAgICAgICAgcGFydC5wcm92aWRlck9wdGlvbnMgIT0gbnVsbCxcbiAgICAgICAgICApXG4gICAgICAgICAgLm1hcChwYXJ0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyT3B0aW9ucyA9IHBhcnQucHJvdmlkZXJPcHRpb25zO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgbWVkaWFUeXBlIH0gPSBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsVjJEYXRhQ29udGVudChcbiAgICAgICAgICAgICAgICAgIHBhcnQuZGF0YSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IG1lZGlhVHlwZSA/PyBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZyc6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWNhbGwnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHBhcnQucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnQub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY2FzZSAndG9vbCc6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6ICd0b29sJyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50Lm1hcChwYXJ0ID0+ICh7XG4gICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyBhcyBjb25zdCxcbiAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICB9KSksXG4gICAgICAgIHByb3ZpZGVyT3B0aW9uczogbWVzc2FnZS5wcm92aWRlck9wdGlvbnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcm9sZTtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkTWVzc2FnZVJvbGVFcnJvcih7IHJvbGU6IF9leGhhdXN0aXZlQ2hlY2sgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRG93bmxvYWRzIGltYWdlcyBhbmQgZmlsZXMgZnJvbSBVUkxzIGluIHRoZSBtZXNzYWdlcy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRBc3NldHMoXG4gIG1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXSxcbiAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24sXG4gIHN1cHBvcnRlZFVybHM6IFJlY29yZDxzdHJpbmcsIFJlZ0V4cFtdPixcbik6IFByb21pc2U8XG4gIFJlY29yZDxzdHJpbmcsIHsgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7IGRhdGE6IFVpbnQ4QXJyYXkgfT5cbj4ge1xuICBjb25zdCBwbGFubmVkRG93bmxvYWRzID0gbWVzc2FnZXNcbiAgICAuZmlsdGVyKG1lc3NhZ2UgPT4gbWVzc2FnZS5yb2xlID09PSAndXNlcicpXG4gICAgLm1hcChtZXNzYWdlID0+IG1lc3NhZ2UuY29udGVudClcbiAgICAuZmlsdGVyKChjb250ZW50KTogY29udGVudCBpcyBBcnJheTxUZXh0UGFydCB8IEltYWdlUGFydCB8IEZpbGVQYXJ0PiA9PlxuICAgICAgQXJyYXkuaXNBcnJheShjb250ZW50KSxcbiAgICApXG4gICAgLmZsYXQoKVxuICAgIC5maWx0ZXIoXG4gICAgICAocGFydCk6IHBhcnQgaXMgSW1hZ2VQYXJ0IHwgRmlsZVBhcnQgPT5cbiAgICAgICAgcGFydC50eXBlID09PSAnaW1hZ2UnIHx8IHBhcnQudHlwZSA9PT0gJ2ZpbGUnLFxuICAgIClcbiAgICAubWFwKHBhcnQgPT4ge1xuICAgICAgY29uc3QgbWVkaWFUeXBlID1cbiAgICAgICAgcGFydC5tZWRpYVR5cGUgPz8gKHBhcnQudHlwZSA9PT0gJ2ltYWdlJyA/ICdpbWFnZS8qJyA6IHVuZGVmaW5lZCk7XG5cbiAgICAgIGxldCBkYXRhID0gcGFydC50eXBlID09PSAnaW1hZ2UnID8gcGFydC5pbWFnZSA6IHBhcnQuZGF0YTtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gbmV3IFVSTChkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge31cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgbWVkaWFUeXBlLCBkYXRhIH07XG4gICAgfSlcblxuICAgIC5maWx0ZXIoXG4gICAgICAocGFydCk6IHBhcnQgaXMgeyBtZWRpYVR5cGU6IHN0cmluZyB8IHVuZGVmaW5lZDsgZGF0YTogVVJMIH0gPT5cbiAgICAgICAgcGFydC5kYXRhIGluc3RhbmNlb2YgVVJMLFxuICAgIClcbiAgICAubWFwKHBhcnQgPT4gKHtcbiAgICAgIHVybDogcGFydC5kYXRhLFxuICAgICAgaXNVcmxTdXBwb3J0ZWRCeU1vZGVsOlxuICAgICAgICBwYXJ0Lm1lZGlhVHlwZSAhPSBudWxsICYmXG4gICAgICAgIGlzVXJsU3VwcG9ydGVkKHtcbiAgICAgICAgICB1cmw6IHBhcnQuZGF0YS50b1N0cmluZygpLFxuICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5tZWRpYVR5cGUsXG4gICAgICAgICAgc3VwcG9ydGVkVXJscyxcbiAgICAgICAgfSksXG4gICAgfSkpO1xuXG4gIC8vIGRvd25sb2FkIGluIHBhcmFsbGVsOlxuICBjb25zdCBkb3dubG9hZGVkRmlsZXMgPSBhd2FpdCBkb3dubG9hZChwbGFubmVkRG93bmxvYWRzKTtcblxuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIGRvd25sb2FkZWRGaWxlc1xuICAgICAgLm1hcCgoZmlsZSwgaW5kZXgpID0+XG4gICAgICAgIGZpbGUgPT0gbnVsbFxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogW1xuICAgICAgICAgICAgICBwbGFubmVkRG93bmxvYWRzW2luZGV4XS51cmwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgeyBkYXRhOiBmaWxlLmRhdGEsIG1lZGlhVHlwZTogZmlsZS5tZWRpYVR5cGUgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICApXG4gICAgICAuZmlsdGVyKGZpbGUgPT4gZmlsZSAhPSBudWxsKSxcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBhcnQgb2YgYSBtZXNzYWdlIHRvIGEgTGFuZ3VhZ2VNb2RlbFYyUGFydC5cbiAqIEBwYXJhbSBwYXJ0IFRoZSBwYXJ0IHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gZG93bmxvYWRlZEFzc2V0cyBBIG1hcCBvZiBVUkxzIHRvIHRoZWlyIGRvd25sb2FkZWQgZGF0YS4gT25seVxuICogIGF2YWlsYWJsZSBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCBVUkxzLCBudWxsIG90aGVyd2lzZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY29udmVydGVkIHBhcnQuXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRQYXJ0VG9MYW5ndWFnZU1vZGVsUGFydChcbiAgcGFydDogVGV4dFBhcnQgfCBJbWFnZVBhcnQgfCBGaWxlUGFydCxcbiAgZG93bmxvYWRlZEFzc2V0czogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICB7IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkOyBkYXRhOiBVaW50OEFycmF5IH1cbiAgPixcbik6IExhbmd1YWdlTW9kZWxWMlRleHRQYXJ0IHwgTGFuZ3VhZ2VNb2RlbFYyRmlsZVBhcnQge1xuICBpZiAocGFydC50eXBlID09PSAndGV4dCcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyT3B0aW9ucyxcbiAgICB9O1xuICB9XG5cbiAgbGV0IG9yaWdpbmFsRGF0YTogRGF0YUNvbnRlbnQgfCBVUkw7XG4gIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgIG9yaWdpbmFsRGF0YSA9IHBhcnQuaW1hZ2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmaWxlJzpcbiAgICAgIG9yaWdpbmFsRGF0YSA9IHBhcnQuZGF0YTtcblxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFydCB0eXBlOiAke3R5cGV9YCk7XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IGNvbnZlcnRlZERhdGEsIG1lZGlhVHlwZTogY29udmVydGVkTWVkaWFUeXBlIH0gPVxuICAgIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50KG9yaWdpbmFsRGF0YSk7XG5cbiAgbGV0IG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gY29udmVydGVkTWVkaWFUeXBlID8/IHBhcnQubWVkaWFUeXBlO1xuICBsZXQgZGF0YTogVWludDhBcnJheSB8IHN0cmluZyB8IFVSTCA9IGNvbnZlcnRlZERhdGE7IC8vIGJpbmFyeSB8IGJhc2U2NCB8IHVybFxuXG4gIC8vIElmIHRoZSBjb250ZW50IGlzIGEgVVJMLCB3ZSBjaGVjayBpZiBpdCB3YXMgZG93bmxvYWRlZDpcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICBjb25zdCBkb3dubG9hZGVkRmlsZSA9IGRvd25sb2FkZWRBc3NldHNbZGF0YS50b1N0cmluZygpXTtcbiAgICBpZiAoZG93bmxvYWRlZEZpbGUpIHtcbiAgICAgIGRhdGEgPSBkb3dubG9hZGVkRmlsZS5kYXRhO1xuICAgICAgbWVkaWFUeXBlID8/PSBkb3dubG9hZGVkRmlsZS5tZWRpYVR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IHRoYXQgd2UgaGF2ZSB0aGUgbm9ybWFsaXplZCBkYXRhIGVpdGhlciBhcyBhIFVSTCBvciBhIFVpbnQ4QXJyYXksXG4gIC8vIHdlIGNhbiBjcmVhdGUgdGhlIExhbmd1YWdlTW9kZWxWMlBhcnQuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2ltYWdlJzoge1xuICAgICAgLy8gV2hlbiBwb3NzaWJsZSwgdHJ5IHRvIGRldGVjdCB0aGUgbWVkaWEgdHlwZSBhdXRvbWF0aWNhbGx5XG4gICAgICAvLyB0byBkZWFsIHdpdGggaW5jb3JyZWN0IG1lZGlhIHR5cGUgaW5wdXRzLlxuICAgICAgLy8gV2hlbiBkZXRlY3Rpb24gZmFpbHMsIHVzZSBwcm92aWRlZCBtZWRpYSB0eXBlLlxuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5IHx8IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBtZWRpYVR5cGUgPVxuICAgICAgICAgIGRldGVjdE1lZGlhVHlwZSh7IGRhdGEsIHNpZ25hdHVyZXM6IGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyB9KSA/P1xuICAgICAgICAgIG1lZGlhVHlwZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBtZWRpYVR5cGU6IG1lZGlhVHlwZSA/PyAnaW1hZ2UvKicsIC8vIGFueSBpbWFnZVxuICAgICAgICBmaWxlbmFtZTogdW5kZWZpbmVkLFxuICAgICAgICBkYXRhLFxuICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJPcHRpb25zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjYXNlICdmaWxlJzoge1xuICAgICAgLy8gV2UgbXVzdCBoYXZlIGEgbWVkaWFUeXBlIGZvciBmaWxlcywgaWYgbm90LCB0aHJvdyBhbiBlcnJvci5cbiAgICAgIGlmIChtZWRpYVR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1lZGlhIHR5cGUgaXMgbWlzc2luZyBmb3IgZmlsZSBwYXJ0YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgbWVkaWFUeXBlLFxuICAgICAgICBmaWxlbmFtZTogcGFydC5maWxlbmFtZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgY29udmVydEJhc2U2NFRvVWludDhBcnJheSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgaW1hZ2VNZWRpYVR5cGVTaWduYXR1cmVzID0gW1xuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvZ2lmJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NDcsIDB4NDksIDB4NDZdLCAvLyBHSUZcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL3BuZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDg5LCAweDUwLCAweDRlLCAweDQ3XSwgLy8gUE5HXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9qcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZDhdLCAvLyBKUEVHXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS93ZWJwJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogW1xuICAgICAgMHg1MixcbiAgICAgIDB4NDksXG4gICAgICAweDQ2LFxuICAgICAgMHg0NiwgLy8gXCJSSUZGXCJcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsIC8vIGZpbGUgc2l6ZSAodmFyaWFibGUpXG4gICAgICAweDU3LFxuICAgICAgMHg0NSxcbiAgICAgIDB4NDIsXG4gICAgICAweDUwLCAvLyBcIldFQlBcIlxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9ibXAnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0MiwgMHg0ZF0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS90aWZmJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4NDksIDB4NDksIDB4MmEsIDB4MDBdLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnaW1hZ2UvdGlmZicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDRkLCAweDRkLCAweDAwLCAweDJhXSxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2ltYWdlL2F2aWYnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbXG4gICAgICAweDAwLCAweDAwLCAweDAwLCAweDIwLCAweDY2LCAweDc0LCAweDc5LCAweDcwLCAweDYxLCAweDc2LCAweDY5LCAweDY2LFxuICAgIF0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdpbWFnZS9oZWljJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogW1xuICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgyMCwgMHg2NiwgMHg3NCwgMHg3OSwgMHg3MCwgMHg2OCwgMHg2NSwgMHg2OSwgMHg2MyxcbiAgICBdLFxuICB9LFxuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyA9IFtcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhmYl0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZmFdLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGYzXSxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL21wZWcnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHhmZiwgMHhmMl0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcGVnJyBhcyBjb25zdCxcbiAgICBieXRlc1ByZWZpeDogWzB4ZmYsIDB4ZTNdLFxuICB9LFxuICB7XG4gICAgbWVkaWFUeXBlOiAnYXVkaW8vbXBlZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweGZmLCAweGUyXSxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL3dhdicgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFtcbiAgICAgIDB4NTIsIC8vIFJcbiAgICAgIDB4NDksIC8vIElcbiAgICAgIDB4NDYsIC8vIEZcbiAgICAgIDB4NDYsIC8vIEZcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICAweDU3LCAvLyBXXG4gICAgICAweDQxLCAvLyBBXG4gICAgICAweDU2LCAvLyBWXG4gICAgICAweDQ1LCAvLyBFXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL29nZycgYXMgY29uc3QsXG4gICAgYnl0ZXNQcmVmaXg6IFsweDRmLCAweDY3LCAweDY3LCAweDUzXSxcbiAgfSxcbiAge1xuICAgIG1lZGlhVHlwZTogJ2F1ZGlvL2ZsYWMnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg2NiwgMHg0YywgMHg2MSwgMHg0M10sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9hYWMnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg0MCwgMHgxNSwgMHgwMCwgMHgwMF0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby9tcDQnIGFzIGNvbnN0LFxuICAgIGJ5dGVzUHJlZml4OiBbMHg2NiwgMHg3NCwgMHg3OSwgMHg3MF0sXG4gIH0sXG4gIHtcbiAgICBtZWRpYVR5cGU6ICdhdWRpby93ZWJtJyxcbiAgICBieXRlc1ByZWZpeDogWzB4MWEsIDB4NDUsIDB4ZGYsIDB4YTNdLFxuICB9LFxuXSBhcyBjb25zdDtcblxuY29uc3Qgc3RyaXBJRDMgPSAoZGF0YTogVWludDhBcnJheSB8IHN0cmluZykgPT4ge1xuICBjb25zdCBieXRlcyA9XG4gICAgdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnID8gY29udmVydEJhc2U2NFRvVWludDhBcnJheShkYXRhKSA6IGRhdGE7XG4gIGNvbnN0IGlkM1NpemUgPVxuICAgICgoYnl0ZXNbNl0gJiAweDdmKSA8PCAyMSkgfFxuICAgICgoYnl0ZXNbN10gJiAweDdmKSA8PCAxNCkgfFxuICAgICgoYnl0ZXNbOF0gJiAweDdmKSA8PCA3KSB8XG4gICAgKGJ5dGVzWzldICYgMHg3Zik7XG5cbiAgLy8gVGhlIHJhdyBNUDMgc3RhcnRzIGhlcmVcbiAgcmV0dXJuIGJ5dGVzLnNsaWNlKGlkM1NpemUgKyAxMCk7XG59O1xuXG5mdW5jdGlvbiBzdHJpcElEM1RhZ3NJZlByZXNlbnQoZGF0YTogVWludDhBcnJheSB8IHN0cmluZyk6IFVpbnQ4QXJyYXkgfCBzdHJpbmcge1xuICBjb25zdCBoYXNJZDMgPVxuICAgICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5zdGFydHNXaXRoKCdTVVF6JykpIHx8XG4gICAgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyAmJlxuICAgICAgZGF0YS5sZW5ndGggPiAxMCAmJlxuICAgICAgZGF0YVswXSA9PT0gMHg0OSAmJiAvLyAnSSdcbiAgICAgIGRhdGFbMV0gPT09IDB4NDQgJiYgLy8gJ0QnXG4gICAgICBkYXRhWzJdID09PSAweDMzKTsgLy8gJzMnXG5cbiAgcmV0dXJuIGhhc0lkMyA/IHN0cmlwSUQzKGRhdGEpIDogZGF0YTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgdGhlIG1lZGlhIElBTkEgbWVkaWEgdHlwZSBvZiBhIGZpbGUgdXNpbmcgYSBsaXN0IG9mIHNpZ25hdHVyZXMuXG4gKlxuICogQHBhcmFtIGRhdGEgLSBUaGUgZmlsZSBkYXRhLlxuICogQHBhcmFtIHNpZ25hdHVyZXMgLSBUaGUgc2lnbmF0dXJlcyB0byB1c2UgZm9yIGRldGVjdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBtZWRpYSB0eXBlIG9mIHRoZSBmaWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0TWVkaWFUeXBlKHtcbiAgZGF0YSxcbiAgc2lnbmF0dXJlcyxcbn06IHtcbiAgZGF0YTogVWludDhBcnJheSB8IHN0cmluZztcbiAgc2lnbmF0dXJlczogdHlwZW9mIGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyB8IHR5cGVvZiBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXM7XG59KTogKHR5cGVvZiBzaWduYXR1cmVzKVtudW1iZXJdWydtZWRpYVR5cGUnXSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHByb2Nlc3NlZERhdGEgPSBzdHJpcElEM1RhZ3NJZlByZXNlbnQoZGF0YSk7XG5cbiAgLy8gQ29udmVydCB0aGUgZmlyc3QgfjE4IGJ5dGVzICgyNCBiYXNlNjQgY2hhcnMpIGZvciBjb25zaXN0ZW50IGRldGVjdGlvbiBsb2dpYzpcbiAgY29uc3QgYnl0ZXMgPVxuICAgIHR5cGVvZiBwcm9jZXNzZWREYXRhID09PSAnc3RyaW5nJ1xuICAgICAgPyBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KFxuICAgICAgICAgIHByb2Nlc3NlZERhdGEuc3Vic3RyaW5nKDAsIE1hdGgubWluKHByb2Nlc3NlZERhdGEubGVuZ3RoLCAyNCkpLFxuICAgICAgICApXG4gICAgICA6IHByb2Nlc3NlZERhdGE7XG5cbiAgZm9yIChjb25zdCBzaWduYXR1cmUgb2Ygc2lnbmF0dXJlcykge1xuICAgIGlmIChcbiAgICAgIGJ5dGVzLmxlbmd0aCA+PSBzaWduYXR1cmUuYnl0ZXNQcmVmaXgubGVuZ3RoICYmXG4gICAgICBzaWduYXR1cmUuYnl0ZXNQcmVmaXguZXZlcnkoXG4gICAgICAgIChieXRlLCBpbmRleCkgPT4gYnl0ZSA9PT0gbnVsbCB8fCBieXRlc1tpbmRleF0gPT09IGJ5dGUsXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gc2lnbmF0dXJlLm1lZGlhVHlwZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwgImltcG9ydCB7IERvd25sb2FkRXJyb3IgfSBmcm9tICcuL2Rvd25sb2FkLWVycm9yJztcbmltcG9ydCB7XG4gIHdpdGhVc2VyQWdlbnRTdWZmaXgsXG4gIGdldFJ1bnRpbWVFbnZpcm9ubWVudFVzZXJBZ2VudCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vLi4vdmVyc2lvbic7XG5cbi8qKlxuICogRG93bmxvYWQgYSBmaWxlIGZyb20gYSBVUkwuXG4gKlxuICogQHBhcmFtIHVybCAtIFRoZSBVUkwgdG8gZG93bmxvYWQgZnJvbS5cbiAqIEByZXR1cm5zIFRoZSBkb3dubG9hZGVkIGRhdGEgYW5kIG1lZGlhIHR5cGUuXG4gKlxuICogQHRocm93cyBEb3dubG9hZEVycm9yIGlmIHRoZSBkb3dubG9hZCBmYWlscy5cbiAqL1xuZXhwb3J0IGNvbnN0IGRvd25sb2FkID0gYXN5bmMgKHsgdXJsIH06IHsgdXJsOiBVUkwgfSkgPT4ge1xuICBjb25zdCB1cmxUZXh0ID0gdXJsLnRvU3RyaW5nKCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmxUZXh0LCB7XG4gICAgICBoZWFkZXJzOiB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgICAgICB7fSxcbiAgICAgICAgYGFpLXNkay8ke1ZFUlNJT059YCxcbiAgICAgICAgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50KCksXG4gICAgICApLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IERvd25sb2FkRXJyb3Ioe1xuICAgICAgICB1cmw6IHVybFRleHQsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBuZXcgVWludDhBcnJheShhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpKSxcbiAgICAgIG1lZGlhVHlwZTogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpID8/IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChEb3dubG9hZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRG93bmxvYWRFcnJvcih7IHVybDogdXJsVGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59O1xuIiwgImRlY2xhcmUgY29uc3QgX19QQUNLQUdFX1ZFUlNJT05fXzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IFZFUlNJT046IHN0cmluZyA9XG4gIHR5cGVvZiBfX1BBQ0tBR0VfVkVSU0lPTl9fICE9PSAndW5kZWZpbmVkJ1xuICAgID8gX19QQUNLQUdFX1ZFUlNJT05fX1xuICAgIDogJzAuMC4wLXRlc3QnO1xuIiwgImltcG9ydCB7IGRvd25sb2FkIGFzIG9yaWdpbmFsRG93bmxvYWQgfSBmcm9tICcuL2Rvd25sb2FkJztcblxuLyoqXG4gKiBFeHBlcmltZW50YWwuIENhbiBjaGFuZ2UgaW4gcGF0Y2ggdmVyc2lvbnMgd2l0aG91dCB3YXJuaW5nLlxuICpcbiAqIERvd25sb2FkIGZ1bmN0aW9uLiBDYWxsZWQgd2l0aCB0aGUgYXJyYXkgb2YgVVJMcyBhbmQgYSBib29sZWFuIGluZGljYXRpbmdcbiAqIHdoZXRoZXIgdGhlIFVSTCBpcyBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLlxuICpcbiAqIFRoZSBkb3dubG9hZCBmdW5jdGlvbiBjYW4gZGVjaWRlIGZvciBlYWNoIFVSTDpcbiAqIC0gdG8gcmV0dXJuIG51bGwgKHdoaWNoIG1lYW5zIHRoYXQgdGhlIFVSTCBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSBtb2RlbClcbiAqIC0gdG8gZG93bmxvYWQgdGhlIGFzc2V0IGFuZCByZXR1cm4gdGhlIGRhdGEgKGluY2wuIHJldHJpZXMsIGF1dGhlbnRpY2F0aW9uLCBldGMuKVxuICpcbiAqIFNob3VsZCB0aHJvdyBEb3dubG9hZEVycm9yIGlmIHRoZSBkb3dubG9hZCBmYWlscy5cbiAqXG4gKiBTaG91bGQgcmV0dXJuIGFuIGFycmF5IG9mIG9iamVjdHMgc29ydGVkIGJ5IHRoZSBvcmRlciBvZiB0aGUgcmVxdWVzdGVkIGRvd25sb2Fkcy5cbiAqIEZvciBlYWNoIG9iamVjdCwgdGhlIGRhdGEgc2hvdWxkIGJlIGEgVWludDhBcnJheSBpZiB0aGUgVVJMIHdhcyBkb3dubG9hZGVkLlxuICogRm9yIGVhY2ggb2JqZWN0LCB0aGUgbWVkaWFUeXBlIHNob3VsZCBiZSB0aGUgbWVkaWEgdHlwZSBvZiB0aGUgZG93bmxvYWRlZCBhc3NldC5cbiAqIEZvciBlYWNoIG9iamVjdCwgdGhlIGRhdGEgc2hvdWxkIGJlIG51bGwgaWYgdGhlIFVSTCBzaG91bGQgYmUgcGFzc2VkIHRocm91Z2ggYXMgaXMuXG4gKi9cbmV4cG9ydCB0eXBlIERvd25sb2FkRnVuY3Rpb24gPSAoXG4gIG9wdGlvbnM6IEFycmF5PHtcbiAgICB1cmw6IFVSTDtcbiAgICBpc1VybFN1cHBvcnRlZEJ5TW9kZWw6IGJvb2xlYW47XG4gIH0+LFxuKSA9PiBQcm9taXNlTGlrZTxcbiAgQXJyYXk8e1xuICAgIGRhdGE6IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIH0gfCBudWxsPlxuPjtcblxuLyoqXG4gKiBEZWZhdWx0IGRvd25sb2FkIGZ1bmN0aW9uLlxuICogRG93bmxvYWRzIHRoZSBmaWxlIGlmIGl0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIG1vZGVsLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlRGVmYXVsdERvd25sb2FkRnVuY3Rpb24gPVxuICAoZG93bmxvYWQ6IHR5cGVvZiBvcmlnaW5hbERvd25sb2FkID0gb3JpZ2luYWxEb3dubG9hZCk6IERvd25sb2FkRnVuY3Rpb24gPT5cbiAgcmVxdWVzdGVkRG93bmxvYWRzID0+XG4gICAgUHJvbWlzZS5hbGwoXG4gICAgICByZXF1ZXN0ZWREb3dubG9hZHMubWFwKGFzeW5jIHJlcXVlc3RlZERvd25sb2FkID0+XG4gICAgICAgIHJlcXVlc3RlZERvd25sb2FkLmlzVXJsU3VwcG9ydGVkQnlNb2RlbFxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogZG93bmxvYWQocmVxdWVzdGVkRG93bmxvYWQpLFxuICAgICAgKSxcbiAgICApO1xuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIExhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5LFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0LFxuICBEYXRhQ29udGVudCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcbmltcG9ydCB7IEludmFsaWREYXRhQ29udGVudEVycm9yIH0gZnJvbSAnLi9pbnZhbGlkLWRhdGEtY29udGVudC1lcnJvcic7XG5pbXBvcnQgeyBzcGxpdERhdGFVcmwgfSBmcm9tICcuL3NwbGl0LWRhdGEtdXJsJztcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IGRhdGFDb250ZW50U2NoZW1hOiB6LlpvZFR5cGU8RGF0YUNvbnRlbnQ+ID0gei51bmlvbihbXG4gIHouc3RyaW5nKCksXG4gIHouaW5zdGFuY2VvZihVaW50OEFycmF5KSxcbiAgei5pbnN0YW5jZW9mKEFycmF5QnVmZmVyKSxcbiAgei5jdXN0b208QnVmZmVyPihcbiAgICAvLyBCdWZmZXIgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBpbiBzb21lIGVudmlyb25tZW50cyBzdWNoIGFzIENsb3VkRmxhcmU6XG4gICAgKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgQnVmZmVyID0+XG4gICAgICBnbG9iYWxUaGlzLkJ1ZmZlcj8uaXNCdWZmZXIodmFsdWUpID8/IGZhbHNlLFxuICAgIHsgbWVzc2FnZTogJ011c3QgYmUgYSBCdWZmZXInIH0sXG4gICksXG5dKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxWMkRhdGFDb250ZW50KFxuICBjb250ZW50OiBEYXRhQ29udGVudCB8IFVSTCxcbik6IHtcbiAgZGF0YTogTGFuZ3VhZ2VNb2RlbFYyRGF0YUNvbnRlbnQ7XG4gIG1lZGlhVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufSB7XG4gIC8vIEJ1ZmZlciAmIFVpbnQ4QXJyYXk6XG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgIHJldHVybiB7IGRhdGE6IGNvbnRlbnQsIG1lZGlhVHlwZTogdW5kZWZpbmVkIH07XG4gIH1cblxuICAvLyBBcnJheUJ1ZmZlciBuZWVkcyBjb252ZXJzaW9uIHRvIFVpbnQ4QXJyYXkgKGxpZ2h0d2VpZ2h0KTpcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB7IGRhdGE6IG5ldyBVaW50OEFycmF5KGNvbnRlbnQpLCBtZWRpYVR5cGU6IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgLy8gQXR0ZW1wdCB0byBjcmVhdGUgYSBVUkwgZnJvbSB0aGUgZGF0YS4gSWYgaXQgZmFpbHMsIHdlIGNhbiBhc3N1bWUgdGhlIGRhdGFcbiAgLy8gaXMgbm90IGEgVVJMIGFuZCBsaWtlbHkgc29tZSBvdGhlciBzb3J0IG9mIGRhdGEuXG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgY29udGVudCA9IG5ldyBVUkwoY29udGVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGlnbm9yZWRcbiAgICB9XG4gIH1cblxuICAvLyBFeHRyYWN0IGRhdGEgZnJvbSBkYXRhIFVSTDpcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBVUkwgJiYgY29udGVudC5wcm90b2NvbCA9PT0gJ2RhdGE6Jykge1xuICAgIGNvbnN0IHsgbWVkaWFUeXBlOiBkYXRhVXJsTWVkaWFUeXBlLCBiYXNlNjRDb250ZW50IH0gPSBzcGxpdERhdGFVcmwoXG4gICAgICBjb250ZW50LnRvU3RyaW5nKCksXG4gICAgKTtcblxuICAgIGlmIChkYXRhVXJsTWVkaWFUeXBlID09IG51bGwgfHwgYmFzZTY0Q29udGVudCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgQUlTREtFcnJvcih7XG4gICAgICAgIG5hbWU6ICdJbnZhbGlkRGF0YUNvbnRlbnRFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGRhdGEgVVJMIGZvcm1hdCBpbiBjb250ZW50ICR7Y29udGVudC50b1N0cmluZygpfWAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBkYXRhOiBiYXNlNjRDb250ZW50LCBtZWRpYVR5cGU6IGRhdGFVcmxNZWRpYVR5cGUgfTtcbiAgfVxuXG4gIHJldHVybiB7IGRhdGE6IGNvbnRlbnQsIG1lZGlhVHlwZTogdW5kZWZpbmVkIH07XG59XG5cbi8qKlxuQ29udmVydHMgZGF0YSBjb250ZW50IHRvIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLlxuXG5AcGFyYW0gY29udGVudCAtIERhdGEgY29udGVudCB0byBjb252ZXJ0LlxuQHJldHVybnMgQmFzZTY0LWVuY29kZWQgc3RyaW5nLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhjb250ZW50OiBEYXRhQ29udGVudCk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmIChjb250ZW50IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChuZXcgVWludDhBcnJheShjb250ZW50KSk7XG4gIH1cblxuICByZXR1cm4gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChjb250ZW50KTtcbn1cblxuLyoqXG5Db252ZXJ0cyBkYXRhIGNvbnRlbnQgdG8gYSBVaW50OEFycmF5LlxuXG5AcGFyYW0gY29udGVudCAtIERhdGEgY29udGVudCB0byBjb252ZXJ0LlxuQHJldHVybnMgVWludDhBcnJheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheShcbiAgY29udGVudDogRGF0YUNvbnRlbnQsXG4pOiBVaW50OEFycmF5IHtcbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICdJbnZhbGlkIGRhdGEgY29udGVudC4gQ29udGVudCBzdHJpbmcgaXMgbm90IGEgYmFzZTY0LWVuY29kZWQgbWVkaWEuJyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShjb250ZW50KTtcbiAgfVxuXG4gIHRocm93IG5ldyBJbnZhbGlkRGF0YUNvbnRlbnRFcnJvcih7IGNvbnRlbnQgfSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIG9mIHRleHQuXG4gKlxuICogQHBhcmFtIHVpbnQ4QXJyYXkgLSBUaGUgVWludDhBcnJheSB0byBjb252ZXJ0LlxuICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VWludDhBcnJheVRvVGV4dCh1aW50OEFycmF5OiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHVpbnQ4QXJyYXkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZGVjb2RpbmcgVWludDhBcnJheSB0byB0ZXh0Jyk7XG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gc3BsaXREYXRhVXJsKGRhdGFVcmw6IHN0cmluZyk6IHtcbiAgbWVkaWFUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGJhc2U2NENvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn0ge1xuICB0cnkge1xuICAgIGNvbnN0IFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gZGF0YVVybC5zcGxpdCgnLCcpO1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYVR5cGU6IGhlYWRlci5zcGxpdCgnOycpWzBdLnNwbGl0KCc6JylbMV0sXG4gICAgICBiYXNlNjRDb250ZW50LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lZGlhVHlwZTogdW5kZWZpbmVkLFxuICAgICAgYmFzZTY0Q29udGVudDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gJy4uL2Vycm9yL2ludmFsaWQtYXJndW1lbnQtZXJyb3InO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi9jYWxsLXNldHRpbmdzJztcblxuLyoqXG4gKiBWYWxpZGF0ZXMgY2FsbCBzZXR0aW5ncyBhbmQgcmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCBsaW1pdGVkIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVDYWxsU2V0dGluZ3Moe1xuICBtYXhPdXRwdXRUb2tlbnMsXG4gIHRlbXBlcmF0dXJlLFxuICB0b3BQLFxuICB0b3BLLFxuICBwcmVzZW5jZVBlbmFsdHksXG4gIGZyZXF1ZW5jeVBlbmFsdHksXG4gIHNlZWQsXG4gIHN0b3BTZXF1ZW5jZXMsXG59OiBPbWl0PENhbGxTZXR0aW5ncywgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJyB8ICdtYXhSZXRyaWVzJz4pOiBPbWl0PFxuICBDYWxsU2V0dGluZ3MsXG4gICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycycgfCAnbWF4UmV0cmllcydcbj4ge1xuICBpZiAobWF4T3V0cHV0VG9rZW5zICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobWF4T3V0cHV0VG9rZW5zKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnbWF4T3V0cHV0VG9rZW5zJyxcbiAgICAgICAgdmFsdWU6IG1heE91dHB1dFRva2VucyxcbiAgICAgICAgbWVzc2FnZTogJ21heE91dHB1dFRva2VucyBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1heE91dHB1dFRva2VucyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ21heE91dHB1dFRva2VucycsXG4gICAgICAgIHZhbHVlOiBtYXhPdXRwdXRUb2tlbnMsXG4gICAgICAgIG1lc3NhZ2U6ICdtYXhPdXRwdXRUb2tlbnMgbXVzdCBiZSA+PSAxJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0ZW1wZXJhdHVyZSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiB0ZW1wZXJhdHVyZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3RlbXBlcmF0dXJlJyxcbiAgICAgICAgdmFsdWU6IHRlbXBlcmF0dXJlLFxuICAgICAgICBtZXNzYWdlOiAndGVtcGVyYXR1cmUgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAodG9wUCAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiB0b3BQICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAndG9wUCcsXG4gICAgICAgIHZhbHVlOiB0b3BQLFxuICAgICAgICBtZXNzYWdlOiAndG9wUCBtdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0b3BLICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHRvcEsgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICd0b3BLJyxcbiAgICAgICAgdmFsdWU6IHRvcEssXG4gICAgICAgIG1lc3NhZ2U6ICd0b3BLIG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByZXNlbmNlUGVuYWx0eSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBwcmVzZW5jZVBlbmFsdHkgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdwcmVzZW5jZVBlbmFsdHknLFxuICAgICAgICB2YWx1ZTogcHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICBtZXNzYWdlOiAncHJlc2VuY2VQZW5hbHR5IG11c3QgYmUgYSBudW1iZXInLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGZyZXF1ZW5jeVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgZnJlcXVlbmN5UGVuYWx0eSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2ZyZXF1ZW5jeVBlbmFsdHknLFxuICAgICAgICB2YWx1ZTogZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgbWVzc2FnZTogJ2ZyZXF1ZW5jeVBlbmFsdHkgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoc2VlZCAhPSBudWxsKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHNlZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzZWVkJyxcbiAgICAgICAgdmFsdWU6IHNlZWQsXG4gICAgICAgIG1lc3NhZ2U6ICdzZWVkIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1heE91dHB1dFRva2VucyxcbiAgICB0ZW1wZXJhdHVyZSxcbiAgICB0b3BQLFxuICAgIHRvcEssXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgc3RvcFNlcXVlbmNlcyxcbiAgICBzZWVkLFxuICB9O1xufVxuIiwgImltcG9ydCB7XG4gIExhbmd1YWdlTW9kZWxWMkZ1bmN0aW9uVG9vbCxcbiAgTGFuZ3VhZ2VNb2RlbFYyUHJvdmlkZXJEZWZpbmVkVG9vbCxcbiAgTGFuZ3VhZ2VNb2RlbFYyVG9vbENob2ljZSxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBhc1NjaGVtYSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgaXNOb25FbXB0eU9iamVjdCB9IGZyb20gJy4uL3V0aWwvaXMtbm9uLWVtcHR5LW9iamVjdCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dCc7XG5pbXBvcnQgeyBUb29sQ2hvaWNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZTxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbHMsXG4gIHRvb2xDaG9pY2UsXG4gIGFjdGl2ZVRvb2xzLFxufToge1xuICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG4gIHRvb2xDaG9pY2U6IFRvb2xDaG9pY2U8VE9PTFM+IHwgdW5kZWZpbmVkO1xuICBhY3RpdmVUb29sczogQXJyYXk8a2V5b2YgVE9PTFM+IHwgdW5kZWZpbmVkO1xufSk6IHtcbiAgdG9vbHM6XG4gICAgfCBBcnJheTxMYW5ndWFnZU1vZGVsVjJGdW5jdGlvblRvb2wgfCBMYW5ndWFnZU1vZGVsVjJQcm92aWRlckRlZmluZWRUb29sPlxuICAgIHwgdW5kZWZpbmVkO1xuICB0b29sQ2hvaWNlOiBMYW5ndWFnZU1vZGVsVjJUb29sQ2hvaWNlIHwgdW5kZWZpbmVkO1xufSB7XG4gIGlmICghaXNOb25FbXB0eU9iamVjdCh0b29scykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbHM6IHVuZGVmaW5lZCxcbiAgICAgIHRvb2xDaG9pY2U6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgLy8gd2hlbiBhY3RpdmVUb29scyBpcyBwcm92aWRlZCwgd2Ugb25seSBpbmNsdWRlIHRoZSB0b29scyB0aGF0IGFyZSBpbiB0aGUgbGlzdDpcbiAgY29uc3QgZmlsdGVyZWRUb29scyA9XG4gICAgYWN0aXZlVG9vbHMgIT0gbnVsbFxuICAgICAgPyBPYmplY3QuZW50cmllcyh0b29scykuZmlsdGVyKChbbmFtZV0pID0+XG4gICAgICAgICAgYWN0aXZlVG9vbHMuaW5jbHVkZXMobmFtZSBhcyBrZXlvZiBUT09MUyksXG4gICAgICAgIClcbiAgICAgIDogT2JqZWN0LmVudHJpZXModG9vbHMpO1xuXG4gIHJldHVybiB7XG4gICAgdG9vbHM6IGZpbHRlcmVkVG9vbHMubWFwKChbbmFtZSwgdG9vbF0pID0+IHtcbiAgICAgIGNvbnN0IHRvb2xUeXBlID0gdG9vbC50eXBlO1xuICAgICAgc3dpdGNoICh0b29sVHlwZSkge1xuICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgY2FzZSAnZHluYW1pYyc6XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyBhcyBjb25zdCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGlucHV0U2NoZW1hOiBhc1NjaGVtYSh0b29sLmlucHV0U2NoZW1hKS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiB0b29sLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdwcm92aWRlci1kZWZpbmVkJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Byb3ZpZGVyLWRlZmluZWQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGlkOiB0b29sLmlkLFxuICAgICAgICAgICAgYXJnczogdG9vbC5hcmdzLFxuICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gdG9vbFR5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0b29sIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgdG9vbENob2ljZTpcbiAgICAgIHRvb2xDaG9pY2UgPT0gbnVsbFxuICAgICAgICA/IHsgdHlwZTogJ2F1dG8nIH1cbiAgICAgICAgOiB0eXBlb2YgdG9vbENob2ljZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICA/IHsgdHlwZTogdG9vbENob2ljZSB9XG4gICAgICAgICAgOiB7IHR5cGU6ICd0b29sJyBhcyBjb25zdCwgdG9vbE5hbWU6IHRvb2xDaG9pY2UudG9vbE5hbWUgYXMgc3RyaW5nIH0sXG4gIH07XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGlzTm9uRW1wdHlPYmplY3QoXG4gIG9iamVjdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQgfCBudWxsLFxuKTogb2JqZWN0IGlzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoID4gMDtcbn1cbiIsICJpbXBvcnQgeyBJbnZhbGlkUHJvbXB0RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IE1vZGVsTWVzc2FnZSwgc2FmZVZhbGlkYXRlVHlwZXMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgbW9kZWxNZXNzYWdlU2NoZW1hIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4vcHJvbXB0JztcblxuZXhwb3J0IHR5cGUgU3RhbmRhcmRpemVkUHJvbXB0ID0ge1xuICAvKipcbiAgICogU3lzdGVtIG1lc3NhZ2UuXG4gICAqL1xuICBzeXN0ZW0/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1lc3NhZ2VzLlxuICAgKi9cbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YW5kYXJkaXplUHJvbXB0KFxuICBwcm9tcHQ6IFByb21wdCxcbik6IFByb21pc2U8U3RhbmRhcmRpemVkUHJvbXB0PiB7XG4gIGlmIChwcm9tcHQucHJvbXB0ID09IG51bGwgJiYgcHJvbXB0Lm1lc3NhZ2VzID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdwcm9tcHQgb3IgbWVzc2FnZXMgbXVzdCBiZSBkZWZpbmVkJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwgJiYgcHJvbXB0Lm1lc3NhZ2VzICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdwcm9tcHQgYW5kIG1lc3NhZ2VzIGNhbm5vdCBiZSBkZWZpbmVkIGF0IHRoZSBzYW1lIHRpbWUnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gdmFsaWRhdGUgdGhhdCBzeXN0ZW0gaXMgYSBzdHJpbmdcbiAgaWYgKHByb21wdC5zeXN0ZW0gIT0gbnVsbCAmJiB0eXBlb2YgcHJvbXB0LnN5c3RlbSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdzeXN0ZW0gbXVzdCBiZSBhIHN0cmluZycsXG4gICAgfSk7XG4gIH1cblxuICBsZXQgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuXG4gIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwgJiYgdHlwZW9mIHByb21wdC5wcm9tcHQgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZXMgPSBbeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHByb21wdC5wcm9tcHQgfV07XG4gIH0gZWxzZSBpZiAocHJvbXB0LnByb21wdCAhPSBudWxsICYmIEFycmF5LmlzQXJyYXkocHJvbXB0LnByb21wdCkpIHtcbiAgICBtZXNzYWdlcyA9IHByb21wdC5wcm9tcHQ7XG4gIH0gZWxzZSBpZiAocHJvbXB0Lm1lc3NhZ2VzICE9IG51bGwpIHtcbiAgICBtZXNzYWdlcyA9IHByb21wdC5tZXNzYWdlcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdwcm9tcHQgb3IgbWVzc2FnZXMgbXVzdCBiZSBkZWZpbmVkJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6ICdtZXNzYWdlcyBtdXN0IG5vdCBiZSBlbXB0eScsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoe1xuICAgIHZhbHVlOiBtZXNzYWdlcyxcbiAgICBzY2hlbWE6IHouYXJyYXkobW9kZWxNZXNzYWdlU2NoZW1hKSxcbiAgfSk7XG5cbiAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdUaGUgbWVzc2FnZXMgbXVzdCBiZSBhIE1vZGVsTWVzc2FnZVtdLiAnICtcbiAgICAgICAgJ0lmIHlvdSBoYXZlIHBhc3NlZCBhIFVJTWVzc2FnZVtdLCB5b3UgY2FuIHVzZSBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzIHRvIGNvbnZlcnQgdGhlbS4nLFxuICAgICAgY2F1c2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1lc3NhZ2VzLFxuICAgIHN5c3RlbTogcHJvbXB0LnN5c3RlbSxcbiAgfTtcbn1cbiIsICJpbXBvcnQge1xuICBBc3Npc3RhbnRNb2RlbE1lc3NhZ2UsXG4gIE1vZGVsTWVzc2FnZSxcbiAgU3lzdGVtTW9kZWxNZXNzYWdlLFxuICBUb29sTW9kZWxNZXNzYWdlLFxuICBVc2VyTW9kZWxNZXNzYWdlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIGZpbGVQYXJ0U2NoZW1hLFxuICBpbWFnZVBhcnRTY2hlbWEsXG4gIHJlYXNvbmluZ1BhcnRTY2hlbWEsXG4gIHRleHRQYXJ0U2NoZW1hLFxuICB0b29sQ2FsbFBhcnRTY2hlbWEsXG4gIHRvb2xSZXN1bHRQYXJ0U2NoZW1hLFxufSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBTeXN0ZW1Nb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlU3lzdGVtTWVzc2FnZSA9IFN5c3RlbU1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IHN5c3RlbU1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPFN5c3RlbU1vZGVsTWVzc2FnZT4gPSB6Lm9iamVjdChcbiAge1xuICAgIHJvbGU6IHoubGl0ZXJhbCgnc3lzdGVtJyksXG4gICAgY29udGVudDogei5zdHJpbmcoKSxcbiAgICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgfSxcbik7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWFgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgY29uc3QgY29yZVN5c3RlbU1lc3NhZ2VTY2hlbWEgPSBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBVc2VyTW9kZWxNZXNzYWdlYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IHR5cGUgQ29yZVVzZXJNZXNzYWdlID0gVXNlck1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWE6IHouWm9kVHlwZTxVc2VyTW9kZWxNZXNzYWdlPiA9IHoub2JqZWN0KHtcbiAgcm9sZTogei5saXRlcmFsKCd1c2VyJyksXG4gIGNvbnRlbnQ6IHoudW5pb24oW1xuICAgIHouc3RyaW5nKCksXG4gICAgei5hcnJheSh6LnVuaW9uKFt0ZXh0UGFydFNjaGVtYSwgaW1hZ2VQYXJ0U2NoZW1hLCBmaWxlUGFydFNjaGVtYV0pKSxcbiAgXSksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGB1c2VyTW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVVc2VyTWVzc2FnZVNjaGVtYSA9IHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBBc3Npc3RhbnRNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlQXNzaXN0YW50TWVzc2FnZSA9IEFzc2lzdGFudE1vZGVsTWVzc2FnZTtcblxuZXhwb3J0IGNvbnN0IGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPEFzc2lzdGFudE1vZGVsTWVzc2FnZT4gPVxuICB6Lm9iamVjdCh7XG4gICAgcm9sZTogei5saXRlcmFsKCdhc3Npc3RhbnQnKSxcbiAgICBjb250ZW50OiB6LnVuaW9uKFtcbiAgICAgIHouc3RyaW5nKCksXG4gICAgICB6LmFycmF5KFxuICAgICAgICB6LnVuaW9uKFtcbiAgICAgICAgICB0ZXh0UGFydFNjaGVtYSxcbiAgICAgICAgICBmaWxlUGFydFNjaGVtYSxcbiAgICAgICAgICByZWFzb25pbmdQYXJ0U2NoZW1hLFxuICAgICAgICAgIHRvb2xDYWxsUGFydFNjaGVtYSxcbiAgICAgICAgICB0b29sUmVzdWx0UGFydFNjaGVtYSxcbiAgICAgICAgXSksXG4gICAgICApLFxuICAgIF0pLFxuICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICB9KTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYWAgaW5zdGVhZC5cbiAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCBjb25zdCBjb3JlQXNzaXN0YW50TWVzc2FnZVNjaGVtYSA9IGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYTtcblxuLyoqXG5AZGVwcmVjYXRlZCBVc2UgYFRvb2xNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gKi9cbi8vIFRPRE8gcmVtb3ZlIGluIEFJIFNESyA2XG5leHBvcnQgdHlwZSBDb3JlVG9vbE1lc3NhZ2UgPSBUb29sTW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3QgdG9vbE1vZGVsTWVzc2FnZVNjaGVtYTogei5ab2RUeXBlPFRvb2xNb2RlbE1lc3NhZ2U+ID0gei5vYmplY3Qoe1xuICByb2xlOiB6LmxpdGVyYWwoJ3Rvb2wnKSxcbiAgY29udGVudDogei5hcnJheSh0b29sUmVzdWx0UGFydFNjaGVtYSksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGB0b29sTW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVUb29sTWVzc2FnZVNjaGVtYSA9IHRvb2xNb2RlbE1lc3NhZ2VTY2hlbWE7XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBNb2RlbE1lc3NhZ2VgIGluc3RlYWQuXG4gICAqL1xuLy8gVE9ETyByZW1vdmUgaW4gQUkgU0RLIDZcbmV4cG9ydCB0eXBlIENvcmVNZXNzYWdlID0gTW9kZWxNZXNzYWdlO1xuXG5leHBvcnQgY29uc3QgbW9kZWxNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8TW9kZWxNZXNzYWdlPiA9IHoudW5pb24oW1xuICBzeXN0ZW1Nb2RlbE1lc3NhZ2VTY2hlbWEsXG4gIHVzZXJNb2RlbE1lc3NhZ2VTY2hlbWEsXG4gIGFzc2lzdGFudE1vZGVsTWVzc2FnZVNjaGVtYSxcbiAgdG9vbE1vZGVsTWVzc2FnZVNjaGVtYSxcbl0pO1xuXG4vKipcbkBkZXByZWNhdGVkIFVzZSBgbW9kZWxNZXNzYWdlU2NoZW1hYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvcmVNZXNzYWdlU2NoZW1hOiB6LlpvZFR5cGU8Q29yZU1lc3NhZ2U+ID0gbW9kZWxNZXNzYWdlU2NoZW1hO1xuIiwgImltcG9ydCB7IFNoYXJlZFYyUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQgeyBqc29uVmFsdWVTY2hlbWEgfSBmcm9tICcuL2pzb24tdmFsdWUnO1xuXG4vKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEgdGhhdCBpcyByZXR1cm5lZCBmcm9tIHRoZSBwcm92aWRlci5cblxuVGhpcyBpcyBuZWVkZWQgdG8gZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmVcbmZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCB0eXBlIFByb3ZpZGVyTWV0YWRhdGEgPSBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGE7XG5cbmV4cG9ydCBjb25zdCBwcm92aWRlck1ldGFkYXRhU2NoZW1hOiB6LlpvZFR5cGU8UHJvdmlkZXJNZXRhZGF0YT4gPSB6LnJlY29yZChcbiAgei5zdHJpbmcoKSxcbiAgei5yZWNvcmQoei5zdHJpbmcoKSwganNvblZhbHVlU2NoZW1hKSxcbik7XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlIGFzIE9yaWdpbmFsSlNPTlZhbHVlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kL3Y0JztcblxuZXhwb3J0IGNvbnN0IGpzb25WYWx1ZVNjaGVtYTogei5ab2RUeXBlPEpTT05WYWx1ZT4gPSB6LmxhenkoKCkgPT5cbiAgei51bmlvbihbXG4gICAgei5udWxsKCksXG4gICAgei5zdHJpbmcoKSxcbiAgICB6Lm51bWJlcigpLFxuICAgIHouYm9vbGVhbigpLFxuICAgIHoucmVjb3JkKHouc3RyaW5nKCksIGpzb25WYWx1ZVNjaGVtYSksXG4gICAgei5hcnJheShqc29uVmFsdWVTY2hlbWEpLFxuICBdKSxcbik7XG5cbmV4cG9ydCB0eXBlIEpTT05WYWx1ZSA9IE9yaWdpbmFsSlNPTlZhbHVlO1xuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIEZpbGVQYXJ0LFxuICBJbWFnZVBhcnQsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbiAgUmVhc29uaW5nUGFydCxcbiAgVGV4dFBhcnQsXG4gIFRvb2xSZXN1bHRQYXJ0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsganNvblZhbHVlU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvanNvbi12YWx1ZSc7XG5pbXBvcnQgeyBwcm92aWRlck1ldGFkYXRhU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgZGF0YUNvbnRlbnRTY2hlbWEgfSBmcm9tICcuL2RhdGEtY29udGVudCc7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0ZXh0UGFydFNjaGVtYTogei5ab2RUeXBlPFRleHRQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gIHRleHQ6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBpbWFnZVBhcnRTY2hlbWE6IHouWm9kVHlwZTxJbWFnZVBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ2ltYWdlJyksXG4gIGltYWdlOiB6LnVuaW9uKFtkYXRhQ29udGVudFNjaGVtYSwgei5pbnN0YW5jZW9mKFVSTCldKSxcbiAgbWVkaWFUeXBlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBmaWxlUGFydFNjaGVtYTogei5ab2RUeXBlPEZpbGVQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCdmaWxlJyksXG4gIGRhdGE6IHoudW5pb24oW2RhdGFDb250ZW50U2NoZW1hLCB6Lmluc3RhbmNlb2YoVVJMKV0pLFxuICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCByZWFzb25pbmdQYXJ0U2NoZW1hOiB6LlpvZFR5cGU8UmVhc29uaW5nUGFydD4gPSB6Lm9iamVjdCh7XG4gIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nJyksXG4gIHRleHQ6IHouc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSk7XG5cbi8qKlxuVG9vbCBjYWxsIGNvbnRlbnQgcGFydCBvZiBhIHByb21wdC4gSXQgY29udGFpbnMgYSB0b29sIGNhbGwgKHVzdWFsbHkgZ2VuZXJhdGVkIGJ5IHRoZSBBSSBtb2RlbCkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENhbGxQYXJ0IHtcbiAgdHlwZTogJ3Rvb2wtY2FsbCc7XG5cbiAgLyoqXG5JRCBvZiB0aGUgdG9vbCBjYWxsLiBUaGlzIElEIGlzIHVzZWQgdG8gbWF0Y2ggdGhlIHRvb2wgY2FsbCB3aXRoIHRoZSB0b29sIHJlc3VsdC5cbiAqL1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG5cbiAgLyoqXG5OYW1lIG9mIHRoZSB0b29sIHRoYXQgaXMgYmVpbmcgY2FsbGVkLlxuICovXG4gIHRvb2xOYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG5Bcmd1bWVudHMgb2YgdGhlIHRvb2wgY2FsbC4gVGhpcyBpcyBhIEpTT04tc2VyaWFsaXphYmxlIG9iamVjdCB0aGF0IG1hdGNoZXMgdGhlIHRvb2wncyBpbnB1dCBzY2hlbWEuXG4gICAqL1xuICBpbnB1dDogdW5rbm93bjtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG59XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0b29sQ2FsbFBhcnRTY2hlbWE6IHouWm9kVHlwZTxUb29sQ2FsbFBhcnQ+ID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtY2FsbCcpLFxuICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgaW5wdXQ6IHoudW5rbm93bigpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbn0pIGFzIHouWm9kVHlwZTxUb29sQ2FsbFBhcnQ+OyAvLyBuZWNlc3NhcnkgYmMgaW5wdXQgaXMgb3B0aW9uYWwgb24gWm9kIHR5cGVcblxuLyoqXG5AaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IG91dHB1dFNjaGVtYTogei5ab2RUeXBlPExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQ+ID1cbiAgei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgICB2YWx1ZTogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ2pzb24nKSxcbiAgICAgIHZhbHVlOiBqc29uVmFsdWVTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCdlcnJvci10ZXh0JyksXG4gICAgICB2YWx1ZTogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICB0eXBlOiB6LmxpdGVyYWwoJ2Vycm9yLWpzb24nKSxcbiAgICAgIHZhbHVlOiBqc29uVmFsdWVTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgdHlwZTogei5saXRlcmFsKCdjb250ZW50JyksXG4gICAgICB2YWx1ZTogei5hcnJheShcbiAgICAgICAgei51bmlvbihbXG4gICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgICAgICAgICB0ZXh0OiB6LnN0cmluZygpLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVkaWEnKSxcbiAgICAgICAgICAgIGRhdGE6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gICAgICAgICAgfSksXG4gICAgICAgIF0pLFxuICAgICAgKSxcbiAgICB9KSxcbiAgXSk7XG5cbi8qKlxuQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0b29sUmVzdWx0UGFydFNjaGVtYTogei5ab2RUeXBlPFRvb2xSZXN1bHRQYXJ0PiA9IHoub2JqZWN0KHtcbiAgdHlwZTogei5saXRlcmFsKCd0b29sLXJlc3VsdCcpLFxuICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgb3V0cHV0OiBvdXRwdXRTY2hlbWEsXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxufSkgYXMgei5ab2RUeXBlPFRvb2xSZXN1bHRQYXJ0PjsgLy8gbmVjZXNzYXJ5IGJjIHJlc3VsdCBpcyBvcHRpb25hbCBvbiBab2QgdHlwZVxuIiwgImltcG9ydCB7XG4gIEdhdGV3YXlBdXRoZW50aWNhdGlvbkVycm9yLFxuICBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yLFxufSBmcm9tICdAYWktc2RrL2dhdGV3YXknO1xuaW1wb3J0IHsgQUlTREtFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gd3JhcEdhdGV3YXlFcnJvcihlcnJvcjogdW5rbm93bik6IHVua25vd24ge1xuICBpZiAoXG4gICAgR2F0ZXdheUF1dGhlbnRpY2F0aW9uRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHxcbiAgICBHYXRld2F5TW9kZWxOb3RGb3VuZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpXG4gICkge1xuICAgIHJldHVybiBuZXcgQUlTREtFcnJvcih7XG4gICAgICBuYW1lOiAnR2F0ZXdheUVycm9yJyxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdWZXJjZWwgQUkgR2F0ZXdheSBhY2Nlc3MgZmFpbGVkLiAnICtcbiAgICAgICAgJ0lmIHlvdSB3YW50IHRvIHVzZSBBSSBTREsgcHJvdmlkZXJzIGRpcmVjdGx5LCB1c2UgdGhlIHByb3ZpZGVycywgZS5nLiBAYWktc2RrL29wZW5haSwgJyArXG4gICAgICAgICdvciByZWdpc3RlciBhIGRpZmZlcmVudCBnbG9iYWwgZGVmYXVsdCBwcm92aWRlci4nLFxuICAgICAgY2F1c2U6IGVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yO1xufVxuIiwgImltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi90ZWxlbWV0cnktc2V0dGluZ3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgb3BlcmF0aW9uSWQsXG4gIHRlbGVtZXRyeSxcbn06IHtcbiAgb3BlcmF0aW9uSWQ6IHN0cmluZztcbiAgdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG59KSB7XG4gIHJldHVybiB7XG4gICAgLy8gc3RhbmRhcmRpemVkIG9wZXJhdGlvbiBhbmQgcmVzb3VyY2UgbmFtZTpcbiAgICAnb3BlcmF0aW9uLm5hbWUnOiBgJHtvcGVyYXRpb25JZH0ke1xuICAgICAgdGVsZW1ldHJ5Py5mdW5jdGlvbklkICE9IG51bGwgPyBgICR7dGVsZW1ldHJ5LmZ1bmN0aW9uSWR9YCA6ICcnXG4gICAgfWAsXG4gICAgJ3Jlc291cmNlLm5hbWUnOiB0ZWxlbWV0cnk/LmZ1bmN0aW9uSWQsXG5cbiAgICAvLyBkZXRhaWxlZCwgQUkgU0RLIHNwZWNpZmljIGRhdGE6XG4gICAgJ2FpLm9wZXJhdGlvbklkJzogb3BlcmF0aW9uSWQsXG4gICAgJ2FpLnRlbGVtZXRyeS5mdW5jdGlvbklkJzogdGVsZW1ldHJ5Py5mdW5jdGlvbklkLFxuICB9O1xufVxuIiwgImltcG9ydCB7IEF0dHJpYnV0ZXMgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuL3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gIG1vZGVsLFxuICBzZXR0aW5ncyxcbiAgdGVsZW1ldHJ5LFxuICBoZWFkZXJzLFxufToge1xuICBtb2RlbDogeyBtb2RlbElkOiBzdHJpbmc7IHByb3ZpZGVyOiBzdHJpbmcgfTtcbiAgc2V0dGluZ3M6IE9taXQ8Q2FsbFNldHRpbmdzLCAnYWJvcnRTaWduYWwnIHwgJ2hlYWRlcnMnIHwgJ3RlbXBlcmF0dXJlJz47XG4gIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ7XG59KTogQXR0cmlidXRlcyB7XG4gIHJldHVybiB7XG4gICAgJ2FpLm1vZGVsLnByb3ZpZGVyJzogbW9kZWwucHJvdmlkZXIsXG4gICAgJ2FpLm1vZGVsLmlkJzogbW9kZWwubW9kZWxJZCxcblxuICAgIC8vIHNldHRpbmdzOlxuICAgIC4uLk9iamVjdC5lbnRyaWVzKHNldHRpbmdzKS5yZWR1Y2UoKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgYXR0cmlidXRlc1tgYWkuc2V0dGluZ3MuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sIHt9IGFzIEF0dHJpYnV0ZXMpLFxuXG4gICAgLy8gYWRkIG1ldGFkYXRhIGFzIGF0dHJpYnV0ZXM6XG4gICAgLi4uT2JqZWN0LmVudHJpZXModGVsZW1ldHJ5Py5tZXRhZGF0YSA/PyB7fSkucmVkdWNlKFxuICAgICAgKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBhdHRyaWJ1dGVzW2BhaS50ZWxlbWV0cnkubWV0YWRhdGEuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICB9LFxuICAgICAge30gYXMgQXR0cmlidXRlcyxcbiAgICApLFxuXG4gICAgLy8gcmVxdWVzdCBoZWFkZXJzXG4gICAgLi4uT2JqZWN0LmVudHJpZXMoaGVhZGVycyA/PyB7fSkucmVkdWNlKChhdHRyaWJ1dGVzLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGF0dHJpYnV0ZXNbYGFpLnJlcXVlc3QuaGVhZGVycy4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfSwge30gYXMgQXR0cmlidXRlcyksXG4gIH07XG59XG4iLCAiaW1wb3J0IHsgVHJhY2VyLCB0cmFjZSB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBub29wVHJhY2VyIH0gZnJvbSAnLi9ub29wLXRyYWNlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFjZXIoe1xuICBpc0VuYWJsZWQgPSBmYWxzZSxcbiAgdHJhY2VyLFxufToge1xuICBpc0VuYWJsZWQ/OiBib29sZWFuO1xuICB0cmFjZXI/OiBUcmFjZXI7XG59ID0ge30pOiBUcmFjZXIge1xuICBpZiAoIWlzRW5hYmxlZCkge1xuICAgIHJldHVybiBub29wVHJhY2VyO1xuICB9XG5cbiAgaWYgKHRyYWNlcikge1xuICAgIHJldHVybiB0cmFjZXI7XG4gIH1cblxuICByZXR1cm4gdHJhY2UuZ2V0VHJhY2VyKCdhaScpO1xufVxuIiwgImltcG9ydCB7IFNwYW4sIFNwYW5Db250ZXh0LCBUcmFjZXIgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuXG4vKipcbiAqIFRyYWNlciBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXMgbm90aGluZyAobnVsbCBvYmplY3QpLlxuICovXG5leHBvcnQgY29uc3Qgbm9vcFRyYWNlcjogVHJhY2VyID0ge1xuICBzdGFydFNwYW4oKTogU3BhbiB7XG4gICAgcmV0dXJuIG5vb3BTcGFuO1xuICB9LFxuXG4gIHN0YXJ0QWN0aXZlU3BhbjxGIGV4dGVuZHMgKHNwYW46IFNwYW4pID0+IHVua25vd24+KFxuICAgIG5hbWU6IHVua25vd24sXG4gICAgYXJnMTogdW5rbm93bixcbiAgICBhcmcyPzogdW5rbm93bixcbiAgICBhcmczPzogRixcbiAgKTogUmV0dXJuVHlwZTxhbnk+IHtcbiAgICBpZiAodHlwZW9mIGFyZzEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhcmcxKG5vb3BTcGFuKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmcyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYXJnMihub29wU3Bhbik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGFyZzMobm9vcFNwYW4pO1xuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IG5vb3BTcGFuOiBTcGFuID0ge1xuICBzcGFuQ29udGV4dCgpIHtcbiAgICByZXR1cm4gbm9vcFNwYW5Db250ZXh0O1xuICB9LFxuICBzZXRBdHRyaWJ1dGUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZEV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRMaW5rKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRMaW5rcygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc2V0U3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICB1cGRhdGVOYW1lKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBlbmQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGlzUmVjb3JkaW5nKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgcmVjb3JkRXhjZXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxuY29uc3Qgbm9vcFNwYW5Db250ZXh0OiBTcGFuQ29udGV4dCA9IHtcbiAgdHJhY2VJZDogJycsXG4gIHNwYW5JZDogJycsXG4gIHRyYWNlRmxhZ3M6IDAsXG59O1xuIiwgImltcG9ydCB7IEF0dHJpYnV0ZXMsIFNwYW4sIFRyYWNlciwgU3BhblN0YXR1c0NvZGUgfSBmcm9tICdAb3BlbnRlbGVtZXRyeS9hcGknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkU3BhbjxUPih7XG4gIG5hbWUsXG4gIHRyYWNlcixcbiAgYXR0cmlidXRlcyxcbiAgZm4sXG4gIGVuZFdoZW5Eb25lID0gdHJ1ZSxcbn06IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0cmFjZXI6IFRyYWNlcjtcbiAgYXR0cmlidXRlczogQXR0cmlidXRlcztcbiAgZm46IChzcGFuOiBTcGFuKSA9PiBQcm9taXNlPFQ+O1xuICBlbmRXaGVuRG9uZT86IGJvb2xlYW47XG59KSB7XG4gIHJldHVybiB0cmFjZXIuc3RhcnRBY3RpdmVTcGFuKG5hbWUsIHsgYXR0cmlidXRlcyB9LCBhc3luYyBzcGFuID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oc3Bhbik7XG5cbiAgICAgIGlmIChlbmRXaGVuRG9uZSkge1xuICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZWNvcmRFcnJvck9uU3BhbihzcGFuLCBlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBhbHdheXMgc3RvcCB0aGUgc3BhbiB3aGVuIHRoZXJlIGlzIGFuIGVycm9yOlxuICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlY29yZCBhbiBlcnJvciBvbiBhIHNwYW4uIElmIHRoZSBlcnJvciBpcyBhbiBpbnN0YW5jZSBvZiBFcnJvciwgYW4gZXhjZXB0aW9uIGV2ZW50IHdpbGwgYmUgcmVjb3JkZWQgb24gdGhlIHNwYW4sIG90aGVyd2lzZVxuICogdGhlIHNwYW4gd2lsbCBiZSBzZXQgdG8gYW4gZXJyb3Igc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBzcGFuIC0gVGhlIHNwYW4gdG8gcmVjb3JkIHRoZSBlcnJvciBvbi5cbiAqIEBwYXJhbSBlcnJvciAtIFRoZSBlcnJvciB0byByZWNvcmQgb24gdGhlIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmRFcnJvck9uU3BhbihzcGFuOiBTcGFuLCBlcnJvcjogdW5rbm93bikge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHNwYW4ucmVjb3JkRXhjZXB0aW9uKHtcbiAgICAgIG5hbWU6IGVycm9yLm5hbWUsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgIH0pO1xuICAgIHNwYW4uc2V0U3RhdHVzKHtcbiAgICAgIGNvZGU6IFNwYW5TdGF0dXNDb2RlLkVSUk9SLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzcGFuLnNldFN0YXR1cyh7IGNvZGU6IFNwYW5TdGF0dXNDb2RlLkVSUk9SIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBdHRyaWJ1dGVzLCBBdHRyaWJ1dGVWYWx1ZSB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgdHlwZSB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi90ZWxlbWV0cnktc2V0dGluZ3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gIHRlbGVtZXRyeSxcbiAgYXR0cmlidXRlcyxcbn06IHtcbiAgdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG4gIGF0dHJpYnV0ZXM6IHtcbiAgICBbYXR0cmlidXRlS2V5OiBzdHJpbmddOlxuICAgICAgfCBBdHRyaWJ1dGVWYWx1ZVxuICAgICAgfCB7IGlucHV0OiAoKSA9PiBBdHRyaWJ1dGVWYWx1ZSB8IHVuZGVmaW5lZCB9XG4gICAgICB8IHsgb3V0cHV0OiAoKSA9PiBBdHRyaWJ1dGVWYWx1ZSB8IHVuZGVmaW5lZCB9XG4gICAgICB8IHVuZGVmaW5lZDtcbiAgfTtcbn0pOiBBdHRyaWJ1dGVzIHtcbiAgLy8gd2hlbiB0ZWxlbWV0cnkgaXMgZGlzYWJsZWQsIHJldHVybiBhbiBlbXB0eSBvYmplY3QgdG8gYXZvaWQgc2VyaWFsaXphdGlvbiBvdmVyaGVhZDpcbiAgaWYgKHRlbGVtZXRyeT8uaXNFbmFibGVkICE9PSB0cnVlKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLnJlZHVjZSgoYXR0cmlidXRlcywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIC8vIGlucHV0IHZhbHVlLCBjaGVjayBpZiBpdCBzaG91bGQgYmUgcmVjb3JkZWQ6XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgJ2lucHV0JyBpbiB2YWx1ZSAmJlxuICAgICAgdHlwZW9mIHZhbHVlLmlucHV0ID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWU6XG4gICAgICBpZiAodGVsZW1ldHJ5Py5yZWNvcmRJbnB1dHMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5pbnB1dCgpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09IG51bGwgPyBhdHRyaWJ1dGVzIDogeyAuLi5hdHRyaWJ1dGVzLCBba2V5XTogcmVzdWx0IH07XG4gICAgfVxuXG4gICAgLy8gb3V0cHV0IHZhbHVlLCBjaGVjayBpZiBpdCBzaG91bGQgYmUgcmVjb3JkZWQ6XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgJ291dHB1dCcgaW4gdmFsdWUgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5vdXRwdXQgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZTpcbiAgICAgIGlmICh0ZWxlbWV0cnk/LnJlY29yZE91dHB1dHMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5vdXRwdXQoKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PSBudWxsID8gYXR0cmlidXRlcyA6IHsgLi4uYXR0cmlidXRlcywgW2tleV06IHJlc3VsdCB9O1xuICAgIH1cblxuICAgIC8vIHZhbHVlIGlzIGFuIGF0dHJpYnV0ZSB2YWx1ZSBhbHJlYWR5OlxuICAgIHJldHVybiB7IC4uLmF0dHJpYnV0ZXMsIFtrZXldOiB2YWx1ZSB9O1xuICB9LCB7fSk7XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyUHJvbXB0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IGNvbnZlcnREYXRhQ29udGVudFRvQmFzZTY0U3RyaW5nIH0gZnJvbSAnLi4vcHJvbXB0L2RhdGEtY29udGVudCc7XG5cbi8qKlxuICogSGVscGVyIHV0aWxpdHkgdG8gc2VyaWFsaXplIHByb21wdCBjb250ZW50IGZvciBPcGVuVGVsZW1ldHJ5IHRyYWNpbmcuXG4gKiBJdCBpcyBpbml0aWFsbHkgY3JlYXRlZCBiZWNhdXNlIG5vcm1hbGl6ZWQgTGFuZ3VhZ2VNb2RlbFYxUHJvbXB0IGNhcnJpZXNcbiAqIGltYWdlcyBhcyBVaW50OEFycmF5cywgb24gd2hpY2ggSlNPTi5zdHJpbmdpZnkgYWN0cyB3ZWlyZGx5LCBjb252ZXJ0aW5nXG4gKiB0aGVtIHRvIG9iamVjdHMgd2l0aCBzdHJpbmdpZmllZCBpbmRpY2VzIGFzIGtleXMsIGUuZy4ge1wiMFwiOiA0MiwgXCIxXCI6IDY5IH0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0OiBMYW5ndWFnZU1vZGVsVjJQcm9tcHQpOiBzdHJpbmcge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgcHJvbXB0Lm1hcCgobWVzc2FnZTogTGFuZ3VhZ2VNb2RlbFYyTWVzc2FnZSkgPT4gKHtcbiAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICBjb250ZW50OlxuICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgID8gbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgOiBtZXNzYWdlLmNvbnRlbnQubWFwKHBhcnQgPT5cbiAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZmlsZSdcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFydCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTpcbiAgICAgICAgICAgICAgICAgICAgICBwYXJ0LmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnZlcnREYXRhQ29udGVudFRvQmFzZTY0U3RyaW5nKHBhcnQuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFydC5kYXRhLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogcGFydCxcbiAgICAgICAgICAgICksXG4gICAgfSkpLFxuICApO1xufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMlVzYWdlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbi8qKlxuUmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIHRva2VucyB1c2VkIGluIGEgcHJvbXB0IGFuZCBjb21wbGV0aW9uLlxuICovXG5leHBvcnQgdHlwZSBMYW5ndWFnZU1vZGVsVXNhZ2UgPSBMYW5ndWFnZU1vZGVsVjJVc2FnZTtcblxuLyoqXG5SZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgdG9rZW5zIHVzZWQgaW4gYW4gZW1iZWRkaW5nLlxuICovXG4vLyBUT0RPIHJlcGxhY2Ugd2l0aCBFbWJlZGRpbmdNb2RlbFYyVXNhZ2VcbmV4cG9ydCB0eXBlIEVtYmVkZGluZ01vZGVsVXNhZ2UgPSB7XG4gIC8qKlxuVGhlIG51bWJlciBvZiB0b2tlbnMgdXNlZCBpbiB0aGUgZW1iZWRkaW5nLlxuICAgKi9cbiAgdG9rZW5zOiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKFxuICB1c2FnZTE6IExhbmd1YWdlTW9kZWxVc2FnZSxcbiAgdXNhZ2UyOiBMYW5ndWFnZU1vZGVsVXNhZ2UsXG4pOiBMYW5ndWFnZU1vZGVsVXNhZ2Uge1xuICByZXR1cm4ge1xuICAgIGlucHV0VG9rZW5zOiBhZGRUb2tlbkNvdW50cyh1c2FnZTEuaW5wdXRUb2tlbnMsIHVzYWdlMi5pbnB1dFRva2VucyksXG4gICAgb3V0cHV0VG9rZW5zOiBhZGRUb2tlbkNvdW50cyh1c2FnZTEub3V0cHV0VG9rZW5zLCB1c2FnZTIub3V0cHV0VG9rZW5zKSxcbiAgICB0b3RhbFRva2VuczogYWRkVG9rZW5Db3VudHModXNhZ2UxLnRvdGFsVG9rZW5zLCB1c2FnZTIudG90YWxUb2tlbnMpLFxuICAgIHJlYXNvbmluZ1Rva2VuczogYWRkVG9rZW5Db3VudHMoXG4gICAgICB1c2FnZTEucmVhc29uaW5nVG9rZW5zLFxuICAgICAgdXNhZ2UyLnJlYXNvbmluZ1Rva2VucyxcbiAgICApLFxuICAgIGNhY2hlZElucHV0VG9rZW5zOiBhZGRUb2tlbkNvdW50cyhcbiAgICAgIHVzYWdlMS5jYWNoZWRJbnB1dFRva2VucyxcbiAgICAgIHVzYWdlMi5jYWNoZWRJbnB1dFRva2VucyxcbiAgICApLFxuICB9O1xufVxuXG5mdW5jdGlvbiBhZGRUb2tlbkNvdW50cyhcbiAgdG9rZW5Db3VudDE6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgdG9rZW5Db3VudDI6IG51bWJlciB8IHVuZGVmaW5lZCxcbik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiB0b2tlbkNvdW50MSA9PSBudWxsICYmIHRva2VuQ291bnQyID09IG51bGxcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogKHRva2VuQ291bnQxID8/IDApICsgKHRva2VuQ291bnQyID8/IDApO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBhc0FycmF5PFQ+KHZhbHVlOiBUIHwgVFtdIHwgdW5kZWZpbmVkKTogVFtdIHtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBbXSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufVxuIiwgImltcG9ydCB7IEFQSUNhbGxFcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgZGVsYXksIGdldEVycm9yTWVzc2FnZSwgaXNBYm9ydEVycm9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBSZXRyeUVycm9yIH0gZnJvbSAnLi9yZXRyeS1lcnJvcic7XG5cbmV4cG9ydCB0eXBlIFJldHJ5RnVuY3Rpb24gPSA8T1VUUFVUPihcbiAgZm46ICgpID0+IFByb21pc2VMaWtlPE9VVFBVVD4sXG4pID0+IFByb21pc2VMaWtlPE9VVFBVVD47XG5cbmZ1bmN0aW9uIGdldFJldHJ5RGVsYXlJbk1zKHtcbiAgZXJyb3IsXG4gIGV4cG9uZW50aWFsQmFja29mZkRlbGF5LFxufToge1xuICBlcnJvcjogQVBJQ2FsbEVycm9yO1xuICBleHBvbmVudGlhbEJhY2tvZmZEZWxheTogbnVtYmVyO1xufSk6IG51bWJlciB7XG4gIGNvbnN0IGhlYWRlcnMgPSBlcnJvci5yZXNwb25zZUhlYWRlcnM7XG5cbiAgaWYgKCFoZWFkZXJzKSByZXR1cm4gZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXk7XG5cbiAgbGV0IG1zOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgLy8gcmV0cnktbXMgaXMgbW9yZSBwcmVjaXNlIHRoYW4gcmV0cnktYWZ0ZXIgYW5kIHVzZWQgYnkgZS5nLiBPcGVuQUlcbiAgY29uc3QgcmV0cnlBZnRlck1zID0gaGVhZGVyc1sncmV0cnktYWZ0ZXItbXMnXTtcbiAgaWYgKHJldHJ5QWZ0ZXJNcykge1xuICAgIGNvbnN0IHRpbWVvdXRNcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlck1zKTtcbiAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0TXMpKSB7XG4gICAgICBtcyA9IHRpbWVvdXRNcztcbiAgICB9XG4gIH1cblxuICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgY29uc3QgcmV0cnlBZnRlciA9IGhlYWRlcnNbJ3JldHJ5LWFmdGVyJ107XG4gIGlmIChyZXRyeUFmdGVyICYmIG1zID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCB0aW1lb3V0U2Vjb25kcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlcik7XG4gICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICBtcyA9IHRpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbXMgPSBEYXRlLnBhcnNlKHJldHJ5QWZ0ZXIpIC0gRGF0ZS5ub3coKTtcbiAgICB9XG4gIH1cblxuICAvLyBjaGVjayB0aGF0IHRoZSBkZWxheSBpcyByZWFzb25hYmxlOlxuICBpZiAoXG4gICAgbXMgIT0gbnVsbCAmJlxuICAgICFOdW1iZXIuaXNOYU4obXMpICYmXG4gICAgMCA8PSBtcyAmJlxuICAgIChtcyA8IDYwICogMTAwMCB8fCBtcyA8IGV4cG9uZW50aWFsQmFja29mZkRlbGF5KVxuICApIHtcbiAgICByZXR1cm4gbXM7XG4gIH1cblxuICByZXR1cm4gZXhwb25lbnRpYWxCYWNrb2ZmRGVsYXk7XG59XG5cbi8qKlxuVGhlIGByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzYCBzdHJhdGVneSByZXRyaWVzIGEgZmFpbGVkIEFQSSBjYWxsIHdpdGggYW4gZXhwb25lbnRpYWwgYmFja29mZixcbndoaWxlIHJlc3BlY3RpbmcgcmF0ZSBsaW1pdCBoZWFkZXJzIChyZXRyeS1hZnRlci1tcyBhbmQgcmV0cnktYWZ0ZXIpIGlmIHRoZXkgYXJlIHByb3ZpZGVkIGFuZCByZWFzb25hYmxlICgwLTYwIHNlY29uZHMpLlxuWW91IGNhbiBjb25maWd1cmUgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMsIHRoZSBpbml0aWFsIGRlbGF5LCBhbmQgdGhlIGJhY2tvZmYgZmFjdG9yLlxuICovXG5leHBvcnQgY29uc3QgcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmUmVzcGVjdGluZ1JldHJ5SGVhZGVycyA9XG4gICh7XG4gICAgbWF4UmV0cmllcyA9IDIsXG4gICAgaW5pdGlhbERlbGF5SW5NcyA9IDIwMDAsXG4gICAgYmFja29mZkZhY3RvciA9IDIsXG4gICAgYWJvcnRTaWduYWwsXG4gIH06IHtcbiAgICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuICAgIGluaXRpYWxEZWxheUluTXM/OiBudW1iZXI7XG4gICAgYmFja29mZkZhY3Rvcj86IG51bWJlcjtcbiAgICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuICB9ID0ge30pOiBSZXRyeUZ1bmN0aW9uID0+XG4gIGFzeW5jIDxPVVRQVVQ+KGY6ICgpID0+IFByb21pc2VMaWtlPE9VVFBVVD4pID0+XG4gICAgX3JldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihmLCB7XG4gICAgICBtYXhSZXRyaWVzLFxuICAgICAgZGVsYXlJbk1zOiBpbml0aWFsRGVsYXlJbk1zLFxuICAgICAgYmFja29mZkZhY3RvcixcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG5hc3luYyBmdW5jdGlvbiBfcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmPE9VVFBVVD4oXG4gIGY6ICgpID0+IFByb21pc2VMaWtlPE9VVFBVVD4sXG4gIHtcbiAgICBtYXhSZXRyaWVzLFxuICAgIGRlbGF5SW5NcyxcbiAgICBiYWNrb2ZmRmFjdG9yLFxuICAgIGFib3J0U2lnbmFsLFxuICB9OiB7XG4gICAgbWF4UmV0cmllczogbnVtYmVyO1xuICAgIGRlbGF5SW5NczogbnVtYmVyO1xuICAgIGJhY2tvZmZGYWN0b3I6IG51bWJlcjtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gIH0sXG4gIGVycm9yczogdW5rbm93bltdID0gW10sXG4pOiBQcm9taXNlPE9VVFBVVD4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBmKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yOyAvLyBkb24ndCByZXRyeSB3aGVuIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkXG4gICAgfVxuXG4gICAgaWYgKG1heFJldHJpZXMgPT09IDApIHtcbiAgICAgIHRocm93IGVycm9yOyAvLyBkb24ndCB3cmFwIHRoZSBlcnJvciB3aGVuIHJldHJpZXMgYXJlIGRpc2FibGVkXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICBjb25zdCBuZXdFcnJvcnMgPSBbLi4uZXJyb3JzLCBlcnJvcl07XG4gICAgY29uc3QgdHJ5TnVtYmVyID0gbmV3RXJyb3JzLmxlbmd0aDtcblxuICAgIGlmICh0cnlOdW1iZXIgPiBtYXhSZXRyaWVzKSB7XG4gICAgICB0aHJvdyBuZXcgUmV0cnlFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgYWZ0ZXIgJHt0cnlOdW1iZXJ9IGF0dGVtcHRzLiBMYXN0IGVycm9yOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgICByZWFzb246ICdtYXhSZXRyaWVzRXhjZWVkZWQnLFxuICAgICAgICBlcnJvcnM6IG5ld0Vycm9ycyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgIEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSAmJlxuICAgICAgZXJyb3IuaXNSZXRyeWFibGUgPT09IHRydWUgJiZcbiAgICAgIHRyeU51bWJlciA8PSBtYXhSZXRyaWVzXG4gICAgKSB7XG4gICAgICBhd2FpdCBkZWxheShcbiAgICAgICAgZ2V0UmV0cnlEZWxheUluTXMoe1xuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIGV4cG9uZW50aWFsQmFja29mZkRlbGF5OiBkZWxheUluTXMsXG4gICAgICAgIH0pLFxuICAgICAgICB7IGFib3J0U2lnbmFsIH0sXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3JldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihcbiAgICAgICAgZixcbiAgICAgICAge1xuICAgICAgICAgIG1heFJldHJpZXMsXG4gICAgICAgICAgZGVsYXlJbk1zOiBiYWNrb2ZmRmFjdG9yICogZGVsYXlJbk1zLFxuICAgICAgICAgIGJhY2tvZmZGYWN0b3IsXG4gICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgIH0sXG4gICAgICAgIG5ld0Vycm9ycyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRyeU51bWJlciA9PT0gMSkge1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIGRvbid0IHdyYXAgdGhlIGVycm9yIHdoZW4gYSBub24tcmV0cnlhYmxlIGVycm9yIG9jY3VycyBvbiB0aGUgZmlyc3QgdHJ5XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFJldHJ5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYEZhaWxlZCBhZnRlciAke3RyeU51bWJlcn0gYXR0ZW1wdHMgd2l0aCBub24tcmV0cnlhYmxlIGVycm9yOiAnJHtlcnJvck1lc3NhZ2V9J2AsXG4gICAgICByZWFzb246ICdlcnJvck5vdFJldHJ5YWJsZScsXG4gICAgICBlcnJvcnM6IG5ld0Vycm9ycyxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvaW52YWxpZC1hcmd1bWVudC1lcnJvcic7XG5pbXBvcnQge1xuICBSZXRyeUZ1bmN0aW9uLFxuICByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzLFxufSBmcm9tICcuLi91dGlsL3JldHJ5LXdpdGgtZXhwb25lbnRpYWwtYmFja29mZic7XG5cbi8qKlxuICogVmFsaWRhdGUgYW5kIHByZXBhcmUgcmV0cmllcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVSZXRyaWVzKHtcbiAgbWF4UmV0cmllcyxcbiAgYWJvcnRTaWduYWwsXG59OiB7XG4gIG1heFJldHJpZXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgYWJvcnRTaWduYWw6IEFib3J0U2lnbmFsIHwgdW5kZWZpbmVkO1xufSk6IHtcbiAgbWF4UmV0cmllczogbnVtYmVyO1xuICByZXRyeTogUmV0cnlGdW5jdGlvbjtcbn0ge1xuICBpZiAobWF4UmV0cmllcyAhPSBudWxsKSB7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG1heFJldHJpZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdtYXhSZXRyaWVzJyxcbiAgICAgICAgdmFsdWU6IG1heFJldHJpZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdtYXhSZXRyaWVzIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWF4UmV0cmllcyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ21heFJldHJpZXMnLFxuICAgICAgICB2YWx1ZTogbWF4UmV0cmllcyxcbiAgICAgICAgbWVzc2FnZTogJ21heFJldHJpZXMgbXVzdCBiZSA+PSAwJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1heFJldHJpZXNSZXN1bHQgPSBtYXhSZXRyaWVzID8/IDI7XG5cbiAgcmV0dXJuIHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzUmVzdWx0LFxuICAgIHJldHJ5OiByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmZSZXNwZWN0aW5nUmV0cnlIZWFkZXJzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNSZXN1bHQsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICB9KSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJDb250ZW50LCBMYW5ndWFnZU1vZGVsVjJUZXh0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VGV4dENvbnRlbnQoXG4gIGNvbnRlbnQ6IExhbmd1YWdlTW9kZWxWMkNvbnRlbnRbXSxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHBhcnRzID0gY29udGVudC5maWx0ZXIoXG4gICAgKGNvbnRlbnQpOiBjb250ZW50IGlzIExhbmd1YWdlTW9kZWxWMlRleHQgPT4gY29udGVudC50eXBlID09PSAndGV4dCcsXG4gICk7XG5cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gcGFydHMubWFwKGNvbnRlbnQgPT4gY29udGVudC50ZXh0KS5qb2luKCcnKTtcbn1cbiIsICJpbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5LFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuLyoqXG4gKiBBIGdlbmVyYXRlZCBmaWxlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRlZEZpbGUge1xuICAvKipcbkZpbGUgYXMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXG4gICAgICovXG4gIHJlYWRvbmx5IGJhc2U2NDogc3RyaW5nO1xuXG4gIC8qKlxuRmlsZSBhcyBhIFVpbnQ4QXJyYXkuXG4gICAgICovXG4gIHJlYWRvbmx5IHVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXk7XG5cbiAgLyoqXG5UaGUgSUFOQSBtZWRpYSB0eXBlIG9mIHRoZSBmaWxlLlxuXG5Ac2VlIGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL21lZGlhLXR5cGVzLnhodG1sXG4gICAqL1xuICByZWFkb25seSBtZWRpYVR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHZW5lcmF0ZWRGaWxlIGltcGxlbWVudHMgR2VuZXJhdGVkRmlsZSB7XG4gIHByaXZhdGUgYmFzZTY0RGF0YTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHVpbnQ4QXJyYXlEYXRhOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkO1xuXG4gIHJlYWRvbmx5IG1lZGlhVHlwZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lZGlhVHlwZSxcbiAgfToge1xuICAgIGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBjb25zdCBpc1VpbnQ4QXJyYXkgPSBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICB0aGlzLmJhc2U2NERhdGEgPSBpc1VpbnQ4QXJyYXkgPyB1bmRlZmluZWQgOiBkYXRhO1xuICAgIHRoaXMudWludDhBcnJheURhdGEgPSBpc1VpbnQ4QXJyYXkgPyBkYXRhIDogdW5kZWZpbmVkO1xuICAgIHRoaXMubWVkaWFUeXBlID0gbWVkaWFUeXBlO1xuICB9XG5cbiAgLy8gbGF6eSBjb252ZXJzaW9uIHdpdGggY2FjaGluZyB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb252ZXJzaW9uIG92ZXJoZWFkOlxuICBnZXQgYmFzZTY0KCkge1xuICAgIGlmICh0aGlzLmJhc2U2NERhdGEgPT0gbnVsbCkge1xuICAgICAgdGhpcy5iYXNlNjREYXRhID0gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCh0aGlzLnVpbnQ4QXJyYXlEYXRhISk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJhc2U2NERhdGE7XG4gIH1cblxuICAvLyBsYXp5IGNvbnZlcnNpb24gd2l0aCBjYWNoaW5nIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbnZlcnNpb24gb3ZlcmhlYWQ6XG4gIGdldCB1aW50OEFycmF5KCkge1xuICAgIGlmICh0aGlzLnVpbnQ4QXJyYXlEYXRhID09IG51bGwpIHtcbiAgICAgIHRoaXMudWludDhBcnJheURhdGEgPSBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KHRoaXMuYmFzZTY0RGF0YSEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51aW50OEFycmF5RGF0YTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdEdlbmVyYXRlZEZpbGVXaXRoVHlwZSBleHRlbmRzIERlZmF1bHRHZW5lcmF0ZWRGaWxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdmaWxlJztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7IG1lZGlhVHlwZTogc3RyaW5nIH0pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IExhbmd1YWdlTW9kZWxWMlRvb2xDYWxsIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBhc1NjaGVtYSxcbiAgTW9kZWxNZXNzYWdlLFxuICBzYWZlUGFyc2VKU09OLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBJbnZhbGlkVG9vbElucHV0RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLXRvb2wtaW5wdXQtZXJyb3InO1xuaW1wb3J0IHsgTm9TdWNoVG9vbEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tc3VjaC10b29sLWVycm9yJztcbmltcG9ydCB7IFRvb2xDYWxsUmVwYWlyRXJyb3IgfSBmcm9tICcuLi9lcnJvci90b29sLWNhbGwtcmVwYWlyLWVycm9yJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9vbENhbGw8VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xDYWxsLFxuICB0b29scyxcbiAgcmVwYWlyVG9vbENhbGwsXG4gIHN5c3RlbSxcbiAgbWVzc2FnZXMsXG59OiB7XG4gIHRvb2xDYWxsOiBMYW5ndWFnZU1vZGVsVjJUb29sQ2FsbDtcbiAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuICByZXBhaXJUb29sQ2FsbDogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxUT09MUz4gfCB1bmRlZmluZWQ7XG4gIHN5c3RlbTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG59KTogUHJvbWlzZTxUeXBlZFRvb2xDYWxsPFRPT0xTPj4ge1xuICB0cnkge1xuICAgIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoVG9vbEVycm9yKHsgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZG9QYXJzZVRvb2xDYWxsKHsgdG9vbENhbGwsIHRvb2xzIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJlcGFpclRvb2xDYWxsID09IG51bGwgfHxcbiAgICAgICAgIShcbiAgICAgICAgICBOb1N1Y2hUb29sRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHxcbiAgICAgICAgICBJbnZhbGlkVG9vbElucHV0RXJyb3IuaXNJbnN0YW5jZShlcnJvcilcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVwYWlyZWRUb29sQ2FsbDogTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGwgfCBudWxsID0gbnVsbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVwYWlyZWRUb29sQ2FsbCA9IGF3YWl0IHJlcGFpclRvb2xDYWxsKHtcbiAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICB0b29scyxcbiAgICAgICAgICBpbnB1dFNjaGVtYTogKHsgdG9vbE5hbWUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpbnB1dFNjaGVtYSB9ID0gdG9vbHNbdG9vbE5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIGFzU2NoZW1hKGlucHV0U2NoZW1hKS5qc29uU2NoZW1hO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKHJlcGFpckVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBUb29sQ2FsbFJlcGFpckVycm9yKHtcbiAgICAgICAgICBjYXVzZTogcmVwYWlyRXJyb3IsXG4gICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBubyByZXBhaXJlZCB0b29sIGNhbGwgcmV0dXJuZWRcbiAgICAgIGlmIChyZXBhaXJlZFRvb2xDYWxsID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbDogcmVwYWlyZWRUb29sQ2FsbCwgdG9vbHMgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIHVzZSBwYXJzZWQgaW5wdXQgd2hlbiBwb3NzaWJsZVxuICAgIGNvbnN0IHBhcnNlZElucHV0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IHRvb2xDYWxsLmlucHV0IH0pO1xuICAgIGNvbnN0IGlucHV0ID0gcGFyc2VkSW5wdXQuc3VjY2VzcyA/IHBhcnNlZElucHV0LnZhbHVlIDogdG9vbENhbGwuaW5wdXQ7XG5cbiAgICAvLyBUT0RPIEFJIFNESyA2OiBzcGVjaWFsIGludmFsaWQgdG9vbCBjYWxsIHBhcnRzXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICd0b29sLWNhbGwnLFxuICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgIGlucHV0LFxuICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgIGludmFsaWQ6IHRydWUsXG4gICAgICBlcnJvcixcbiAgICB9O1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRvUGFyc2VUb29sQ2FsbDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgdG9vbENhbGwsXG4gIHRvb2xzLFxufToge1xuICB0b29sQ2FsbDogTGFuZ3VhZ2VNb2RlbFYyVG9vbENhbGw7XG4gIHRvb2xzOiBUT09MUztcbn0pOiBQcm9taXNlPFR5cGVkVG9vbENhbGw8VE9PTFM+PiB7XG4gIGNvbnN0IHRvb2xOYW1lID0gdG9vbENhbGwudG9vbE5hbWUgYXMga2V5b2YgVE9PTFMgJiBzdHJpbmc7XG5cbiAgY29uc3QgdG9vbCA9IHRvb2xzW3Rvb2xOYW1lXTtcblxuICBpZiAodG9vbCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IE5vU3VjaFRvb2xFcnJvcih7XG4gICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICBhdmFpbGFibGVUb29sczogT2JqZWN0LmtleXModG9vbHMpLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2NoZW1hID0gYXNTY2hlbWEodG9vbC5pbnB1dFNjaGVtYSk7XG5cbiAgLy8gd2hlbiB0aGUgdG9vbCBjYWxsIGhhcyBubyBhcmd1bWVudHMsIHdlIHRyeSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCB0byB0aGUgc2NoZW1hXG4gIC8vIChtYW55IExMTXMgZ2VuZXJhdGUgZW1wdHkgc3RyaW5ncyBmb3IgdG9vbCBjYWxscyB3aXRoIG5vIGFyZ3VtZW50cylcbiAgY29uc3QgcGFyc2VSZXN1bHQgPVxuICAgIHRvb2xDYWxsLmlucHV0LnRyaW0oKSA9PT0gJydcbiAgICAgID8gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZToge30sIHNjaGVtYSB9KVxuICAgICAgOiBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDogdG9vbENhbGwuaW5wdXQsIHNjaGVtYSB9KTtcblxuICBpZiAocGFyc2VSZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRvb2xJbnB1dEVycm9yKHtcbiAgICAgIHRvb2xOYW1lLFxuICAgICAgdG9vbElucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgIGNhdXNlOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0b29sLnR5cGUgPT09ICdkeW5hbWljJ1xuICAgID8ge1xuICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyxcbiAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICBpbnB1dDogcGFyc2VSZXN1bHQudmFsdWUsXG4gICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHRvb2xDYWxsLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHRvb2xDYWxsLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgIGR5bmFtaWM6IHRydWUsXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIHR5cGU6ICd0b29sLWNhbGwnLFxuICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgaW5wdXQ6IHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0b29sQ2FsbC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiB0b29sQ2FsbC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgfTtcbn1cbiIsICJpbXBvcnQgeyBSZWFzb25pbmdQYXJ0IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhLFxuICBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSxcbiAgUHJvdmlkZXJNZXRhZGF0YSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFVzYWdlIH0gZnJvbSAnLi4vdHlwZXMvdXNhZ2UnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBHZW5lcmF0ZWRGaWxlIH0gZnJvbSAnLi9nZW5lcmF0ZWQtZmlsZSc7XG5pbXBvcnQgeyBSZXNwb25zZU1lc3NhZ2UgfSBmcm9tICcuL3Jlc3BvbnNlLW1lc3NhZ2UnO1xuaW1wb3J0IHsgRHluYW1pY1Rvb2xDYWxsLCBTdGF0aWNUb29sQ2FsbCwgVHlwZWRUb29sQ2FsbCB9IGZyb20gJy4vdG9vbC1jYWxsJztcbmltcG9ydCB7XG4gIER5bmFtaWNUb29sUmVzdWx0LFxuICBTdGF0aWNUb29sUmVzdWx0LFxuICBUeXBlZFRvb2xSZXN1bHQsXG59IGZyb20gJy4vdG9vbC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG4vKipcbiAqIFRoZSByZXN1bHQgb2YgYSBzaW5nbGUgc3RlcCBpbiB0aGUgZ2VuZXJhdGlvbiBwcm9jZXNzLlxuICovXG5leHBvcnQgdHlwZSBTdGVwUmVzdWx0PFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSB7XG4gIC8qKlxuVGhlIGNvbnRlbnQgdGhhdCB3YXMgZ2VuZXJhdGVkIGluIHRoZSBsYXN0IHN0ZXAuXG4gICAqL1xuICByZWFkb25seSBjb250ZW50OiBBcnJheTxDb250ZW50UGFydDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIGdlbmVyYXRlZCB0ZXh0LlxuKi9cbiAgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xuXG4gIC8qKlxuVGhlIHJlYXNvbmluZyB0aGF0IHdhcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgcmVhc29uaW5nOiBBcnJheTxSZWFzb25pbmdQYXJ0PjtcblxuICAvKipcblRoZSByZWFzb25pbmcgdGV4dCB0aGF0IHdhcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgcmVhc29uaW5nVGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuVGhlIGZpbGVzIHRoYXQgd2VyZSBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgZmlsZXM6IEFycmF5PEdlbmVyYXRlZEZpbGU+O1xuXG4gIC8qKlxuVGhlIHNvdXJjZXMgdGhhdCB3ZXJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIHRleHQuXG4qL1xuICByZWFkb25seSBzb3VyY2VzOiBBcnJheTxTb3VyY2U+O1xuXG4gIC8qKlxuVGhlIHRvb2wgY2FsbHMgdGhhdCB3ZXJlIG1hZGUgZHVyaW5nIHRoZSBnZW5lcmF0aW9uLlxuKi9cbiAgcmVhZG9ubHkgdG9vbENhbGxzOiBBcnJheTxUeXBlZFRvb2xDYWxsPFRPT0xTPj47XG5cbiAgLyoqXG5UaGUgc3RhdGljIHRvb2wgY2FsbHMgdGhhdCB3ZXJlIG1hZGUgaW4gdGhlIGxhc3Qgc3RlcC5cbiovXG4gIHJlYWRvbmx5IHN0YXRpY1Rvb2xDYWxsczogQXJyYXk8U3RhdGljVG9vbENhbGw8VE9PTFM+PjtcblxuICAvKipcblRoZSBkeW5hbWljIHRvb2wgY2FsbHMgdGhhdCB3ZXJlIG1hZGUgaW4gdGhlIGxhc3Qgc3RlcC5cbiovXG4gIHJlYWRvbmx5IGR5bmFtaWNUb29sQ2FsbHM6IEFycmF5PER5bmFtaWNUb29sQ2FsbD47XG5cbiAgLyoqXG5UaGUgcmVzdWx0cyBvZiB0aGUgdG9vbCBjYWxscy5cbiovXG4gIHJlYWRvbmx5IHRvb2xSZXN1bHRzOiBBcnJheTxUeXBlZFRvb2xSZXN1bHQ8VE9PTFM+PjtcblxuICAvKipcblRoZSBzdGF0aWMgdG9vbCByZXN1bHRzIHRoYXQgd2VyZSBtYWRlIGluIHRoZSBsYXN0IHN0ZXAuXG4qL1xuICByZWFkb25seSBzdGF0aWNUb29sUmVzdWx0czogQXJyYXk8U3RhdGljVG9vbFJlc3VsdDxUT09MUz4+O1xuXG4gIC8qKlxuVGhlIGR5bmFtaWMgdG9vbCByZXN1bHRzIHRoYXQgd2VyZSBtYWRlIGluIHRoZSBsYXN0IHN0ZXAuXG4qL1xuICByZWFkb25seSBkeW5hbWljVG9vbFJlc3VsdHM6IEFycmF5PER5bmFtaWNUb29sUmVzdWx0PjtcblxuICAvKipcblRoZSByZWFzb24gd2h5IHRoZSBnZW5lcmF0aW9uIGZpbmlzaGVkLlxuKi9cbiAgcmVhZG9ubHkgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG5cbiAgLyoqXG5UaGUgdG9rZW4gdXNhZ2Ugb2YgdGhlIGdlbmVyYXRlZCB0ZXh0LlxuKi9cbiAgcmVhZG9ubHkgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcblxuICAvKipcbldhcm5pbmdzIGZyb20gdGhlIG1vZGVsIHByb3ZpZGVyIChlLmcuIHVuc3VwcG9ydGVkIHNldHRpbmdzKS5cbiovXG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuQWRkaXRpb25hbCByZXF1ZXN0IGluZm9ybWF0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVxdWVzdDogTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YTtcblxuICAvKipcbkFkZGl0aW9uYWwgcmVzcG9uc2UgaW5mb3JtYXRpb24uXG4qL1xuICByZWFkb25seSByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgJiB7XG4gICAgLyoqXG5UaGUgcmVzcG9uc2UgbWVzc2FnZXMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGNhbGwuXG5SZXNwb25zZSBtZXNzYWdlcyBjYW4gYmUgZWl0aGVyIGFzc2lzdGFudCBtZXNzYWdlcyBvciB0b29sIG1lc3NhZ2VzLlxuVGhleSBjb250YWluIGEgZ2VuZXJhdGVkIGlkLlxuKi9cbiAgICByZWFkb25seSBtZXNzYWdlczogQXJyYXk8UmVzcG9uc2VNZXNzYWdlPjtcblxuICAgIC8qKlxuUmVzcG9uc2UgYm9keSAoYXZhaWxhYmxlIG9ubHkgZm9yIHByb3ZpZGVycyB0aGF0IHVzZSBIVFRQIHJlcXVlc3RzKS5cbiAgICAgKi9cbiAgICBib2R5PzogdW5rbm93bjtcbiAgfTtcblxuICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG5mcm9tIHRoZSBwcm92aWRlciB0byB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbnJlc3VsdHMgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFN0ZXBSZXN1bHQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PlxuICBpbXBsZW1lbnRzIFN0ZXBSZXN1bHQ8VE9PTFM+XG57XG4gIHJlYWRvbmx5IGNvbnRlbnQ6IFN0ZXBSZXN1bHQ8VE9PTFM+Wydjb250ZW50J107XG4gIHJlYWRvbmx5IGZpbmlzaFJlYXNvbjogU3RlcFJlc3VsdDxUT09MUz5bJ2ZpbmlzaFJlYXNvbiddO1xuICByZWFkb25seSB1c2FnZTogU3RlcFJlc3VsdDxUT09MUz5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBTdGVwUmVzdWx0PFRPT0xTPlsnd2FybmluZ3MnXTtcbiAgcmVhZG9ubHkgcmVxdWVzdDogU3RlcFJlc3VsdDxUT09MUz5bJ3JlcXVlc3QnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2U6IFN0ZXBSZXN1bHQ8VE9PTFM+WydyZXNwb25zZSddO1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBTdGVwUmVzdWx0PFRPT0xTPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb250ZW50LFxuICAgIGZpbmlzaFJlYXNvbixcbiAgICB1c2FnZSxcbiAgICB3YXJuaW5ncyxcbiAgICByZXF1ZXN0LFxuICAgIHJlc3BvbnNlLFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gIH06IHtcbiAgICBjb250ZW50OiBTdGVwUmVzdWx0PFRPT0xTPlsnY29udGVudCddO1xuICAgIGZpbmlzaFJlYXNvbjogU3RlcFJlc3VsdDxUT09MUz5bJ2ZpbmlzaFJlYXNvbiddO1xuICAgIHVzYWdlOiBTdGVwUmVzdWx0PFRPT0xTPlsndXNhZ2UnXTtcbiAgICB3YXJuaW5nczogU3RlcFJlc3VsdDxUT09MUz5bJ3dhcm5pbmdzJ107XG4gICAgcmVxdWVzdDogU3RlcFJlc3VsdDxUT09MUz5bJ3JlcXVlc3QnXTtcbiAgICByZXNwb25zZTogU3RlcFJlc3VsdDxUT09MUz5bJ3Jlc3BvbnNlJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YTogU3RlcFJlc3VsdDxUT09MUz5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgfSkge1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBmaW5pc2hSZWFzb247XG4gICAgdGhpcy51c2FnZSA9IHVzYWdlO1xuICAgIHRoaXMud2FybmluZ3MgPSB3YXJuaW5ncztcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBwcm92aWRlck1ldGFkYXRhO1xuICB9XG5cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFxuICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3RleHQnKVxuICAgICAgLm1hcChwYXJ0ID0+IHBhcnQudGV4dClcbiAgICAgIC5qb2luKCcnKTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICdyZWFzb25pbmcnKTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmdUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnJlYXNvbmluZy5sZW5ndGggPT09IDBcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHRoaXMucmVhc29uaW5nLm1hcChwYXJ0ID0+IHBhcnQudGV4dCkuam9pbignJyk7XG4gIH1cblxuICBnZXQgZmlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFxuICAgICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ2ZpbGUnKVxuICAgICAgLm1hcChwYXJ0ID0+IHBhcnQuZmlsZSk7XG4gIH1cblxuICBnZXQgc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3NvdXJjZScpO1xuICB9XG5cbiAgZ2V0IHRvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcpO1xuICB9XG5cbiAgZ2V0IHN0YXRpY1Rvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sQ2FsbHMuZmlsdGVyKFxuICAgICAgKHRvb2xDYWxsKTogdG9vbENhbGwgaXMgU3RhdGljVG9vbENhbGw8VE9PTFM+ID0+XG4gICAgICAgIHRvb2xDYWxsLmR5bmFtaWMgIT09IHRydWUsXG4gICAgKTtcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xDYWxscy5maWx0ZXIoXG4gICAgICAodG9vbENhbGwpOiB0b29sQ2FsbCBpcyBEeW5hbWljVG9vbENhbGwgPT4gdG9vbENhbGwuZHluYW1pYyA9PT0gdHJ1ZSxcbiAgICApO1xuICB9XG5cbiAgZ2V0IHRvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlID09PSAndG9vbC1yZXN1bHQnKTtcbiAgfVxuXG4gIGdldCBzdGF0aWNUb29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sUmVzdWx0cy5maWx0ZXIoXG4gICAgICAodG9vbFJlc3VsdCk6IHRvb2xSZXN1bHQgaXMgU3RhdGljVG9vbFJlc3VsdDxUT09MUz4gPT5cbiAgICAgICAgdG9vbFJlc3VsdC5keW5hbWljICE9PSB0cnVlLFxuICAgICk7XG4gIH1cblxuICBnZXQgZHluYW1pY1Rvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xSZXN1bHRzLmZpbHRlcihcbiAgICAgICh0b29sUmVzdWx0KTogdG9vbFJlc3VsdCBpcyBEeW5hbWljVG9vbFJlc3VsdCA9PlxuICAgICAgICB0b29sUmVzdWx0LmR5bmFtaWMgPT09IHRydWUsXG4gICAgKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFN0ZXBSZXN1bHQgfSBmcm9tICcuL3N0ZXAtcmVzdWx0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuZXhwb3J0IHR5cGUgU3RvcENvbmRpdGlvbjxUT09MUyBleHRlbmRzIFRvb2xTZXQ+ID0gKG9wdGlvbnM6IHtcbiAgc3RlcHM6IEFycmF5PFN0ZXBSZXN1bHQ8VE9PTFM+Pjtcbn0pID0+IFByb21pc2VMaWtlPGJvb2xlYW4+IHwgYm9vbGVhbjtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0ZXBDb3VudElzKHN0ZXBDb3VudDogbnVtYmVyKTogU3RvcENvbmRpdGlvbjxhbnk+IHtcbiAgcmV0dXJuICh7IHN0ZXBzIH0pID0+IHN0ZXBzLmxlbmd0aCA9PT0gc3RlcENvdW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzVG9vbENhbGwodG9vbE5hbWU6IHN0cmluZyk6IFN0b3BDb25kaXRpb248YW55PiB7XG4gIHJldHVybiAoeyBzdGVwcyB9KSA9PlxuICAgIHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdPy50b29sQ2FsbHM/LnNvbWUoXG4gICAgICB0b29sQ2FsbCA9PiB0b29sQ2FsbC50b29sTmFtZSA9PT0gdG9vbE5hbWUsXG4gICAgKSA/PyBmYWxzZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzU3RvcENvbmRpdGlvbk1ldDxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgc3RvcENvbmRpdGlvbnMsXG4gIHN0ZXBzLFxufToge1xuICBzdG9wQ29uZGl0aW9uczogQXJyYXk8U3RvcENvbmRpdGlvbjxUT09MUz4+O1xuICBzdGVwczogQXJyYXk8U3RlcFJlc3VsdDxUT09MUz4+O1xufSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gKFxuICAgIGF3YWl0IFByb21pc2UuYWxsKHN0b3BDb25kaXRpb25zLm1hcChjb25kaXRpb24gPT4gY29uZGl0aW9uKHsgc3RlcHMgfSkpKVxuICApLnNvbWUocmVzdWx0ID0+IHJlc3VsdCk7XG59XG4iLCAiaW1wb3J0IHtcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBKU09OVmFsdWUsXG4gIExhbmd1YWdlTW9kZWxWMlRvb2xSZXN1bHRPdXRwdXQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgVG9vbCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgb3V0cHV0LFxuICB0b29sLFxuICBlcnJvck1vZGUsXG59OiB7XG4gIG91dHB1dDogdW5rbm93bjtcbiAgdG9vbDogVG9vbCB8IHVuZGVmaW5lZDtcbiAgZXJyb3JNb2RlOiAnbm9uZScgfCAndGV4dCcgfCAnanNvbic7XG59KTogTGFuZ3VhZ2VNb2RlbFYyVG9vbFJlc3VsdE91dHB1dCB7XG4gIGlmIChlcnJvck1vZGUgPT09ICd0ZXh0Jykge1xuICAgIHJldHVybiB7IHR5cGU6ICdlcnJvci10ZXh0JywgdmFsdWU6IGdldEVycm9yTWVzc2FnZShvdXRwdXQpIH07XG4gIH0gZWxzZSBpZiAoZXJyb3JNb2RlID09PSAnanNvbicpIHtcbiAgICByZXR1cm4geyB0eXBlOiAnZXJyb3ItanNvbicsIHZhbHVlOiB0b0pTT05WYWx1ZShvdXRwdXQpIH07XG4gIH1cblxuICBpZiAodG9vbD8udG9Nb2RlbE91dHB1dCkge1xuICAgIHJldHVybiB0b29sLnRvTW9kZWxPdXRwdXQob3V0cHV0KTtcbiAgfVxuXG4gIHJldHVybiB0eXBlb2Ygb3V0cHV0ID09PSAnc3RyaW5nJ1xuICAgID8geyB0eXBlOiAndGV4dCcsIHZhbHVlOiBvdXRwdXQgfVxuICAgIDogeyB0eXBlOiAnanNvbicsIHZhbHVlOiB0b0pTT05WYWx1ZShvdXRwdXQpIH07XG59XG5cbmZ1bmN0aW9uIHRvSlNPTlZhbHVlKHZhbHVlOiB1bmtub3duKTogSlNPTlZhbHVlIHtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogKHZhbHVlIGFzIEpTT05WYWx1ZSk7XG59XG4iLCAiaW1wb3J0IHtcbiAgQXNzaXN0YW50Q29udGVudCxcbiAgQXNzaXN0YW50TW9kZWxNZXNzYWdlLFxuICBUb29sQ29udGVudCxcbiAgVG9vbE1vZGVsTWVzc2FnZSxcbn0gZnJvbSAnLi4vcHJvbXB0JztcbmltcG9ydCB7IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCB9IGZyb20gJy4uL3Byb21wdC9jcmVhdGUtdG9vbC1tb2RlbC1vdXRwdXQnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi90b29sLXNldCc7XG5cbi8qKlxuQ29udmVydHMgdGhlIHJlc3VsdCBvZiBhIGBnZW5lcmF0ZVRleHRgIG9yIGBzdHJlYW1UZXh0YCBjYWxsIHRvIGEgbGlzdCBvZiByZXNwb25zZSBtZXNzYWdlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmVzcG9uc2VNZXNzYWdlczxUT09MUyBleHRlbmRzIFRvb2xTZXQ+KHtcbiAgY29udGVudDogaW5wdXRDb250ZW50LFxuICB0b29scyxcbn06IHtcbiAgY29udGVudDogQXJyYXk8Q29udGVudFBhcnQ8VE9PTFM+PjtcbiAgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xufSk6IEFycmF5PEFzc2lzdGFudE1vZGVsTWVzc2FnZSB8IFRvb2xNb2RlbE1lc3NhZ2U+IHtcbiAgY29uc3QgcmVzcG9uc2VNZXNzYWdlczogQXJyYXk8QXNzaXN0YW50TW9kZWxNZXNzYWdlIHwgVG9vbE1vZGVsTWVzc2FnZT4gPSBbXTtcblxuICBjb25zdCBjb250ZW50OiBBc3Npc3RhbnRDb250ZW50ID0gaW5wdXRDb250ZW50XG4gICAgLmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3NvdXJjZScpXG4gICAgLmZpbHRlcihcbiAgICAgIHBhcnQgPT5cbiAgICAgICAgKHBhcnQudHlwZSAhPT0gJ3Rvb2wtcmVzdWx0JyB8fCBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQpICYmXG4gICAgICAgIChwYXJ0LnR5cGUgIT09ICd0b29sLWVycm9yJyB8fCBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQpLFxuICAgIClcbiAgICAuZmlsdGVyKHBhcnQgPT4gcGFydC50eXBlICE9PSAndGV4dCcgfHwgcGFydC50ZXh0Lmxlbmd0aCA+IDApXG4gICAgLm1hcChwYXJ0ID0+IHtcbiAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdyZWFzb25pbmcnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcGFydC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICBkYXRhOiBwYXJ0LmZpbGUuYmFzZTY0LFxuICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0LmZpbGUubWVkaWFUeXBlLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9vbC1jYWxsJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Rvb2wtY2FsbCcsXG4gICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9vbC1yZXN1bHQnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgICAgICAgIHRvb2w6IHRvb2xzPy5bcGFydC50b29sTmFtZV0sXG4gICAgICAgICAgICAgIG91dHB1dDogcGFydC5vdXRwdXQsXG4gICAgICAgICAgICAgIGVycm9yTW9kZTogJ25vbmUnLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB0cnVlLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAndG9vbC1lcnJvcic6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0b29sLXJlc3VsdCcsXG4gICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgICAgICAgdG9vbDogdG9vbHM/LltwYXJ0LnRvb2xOYW1lXSxcbiAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0LmVycm9yLFxuICAgICAgICAgICAgICBlcnJvck1vZGU6ICdqc29uJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKHtcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHRvb2xSZXN1bHRDb250ZW50OiBUb29sQ29udGVudCA9IGlucHV0Q29udGVudFxuICAgIC5maWx0ZXIocGFydCA9PiBwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcgfHwgcGFydC50eXBlID09PSAndG9vbC1lcnJvcicpXG4gICAgLmZpbHRlcihwYXJ0ID0+ICFwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQpXG4gICAgLm1hcCh0b29sUmVzdWx0ID0+ICh7XG4gICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgdG9vbENhbGxJZDogdG9vbFJlc3VsdC50b29sQ2FsbElkLFxuICAgICAgdG9vbE5hbWU6IHRvb2xSZXN1bHQudG9vbE5hbWUsXG4gICAgICBvdXRwdXQ6IGNyZWF0ZVRvb2xNb2RlbE91dHB1dCh7XG4gICAgICAgIHRvb2w6IHRvb2xzPy5bdG9vbFJlc3VsdC50b29sTmFtZV0sXG4gICAgICAgIG91dHB1dDpcbiAgICAgICAgICB0b29sUmVzdWx0LnR5cGUgPT09ICd0b29sLXJlc3VsdCdcbiAgICAgICAgICAgID8gdG9vbFJlc3VsdC5vdXRwdXRcbiAgICAgICAgICAgIDogdG9vbFJlc3VsdC5lcnJvcixcbiAgICAgICAgZXJyb3JNb2RlOiB0b29sUmVzdWx0LnR5cGUgPT09ICd0b29sLWVycm9yJyA/ICd0ZXh0JyA6ICdub25lJyxcbiAgICAgIH0pLFxuICAgICAgLi4uKHRvb2xSZXN1bHQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHRvb2xSZXN1bHQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgIDoge30pLFxuICAgIH0pKTtcblxuICBpZiAodG9vbFJlc3VsdENvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaCh7XG4gICAgICByb2xlOiAndG9vbCcsXG4gICAgICBjb250ZW50OiB0b29sUmVzdWx0Q29udGVudCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZU1lc3NhZ2VzO1xufVxuIiwgImltcG9ydCB7XG4gIGdldEVycm9yTWVzc2FnZSxcbiAgTGFuZ3VhZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQge1xuICBjcmVhdGVJZEdlbmVyYXRvcixcbiAgRGVsYXllZFByb21pc2UsXG4gIElkR2VuZXJhdG9yLFxuICBpc0Fib3J0RXJyb3IsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBTcGFuIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCB7IE5vT3V0cHV0R2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQgeyBOb091dHB1dFNwZWNpZmllZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb3V0cHV0LXNwZWNpZmllZC1lcnJvcic7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQnO1xuaW1wb3J0IHsgcHJlcGFyZUNhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLWNhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLXRvb2xzLWFuZC10b29sLWNob2ljZSc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IHN0YW5kYXJkaXplUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdCc7XG5pbXBvcnQgeyB3cmFwR2F0ZXdheUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnlGb3JUZWxlbWV0cnkgfSBmcm9tICcuLi90ZWxlbWV0cnkvc3RyaW5naWZ5LWZvci10ZWxlbWV0cnknO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IGNyZWF0ZVRleHRTdHJlYW1SZXNwb25zZSB9IGZyb20gJy4uL3RleHQtc3RyZWFtL2NyZWF0ZS10ZXh0LXN0cmVhbS1yZXNwb25zZSc7XG5pbXBvcnQgeyBwaXBlVGV4dFN0cmVhbVRvUmVzcG9uc2UgfSBmcm9tICcuLi90ZXh0LXN0cmVhbS9waXBlLXRleHQtc3RyZWFtLXRvLXJlc3BvbnNlJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsLFxuICBUb29sQ2hvaWNlLFxufSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlLCBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aSc7XG5pbXBvcnQgeyBjcmVhdGVVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL2NyZWF0ZS11aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZSc7XG5pbXBvcnQgeyBnZXRSZXNwb25zZVVJTWVzc2FnZUlkIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vZ2V0LXJlc3BvbnNlLXVpLW1lc3NhZ2UtaWQnO1xuaW1wb3J0IHsgaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaCc7XG5pbXBvcnQgeyBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZSB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3BpcGUtdWktbWVzc2FnZS1zdHJlYW0tdG8tcmVzcG9uc2UnO1xuaW1wb3J0IHtcbiAgSW5mZXJVSU1lc3NhZ2VDaHVuayxcbiAgVUlNZXNzYWdlQ2h1bmssXG59IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2Utc3RyZWFtLXJlc3BvbnNlLWluaXQnO1xuaW1wb3J0IHsgSW5mZXJVSU1lc3NhZ2VEYXRhLCBJbmZlclVJTWVzc2FnZU1ldGFkYXRhIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uL3V0aWwvYXMtYXJyYXknO1xuaW1wb3J0IHtcbiAgQXN5bmNJdGVyYWJsZVN0cmVhbSxcbiAgY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSxcbn0gZnJvbSAnLi4vdXRpbC9hc3luYy1pdGVyYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgY29uc3VtZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY29uc3VtZS1zdHJlYW0nO1xuaW1wb3J0IHsgY3JlYXRlU3RpdGNoYWJsZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY3JlYXRlLXN0aXRjaGFibGUtc3RyZWFtJztcbmltcG9ydCB7IERvd25sb2FkRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IG5vdyBhcyBvcmlnaW5hbE5vdyB9IGZyb20gJy4uL3V0aWwvbm93JztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgQ29udGVudFBhcnQgfSBmcm9tICcuL2NvbnRlbnQtcGFydCc7XG5pbXBvcnQgeyBPdXRwdXQgfSBmcm9tICcuL291dHB1dCc7XG5pbXBvcnQgeyBQcmVwYXJlU3RlcEZ1bmN0aW9uIH0gZnJvbSAnLi9wcmVwYXJlLXN0ZXAnO1xuaW1wb3J0IHsgUmVzcG9uc2VNZXNzYWdlIH0gZnJvbSAnLi9yZXNwb25zZS1tZXNzYWdlJztcbmltcG9ydCB7XG4gIHJ1blRvb2xzVHJhbnNmb3JtYXRpb24sXG4gIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydCxcbn0gZnJvbSAnLi9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24nO1xuaW1wb3J0IHsgRGVmYXVsdFN0ZXBSZXN1bHQsIFN0ZXBSZXN1bHQgfSBmcm9tICcuL3N0ZXAtcmVzdWx0JztcbmltcG9ydCB7XG4gIGlzU3RvcENvbmRpdGlvbk1ldCxcbiAgc3RlcENvdW50SXMsXG4gIFN0b3BDb25kaXRpb24sXG59IGZyb20gJy4vc3RvcC1jb25kaXRpb24nO1xuaW1wb3J0IHtcbiAgQ29uc3VtZVN0cmVhbU9wdGlvbnMsXG4gIFN0cmVhbVRleHRSZXN1bHQsXG4gIFRleHRTdHJlYW1QYXJ0LFxuICBVSU1lc3NhZ2VTdHJlYW1PcHRpb25zLFxufSBmcm9tICcuL3N0cmVhbS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyB0b1Jlc3BvbnNlTWVzc2FnZXMgfSBmcm9tICcuL3RvLXJlc3BvbnNlLW1lc3NhZ2VzJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFRvb2xPdXRwdXQgfSBmcm9tICcuL3Rvb2wtb3V0cHV0JztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuL3Rvb2wtc2V0JztcblxuY29uc3Qgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3Ioe1xuICBwcmVmaXg6ICdhaXR4dCcsXG4gIHNpemU6IDI0LFxufSk7XG5cbi8qKlxuQSB0cmFuc2Zvcm1hdGlvbiB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHN0cmVhbS5cblxuQHBhcmFtIHN0b3BTdHJlYW0gLSBBIGZ1bmN0aW9uIHRoYXQgc3RvcHMgdGhlIHNvdXJjZSBzdHJlYW0uXG5AcGFyYW0gdG9vbHMgLSBUaGUgdG9vbHMgdGhhdCBhcmUgYWNjZXNzaWJsZSB0byBhbmQgY2FuIGJlIGNhbGxlZCBieSB0aGUgbW9kZWwuIFRoZSBtb2RlbCBuZWVkcyB0byBzdXBwb3J0IGNhbGxpbmcgdG9vbHMuXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRUcmFuc2Zvcm08VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChvcHRpb25zOiB7XG4gIHRvb2xzOiBUT09MUzsgLy8gZm9yIHR5cGUgaW5mZXJlbmNlXG4gIHN0b3BTdHJlYW06ICgpID0+IHZvaWQ7XG59KSA9PiBUcmFuc2Zvcm1TdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+LCBUZXh0U3RyZWFtUGFydDxUT09MUz4+O1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25FcnJvcmAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1UZXh0T25FcnJvckNhbGxiYWNrID0gKGV2ZW50OiB7XG4gIGVycm9yOiB1bmtub3duO1xufSkgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25TdGVwRmluaXNoYCBvcHRpb24uXG5cbkBwYXJhbSBzdGVwUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiB0aGUgc3RlcC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSAoXG4gIHN0ZXBSZXN1bHQ6IFN0ZXBSZXN1bHQ8VE9PTFM+LFxuKSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkNodW5rYCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPbkNodW5rQ2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChldmVudDoge1xuICBjaHVuazogRXh0cmFjdDxcbiAgICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAge1xuICAgICAgdHlwZTpcbiAgICAgICAgfCAndGV4dC1kZWx0YSdcbiAgICAgICAgfCAncmVhc29uaW5nLWRlbHRhJ1xuICAgICAgICB8ICdzb3VyY2UnXG4gICAgICAgIHwgJ3Rvb2wtY2FsbCdcbiAgICAgICAgfCAndG9vbC1pbnB1dC1zdGFydCdcbiAgICAgICAgfCAndG9vbC1pbnB1dC1kZWx0YSdcbiAgICAgICAgfCAndG9vbC1yZXN1bHQnXG4gICAgICAgIHwgJ3Jhdyc7XG4gICAgfVxuICA+O1xufSkgPT4gUHJvbWlzZUxpa2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkNhbGxiYWNrIHRoYXQgaXMgc2V0IHVzaW5nIHRoZSBgb25GaW5pc2hgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVGV4dE9uRmluaXNoQ2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChcbiAgZXZlbnQ6IFN0ZXBSZXN1bHQ8VE9PTFM+ICYge1xuICAgIC8qKlxuRGV0YWlscyBmb3IgYWxsIHN0ZXBzLlxuICAgKi9cbiAgICByZWFkb25seSBzdGVwczogU3RlcFJlc3VsdDxUT09MUz5bXTtcblxuICAgIC8qKlxuVG90YWwgdXNhZ2UgZm9yIGFsbCBzdGVwcy4gVGhpcyBpcyB0aGUgc3VtIG9mIHRoZSB1c2FnZSBvZiBhbGwgc3RlcHMuXG4gICAgICovXG4gICAgcmVhZG9ubHkgdG90YWxVc2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICB9LFxuKSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkFib3J0YCBvcHRpb24uXG5cbkBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVRleHRPbkFib3J0Q2FsbGJhY2s8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9IChldmVudDoge1xuICAvKipcbkRldGFpbHMgZm9yIGFsbCBwcmV2aW91c2x5IGZpbmlzaGVkIHN0ZXBzLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RlcHM6IFN0ZXBSZXN1bHQ8VE9PTFM+W107XG59KSA9PiBQcm9taXNlTGlrZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuR2VuZXJhdGUgYSB0ZXh0IGFuZCBjYWxsIHRvb2xzIGZvciBhIGdpdmVuIHByb21wdCB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIHN0cmVhbXMgdGhlIG91dHB1dC4gSWYgeW91IGRvIG5vdCB3YW50IHRvIHN0cmVhbSB0aGUgb3V0cHV0LCB1c2UgYGdlbmVyYXRlVGV4dGAgaW5zdGVhZC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB0b29scyAtIFRvb2xzIHRoYXQgYXJlIGFjY2Vzc2libGUgdG8gYW5kIGNhbiBiZSBjYWxsZWQgYnkgdGhlIG1vZGVsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuXG5AcGFyYW0gc3lzdGVtIC0gQSBzeXN0ZW0gbWVzc2FnZSB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgcHJvbXB0LlxuQHBhcmFtIHByb21wdCAtIEEgc2ltcGxlIHRleHQgcHJvbXB0LiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5AcGFyYW0gbWVzc2FnZXMgLSBBIGxpc3Qgb2YgbWVzc2FnZXMuIFlvdSBjYW4gZWl0aGVyIHVzZSBgcHJvbXB0YCBvciBgbWVzc2FnZXNgIGJ1dCBub3QgYm90aC5cblxuQHBhcmFtIG1heE91dHB1dFRva2VucyAtIE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBnZW5lcmF0ZS5cbkBwYXJhbSB0ZW1wZXJhdHVyZSAtIFRlbXBlcmF0dXJlIHNldHRpbmcuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGVpdGhlciBgdGVtcGVyYXR1cmVgIG9yIGB0b3BQYCwgYnV0IG5vdCBib3RoLlxuQHBhcmFtIHRvcFAgLSBOdWNsZXVzIHNhbXBsaW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BLIC0gT25seSBzYW1wbGUgZnJvbSB0aGUgdG9wIEsgb3B0aW9ucyBmb3IgZWFjaCBzdWJzZXF1ZW50IHRva2VuLlxuVXNlZCB0byByZW1vdmUgXCJsb25nIHRhaWxcIiBsb3cgcHJvYmFiaWxpdHkgcmVzcG9uc2VzLlxuUmVjb21tZW5kZWQgZm9yIGFkdmFuY2VkIHVzZSBjYXNlcyBvbmx5LiBZb3UgdXN1YWxseSBvbmx5IG5lZWQgdG8gdXNlIHRlbXBlcmF0dXJlLlxuQHBhcmFtIHByZXNlbmNlUGVuYWx0eSAtIFByZXNlbmNlIHBlbmFsdHkgc2V0dGluZy5cbkl0IGFmZmVjdHMgdGhlIGxpa2VsaWhvb2Qgb2YgdGhlIG1vZGVsIHRvIHJlcGVhdCBpbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgaW4gdGhlIHByb21wdC5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gZnJlcXVlbmN5UGVuYWx0eSAtIEZyZXF1ZW5jeSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXRlZGx5IHVzZSB0aGUgc2FtZSB3b3JkcyBvciBwaHJhc2VzLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkBwYXJhbSBzdG9wU2VxdWVuY2VzIC0gU3RvcCBzZXF1ZW5jZXMuXG5JZiBzZXQsIHRoZSBtb2RlbCB3aWxsIHN0b3AgZ2VuZXJhdGluZyB0ZXh0IHdoZW4gb25lIG9mIHRoZSBzdG9wIHNlcXVlbmNlcyBpcyBnZW5lcmF0ZWQuXG5AcGFyYW0gc2VlZCAtIFRoZSBzZWVkIChpbnRlZ2VyKSB0byB1c2UgZm9yIHJhbmRvbSBzYW1wbGluZy5cbklmIHNldCBhbmQgc3VwcG9ydGVkIGJ5IHRoZSBtb2RlbCwgY2FsbHMgd2lsbCBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIHJlc3VsdHMuXG5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkBwYXJhbSBtYXhTdGVwcyAtIE1heGltdW0gbnVtYmVyIG9mIHNlcXVlbnRpYWwgTExNIGNhbGxzIChzdGVwcyksIGUuZy4gd2hlbiB5b3UgdXNlIHRvb2wgY2FsbHMuXG5cbkBwYXJhbSBvbkNodW5rIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggY2h1bmsgb2YgdGhlIHN0cmVhbS4gVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG5AcGFyYW0gb25FcnJvciAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBzdHJlYW1pbmcuIFlvdSBjYW4gdXNlIGl0IHRvIGxvZyBlcnJvcnMuXG5AcGFyYW0gb25TdGVwRmluaXNoIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiBlYWNoIHN0ZXAgKExMTSBjYWxsKSBpcyBmaW5pc2hlZCwgaW5jbHVkaW5nIGludGVybWVkaWF0ZSBzdGVwcy5cbkBwYXJhbSBvbkZpbmlzaCAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIExMTSByZXNwb25zZSBhbmQgYWxsIHJlcXVlc3QgdG9vbCBleGVjdXRpb25zXG4oZm9yIHRvb2xzIHRoYXQgaGF2ZSBhbiBgZXhlY3V0ZWAgZnVuY3Rpb24pIGFyZSBmaW5pc2hlZC5cblxuQHJldHVyblxuQSByZXN1bHQgb2JqZWN0IGZvciBhY2Nlc3NpbmcgZGlmZmVyZW50IHN0cmVhbSB0eXBlcyBhbmQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmVhbVRleHQ8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIFBBUlRJQUxfT1VUUFVUID0gbmV2ZXIsXG4+KHtcbiAgbW9kZWwsXG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXMsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBzdG9wV2hlbiA9IHN0ZXBDb3VudElzKDEpLFxuICBleHBlcmltZW50YWxfb3V0cHV0OiBvdXRwdXQsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeSxcbiAgcHJlcGFyZVN0ZXAsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzLFxuICBhY3RpdmVUb29scyA9IGV4cGVyaW1lbnRhbF9hY3RpdmVUb29scyxcbiAgZXhwZXJpbWVudGFsX3JlcGFpclRvb2xDYWxsOiByZXBhaXJUb29sQ2FsbCxcbiAgZXhwZXJpbWVudGFsX3RyYW5zZm9ybTogdHJhbnNmb3JtLFxuICBleHBlcmltZW50YWxfZG93bmxvYWQ6IGRvd25sb2FkLFxuICBpbmNsdWRlUmF3Q2h1bmtzID0gZmFsc2UsXG4gIG9uQ2h1bmssXG4gIG9uRXJyb3IgPSAoeyBlcnJvciB9KSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIH0sXG4gIG9uRmluaXNoLFxuICBvbkFib3J0LFxuICBvblN0ZXBGaW5pc2gsXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICBfaW50ZXJuYWw6IHtcbiAgICBub3cgPSBvcmlnaW5hbE5vdyxcbiAgICBnZW5lcmF0ZUlkID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gbmV3IERhdGUoKSxcbiAgfSA9IHt9LFxuICAuLi5zZXR0aW5nc1xufTogQ2FsbFNldHRpbmdzICZcbiAgUHJvbXB0ICYge1xuICAgIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbDtcblxuICAgIC8qKlxuVGhlIHRvb2xzIHRoYXQgdGhlIG1vZGVsIGNhbiBjYWxsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuICAgICovXG4gICAgdG9vbHM/OiBUT09MUztcblxuICAgIC8qKlxuVGhlIHRvb2wgY2hvaWNlIHN0cmF0ZWd5LiBEZWZhdWx0OiAnYXV0bycuXG4gICAgICovXG4gICAgdG9vbENob2ljZT86IFRvb2xDaG9pY2U8VE9PTFM+O1xuXG4gICAgLyoqXG5Db25kaXRpb24gZm9yIHN0b3BwaW5nIHRoZSBnZW5lcmF0aW9uIHdoZW4gdGhlcmUgYXJlIHRvb2wgcmVzdWx0cyBpbiB0aGUgbGFzdCBzdGVwLlxuV2hlbiB0aGUgY29uZGl0aW9uIGlzIGFuIGFycmF5LCBhbnkgb2YgdGhlIGNvbmRpdGlvbnMgY2FuIGJlIG1ldCB0byBzdG9wIHRoZSBnZW5lcmF0aW9uLlxuXG5AZGVmYXVsdCBzdGVwQ291bnRJcygxKVxuICAgICAqL1xuICAgIHN0b3BXaGVuPzpcbiAgICAgIHwgU3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj5cbiAgICAgIHwgQXJyYXk8U3RvcENvbmRpdGlvbjxOb0luZmVyPFRPT0xTPj4+O1xuXG4gICAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGBhY3RpdmVUb29sc2AgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHM/OiBBcnJheTxrZXlvZiBOb0luZmVyPFRPT0xTPj47XG5cbiAgICAvKipcbiAgIExpbWl0cyB0aGUgdG9vbHMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGUgbW9kZWwgdG8gY2FsbCB3aXRob3V0XG4gICBjaGFuZ2luZyB0aGUgdG9vbCBjYWxsIGFuZCByZXN1bHQgdHlwZXMgaW4gdGhlIHJlc3VsdC5cbiAgICAgICAgKi9cbiAgICBhY3RpdmVUb29scz86IEFycmF5PGtleW9mIE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuT3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBmb3IgcGFyc2luZyBzdHJ1Y3R1cmVkIG91dHB1dHMgZnJvbSB0aGUgTExNIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGV4cGVyaW1lbnRhbF9vdXRwdXQ/OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD47XG5cbiAgICAvKipcbk9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgeW91IGNhbiB1c2UgdG8gcHJvdmlkZSBkaWZmZXJlbnQgc2V0dGluZ3MgZm9yIGEgc3RlcC5cblxuQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIHN0ZXAuXG5AcGFyYW0gb3B0aW9ucy5zdGVwcyAtIFRoZSBzdGVwcyB0aGF0IGhhdmUgYmVlbiBleGVjdXRlZCBzbyBmYXIuXG5AcGFyYW0gb3B0aW9ucy5zdGVwTnVtYmVyIC0gVGhlIG51bWJlciBvZiB0aGUgc3RlcCB0aGF0IGlzIGJlaW5nIGV4ZWN1dGVkLlxuQHBhcmFtIG9wdGlvbnMubW9kZWwgLSBUaGUgbW9kZWwgdGhhdCBpcyBiZWluZyB1c2VkLlxuXG5AcmV0dXJucyBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgc2V0dGluZ3MgZm9yIHRoZSBzdGVwLlxuSWYgeW91IHJldHVybiB1bmRlZmluZWQgKG9yIGZvciB1bmRlZmluZWQgc2V0dGluZ3MpLCB0aGUgc2V0dGluZ3MgZnJvbSB0aGUgb3V0ZXIgbGV2ZWwgd2lsbCBiZSB1c2VkLlxuICAgICovXG4gICAgcHJlcGFyZVN0ZXA/OiBQcmVwYXJlU3RlcEZ1bmN0aW9uPE5vSW5mZXI8VE9PTFM+PjtcblxuICAgIC8qKlxuQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciBhIHRvb2wgY2FsbCB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw/OiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPFRPT0xTPjtcblxuICAgIC8qKlxuT3B0aW9uYWwgc3RyZWFtIHRyYW5zZm9ybWF0aW9ucy5cblRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByb3ZpZGVkLlxuVGhlIHN0cmVhbSB0cmFuc2Zvcm1hdGlvbnMgbXVzdCBtYWludGFpbiB0aGUgc3RyZWFtIHN0cnVjdHVyZSBmb3Igc3RyZWFtVGV4dCB0byB3b3JrIGNvcnJlY3RseS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfdHJhbnNmb3JtPzpcbiAgICAgIHwgU3RyZWFtVGV4dFRyYW5zZm9ybTxUT09MUz5cbiAgICAgIHwgQXJyYXk8U3RyZWFtVGV4dFRyYW5zZm9ybTxUT09MUz4+O1xuXG4gICAgLyoqXG5DdXN0b20gZG93bmxvYWQgZnVuY3Rpb24gdG8gdXNlIGZvciBVUkxzLlxuXG5CeSBkZWZhdWx0LCBmaWxlcyBhcmUgZG93bmxvYWRlZCBpZiB0aGUgbW9kZWwgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMIGZvciB0aGUgZ2l2ZW4gbWVkaWEgdHlwZS5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWxfZG93bmxvYWQ/OiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG5XaGV0aGVyIHRvIGluY2x1ZGUgcmF3IGNodW5rcyBmcm9tIHRoZSBwcm92aWRlciBpbiB0aGUgc3RyZWFtLlxuV2hlbiBlbmFibGVkLCB5b3Ugd2lsbCByZWNlaXZlIHJhdyBjaHVua3Mgd2l0aCB0eXBlICdyYXcnIHRoYXQgY29udGFpbiB0aGUgdW5wcm9jZXNzZWQgZGF0YSBmcm9tIHRoZSBwcm92aWRlci5cblRoaXMgYWxsb3dzIGFjY2VzcyB0byBjdXR0aW5nLWVkZ2UgcHJvdmlkZXIgZmVhdHVyZXMgbm90IHlldCB3cmFwcGVkIGJ5IHRoZSBBSSBTREsuXG5EZWZhdWx0cyB0byBmYWxzZS5cbiAgICAgKi9cbiAgICBpbmNsdWRlUmF3Q2h1bmtzPzogYm9vbGVhbjtcblxuICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggY2h1bmsgb2YgdGhlIHN0cmVhbS5cblRoZSBzdHJlYW0gcHJvY2Vzc2luZyB3aWxsIHBhdXNlIHVudGlsIHRoZSBjYWxsYmFjayBwcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAqL1xuICAgIG9uQ2h1bms/OiBTdHJlYW1UZXh0T25DaHVua0NhbGxiYWNrPFRPT0xTPjtcblxuICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBzdHJlYW1pbmcuXG5Zb3UgY2FuIHVzZSBpdCB0byBsb2cgZXJyb3JzLlxuVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICovXG4gICAgb25FcnJvcj86IFN0cmVhbVRleHRPbkVycm9yQ2FsbGJhY2s7XG5cbiAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIExMTSByZXNwb25zZSBhbmQgYWxsIHJlcXVlc3QgdG9vbCBleGVjdXRpb25zXG4oZm9yIHRvb2xzIHRoYXQgaGF2ZSBhbiBgZXhlY3V0ZWAgZnVuY3Rpb24pIGFyZSBmaW5pc2hlZC5cblxuVGhlIHVzYWdlIGlzIHRoZSBjb21iaW5lZCB1c2FnZSBvZiBhbGwgc3RlcHMuXG4gICAgICovXG4gICAgb25GaW5pc2g/OiBTdHJlYW1UZXh0T25GaW5pc2hDYWxsYmFjazxUT09MUz47XG5cbiAgICBvbkFib3J0PzogU3RyZWFtVGV4dE9uQWJvcnRDYWxsYmFjazxUT09MUz47XG5cbiAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gZWFjaCBzdGVwIChMTE0gY2FsbCkgaXMgZmluaXNoZWQsIGluY2x1ZGluZyBpbnRlcm1lZGlhdGUgc3RlcHMuXG4gICAgKi9cbiAgICBvblN0ZXBGaW5pc2g/OiBTdHJlYW1UZXh0T25TdGVwRmluaXNoQ2FsbGJhY2s8VE9PTFM+O1xuXG4gICAgLyoqXG4gICAgICogQ29udGV4dCB0aGF0IGlzIHBhc3NlZCBpbnRvIHRvb2wgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogRXhwZXJpbWVudGFsIChjYW4gYnJlYWsgaW4gcGF0Y2ggcmVsZWFzZXMpLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAgICovXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQ/OiB1bmtub3duO1xuXG4gICAgLyoqXG5JbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAgICovXG4gICAgX2ludGVybmFsPzoge1xuICAgICAgbm93PzogKCkgPT4gbnVtYmVyO1xuICAgICAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xuICAgICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICAgIH07XG4gIH0pOiBTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4ge1xuICByZXR1cm4gbmV3IERlZmF1bHRTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPih7XG4gICAgbW9kZWw6IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsKSxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgdG9vbHMsXG4gICAgdG9vbENob2ljZSxcbiAgICB0cmFuc2Zvcm1zOiBhc0FycmF5KHRyYW5zZm9ybSksXG4gICAgYWN0aXZlVG9vbHMsXG4gICAgcmVwYWlyVG9vbENhbGwsXG4gICAgc3RvcENvbmRpdGlvbnM6IGFzQXJyYXkoc3RvcFdoZW4pLFxuICAgIG91dHB1dCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcHJlcGFyZVN0ZXAsXG4gICAgaW5jbHVkZVJhd0NodW5rcyxcbiAgICBvbkNodW5rLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgb25BYm9ydCxcbiAgICBvblN0ZXBGaW5pc2gsXG4gICAgbm93LFxuICAgIGN1cnJlbnREYXRlLFxuICAgIGdlbmVyYXRlSWQsXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgZG93bmxvYWQsXG4gIH0pO1xufVxuXG50eXBlIEVucmljaGVkU3RyZWFtUGFydDxUT09MUyBleHRlbmRzIFRvb2xTZXQsIFBBUlRJQUxfT1VUUFVUPiA9IHtcbiAgcGFydDogVGV4dFN0cmVhbVBhcnQ8VE9PTFM+O1xuICBwYXJ0aWFsT3V0cHV0OiBQQVJUSUFMX09VVFBVVCB8IHVuZGVmaW5lZDtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZU91dHB1dFRyYW5zZm9ybVN0cmVhbTxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQsXG4gIFBBUlRJQUxfT1VUUFVULFxuPihcbiAgb3V0cHV0OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD4gfCB1bmRlZmluZWQsXG4pOiBUcmFuc2Zvcm1TdHJlYW08XG4gIFRleHRTdHJlYW1QYXJ0PFRPT0xTPixcbiAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbj4ge1xuICBpZiAoIW91dHB1dCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbiAgICA+KHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBmaXJzdFRleHRDaHVua0lkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGxldCB0ZXh0ID0gJyc7XG4gIGxldCB0ZXh0Q2h1bmsgPSAnJztcbiAgbGV0IGxhc3RQdWJsaXNoZWRKc29uID0gJyc7XG5cbiAgZnVuY3Rpb24gcHVibGlzaFRleHRDaHVuayh7XG4gICAgY29udHJvbGxlcixcbiAgICBwYXJ0aWFsT3V0cHV0ID0gdW5kZWZpbmVkLFxuICB9OiB7XG4gICAgY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8XG4gICAgICBFbnJpY2hlZFN0cmVhbVBhcnQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlxuICAgID47XG4gICAgcGFydGlhbE91dHB1dD86IFBBUlRJQUxfT1VUUFVUO1xuICB9KSB7XG4gICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgIHBhcnQ6IHtcbiAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICBpZDogZmlyc3RUZXh0Q2h1bmtJZCEsXG4gICAgICAgIHRleHQ6IHRleHRDaHVuayxcbiAgICAgIH0sXG4gICAgICBwYXJ0aWFsT3V0cHV0LFxuICAgIH0pO1xuICAgIHRleHRDaHVuayA9ICcnO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+LFxuICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+XG4gID4oe1xuICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgLy8gZW5zdXJlIHRoYXQgd2UgcHVibGlzaCB0aGUgbGFzdCB0ZXh0IGNodW5rIGJlZm9yZSB0aGUgc3RlcCBmaW5pc2g6XG4gICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ2ZpbmlzaC1zdGVwJyAmJiB0ZXh0Q2h1bmsubGVuZ3RoID4gMCkge1xuICAgICAgICBwdWJsaXNoVGV4dENodW5rKHsgY29udHJvbGxlciB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBjaHVuay50eXBlICE9PSAndGV4dC1kZWx0YScgJiZcbiAgICAgICAgY2h1bmsudHlwZSAhPT0gJ3RleHQtc3RhcnQnICYmXG4gICAgICAgIGNodW5rLnR5cGUgIT09ICd0ZXh0LWVuZCdcbiAgICAgICkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyBwYXJ0OiBjaHVuaywgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGhhdmUgdG8gcGljayBhIHRleHQgY2h1bmsgd2hpY2ggY29udGFpbnMgdGhlIGpzb24gdGV4dFxuICAgICAgLy8gc2luY2Ugd2UgYXJlIHN0cmVhbWluZywgd2UgaGF2ZSB0byBwaWNrIHRoZSBmaXJzdCB0ZXh0IGNodW5rXG4gICAgICBpZiAoZmlyc3RUZXh0Q2h1bmtJZCA9PSBudWxsKSB7XG4gICAgICAgIGZpcnN0VGV4dENodW5rSWQgPSBjaHVuay5pZDtcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmsuaWQgIT09IGZpcnN0VGV4dENodW5rSWQpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2h1bmsudHlwZSA9PT0gJ3RleHQtc3RhcnQnKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHBhcnQ6IGNodW5rLCBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICd0ZXh0LWVuZCcpIHtcbiAgICAgICAgaWYgKHRleHRDaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcHVibGlzaFRleHRDaHVuayh7IGNvbnRyb2xsZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0ZXh0ICs9IGNodW5rLnRleHQ7XG4gICAgICB0ZXh0Q2h1bmsgKz0gY2h1bmsudGV4dDtcblxuICAgICAgLy8gb25seSBwdWJsaXNoIGlmIHBhcnRpYWwganNvbiBjYW4gYmUgcGFyc2VkOlxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3V0cHV0LnBhcnNlUGFydGlhbCh7IHRleHQgfSk7XG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgLy8gb25seSBzZW5kIG5ldyBqc29uIGlmIGl0IGhhcyBjaGFuZ2VkOlxuICAgICAgICBjb25zdCBjdXJyZW50SnNvbiA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5wYXJ0aWFsKTtcbiAgICAgICAgaWYgKGN1cnJlbnRKc29uICE9PSBsYXN0UHVibGlzaGVkSnNvbikge1xuICAgICAgICAgIHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyLCBwYXJ0aWFsT3V0cHV0OiByZXN1bHQucGFydGlhbCB9KTtcbiAgICAgICAgICBsYXN0UHVibGlzaGVkSnNvbiA9IGN1cnJlbnRKc29uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRTdHJlYW1UZXh0UmVzdWx0PFRPT0xTIGV4dGVuZHMgVG9vbFNldCwgT1VUUFVULCBQQVJUSUFMX09VVFBVVD5cbiAgaW1wbGVtZW50cyBTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbntcbiAgcHJpdmF0ZSByZWFkb25seSBfdG90YWxVc2FnZSA9IG5ldyBEZWxheWVkUHJvbWlzZTxcbiAgICBBd2FpdGVkPFN0cmVhbVRleHRSZXN1bHQ8VE9PTFMsIFBBUlRJQUxfT1VUUFVUPlsndXNhZ2UnXT5cbiAgPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9maW5pc2hSZWFzb24gPSBuZXcgRGVsYXllZFByb21pc2U8XG4gICAgQXdhaXRlZDxTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5bJ2ZpbmlzaFJlYXNvbiddPlxuICA+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3N0ZXBzID0gbmV3IERlbGF5ZWRQcm9taXNlPFxuICAgIEF3YWl0ZWQ8U3RyZWFtVGV4dFJlc3VsdDxUT09MUywgUEFSVElBTF9PVVRQVVQ+WydzdGVwcyddPlxuICA+KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBhZGRTdHJlYW06IChcbiAgICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4sXG4gICkgPT4gdm9pZDtcblxuICBwcml2YXRlIHJlYWRvbmx5IGNsb3NlU3RyZWFtOiAoKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgYmFzZVN0cmVhbTogUmVhZGFibGVTdHJlYW08RW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD4+O1xuXG4gIHByaXZhdGUgb3V0cHV0OiBPdXRwdXQ8T1VUUFVULCBQQVJUSUFMX09VVFBVVD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBpbmNsdWRlUmF3Q2h1bmtzOiBib29sZWFuO1xuXG4gIHByaXZhdGUgdG9vbHM6IFRPT0xTIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVycyxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgdG9vbHMsXG4gICAgdG9vbENob2ljZSxcbiAgICB0cmFuc2Zvcm1zLFxuICAgIGFjdGl2ZVRvb2xzLFxuICAgIHJlcGFpclRvb2xDYWxsLFxuICAgIHN0b3BDb25kaXRpb25zLFxuICAgIG91dHB1dCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcHJlcGFyZVN0ZXAsXG4gICAgaW5jbHVkZVJhd0NodW5rcyxcbiAgICBub3csXG4gICAgY3VycmVudERhdGUsXG4gICAgZ2VuZXJhdGVJZCxcbiAgICBvbkNodW5rLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgb25BYm9ydCxcbiAgICBvblN0ZXBGaW5pc2gsXG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgZG93bmxvYWQsXG4gIH06IHtcbiAgICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYyO1xuICAgIHRlbGVtZXRyeTogVGVsZW1ldHJ5U2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZDtcbiAgICBzZXR0aW5nczogT21pdDxDYWxsU2V0dGluZ3MsICdhYm9ydFNpZ25hbCcgfCAnaGVhZGVycyc+O1xuICAgIG1heFJldHJpZXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gICAgc3lzdGVtOiBQcm9tcHRbJ3N5c3RlbSddO1xuICAgIHByb21wdDogUHJvbXB0Wydwcm9tcHQnXTtcbiAgICBtZXNzYWdlczogUHJvbXB0WydtZXNzYWdlcyddO1xuICAgIHRvb2xzOiBUT09MUyB8IHVuZGVmaW5lZDtcbiAgICB0b29sQ2hvaWNlOiBUb29sQ2hvaWNlPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgICB0cmFuc2Zvcm1zOiBBcnJheTxTdHJlYW1UZXh0VHJhbnNmb3JtPFRPT0xTPj47XG4gICAgYWN0aXZlVG9vbHM6IEFycmF5PGtleW9mIFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgICByZXBhaXJUb29sQ2FsbDogVG9vbENhbGxSZXBhaXJGdW5jdGlvbjxUT09MUz4gfCB1bmRlZmluZWQ7XG4gICAgc3RvcENvbmRpdGlvbnM6IEFycmF5PFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+PjtcbiAgICBvdXRwdXQ6IE91dHB1dDxPVVRQVVQsIFBBUlRJQUxfT1VUUFVUPiB8IHVuZGVmaW5lZDtcbiAgICBwcm92aWRlck9wdGlvbnM6IFByb3ZpZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICBwcmVwYXJlU3RlcDogUHJlcGFyZVN0ZXBGdW5jdGlvbjxOb0luZmVyPFRPT0xTPj4gfCB1bmRlZmluZWQ7XG4gICAgaW5jbHVkZVJhd0NodW5rczogYm9vbGVhbjtcbiAgICBub3c6ICgpID0+IG51bWJlcjtcbiAgICBjdXJyZW50RGF0ZTogKCkgPT4gRGF0ZTtcbiAgICBnZW5lcmF0ZUlkOiAoKSA9PiBzdHJpbmc7XG4gICAgZXhwZXJpbWVudGFsX2NvbnRleHQ6IHVua25vd247XG4gICAgZG93bmxvYWQ6IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAvLyBjYWxsYmFja3M6XG4gICAgb25DaHVuazogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uQ2h1bmtDYWxsYmFjazxUT09MUz47XG4gICAgb25FcnJvcjogU3RyZWFtVGV4dE9uRXJyb3JDYWxsYmFjaztcbiAgICBvbkZpbmlzaDogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uRmluaXNoQ2FsbGJhY2s8VE9PTFM+O1xuICAgIG9uQWJvcnQ6IHVuZGVmaW5lZCB8IFN0cmVhbVRleHRPbkFib3J0Q2FsbGJhY2s8VE9PTFM+O1xuICAgIG9uU3RlcEZpbmlzaDogdW5kZWZpbmVkIHwgU3RyZWFtVGV4dE9uU3RlcEZpbmlzaENhbGxiYWNrPFRPT0xTPjtcbiAgfSkge1xuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuICAgIHRoaXMuaW5jbHVkZVJhd0NodW5rcyA9IGluY2x1ZGVSYXdDaHVua3M7XG4gICAgdGhpcy50b29scyA9IHRvb2xzO1xuXG4gICAgLy8gcHJvbWlzZSB0byBlbnN1cmUgdGhhdCB0aGUgc3RlcCBoYXMgYmVlbiBmdWxseSBwcm9jZXNzZWQgYnkgdGhlIGV2ZW50IHByb2Nlc3NvclxuICAgIC8vIGJlZm9yZSBhIG5ldyBzdGVwIGlzIHN0YXJ0ZWQuIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSB0aGUgY29udGludWF0aW9uIGNvbmRpdGlvblxuICAgIC8vIG5lZWRzIHRoZSB1cGRhdGVkIHN0ZXBzIHRvIGRldGVybWluZSBpZiBhbm90aGVyIHN0ZXAgaXMgbmVlZGVkLlxuICAgIGxldCBzdGVwRmluaXNoITogRGVsYXllZFByb21pc2U8dm9pZD47XG5cbiAgICBsZXQgcmVjb3JkZWRDb250ZW50OiBBcnJheTxDb250ZW50UGFydDxUT09MUz4+ID0gW107XG4gICAgY29uc3QgcmVjb3JkZWRSZXNwb25zZU1lc3NhZ2VzOiBBcnJheTxSZXNwb25zZU1lc3NhZ2U+ID0gW107XG4gICAgbGV0IHJlY29yZGVkRmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb24gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJlY29yZGVkVG90YWxVc2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGxldCByZWNvcmRlZFJlcXVlc3Q6IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgPSB7fTtcbiAgICBsZXQgcmVjb3JkZWRXYXJuaW5nczogQXJyYXk8Q2FsbFdhcm5pbmc+ID0gW107XG4gICAgY29uc3QgcmVjb3JkZWRTdGVwczogU3RlcFJlc3VsdDxUT09MUz5bXSA9IFtdO1xuXG4gICAgbGV0IHJvb3RTcGFuITogU3BhbjtcblxuICAgIGxldCBhY3RpdmVUZXh0Q29udGVudDogUmVjb3JkPFxuICAgICAgc3RyaW5nLFxuICAgICAge1xuICAgICAgICB0eXBlOiAndGV4dCc7XG4gICAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICA+ID0ge307XG5cbiAgICBsZXQgYWN0aXZlUmVhc29uaW5nQ29udGVudDogUmVjb3JkPFxuICAgICAgc3RyaW5nLFxuICAgICAge1xuICAgICAgICB0eXBlOiAncmVhc29uaW5nJztcbiAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBQcm92aWRlck1ldGFkYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgfVxuICAgID4gPSB7fTtcblxuICAgIGNvbnN0IGV2ZW50UHJvY2Vzc29yID0gbmV3IFRyYW5zZm9ybVN0cmVhbTxcbiAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LFxuICAgICAgRW5yaWNoZWRTdHJlYW1QYXJ0PFRPT0xTLCBQQVJUSUFMX09VVFBVVD5cbiAgICA+KHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspOyAvLyBmb3J3YXJkIHRoZSBjaHVuayB0byB0aGUgbmV4dCBzdHJlYW1cblxuICAgICAgICBjb25zdCB7IHBhcnQgfSA9IGNodW5rO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1kZWx0YScgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdzb3VyY2UnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1jYWxsJyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0JyB8fFxuICAgICAgICAgIHBhcnQudHlwZSA9PT0gJ3Rvb2wtaW5wdXQtc3RhcnQnIHx8XG4gICAgICAgICAgcGFydC50eXBlID09PSAndG9vbC1pbnB1dC1kZWx0YScgfHxcbiAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdyYXcnXG4gICAgICAgICkge1xuICAgICAgICAgIGF3YWl0IG9uQ2h1bms/Lih7IGNodW5rOiBwYXJ0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgIGF3YWl0IG9uRXJyb3IoeyBlcnJvcjogd3JhcEdhdGV3YXlFcnJvcihwYXJ0LmVycm9yKSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LXN0YXJ0Jykge1xuICAgICAgICAgIGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZVRleHQgPSBhY3RpdmVUZXh0Q29udGVudFtwYXJ0LmlkXTtcblxuICAgICAgICAgIGlmIChhY3RpdmVUZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHBhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgdGV4dCBwYXJ0ICR7cGFydC5pZH0gbm90IGZvdW5kYCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGFydGlhbE91dHB1dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWN0aXZlVGV4dC50ZXh0ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICBhY3RpdmVUZXh0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgcGFydC5wcm92aWRlck1ldGFkYXRhID8/IGFjdGl2ZVRleHQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LWVuZCcpIHtcbiAgICAgICAgICBjb25zdCBhY3RpdmVUZXh0ID0gYWN0aXZlVGV4dENvbnRlbnRbcGFydC5pZF07XG5cbiAgICAgICAgICBpZiAoYWN0aXZlVGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICBwYXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogYHRleHQgcGFydCAke3BhcnQuaWR9IG5vdCBmb3VuZGAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGl2ZVRleHQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPz8gYWN0aXZlVGV4dC5wcm92aWRlck1ldGFkYXRhO1xuXG4gICAgICAgICAgZGVsZXRlIGFjdGl2ZVRleHRDb250ZW50W3BhcnQuaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1zdGFydCcpIHtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycsXG4gICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2goYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAncmVhc29uaW5nLWRlbHRhJykge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZVJlYXNvbmluZyA9IGFjdGl2ZVJlYXNvbmluZ0NvbnRlbnRbcGFydC5pZF07XG5cbiAgICAgICAgICBpZiAoYWN0aXZlUmVhc29uaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHBhcnQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgcmVhc29uaW5nIHBhcnQgJHtwYXJ0LmlkfSBub3QgZm91bmRgLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwYXJ0aWFsT3V0cHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmcudGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nLnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgcGFydC5wcm92aWRlck1ldGFkYXRhID8/IGFjdGl2ZVJlYXNvbmluZy5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3JlYXNvbmluZy1lbmQnKSB7XG4gICAgICAgICAgY29uc3QgYWN0aXZlUmVhc29uaW5nID0gYWN0aXZlUmVhc29uaW5nQ29udGVudFtwYXJ0LmlkXTtcblxuICAgICAgICAgIGlmIChhY3RpdmVSZWFzb25pbmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgcGFydDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGByZWFzb25pbmcgcGFydCAke3BhcnQuaWR9IG5vdCBmb3VuZGAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBhcnRpYWxPdXRwdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZy5wcm92aWRlck1ldGFkYXRhID1cbiAgICAgICAgICAgIHBhcnQucHJvdmlkZXJNZXRhZGF0YSA/PyBhY3RpdmVSZWFzb25pbmcucHJvdmlkZXJNZXRhZGF0YTtcblxuICAgICAgICAgIGRlbGV0ZSBhY3RpdmVSZWFzb25pbmdDb250ZW50W3BhcnQuaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2goeyB0eXBlOiAnZmlsZScsIGZpbGU6IHBhcnQuZmlsZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAndG9vbC1jYWxsJykge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3Rvb2wtcmVzdWx0JyAmJiAhcGFydC5wcmVsaW1pbmFyeSkge1xuICAgICAgICAgIHJlY29yZGVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3Rvb2wtZXJyb3InKSB7XG4gICAgICAgICAgcmVjb3JkZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnc3RhcnQtc3RlcCcpIHtcbiAgICAgICAgICByZWNvcmRlZFJlcXVlc3QgPSBwYXJ0LnJlcXVlc3Q7XG4gICAgICAgICAgcmVjb3JkZWRXYXJuaW5ncyA9IHBhcnQud2FybmluZ3M7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmluaXNoLXN0ZXAnKSB7XG4gICAgICAgICAgY29uc3Qgc3RlcE1lc3NhZ2VzID0gdG9SZXNwb25zZU1lc3NhZ2VzKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHJlY29yZGVkQ29udGVudCxcbiAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQWRkIHN0ZXAgaW5mb3JtYXRpb24gKGFmdGVyIHJlc3BvbnNlIG1lc3NhZ2VzIGFyZSB1cGRhdGVkKTpcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcFJlc3VsdDogU3RlcFJlc3VsdDxUT09MUz4gPSBuZXcgRGVmYXVsdFN0ZXBSZXN1bHQoe1xuICAgICAgICAgICAgY29udGVudDogcmVjb3JkZWRDb250ZW50LFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiBwYXJ0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiBwYXJ0LnVzYWdlLFxuICAgICAgICAgICAgd2FybmluZ3M6IHJlY29yZGVkV2FybmluZ3MsXG4gICAgICAgICAgICByZXF1ZXN0OiByZWNvcmRlZFJlcXVlc3QsXG4gICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAuLi5wYXJ0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICBtZXNzYWdlczogWy4uLnJlY29yZGVkUmVzcG9uc2VNZXNzYWdlcywgLi4uc3RlcE1lc3NhZ2VzXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhd2FpdCBvblN0ZXBGaW5pc2g/LihjdXJyZW50U3RlcFJlc3VsdCk7XG5cbiAgICAgICAgICBsb2dXYXJuaW5ncyhyZWNvcmRlZFdhcm5pbmdzKTtcblxuICAgICAgICAgIHJlY29yZGVkU3RlcHMucHVzaChjdXJyZW50U3RlcFJlc3VsdCk7XG5cbiAgICAgICAgICByZWNvcmRlZENvbnRlbnQgPSBbXTtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmdDb250ZW50ID0ge307XG4gICAgICAgICAgYWN0aXZlVGV4dENvbnRlbnQgPSB7fTtcblxuICAgICAgICAgIHJlY29yZGVkUmVzcG9uc2VNZXNzYWdlcy5wdXNoKC4uLnN0ZXBNZXNzYWdlcyk7XG5cbiAgICAgICAgICAvLyByZXNvbHZlIHRoZSBwcm9taXNlIHRvIHNpZ25hbCB0aGF0IHRoZSBzdGVwIGhhcyBiZWVuIGZ1bGx5IHByb2Nlc3NlZFxuICAgICAgICAgIC8vIGJ5IHRoZSBldmVudCBwcm9jZXNzb3I6XG4gICAgICAgICAgc3RlcEZpbmlzaC5yZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC50eXBlID09PSAnZmluaXNoJykge1xuICAgICAgICAgIHJlY29yZGVkVG90YWxVc2FnZSA9IHBhcnQudG90YWxVc2FnZTtcbiAgICAgICAgICByZWNvcmRlZEZpbmlzaFJlYXNvbiA9IHBhcnQuZmluaXNoUmVhc29uO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBhc3luYyBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHJlY29yZGVkU3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBOb091dHB1dEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ05vIG91dHB1dCBnZW5lcmF0ZWQuIENoZWNrIHRoZSBzdHJlYW0gZm9yIGVycm9ycy4nLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNlbGYuX2ZpbmlzaFJlYXNvbi5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgc2VsZi5fdG90YWxVc2FnZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgc2VsZi5fc3RlcHMucmVqZWN0KGVycm9yKTtcblxuICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBzdGVwcyByZWNvcmRlZCAoZS5nLiBpbiBlcnJvciBzY2VuYXJpbylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBkZXJpdmVkOlxuICAgICAgICAgIGNvbnN0IGZpbmlzaFJlYXNvbiA9IHJlY29yZGVkRmluaXNoUmVhc29uID8/ICd1bmtub3duJztcbiAgICAgICAgICBjb25zdCB0b3RhbFVzYWdlID0gcmVjb3JkZWRUb3RhbFVzYWdlID8/IHtcbiAgICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGZyb20gZmluaXNoOlxuICAgICAgICAgIHNlbGYuX2ZpbmlzaFJlYXNvbi5yZXNvbHZlKGZpbmlzaFJlYXNvbik7XG4gICAgICAgICAgc2VsZi5fdG90YWxVc2FnZS5yZXNvbHZlKHRvdGFsVXNhZ2UpO1xuXG4gICAgICAgICAgLy8gYWdncmVnYXRlIHJlc3VsdHM6XG4gICAgICAgICAgc2VsZi5fc3RlcHMucmVzb2x2ZShyZWNvcmRlZFN0ZXBzKTtcblxuICAgICAgICAgIC8vIGNhbGwgb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgICAgY29uc3QgZmluYWxTdGVwID0gcmVjb3JkZWRTdGVwc1tyZWNvcmRlZFN0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGF3YWl0IG9uRmluaXNoPy4oe1xuICAgICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdG90YWxVc2FnZSxcbiAgICAgICAgICAgIHVzYWdlOiBmaW5hbFN0ZXAudXNhZ2UsXG4gICAgICAgICAgICBjb250ZW50OiBmaW5hbFN0ZXAuY29udGVudCxcbiAgICAgICAgICAgIHRleHQ6IGZpbmFsU3RlcC50ZXh0LFxuICAgICAgICAgICAgcmVhc29uaW5nVGV4dDogZmluYWxTdGVwLnJlYXNvbmluZ1RleHQsXG4gICAgICAgICAgICByZWFzb25pbmc6IGZpbmFsU3RlcC5yZWFzb25pbmcsXG4gICAgICAgICAgICBmaWxlczogZmluYWxTdGVwLmZpbGVzLFxuICAgICAgICAgICAgc291cmNlczogZmluYWxTdGVwLnNvdXJjZXMsXG4gICAgICAgICAgICB0b29sQ2FsbHM6IGZpbmFsU3RlcC50b29sQ2FsbHMsXG4gICAgICAgICAgICBzdGF0aWNUb29sQ2FsbHM6IGZpbmFsU3RlcC5zdGF0aWNUb29sQ2FsbHMsXG4gICAgICAgICAgICBkeW5hbWljVG9vbENhbGxzOiBmaW5hbFN0ZXAuZHluYW1pY1Rvb2xDYWxscyxcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzOiBmaW5hbFN0ZXAudG9vbFJlc3VsdHMsXG4gICAgICAgICAgICBzdGF0aWNUb29sUmVzdWx0czogZmluYWxTdGVwLnN0YXRpY1Rvb2xSZXN1bHRzLFxuICAgICAgICAgICAgZHluYW1pY1Rvb2xSZXN1bHRzOiBmaW5hbFN0ZXAuZHluYW1pY1Rvb2xSZXN1bHRzLFxuICAgICAgICAgICAgcmVxdWVzdDogZmluYWxTdGVwLnJlcXVlc3QsXG4gICAgICAgICAgICByZXNwb25zZTogZmluYWxTdGVwLnJlc3BvbnNlLFxuICAgICAgICAgICAgd2FybmluZ3M6IGZpbmFsU3RlcC53YXJuaW5ncyxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGZpbmFsU3RlcC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgc3RlcHM6IHJlY29yZGVkU3RlcHMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHJvb3Qgc3BhbjpcbiAgICAgICAgICByb290U3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRleHQnOiB7IG91dHB1dDogKCkgPT4gZmluYWxTdGVwLnRleHQgfSxcbiAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudG9vbENhbGxzJzoge1xuICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICBmaW5hbFN0ZXAudG9vbENhbGxzPy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KGZpbmFsU3RlcC50b29sQ2FsbHMpXG4gICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgZmluYWxTdGVwLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICdhaS51c2FnZS5pbnB1dFRva2Vucyc6IHRvdGFsVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IHRvdGFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdhaS51c2FnZS50b3RhbFRva2Vucyc6IHRvdGFsVXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnJlYXNvbmluZ1Rva2Vucyc6IHRvdGFsVXNhZ2UucmVhc29uaW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6IHRvdGFsVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHJvb3RTcGFuLmVuZCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgc3RpdGNoYWJsZSBzdHJlYW0gYW5kIHRoZSB0cmFuc2Zvcm1lZCBzdHJlYW06XG4gICAgY29uc3Qgc3RpdGNoYWJsZVN0cmVhbSA9IGNyZWF0ZVN0aXRjaGFibGVTdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+PigpO1xuICAgIHRoaXMuYWRkU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW07XG4gICAgdGhpcy5jbG9zZVN0cmVhbSA9IHN0aXRjaGFibGVTdHJlYW0uY2xvc2U7XG5cbiAgICAvLyByZXNpbGllbnQgc3RyZWFtIHRoYXQgaGFuZGxlcyBhYm9ydCBzaWduYWxzIGFuZCBlcnJvcnM6XG4gICAgY29uc3QgcmVhZGVyID0gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgbGV0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4+KHtcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gc2VuZCBzdGFydCBldmVudDpcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3N0YXJ0JyB9KTtcbiAgICAgIH0sXG5cbiAgICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgICAvLyBhYm9ydCBoYW5kbGluZzpcbiAgICAgICAgZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgb25BYm9ydD8uKHsgc3RlcHM6IHJlY29yZGVkU3RlcHMgfSk7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2Fib3J0JyB9KTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG5cbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhYm9ydFNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpICYmIGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIHN0aXRjaGFibGVTdHJlYW0uc3RyZWFtLmNhbmNlbChyZWFzb24pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIHRyYW5zZm9ybSB0aGUgc3RyZWFtIGJlZm9yZSBvdXRwdXQgcGFyc2luZ1xuICAgIC8vIHRvIGVuYWJsZSByZXBsYWNlbWVudCBvZiBzdHJlYW0gc2VnbWVudHM6XG4gICAgZm9yIChjb25zdCB0cmFuc2Zvcm0gb2YgdHJhbnNmb3Jtcykge1xuICAgICAgc3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICB0cmFuc2Zvcm0oe1xuICAgICAgICAgIHRvb2xzOiB0b29scyBhcyBUT09MUyxcbiAgICAgICAgICBzdG9wU3RyZWFtKCkge1xuICAgICAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS50ZXJtaW5hdGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RyZWFtXG4gICAgICAucGlwZVRocm91Z2goY3JlYXRlT3V0cHV0VHJhbnNmb3JtU3RyZWFtKG91dHB1dCkpXG4gICAgICAucGlwZVRocm91Z2goZXZlbnRQcm9jZXNzb3IpO1xuXG4gICAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICAgIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgbW9kZWwsXG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBoZWFkZXJzLFxuICAgICAgc2V0dGluZ3M6IHsgLi4uY2FsbFNldHRpbmdzLCBtYXhSZXRyaWVzIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogJ2FpLnN0cmVhbVRleHQnLFxuICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7IG9wZXJhdGlvbklkOiAnYWkuc3RyZWFtVGV4dCcsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgJ2FpLnByb21wdCc6IHtcbiAgICAgICAgICAgIGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICBmbjogYXN5bmMgcm9vdFNwYW5BcmcgPT4ge1xuICAgICAgICByb290U3BhbiA9IHJvb3RTcGFuQXJnO1xuXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHN0cmVhbVN0ZXAoe1xuICAgICAgICAgIGN1cnJlbnRTdGVwLFxuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgdXNhZ2UsXG4gICAgICAgIH06IHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXM6IEFycmF5PFJlc3BvbnNlTWVzc2FnZT47XG4gICAgICAgICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgICAgfSkge1xuICAgICAgICAgIGNvbnN0IGluY2x1ZGVSYXdDaHVua3MgPSBzZWxmLmluY2x1ZGVSYXdDaHVua3M7XG5cbiAgICAgICAgICBzdGVwRmluaXNoID0gbmV3IERlbGF5ZWRQcm9taXNlPHZvaWQ+KCk7XG5cbiAgICAgICAgICBjb25zdCBpbml0aWFsUHJvbXB0ID0gYXdhaXQgc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgfSBhcyBQcm9tcHQpO1xuXG4gICAgICAgICAgY29uc3Qgc3RlcElucHV0TWVzc2FnZXMgPSBbXG4gICAgICAgICAgICAuLi5pbml0aWFsUHJvbXB0Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgLi4ucmVzcG9uc2VNZXNzYWdlcyxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgY29uc3QgcHJlcGFyZVN0ZXBSZXN1bHQgPSBhd2FpdCBwcmVwYXJlU3RlcD8uKHtcbiAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgc3RlcHM6IHJlY29yZGVkU3RlcHMsXG4gICAgICAgICAgICBzdGVwTnVtYmVyOiByZWNvcmRlZFN0ZXBzLmxlbmd0aCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHN0ZXBNb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKFxuICAgICAgICAgICAgcHJlcGFyZVN0ZXBSZXN1bHQ/Lm1vZGVsID8/IG1vZGVsLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBwcm9tcHRNZXNzYWdlcyA9IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiB7XG4gICAgICAgICAgICAgIHN5c3RlbTogcHJlcGFyZVN0ZXBSZXN1bHQ/LnN5c3RlbSA/PyBpbml0aWFsUHJvbXB0LnN5c3RlbSxcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IHByZXBhcmVTdGVwUmVzdWx0Py5tZXNzYWdlcyA/PyBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0ZWRVcmxzOiBhd2FpdCBzdGVwTW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICAgIGRvd25sb2FkLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgeyB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSwgdG9vbHM6IHN0ZXBUb29scyB9ID1cbiAgICAgICAgICAgIHByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2Uoe1xuICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgdG9vbENob2ljZTogcHJlcGFyZVN0ZXBSZXN1bHQ/LnRvb2xDaG9pY2UgPz8gdG9vbENob2ljZSxcbiAgICAgICAgICAgICAgYWN0aXZlVG9vbHM6IHByZXBhcmVTdGVwUmVzdWx0Py5hY3RpdmVUb29scyA/PyBhY3RpdmVUb29scyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcmVzdWx0OiB7IHN0cmVhbSwgcmVzcG9uc2UsIHJlcXVlc3QgfSxcbiAgICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXMsXG4gICAgICAgICAgfSA9IGF3YWl0IHJldHJ5KCgpID0+XG4gICAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogJ2FpLnN0cmVhbVRleHQuZG9TdHJlYW0nLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5zdHJlYW1UZXh0LmRvU3RyZWFtJyxcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIC8vIG1vZGVsOlxuICAgICAgICAgICAgICAgICAgJ2FpLm1vZGVsLnByb3ZpZGVyJzogc3RlcE1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgJ2FpLm1vZGVsLmlkJzogc3RlcE1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAvLyBwcm9tcHQ6XG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0Lm1lc3NhZ2VzJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdE1lc3NhZ2VzKSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAnYWkucHJvbXB0LnRvb2xzJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBsYW5ndWFnZSBtb2RlbCBsZXZlbCB0b29sczpcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0ZXBUb29scz8ubWFwKHRvb2wgPT4gSlNPTi5zdHJpbmdpZnkodG9vbCkpLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICdhaS5wcm9tcHQudG9vbENob2ljZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDaG9pY2UgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShzdGVwVG9vbENob2ljZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5zeXN0ZW0nOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QubW9kZWwnOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eSc6XG4gICAgICAgICAgICAgICAgICAgIGNhbGxTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBjYWxsU2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgICBjYWxsU2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnN0b3Bfc2VxdWVuY2VzJzogY2FsbFNldHRpbmdzLnN0b3BTZXF1ZW5jZXMsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOiBjYWxsU2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudG9wX2snOiBjYWxsU2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC50b3BfcCc6IGNhbGxTZXR0aW5ncy50b3BQLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgZm46IGFzeW5jIGRvU3RyZWFtU3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXM6IG5vdygpLCAvLyBnZXQgYmVmb3JlIHRoZSBjYWxsXG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IHN0ZXBNb2RlbC5kb1N0cmVhbSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNhbGxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHN0ZXBUb29scyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbENob2ljZTogc3RlcFRvb2xDaG9pY2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiBvdXRwdXQ/LnJlc3BvbnNlRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlUmF3Q2h1bmtzLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBzdHJlYW1XaXRoVG9vbFJlc3VsdHMgPSBydW5Ub29sc1RyYW5zZm9ybWF0aW9uKHtcbiAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgZ2VuZXJhdG9yU3RyZWFtOiBzdHJlYW0sXG4gICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXMsXG4gICAgICAgICAgICByZXBhaXJUb29sQ2FsbCxcbiAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBzdGVwUmVxdWVzdCA9IHJlcXVlc3QgPz8ge307XG4gICAgICAgICAgY29uc3Qgc3RlcFRvb2xDYWxsczogVHlwZWRUb29sQ2FsbDxUT09MUz5bXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IHN0ZXBUb29sT3V0cHV0czogVG9vbE91dHB1dDxUT09MUz5bXSA9IFtdO1xuICAgICAgICAgIGxldCB3YXJuaW5nczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmdbXSB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGNvbnN0IGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICAgICAgICBsZXQgc3RlcEZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uID0gJ3Vua25vd24nO1xuICAgICAgICAgIGxldCBzdGVwVXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZSA9IHtcbiAgICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgc3RlcFByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgbGV0IHN0ZXBGaXJzdENodW5rID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgc3RlcFJlc3BvbnNlOiB7IGlkOiBzdHJpbmc7IHRpbWVzdGFtcDogRGF0ZTsgbW9kZWxJZDogc3RyaW5nIH0gPSB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gcmF3IHRleHQgYXMgaXQgY29tZXMgZnJvbSB0aGUgcHJvdmlkZXIuIHJlY29yZGVkIGZvciB0ZWxlbWV0cnkuXG4gICAgICAgICAgbGV0IGFjdGl2ZVRleHQgPSAnJztcblxuICAgICAgICAgIHNlbGYuYWRkU3RyZWFtKFxuICAgICAgICAgICAgc3RyZWFtV2l0aFRvb2xSZXN1bHRzLnBpcGVUaHJvdWdoKFxuICAgICAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgICAgICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAgICAgICAgICAgICAgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gICAgICAgICAgICAgID4oe1xuICAgICAgICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcik6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdzdHJlYW0tc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzID0gY2h1bmsud2FybmluZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc3RyZWFtIHN0YXJ0IGNodW5rcyBhcmUgc2VudCBpbW1lZGlhdGVseSBhbmQgZG8gbm90IGNvdW50IGFzIGZpcnN0IGNodW5rXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChzdGVwRmlyc3RDaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUZWxlbWV0cnkgZm9yIGZpcnN0IGNodW5rOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmlyc3RDaHVuayA9IG5vdygpIC0gc3RhcnRUaW1lc3RhbXBNcztcblxuICAgICAgICAgICAgICAgICAgICBzdGVwRmlyc3RDaHVuayA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudCgnYWkuc3RyZWFtLmZpcnN0Q2h1bmsnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1zVG9GaXJzdENodW5rJzogbXNUb0ZpcnN0Q2h1bmssXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RlcCBzdGFydDpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RhcnQtc3RlcCcsXG4gICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogc3RlcFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzID8/IFtdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQtc3RhcnQnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LWVuZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY2h1bmsuZGVsdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNodW5rLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUZXh0ICs9IGNodW5rLmRlbHRhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1zdGFydCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1lbmQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXNvbmluZy1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjaHVuay5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSB0b29sIGNhbGxzIGZvciBvbkZpbmlzaCBjYWxsYmFjayBhbmQgdG9vbENhbGxzIHByb21pc2U6XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNodW5rLnByZWxpbWluYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwVG9vbE91dHB1dHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b29sLWVycm9yJzoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xPdXRwdXRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNodW5rLmlkID8/IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogY2h1bmsudGltZXN0YW1wID8/IHN0ZXBSZXNwb25zZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbElkOiBjaHVuay5tb2RlbElkID8/IHN0ZXBSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdG9vbCBleGVjdXRpb25zIG1pZ2h0IG5vdCBiZSBmaW5pc2hlZCB5ZXQgd2hlbiB0aGUgZmluaXNoIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdXNhZ2UgYW5kIGZpbmlzaCByZWFzb24gZm9yIHByb21pc2VzIGFuZCBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwVXNhZ2UgPSBjaHVuay51c2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwRmluaXNoUmVhc29uID0gY2h1bmsuZmluaXNoUmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBQcm92aWRlck1ldGFkYXRhID0gY2h1bmsucHJvdmlkZXJNZXRhZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbGVtZXRyeSBmb3IgZmluaXNoIGV2ZW50IHRpbWluZ1xuICAgICAgICAgICAgICAgICAgICAgIC8vIChzaW5jZSB0b29sIGV4ZWN1dGlvbnMgY2FuIHRha2UgbG9uZ2VyIGFuZCBkaXN0b3J0IGNhbGN1bGF0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmluaXNoID0gbm93KCkgLSBzdGFydFRpbWVzdGFtcE1zO1xuICAgICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudCgnYWkuc3RyZWFtLmZpbmlzaCcpO1xuICAgICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5tc1RvRmluaXNoJzogbXNUb0ZpbmlzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5hdmdPdXRwdXRUb2tlbnNQZXJTZWNvbmQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMTAwMCAqIChzdGVwVXNhZ2Uub3V0cHV0VG9rZW5zID8/IDApKSAvIG1zVG9GaW5pc2gsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NvdXJjZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUb29sQ2FsbFRvb2xOYW1lc1tjaHVuay5pZF0gPSBjaHVuay50b29sTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29scz8uW2NodW5rLnRvb2xOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbD8ub25JbnB1dFN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dFN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNodW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pYzogdG9vbD8udHlwZSA9PT0gJ2R5bmFtaWMnLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1lbmQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGFjdGl2ZVRvb2xDYWxsVG9vbE5hbWVzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sID0gdG9vbHM/Llt0b29sTmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbD8ub25JbnB1dERlbHRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRvb2wub25JbnB1dERlbHRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0RGVsdGE6IGNodW5rLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXJyb3InOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwRmluaXNoUmVhc29uID0gJ2Vycm9yJztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jhdyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVJhd0NodW5rcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY2h1bmsgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gaW52b2tlIG9uRmluaXNoIGNhbGxiYWNrIGFuZCByZXNvbHZlIHRvb2xSZXN1bHRzIHByb21pc2Ugd2hlbiB0aGUgc3RyZWFtIGlzIGFib3V0IHRvIGNsb3NlOlxuICAgICAgICAgICAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBUb29sQ2FsbHNKc29uID1cbiAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShzdGVwVG9vbENhbGxzKVxuICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAvLyByZWNvcmQgdGVsZW1ldHJ5IGluZm9ybWF0aW9uIGZpcnN0IHRvIGVuc3VyZSBiZXN0IGVmZm9ydCB0aW1pbmdcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRleHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBhY3RpdmVUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UudG9vbENhbGxzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gc3RlcFRvb2xDYWxsc0pzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5pZCc6IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLm1vZGVsJzogc3RlcFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50aW1lc3RhbXAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBSZXNwb25zZS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHN0ZXBQcm92aWRlck1ldGFkYXRhKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiBzdGVwVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5vdXRwdXRUb2tlbnMnOiBzdGVwVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG90YWxUb2tlbnMnOiBzdGVwVXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiBzdGVwVXNhZ2UucmVhc29uaW5nVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBVc2FnZS5jYWNoZWRJbnB1dFRva2VucyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnMnOiBbc3RlcEZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuaWQnOiBzdGVwUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UubW9kZWwnOiBzdGVwUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5pbnB1dF90b2tlbnMnOiBzdGVwVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vucyc6IHN0ZXBVc2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGVycm9yIHNldHRpbmcgdGVsZW1ldHJ5IGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCBkb1N0cmVhbVNwYW4gYmVmb3JlIG90aGVyIG9wZXJhdGlvbnMgZm9yIGNvcnJlY3QgdGltaW5nOlxuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gtc3RlcCcsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHN0ZXBVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogc3RlcFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uc3RlcFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJpbmVkVXNhZ2UgPSBhZGRMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UsIHN0ZXBVc2FnZSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSBzdGVwIHRvIGJlIGZ1bGx5IHByb2Nlc3NlZCBieSB0aGUgZXZlbnQgcHJvY2Vzc29yXG4gICAgICAgICAgICAgICAgICAvLyB0byBlbnN1cmUgdGhhdCB0aGUgcmVjb3JkZWQgc3RlcHMgYXJlIGNvbXBsZXRlOlxuICAgICAgICAgICAgICAgICAgYXdhaXQgc3RlcEZpbmlzaC5wcm9taXNlO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRUb29sQ2FsbHMgPSBzdGVwVG9vbENhbGxzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwgPT4gdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRUb29sT3V0cHV0cyA9IHN0ZXBUb29sT3V0cHV0cy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHRvb2xPdXRwdXQgPT4gdG9vbE91dHB1dC5wcm92aWRlckV4ZWN1dGVkICE9PSB0cnVlLFxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRUb29sQ2FsbHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgY3VycmVudCB0b29sIGNhbGxzIGhhdmUgb3V0cHV0cyAoaW5jbC4gZXhlY3V0aW9uIGVycm9ycyk6XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFRvb2xPdXRwdXRzLmxlbmd0aCA9PT0gY2xpZW50VG9vbENhbGxzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAvLyBjb250aW51ZSB1bnRpbCBhIHN0b3AgY29uZGl0aW9uIGlzIG1ldDpcbiAgICAgICAgICAgICAgICAgICAgIShhd2FpdCBpc1N0b3BDb25kaXRpb25NZXQoe1xuICAgICAgICAgICAgICAgICAgICAgIHN0b3BDb25kaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzOiByZWNvcmRlZFN0ZXBzLFxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgdG8gbWVzc2FnZXMgZm9yIHRoZSBuZXh0IHN0ZXA6XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAuLi50b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRyYW5zZm9ybWVkIGNvbnRlbnQgdG8gY3JlYXRlIHRoZSBtZXNzYWdlcyBmb3IgdGhlIG5leHQgc3RlcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkZWRTdGVwc1tyZWNvcmRlZFN0ZXBzLmxlbmd0aCAtIDFdLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHN0cmVhbVN0ZXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0ZXA6IGN1cnJlbnRTdGVwICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2FnZTogY29tYmluZWRVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gnLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbFVzYWdlOiBjb21iaW5lZFVzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7IC8vIGNsb3NlIHRoZSBzdGl0Y2hhYmxlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSBpbml0aWFsIHN0cmVhbSB0byB0aGUgc3RpdGNoYWJsZSBzdHJlYW1cbiAgICAgICAgYXdhaXQgc3RyZWFtU3RlcCh7XG4gICAgICAgICAgY3VycmVudFN0ZXA6IDAsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlczogW10sXG4gICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIC8vIGFkZCBhbiBlcnJvciBzdHJlYW0gcGFydCBhbmQgY2xvc2UgdGhlIHN0cmVhbXM6XG4gICAgICBzZWxmLmFkZFN0cmVhbShcbiAgICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgc3RlcHMoKSB7XG4gICAgLy8gd2hlbiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSBhY2Nlc3NlZCwgdGhlIHN0cmVhbSBpcyBjb25zdW1lZFxuICAgIC8vIHNvIGl0IHJlc29sdmVzIHdpdGhvdXQgbmVlZGluZyB0byBjb25zdW1lIHRoZSBzdHJlYW0gc2VwYXJhdGVseVxuICAgIHRoaXMuY29uc3VtZVN0cmVhbSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3N0ZXBzLnByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIGdldCBmaW5hbFN0ZXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHMudGhlbihzdGVwcyA9PiBzdGVwc1tzdGVwcy5sZW5ndGggLSAxXSk7XG4gIH1cblxuICBnZXQgY29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuY29udGVudCk7XG4gIH1cblxuICBnZXQgd2FybmluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLndhcm5pbmdzKTtcbiAgfVxuXG4gIGdldCBwcm92aWRlck1ldGFkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5wcm92aWRlck1ldGFkYXRhKTtcbiAgfVxuXG4gIGdldCB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC50ZXh0KTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmdUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5yZWFzb25pbmdUZXh0KTtcbiAgfVxuXG4gIGdldCByZWFzb25pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnJlYXNvbmluZyk7XG4gIH1cblxuICBnZXQgc291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAuc291cmNlcyk7XG4gIH1cblxuICBnZXQgZmlsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmZpbGVzKTtcbiAgfVxuXG4gIGdldCB0b29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnRvb2xDYWxscyk7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbENhbGxzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5zdGF0aWNUb29sQ2FsbHMpO1xuICB9XG5cbiAgZ2V0IGR5bmFtaWNUb29sQ2FsbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmR5bmFtaWNUb29sQ2FsbHMpO1xuICB9XG5cbiAgZ2V0IHRvb2xSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC50b29sUmVzdWx0cyk7XG4gIH1cblxuICBnZXQgc3RhdGljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnN0YXRpY1Rvb2xSZXN1bHRzKTtcbiAgfVxuXG4gIGdldCBkeW5hbWljVG9vbFJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLmR5bmFtaWNUb29sUmVzdWx0cyk7XG4gIH1cblxuICBnZXQgdXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluYWxTdGVwLnRoZW4oc3RlcCA9PiBzdGVwLnVzYWdlKTtcbiAgfVxuXG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmFsU3RlcC50aGVuKHN0ZXAgPT4gc3RlcC5yZXF1ZXN0KTtcbiAgfVxuXG4gIGdldCByZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5hbFN0ZXAudGhlbihzdGVwID0+IHN0ZXAucmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0IHRvdGFsVXNhZ2UoKSB7XG4gICAgLy8gd2hlbiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSBhY2Nlc3NlZCwgdGhlIHN0cmVhbSBpcyBjb25zdW1lZFxuICAgIC8vIHNvIGl0IHJlc29sdmVzIHdpdGhvdXQgbmVlZGluZyB0byBjb25zdW1lIHRoZSBzdHJlYW0gc2VwYXJhdGVseVxuICAgIHRoaXMuY29uc3VtZVN0cmVhbSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3RvdGFsVXNhZ2UucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBmaW5pc2hSZWFzb24oKSB7XG4gICAgLy8gd2hlbiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSBhY2Nlc3NlZCwgdGhlIHN0cmVhbSBpcyBjb25zdW1lZFxuICAgIC8vIHNvIGl0IHJlc29sdmVzIHdpdGhvdXQgbmVlZGluZyB0byBjb25zdW1lIHRoZSBzdHJlYW0gc2VwYXJhdGVseVxuICAgIHRoaXMuY29uc3VtZVN0cmVhbSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2ZpbmlzaFJlYXNvbi5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG5TcGxpdCBvdXQgYSBuZXcgc3RyZWFtIGZyb20gdGhlIG9yaWdpbmFsIHN0cmVhbS5cblRoZSBvcmlnaW5hbCBzdHJlYW0gaXMgcmVwbGFjZWQgdG8gYWxsb3cgZm9yIGZ1cnRoZXIgc3BsaXR0aW5nLFxuc2luY2Ugd2UgZG8gbm90IGtub3cgaG93IG1hbnkgdGltZXMgdGhlIHN0cmVhbSB3aWxsIGJlIHNwbGl0LlxuXG5Ob3RlOiB0aGlzIGxlYWRzIHRvIGJ1ZmZlcmluZyB0aGUgc3RyZWFtIGNvbnRlbnQgb24gdGhlIHNlcnZlci5cbkhvd2V2ZXIsIHRoZSBMTE0gcmVzdWx0cyBhcmUgZXhwZWN0ZWQgdG8gYmUgc21hbGwgZW5vdWdoIHRvIG5vdCBjYXVzZSBpc3N1ZXMuXG4gICAqL1xuICBwcml2YXRlIHRlZVN0cmVhbSgpIHtcbiAgICBjb25zdCBbc3RyZWFtMSwgc3RyZWFtMl0gPSB0aGlzLmJhc2VTdHJlYW0udGVlKCk7XG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RyZWFtMjtcbiAgICByZXR1cm4gc3RyZWFtMTtcbiAgfVxuXG4gIGdldCB0ZXh0U3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08c3RyaW5nPiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LCBzdHJpbmc+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydC50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGdldCBmdWxsU3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08VGV4dFN0cmVhbVBhcnQ8VE9PTFM+PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LFxuICAgICAgICAgIFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICAgICAgICA+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGNvbnN1bWVTdHJlYW0ob3B0aW9ucz86IENvbnN1bWVTdHJlYW1PcHRpb25zKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNvbnN1bWVTdHJlYW0oe1xuICAgICAgICBzdHJlYW06IHRoaXMuZnVsbFN0cmVhbSxcbiAgICAgICAgb25FcnJvcjogb3B0aW9ucz8ub25FcnJvcixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvcHRpb25zPy5vbkVycm9yPy4oZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBleHBlcmltZW50YWxfcGFydGlhbE91dHB1dFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPFBBUlRJQUxfT1VUUFVUPiB7XG4gICAgaWYgKHRoaXMub3V0cHV0ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb091dHB1dFNwZWNpZmllZEVycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgIEVucmljaGVkU3RyZWFtUGFydDxUT09MUywgUEFSVElBTF9PVVRQVVQ+LFxuICAgICAgICAgIFBBUlRJQUxfT1VUUFVUXG4gICAgICAgID4oe1xuICAgICAgICAgIHRyYW5zZm9ybSh7IHBhcnRpYWxPdXRwdXQgfSwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgaWYgKHBhcnRpYWxPdXRwdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFydGlhbE91dHB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICB0b1VJTWVzc2FnZVN0cmVhbTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICBvbkZpbmlzaCxcbiAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgc2VuZFJlYXNvbmluZyA9IHRydWUsXG4gICAgc2VuZFNvdXJjZXMgPSBmYWxzZSxcbiAgICBzZW5kU3RhcnQgPSB0cnVlLFxuICAgIHNlbmRGaW5pc2ggPSB0cnVlLFxuICAgIG9uRXJyb3IgPSBnZXRFcnJvck1lc3NhZ2UsXG4gIH06IFVJTWVzc2FnZVN0cmVhbU9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSk6IEFzeW5jSXRlcmFibGVTdHJlYW08XG4gICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPlxuICA+IHtcbiAgICBjb25zdCByZXNwb25zZU1lc3NhZ2VJZCA9XG4gICAgICBnZW5lcmF0ZU1lc3NhZ2VJZCAhPSBudWxsXG4gICAgICAgID8gZ2V0UmVzcG9uc2VVSU1lc3NhZ2VJZCh7XG4gICAgICAgICAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlSWQ6IGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgdG9vbE5hbWVzQnlDYWxsSWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIGNvbnN0IGlzRHluYW1pYyA9ICh0b29sQ2FsbElkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHRvb2xOYW1lID0gdG9vbE5hbWVzQnlDYWxsSWRbdG9vbENhbGxJZF07XG4gICAgICBjb25zdCBkeW5hbWljID0gdGhpcy50b29scz8uW3Rvb2xOYW1lXT8udHlwZSA9PT0gJ2R5bmFtaWMnO1xuICAgICAgcmV0dXJuIGR5bmFtaWMgPyB0cnVlIDogdW5kZWZpbmVkOyAvLyBvbmx5IHNlbmQgd2hlbiBkeW5hbWljIHRvIHJlZHVjZSBkYXRhIHRyYW5zZmVyXG4gICAgfTtcblxuICAgIGNvbnN0IGJhc2VTdHJlYW0gPSB0aGlzLmZ1bGxTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICBUZXh0U3RyZWFtUGFydDxUT09MUz4sXG4gICAgICAgIFVJTWVzc2FnZUNodW5rPFxuICAgICAgICAgIEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4sXG4gICAgICAgICAgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+XG4gICAgICAgID5cbiAgICAgID4oe1xuICAgICAgICB0cmFuc2Zvcm06IGFzeW5jIChwYXJ0LCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZU1ldGFkYXRhVmFsdWUgPSBtZXNzYWdlTWV0YWRhdGE/Lih7IHBhcnQgfSk7XG5cbiAgICAgICAgICBjb25zdCBwYXJ0VHlwZSA9IHBhcnQudHlwZTtcbiAgICAgICAgICBzd2l0Y2ggKHBhcnRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICd0ZXh0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dC1kZWx0YScsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgZGVsdGE6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1lbmQnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZW5kJyxcbiAgICAgICAgICAgICAgICBpZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnLFxuICAgICAgICAgICAgICAgIGlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGlmIChzZW5kUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgICBkZWx0YTogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWVuZCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCcsXG4gICAgICAgICAgICAgICAgaWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ2ZpbGUnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgICAgIG1lZGlhVHlwZTogcGFydC5maWxlLm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICB1cmw6IGBkYXRhOiR7cGFydC5maWxlLm1lZGlhVHlwZX07YmFzZTY0LCR7cGFydC5maWxlLmJhc2U2NH1gLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NvdXJjZSc6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRTb3VyY2VzICYmIHBhcnQuc291cmNlVHlwZSA9PT0gJ3VybCcpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3NvdXJjZS11cmwnLFxuICAgICAgICAgICAgICAgICAgc291cmNlSWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgICB1cmw6IHBhcnQudXJsLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IHBhcnQudGl0bGUsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHNlbmRTb3VyY2VzICYmIHBhcnQuc291cmNlVHlwZSA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnc291cmNlLWRvY3VtZW50JyxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBwYXJ0LmlkLFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBwYXJ0LnRpdGxlLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICB0b29sTmFtZXNCeUNhbGxJZFtwYXJ0LmlkXSA9IHBhcnQudG9vbE5hbWU7XG4gICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWMgPSBpc0R5bmFtaWMocGFydC5pZCk7XG5cbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1pbnB1dC1zdGFydCcsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC5pZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZGVsdGEnLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQuaWQsXG4gICAgICAgICAgICAgICAgaW5wdXRUZXh0RGVsdGE6IHBhcnQuZGVsdGEsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1jYWxsJzoge1xuICAgICAgICAgICAgICB0b29sTmFtZXNCeUNhbGxJZFtwYXJ0LnRvb2xDYWxsSWRdID0gcGFydC50b29sTmFtZTtcbiAgICAgICAgICAgICAgY29uc3QgZHluYW1pYyA9IGlzRHluYW1pYyhwYXJ0LnRvb2xDYWxsSWQpO1xuXG4gICAgICAgICAgICAgIGlmIChwYXJ0LmludmFsaWQpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKHBhcnQuZXJyb3IpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1pbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBpbnB1dDogcGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHByb3ZpZGVyTWV0YWRhdGE6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKGR5bmFtaWMgIT0gbnVsbCA/IHsgZHluYW1pYyB9IDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtcmVzdWx0Jzoge1xuICAgICAgICAgICAgICBjb25zdCBkeW5hbWljID0gaXNEeW5hbWljKHBhcnQudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1vdXRwdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBwYXJ0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAuLi4ocGFydC5wcm92aWRlckV4ZWN1dGVkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJlbGltaW5hcnkgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgPyB7IHByZWxpbWluYXJ5OiBwYXJ0LnByZWxpbWluYXJ5IH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWVycm9yJzoge1xuICAgICAgICAgICAgICBjb25zdCBkeW5hbWljID0gaXNEeW5hbWljKHBhcnQudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1vdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IocGFydC5lcnJvciksXG4gICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJFeGVjdXRlZDogcGFydC5wcm92aWRlckV4ZWN1dGVkIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLihkeW5hbWljICE9IG51bGwgPyB7IGR5bmFtaWMgfSA6IHt9KSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGVycm9yVGV4dDogb25FcnJvcihwYXJ0LmVycm9yKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydC1zdGVwJzoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQtc3RlcCcgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaW5pc2gtc3RlcCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2ZpbmlzaC1zdGVwJyB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0Jzoge1xuICAgICAgICAgICAgICBpZiAoc2VuZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgICAuLi4obWVzc2FnZU1ldGFkYXRhVmFsdWUgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgbWVzc2FnZU1ldGFkYXRhOiBtZXNzYWdlTWV0YWRhdGFWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgLi4uKHJlc3BvbnNlTWVzc2FnZUlkICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB7IG1lc3NhZ2VJZDogcmVzcG9uc2VNZXNzYWdlSWQgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICBpZiAoc2VuZEZpbmlzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmluaXNoJyxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcGFydC5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAuLi4obWVzc2FnZU1ldGFkYXRhVmFsdWUgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgbWVzc2FnZU1ldGFkYXRhOiBtZXNzYWdlTWV0YWRhdGFWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdhYm9ydCc6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1lbmQnOiB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyYXcnOiB7XG4gICAgICAgICAgICAgIC8vIFJhdyBjaHVua3MgYXJlIG5vdCBpbmNsdWRlZCBpbiBVSSBtZXNzYWdlIHN0cmVhbXNcbiAgICAgICAgICAgICAgLy8gYXMgdGhleSBjb250YWluIHByb3ZpZGVyLXNwZWNpZmljIGRhdGEgZm9yIGRldmVsb3BlciB1c2VcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IHBhcnRUeXBlO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY2h1bmsgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3RhcnQgYW5kIGZpbmlzaCBldmVudHMgYWxyZWFkeSBoYXZlIG1ldGFkYXRhXG4gICAgICAgICAgLy8gc28gd2Ugb25seSBuZWVkIHRvIHNlbmQgbWV0YWRhdGEgZm9yIG90aGVyIHBhcnRzXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbWVzc2FnZU1ldGFkYXRhVmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgcGFydFR5cGUgIT09ICdzdGFydCcgJiZcbiAgICAgICAgICAgIHBhcnRUeXBlICE9PSAnZmluaXNoJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UtbWV0YWRhdGEnLFxuICAgICAgICAgICAgICBtZXNzYWdlTWV0YWRhdGE6IG1lc3NhZ2VNZXRhZGF0YVZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgaGFuZGxlVUlNZXNzYWdlU3RyZWFtRmluaXNoPFVJX01FU1NBR0U+KHtcbiAgICAgICAgc3RyZWFtOiBiYXNlU3RyZWFtLFxuICAgICAgICBtZXNzYWdlSWQ6IHJlc3BvbnNlTWVzc2FnZUlkID8/IGdlbmVyYXRlTWVzc2FnZUlkPy4oKSxcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgICAgb25GaW5pc2gsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcGlwZVVJTWVzc2FnZVN0cmVhbVRvUmVzcG9uc2U8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oXG4gICAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlLFxuICAgIHtcbiAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICAgIG9uRmluaXNoLFxuICAgICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgICAgc2VuZFJlYXNvbmluZyxcbiAgICAgIHNlbmRTb3VyY2VzLFxuICAgICAgc2VuZEZpbmlzaCxcbiAgICAgIHNlbmRTdGFydCxcbiAgICAgIG9uRXJyb3IsXG4gICAgICAuLi5pbml0XG4gICAgfTogVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0ICYgVUlNZXNzYWdlU3RyZWFtT3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9LFxuICApIHtcbiAgICBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHN0cmVhbTogdGhpcy50b1VJTWVzc2FnZVN0cmVhbSh7XG4gICAgICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgICAgICBvbkZpbmlzaCxcbiAgICAgICAgbWVzc2FnZU1ldGFkYXRhLFxuICAgICAgICBzZW5kUmVhc29uaW5nLFxuICAgICAgICBzZW5kU291cmNlcyxcbiAgICAgICAgc2VuZEZpbmlzaCxcbiAgICAgICAgc2VuZFN0YXJ0LFxuICAgICAgICBvbkVycm9yLFxuICAgICAgfSksXG4gICAgICAuLi5pbml0LFxuICAgIH0pO1xuICB9XG5cbiAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZSwgaW5pdD86IFJlc3BvbnNlSW5pdCkge1xuICAgIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHRleHRTdHJlYW06IHRoaXMudGV4dFN0cmVhbSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICB0b1VJTWVzc2FnZVN0cmVhbVJlc3BvbnNlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgICBvcmlnaW5hbE1lc3NhZ2VzLFxuICAgIGdlbmVyYXRlTWVzc2FnZUlkLFxuICAgIG9uRmluaXNoLFxuICAgIG1lc3NhZ2VNZXRhZGF0YSxcbiAgICBzZW5kUmVhc29uaW5nLFxuICAgIHNlbmRTb3VyY2VzLFxuICAgIHNlbmRGaW5pc2gsXG4gICAgc2VuZFN0YXJ0LFxuICAgIG9uRXJyb3IsXG4gICAgLi4uaW5pdFxuICB9OiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgJlxuICAgIFVJTWVzc2FnZVN0cmVhbU9wdGlvbnM8VUlfTUVTU0FHRT4gPSB7fSk6IFJlc3BvbnNlIHtcbiAgICByZXR1cm4gY3JlYXRlVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2Uoe1xuICAgICAgc3RyZWFtOiB0aGlzLnRvVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgICAgICAgZ2VuZXJhdGVNZXNzYWdlSWQsXG4gICAgICAgIG9uRmluaXNoLFxuICAgICAgICBtZXNzYWdlTWV0YWRhdGEsXG4gICAgICAgIHNlbmRSZWFzb25pbmcsXG4gICAgICAgIHNlbmRTb3VyY2VzLFxuICAgICAgICBzZW5kRmluaXNoLFxuICAgICAgICBzZW5kU3RhcnQsXG4gICAgICAgIG9uRXJyb3IsXG4gICAgICB9KSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICB0b1RleHRTdHJlYW1SZXNwb25zZShpbml0PzogUmVzcG9uc2VJbml0KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2Uoe1xuICAgICAgdGV4dFN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlSGVhZGVycyhcbiAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQsXG4gIGRlZmF1bHRIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogSGVhZGVycyB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IG5ldyBIZWFkZXJzKGhlYWRlcnMgPz8ge30pO1xuXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRIZWFkZXJzKSkge1xuICAgIGlmICghcmVzcG9uc2VIZWFkZXJzLmhhcyhrZXkpKSB7XG4gICAgICByZXNwb25zZUhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXNwb25zZUhlYWRlcnM7XG59XG4iLCAiaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2Uoe1xuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHRleHRTdHJlYW0sXG59OiBSZXNwb25zZUluaXQgJiB7XG4gIHRleHRTdHJlYW06IFJlYWRhYmxlU3RyZWFtPHN0cmluZz47XG59KTogUmVzcG9uc2Uge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKHRleHRTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLCB7XG4gICAgc3RhdHVzOiBzdGF0dXMgPz8gMjAwLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogcHJlcGFyZUhlYWRlcnMoaGVhZGVycywge1xuICAgICAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04JyxcbiAgICB9KSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdub2RlOmh0dHAnO1xuXG4vKipcbiAqIFdyaXRlcyB0aGUgY29udGVudCBvZiBhIHN0cmVhbSB0byBhIHNlcnZlciByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHN0cmVhbSxcbn06IHtcbiAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlO1xuICBzdGF0dXM/OiBudW1iZXI7XG4gIHN0YXR1c1RleHQ/OiBzdHJpbmc7XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBzdHJpbmdbXT47XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT47XG59KTogdm9pZCB7XG4gIHJlc3BvbnNlLndyaXRlSGVhZChzdGF0dXMgPz8gMjAwLCBzdGF0dXNUZXh0LCBoZWFkZXJzKTtcblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIGNvbnN0IHJlYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcblxuICAgICAgICAvLyBSZXNwZWN0IGJhY2twcmVzc3VyZTogaWYgd3JpdGUoKSByZXR1cm5zIGZhbHNlLCB3YWl0IGZvciAnZHJhaW4nIGV2ZW50XG4gICAgICAgIGNvbnN0IGNhbkNvbnRpbnVlID0gcmVzcG9uc2Uud3JpdGUodmFsdWUpO1xuICAgICAgICBpZiAoIWNhbkNvbnRpbnVlKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICByZXNwb25zZS5vbmNlKCdkcmFpbicsIHJlc29sdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0gZmluYWxseSB7XG4gICAgICByZXNwb25zZS5lbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgcmVhZCgpO1xufVxuIiwgImltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgd3JpdGVUb1NlcnZlclJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHtcbiAgcmVzcG9uc2UsXG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgdGV4dFN0cmVhbSxcbn06IHtcbiAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlO1xuICB0ZXh0U3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxzdHJpbmc+O1xufSAmIFJlc3BvbnNlSW5pdCk6IHZvaWQge1xuICB3cml0ZVRvU2VydmVyUmVzcG9uc2Uoe1xuICAgIHJlc3BvbnNlLFxuICAgIHN0YXR1cyxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIHByZXBhcmVIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICd0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgIH0pLmVudHJpZXMoKSxcbiAgICApLFxuICAgIHN0cmVhbTogdGV4dFN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksXG4gIH0pO1xufVxuIiwgImV4cG9ydCBjbGFzcyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0gZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW08dW5rbm93biwgc3RyaW5nPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHRyYW5zZm9ybShwYXJ0LCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShwYXJ0KX1cXG5cXG5gKTtcbiAgICAgIH0sXG4gICAgICBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSgnZGF0YTogW0RPTkVdXFxuXFxuJyk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMgPSB7XG4gICdjb250ZW50LXR5cGUnOiAndGV4dC9ldmVudC1zdHJlYW0nLFxuICAnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZScsXG4gIGNvbm5lY3Rpb246ICdrZWVwLWFsaXZlJyxcbiAgJ3gtdmVyY2VsLWFpLXVpLW1lc3NhZ2Utc3RyZWFtJzogJ3YxJyxcbiAgJ3gtYWNjZWwtYnVmZmVyaW5nJzogJ25vJywgLy8gZGlzYWJsZSBuZ2lueCBidWZmZXJpbmdcbn07XG4iLCAiaW1wb3J0IHsgcHJlcGFyZUhlYWRlcnMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtaGVhZGVycyc7XG5pbXBvcnQgeyBKc29uVG9Tc2VUcmFuc2Zvcm1TdHJlYW0gfSBmcm9tICcuL2pzb24tdG8tc3NlLXRyYW5zZm9ybS1zdHJlYW0nO1xuaW1wb3J0IHsgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUyB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0taGVhZGVycyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2VJbml0IH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1yZXNwb25zZS1pbml0JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlKHtcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICBzdHJlYW0sXG4gIGNvbnN1bWVTc2VTdHJlYW0sXG59OiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQgJiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+O1xufSk6IFJlc3BvbnNlIHtcbiAgbGV0IHNzZVN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtKCkpO1xuXG4gIC8vIHdoZW4gdGhlIGNvbnN1bWVTc2VTdHJlYW0gaXMgcHJvdmlkZWQsIHdlIG5lZWQgdG8gdGVlIHRoZSBzdHJlYW1cbiAgLy8gYW5kIHNlbmQgdGhlIHNlY29uZCBwYXJ0IHRvIHRoZSBjb25zdW1lU3NlU3RyZWFtIGZ1bmN0aW9uXG4gIC8vIHNvIHRoYXQgaXQgY2FuIGJlIGNvbnN1bWVkIGJ5IHRoZSBjbGllbnQgaW5kZXBlbmRlbnRseVxuICBpZiAoY29uc3VtZVNzZVN0cmVhbSkge1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHNzZVN0cmVhbS50ZWUoKTtcbiAgICBzc2VTdHJlYW0gPSBzdHJlYW0xO1xuICAgIGNvbnN1bWVTc2VTdHJlYW0oeyBzdHJlYW06IHN0cmVhbTIgfSk7IC8vIG5vIGF3YWl0IChkbyBub3QgYmxvY2sgdGhlIHJlc3BvbnNlKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzc2VTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLCB7XG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogcHJlcGFyZUhlYWRlcnMoaGVhZGVycywgVUlfTUVTU0FHRV9TVFJFQU1fSEVBREVSUyksXG4gIH0pO1xufVxuIiwgImltcG9ydCB7IElkR2VuZXJhdG9yIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNwb25zZVVJTWVzc2FnZUlkKHtcbiAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgcmVzcG9uc2VNZXNzYWdlSWQsXG59OiB7XG4gIG9yaWdpbmFsTWVzc2FnZXM6IFVJTWVzc2FnZVtdIHwgdW5kZWZpbmVkO1xuICByZXNwb25zZU1lc3NhZ2VJZDogc3RyaW5nIHwgSWRHZW5lcmF0b3I7XG59KSB7XG4gIC8vIHdoZW4gdGhlcmUgYXJlIG5vIG9yaWdpbmFsIG1lc3NhZ2VzIChpLmUuIG5vIHBlcnNpc3RlbmNlKSxcbiAgLy8gdGhlIGFzc2lzdGFudCBtZXNzYWdlIGlkIGdlbmVyYXRpb24gaXMgaGFuZGxlZCBvbiB0aGUgY2xpZW50IHNpZGUuXG4gIGlmIChvcmlnaW5hbE1lc3NhZ2VzID09IG51bGwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBvcmlnaW5hbE1lc3NhZ2VzW29yaWdpbmFsTWVzc2FnZXMubGVuZ3RoIC0gMV07XG5cbiAgcmV0dXJuIGxhc3RNZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50J1xuICAgID8gbGFzdE1lc3NhZ2UuaWRcbiAgICA6IHR5cGVvZiByZXNwb25zZU1lc3NhZ2VJZCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyByZXNwb25zZU1lc3NhZ2VJZCgpXG4gICAgICA6IHJlc3BvbnNlTWVzc2FnZUlkO1xufVxuIiwgImltcG9ydCB7XG4gIFN0YW5kYXJkU2NoZW1hVjEsXG4gIHZhbGlkYXRlVHlwZXMsXG4gIFZhbGlkYXRvcixcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgRmluaXNoUmVhc29uIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHtcbiAgRGF0YVVJTWVzc2FnZUNodW5rLFxuICBJbmZlclVJTWVzc2FnZUNodW5rLFxuICBpc0RhdGFVSU1lc3NhZ2VDaHVuayxcbiAgVUlNZXNzYWdlQ2h1bmssXG59IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4uL3V0aWwvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBtZXJnZU9iamVjdHMgfSBmcm9tICcuLi91dGlsL21lcmdlLW9iamVjdHMnO1xuaW1wb3J0IHsgcGFyc2VQYXJ0aWFsSnNvbiB9IGZyb20gJy4uL3V0aWwvcGFyc2UtcGFydGlhbC1qc29uJztcbmltcG9ydCB7IFVJRGF0YVR5cGVzVG9TY2hlbWFzIH0gZnJvbSAnLi9jaGF0JztcbmltcG9ydCB7XG4gIERhdGFVSVBhcnQsXG4gIER5bmFtaWNUb29sVUlQYXJ0LFxuICBnZXRUb29sTmFtZSxcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICBJbmZlclVJTWVzc2FnZU1ldGFkYXRhLFxuICBJbmZlclVJTWVzc2FnZVRvb2xDYWxsLFxuICBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICBpc1Rvb2xVSVBhcnQsXG4gIFJlYXNvbmluZ1VJUGFydCxcbiAgVGV4dFVJUGFydCxcbiAgVG9vbFVJUGFydCxcbiAgVUlNZXNzYWdlLFxuICBVSU1lc3NhZ2VQYXJ0LFxufSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSB7XG4gIG1lc3NhZ2U6IFVJX01FU1NBR0U7XG4gIGFjdGl2ZVRleHRQYXJ0czogUmVjb3JkPHN0cmluZywgVGV4dFVJUGFydD47XG4gIGFjdGl2ZVJlYXNvbmluZ1BhcnRzOiBSZWNvcmQ8c3RyaW5nLCBSZWFzb25pbmdVSVBhcnQ+O1xuICBwYXJ0aWFsVG9vbENhbGxzOiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIHsgdGV4dDogc3RyaW5nOyBpbmRleDogbnVtYmVyOyB0b29sTmFtZTogc3RyaW5nOyBkeW5hbWljPzogYm9vbGVhbiB9XG4gID47XG4gIGZpbmlzaFJlYXNvbj86IEZpbmlzaFJlYXNvbjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIGxhc3RNZXNzYWdlLFxuICBtZXNzYWdlSWQsXG59OiB7XG4gIGxhc3RNZXNzYWdlOiBVSV9NRVNTQUdFIHwgdW5kZWZpbmVkO1xuICBtZXNzYWdlSWQ6IHN0cmluZztcbn0pOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPiB7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZTpcbiAgICAgIGxhc3RNZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50J1xuICAgICAgICA/IGxhc3RNZXNzYWdlXG4gICAgICAgIDogKHtcbiAgICAgICAgICAgIGlkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICBtZXRhZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICAgICAgICBwYXJ0czogW10gYXMgVUlNZXNzYWdlUGFydDxcbiAgICAgICAgICAgICAgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+LFxuICAgICAgICAgICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+XG4gICAgICAgICAgICA+W10sXG4gICAgICAgICAgfSBhcyBVSV9NRVNTQUdFKSxcbiAgICBhY3RpdmVUZXh0UGFydHM6IHt9LFxuICAgIGFjdGl2ZVJlYXNvbmluZ1BhcnRzOiB7fSxcbiAgICBwYXJ0aWFsVG9vbENhbGxzOiB7fSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBzdHJlYW0sXG4gIG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgZGF0YVBhcnRTY2hlbWFzLFxuICBydW5VcGRhdGVNZXNzYWdlSm9iLFxuICBvbkVycm9yLFxuICBvblRvb2xDYWxsLFxuICBvbkRhdGEsXG59OiB7XG4gIC8vIGlucHV0IHN0cmVhbSBpcyBub3QgZnVsbHkgdHlwZWQgeWV0OlxuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbiAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hPzpcbiAgICB8IFZhbGlkYXRvcjxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PlxuICAgIHwgU3RhbmRhcmRTY2hlbWFWMTxJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+PjtcbiAgZGF0YVBhcnRTY2hlbWFzPzogVUlEYXRhVHlwZXNUb1NjaGVtYXM8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PjtcbiAgb25Ub29sQ2FsbD86IChvcHRpb25zOiB7XG4gICAgdG9vbENhbGw6IEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRT47XG4gIH0pID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcbiAgb25EYXRhPzogKGRhdGFQYXJ0OiBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj4pID0+IHZvaWQ7XG4gIHJ1blVwZGF0ZU1lc3NhZ2VKb2I6IChcbiAgICBqb2I6IChvcHRpb25zOiB7XG4gICAgICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gICAgICB3cml0ZTogKCkgPT4gdm9pZDtcbiAgICB9KSA9PiBQcm9taXNlPHZvaWQ+LFxuICApID0+IFByb21pc2U8dm9pZD47XG4gIG9uRXJyb3I6IEVycm9ySGFuZGxlcjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+PiB7XG4gIHJldHVybiBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxVSU1lc3NhZ2VDaHVuaywgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPj4oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGF3YWl0IHJ1blVwZGF0ZU1lc3NhZ2VKb2IoYXN5bmMgKHsgc3RhdGUsIHdyaXRlIH0pID0+IHtcbiAgICAgICAgICBmdW5jdGlvbiBnZXRUb29sSW52b2NhdGlvbih0b29sQ2FsbElkOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9ucyA9IHN0YXRlLm1lc3NhZ2UucGFydHMuZmlsdGVyKGlzVG9vbFVJUGFydCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gdG9vbEludm9jYXRpb25zLmZpbmQoXG4gICAgICAgICAgICAgIGludm9jYXRpb24gPT4gaW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKHRvb2xJbnZvY2F0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICd0b29sLW91dHB1dC1lcnJvciBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbC1pbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdG9vbEludm9jYXRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0RHluYW1pY1Rvb2xJbnZvY2F0aW9uKHRvb2xDYWxsSWQ6IHN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maWx0ZXIoXG4gICAgICAgICAgICAgIHBhcnQgPT4gcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJyxcbiAgICAgICAgICAgICkgYXMgRHluYW1pY1Rvb2xVSVBhcnRbXTtcblxuICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSB0b29sSW52b2NhdGlvbnMuZmluZChcbiAgICAgICAgICAgICAgaW52b2NhdGlvbiA9PiBpbnZvY2F0aW9uLnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAodG9vbEludm9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ3Rvb2wtb3V0cHV0LWVycm9yIG11c3QgYmUgcHJlY2VkZWQgYnkgYSB0b29sLWlucHV0LWF2YWlsYWJsZScsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0b29sSW52b2NhdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVUb29sUGFydChcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4gJiBzdHJpbmc7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICB9ICYgKFxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgb3V0cHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeT86IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgcmF3SW5wdXQ/OiB1bmtub3duO1xuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgICAgICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgICAgICAgaXNUb29sVUlQYXJ0KHBhcnQpICYmIHBhcnQudG9vbENhbGxJZCA9PT0gb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgKSBhcyBUb29sVUlQYXJ0PEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+IHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBjb25zdCBhbnlPcHRpb25zID0gb3B0aW9ucyBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCBhbnlQYXJ0ID0gcGFydCBhcyBhbnk7XG5cbiAgICAgICAgICAgIGlmIChwYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9IG9wdGlvbnMuc3RhdGU7XG4gICAgICAgICAgICAgIGFueVBhcnQuaW5wdXQgPSBhbnlPcHRpb25zLmlucHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0Lm91dHB1dCA9IGFueU9wdGlvbnMub3V0cHV0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LmVycm9yVGV4dCA9IGFueU9wdGlvbnMuZXJyb3JUZXh0O1xuICAgICAgICAgICAgICBhbnlQYXJ0LnJhd0lucHV0ID0gYW55T3B0aW9ucy5yYXdJbnB1dDtcbiAgICAgICAgICAgICAgYW55UGFydC5wcmVsaW1pbmFyeSA9IGFueU9wdGlvbnMucHJlbGltaW5hcnk7XG5cbiAgICAgICAgICAgICAgLy8gb25jZSBwcm92aWRlckV4ZWN1dGVkIGlzIHNldCwgaXQgc3RheXMgZm9yIHN0cmVhbWluZ1xuICAgICAgICAgICAgICBhbnlQYXJ0LnByb3ZpZGVyRXhlY3V0ZWQgPVxuICAgICAgICAgICAgICAgIGFueU9wdGlvbnMucHJvdmlkZXJFeGVjdXRlZCA/PyBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQ7XG5cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ2lucHV0LWF2YWlsYWJsZSdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcGFydC5jYWxsUHJvdmlkZXJNZXRhZGF0YSA9IGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBgdG9vbC0ke29wdGlvbnMudG9vbE5hbWV9YCxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBvcHRpb25zLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGFueU9wdGlvbnMuaW5wdXQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBhbnlPcHRpb25zLm91dHB1dCxcbiAgICAgICAgICAgICAgICByYXdJbnB1dDogYW55T3B0aW9ucy5yYXdJbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IGFueU9wdGlvbnMuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGFueU9wdGlvbnMucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogYW55T3B0aW9ucy5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICAuLi4oYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgID8geyBjYWxsUHJvdmlkZXJNZXRhZGF0YTogYW55T3B0aW9ucy5wcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9IGFzIFRvb2xVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPj4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUR5bmFtaWNUb29sUGFydChcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4gJiBzdHJpbmc7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICAgICAgICB9ICYgKFxuICAgICAgICAgICAgICB8IHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ2lucHV0LWF2YWlsYWJsZSc7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHwge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InO1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgICAgICAgICAgICBwYXJ0ID0+XG4gICAgICAgICAgICAgICAgcGFydC50eXBlID09PSAnZHluYW1pYy10b29sJyAmJlxuICAgICAgICAgICAgICAgIHBhcnQudG9vbENhbGxJZCA9PT0gb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgKSBhcyBEeW5hbWljVG9vbFVJUGFydCB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgY29uc3QgYW55T3B0aW9ucyA9IG9wdGlvbnMgYXMgYW55O1xuICAgICAgICAgICAgY29uc3QgYW55UGFydCA9IHBhcnQgYXMgYW55O1xuXG4gICAgICAgICAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHBhcnQuc3RhdGUgPSBvcHRpb25zLnN0YXRlO1xuICAgICAgICAgICAgICBhbnlQYXJ0LnRvb2xOYW1lID0gb3B0aW9ucy50b29sTmFtZTtcbiAgICAgICAgICAgICAgYW55UGFydC5pbnB1dCA9IGFueU9wdGlvbnMuaW5wdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQub3V0cHV0ID0gYW55T3B0aW9ucy5vdXRwdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQuZXJyb3JUZXh0ID0gYW55T3B0aW9ucy5lcnJvclRleHQ7XG4gICAgICAgICAgICAgIGFueVBhcnQucmF3SW5wdXQgPSBhbnlPcHRpb25zLnJhd0lucHV0ID8/IGFueVBhcnQucmF3SW5wdXQ7XG4gICAgICAgICAgICAgIGFueVBhcnQucHJlbGltaW5hcnkgPSBhbnlPcHRpb25zLnByZWxpbWluYXJ5O1xuXG4gICAgICAgICAgICAgIC8vIG9uY2UgcHJvdmlkZXJFeGVjdXRlZCBpcyBzZXQsIGl0IHN0YXlzIGZvciBzdHJlYW1pbmdcbiAgICAgICAgICAgICAgYW55UGFydC5wcm92aWRlckV4ZWN1dGVkID1cbiAgICAgICAgICAgICAgICBhbnlPcHRpb25zLnByb3ZpZGVyRXhlY3V0ZWQgPz8gcGFydC5wcm92aWRlckV4ZWN1dGVkO1xuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHBhcnQuc3RhdGUgPT09ICdpbnB1dC1hdmFpbGFibGUnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBhcnQuY2FsbFByb3ZpZGVyTWV0YWRhdGEgPSBhbnlPcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2R5bmFtaWMtdG9vbCcsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IG9wdGlvbnMudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogb3B0aW9ucy50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgICAgICAgIGlucHV0OiBhbnlPcHRpb25zLmlucHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYW55T3B0aW9ucy5vdXRwdXQsXG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBhbnlPcHRpb25zLmVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogYW55T3B0aW9ucy5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBhbnlPcHRpb25zLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgLi4uKGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IHsgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IGFueU9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSBhcyBEeW5hbWljVG9vbFVJUGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTWVzc2FnZU1ldGFkYXRhKG1ldGFkYXRhOiB1bmtub3duKSB7XG4gICAgICAgICAgICBpZiAobWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBtZXJnZWRNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5tZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICA/IG1lcmdlT2JqZWN0cyhzdGF0ZS5tZXNzYWdlLm1ldGFkYXRhLCBtZXRhZGF0YSlcbiAgICAgICAgICAgICAgICAgIDogbWV0YWRhdGE7XG5cbiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogbWVyZ2VkTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICBzY2hlbWE6IG1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UubWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIG1lcmdlZE1ldGFkYXRhIGFzIEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICd0ZXh0LXN0YXJ0Jzoge1xuICAgICAgICAgICAgICBjb25zdCB0ZXh0UGFydDogVGV4dFVJUGFydCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ3N0cmVhbWluZycsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVRleHRQYXJ0c1tjaHVuay5pZF0gPSB0ZXh0UGFydDtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHRleHRQYXJ0KTtcbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHRQYXJ0ID0gc3RhdGUuYWN0aXZlVGV4dFBhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgdGV4dFBhcnQudGV4dCArPSBjaHVuay5kZWx0YTtcbiAgICAgICAgICAgICAgdGV4dFBhcnQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvdmlkZXJNZXRhZGF0YSA/PyB0ZXh0UGFydC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndGV4dC1lbmQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHRQYXJ0ID0gc3RhdGUuYWN0aXZlVGV4dFBhcnRzW2NodW5rLmlkXTtcbiAgICAgICAgICAgICAgdGV4dFBhcnQuc3RhdGUgPSAnZG9uZSc7XG4gICAgICAgICAgICAgIHRleHRQYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIGNodW5rLnByb3ZpZGVyTWV0YWRhdGEgPz8gdGV4dFBhcnQucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlLmFjdGl2ZVRleHRQYXJ0c1tjaHVuay5pZF07XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctc3RhcnQnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYXNvbmluZ1BhcnQ6IFJlYXNvbmluZ1VJUGFydCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHN0YXRlOiAnc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdID0gcmVhc29uaW5nUGFydDtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHJlYXNvbmluZ1BhcnQpO1xuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAncmVhc29uaW5nLWRlbHRhJzoge1xuICAgICAgICAgICAgICBjb25zdCByZWFzb25pbmdQYXJ0ID0gc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnRleHQgKz0gY2h1bmsuZGVsdGE7XG4gICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQucHJvdmlkZXJNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgY2h1bmsucHJvdmlkZXJNZXRhZGF0YSA/PyByZWFzb25pbmdQYXJ0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdyZWFzb25pbmctZW5kJzoge1xuICAgICAgICAgICAgICBjb25zdCByZWFzb25pbmdQYXJ0ID0gc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnByb3ZpZGVyTWV0YWRhdGEgPVxuICAgICAgICAgICAgICAgIGNodW5rLnByb3ZpZGVyTWV0YWRhdGEgPz8gcmVhc29uaW5nUGFydC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnN0YXRlID0gJ2RvbmUnO1xuICAgICAgICAgICAgICBkZWxldGUgc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHNbY2h1bmsuaWRdO1xuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IGNodW5rLm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICB1cmw6IGNodW5rLnVybCxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NvdXJjZS11cmwnOiB7XG4gICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NvdXJjZS11cmwnLFxuICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBjaHVuay5zb3VyY2VJZCxcbiAgICAgICAgICAgICAgICB1cmw6IGNodW5rLnVybCxcbiAgICAgICAgICAgICAgICB0aXRsZTogY2h1bmsudGl0bGUsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3NvdXJjZS1kb2N1bWVudCc6IHtcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc291cmNlLWRvY3VtZW50JyxcbiAgICAgICAgICAgICAgICBzb3VyY2VJZDogY2h1bmsuc291cmNlSWQsXG4gICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBjaHVuay5tZWRpYVR5cGUsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGNodW5rLnRpdGxlLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBjaHVuay5maWxlbmFtZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1zdGFydCc6IHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gc3RhdGUubWVzc2FnZS5wYXJ0cy5maWx0ZXIoaXNUb29sVUlQYXJ0KTtcblxuICAgICAgICAgICAgICAvLyBhZGQgdGhlIHBhcnRpYWwgdG9vbCBjYWxsIHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgc3RhdGUucGFydGlhbFRvb2xDYWxsc1tjaHVuay50b29sQ2FsbElkXSA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogY2h1bmsudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xJbnZvY2F0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgZHluYW1pYzogY2h1bmsuZHluYW1pYyxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZGVsdGEnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxUb29sQ2FsbCA9IHN0YXRlLnBhcnRpYWxUb29sQ2FsbHNbY2h1bmsudG9vbENhbGxJZF07XG5cbiAgICAgICAgICAgICAgcGFydGlhbFRvb2xDYWxsLnRleHQgKz0gY2h1bmsuaW5wdXRUZXh0RGVsdGE7XG5cbiAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcGFydGlhbEFyZ3MgfSA9IGF3YWl0IHBhcnNlUGFydGlhbEpzb24oXG4gICAgICAgICAgICAgICAgcGFydGlhbFRvb2xDYWxsLnRleHQsXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnRpYWxUb29sQ2FsbC5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydGlhbFRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnRpYWxBcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogcGFydGlhbFRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1zdHJlYW1pbmcnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnRpYWxBcmdzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtYXZhaWxhYmxlJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNodW5rLmlucHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVG9vbFBhcnQoe1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiBjaHVuay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBjaHVuay5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgd3JpdGUoKTtcblxuICAgICAgICAgICAgICAvLyBpbnZva2UgdGhlIG9uVG9vbENhbGwgY2FsbGJhY2sgaWYgaXQgZXhpc3RzLiBUaGlzIGlzIGJsb2NraW5nLlxuICAgICAgICAgICAgICAvLyBJbiB0aGUgZnV0dXJlIHdlIHNob3VsZCBtYWtlIHRoaXMgbm9uLWJsb2NraW5nLCB3aGljaFxuICAgICAgICAgICAgICAvLyByZXF1aXJlcyBhZGRpdGlvbmFsIHN0YXRlIG1hbmFnZW1lbnQgZm9yIGVycm9yIGhhbmRsaW5nIGV0Yy5cbiAgICAgICAgICAgICAgLy8gU2tpcCBjYWxsaW5nIG9uVG9vbENhbGwgZm9yIHByb3ZpZGVyLWV4ZWN1dGVkIHRvb2xzIHNpbmNlIHRoZXkgYXJlIGFscmVhZHkgZXhlY3V0ZWRcbiAgICAgICAgICAgICAgaWYgKG9uVG9vbENhbGwgJiYgIWNodW5rLnByb3ZpZGVyRXhlY3V0ZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBvblRvb2xDYWxsKHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBjaHVuayBhcyBJbmZlclVJTWVzc2FnZVRvb2xDYWxsPFVJX01FU1NBR0U+LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLWlucHV0LWVycm9yJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNodW5rLmlucHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBjaHVuay5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogY2h1bmsucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIHJhd0lucHV0OiBjaHVuay5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogY2h1bmsuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAndG9vbC1vdXRwdXQtYXZhaWxhYmxlJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gZ2V0RHluYW1pY1Rvb2xJbnZvY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlRHluYW1pY1Rvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbEludm9jYXRpb24udG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLmlucHV0LFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjaHVuay5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogY2h1bmsucHJlbGltaW5hcnksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb24gPSBnZXRUb29sSW52b2NhdGlvbihjaHVuay50b29sQ2FsbElkKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZVRvb2xQYXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogZ2V0VG9vbE5hbWUodG9vbEludm9jYXRpb24pLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogY2h1bmsub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiBjaHVuay5wcmVsaW1pbmFyeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICd0b29sLW91dHB1dC1lcnJvcic6IHtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sSW52b2NhdGlvbiA9IGdldER5bmFtaWNUb29sSW52b2NhdGlvbihcbiAgICAgICAgICAgICAgICAgIGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZUR5bmFtaWNUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xJbnZvY2F0aW9uLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICh0b29sSW52b2NhdGlvbiBhcyBhbnkpLmlucHV0LFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiBjaHVuay5lcnJvclRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBjaHVuay5wcm92aWRlckV4ZWN1dGVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xJbnZvY2F0aW9uID0gZ2V0VG9vbEludm9jYXRpb24oY2h1bmsudG9vbENhbGxJZCk7XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVUb29sUGFydCh7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGdldFRvb2xOYW1lKHRvb2xJbnZvY2F0aW9uKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJyxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5pbnB1dCxcbiAgICAgICAgICAgICAgICAgIHJhd0lucHV0OiAodG9vbEludm9jYXRpb24gYXMgYW55KS5yYXdJbnB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogY2h1bmsuZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdzdGFydC1zdGVwJzoge1xuICAgICAgICAgICAgICAvLyBhZGQgYSBzdGVwIGJvdW5kYXJ5IHBhcnQgdG8gdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgc3RhdGUubWVzc2FnZS5wYXJ0cy5wdXNoKHsgdHlwZTogJ3N0ZXAtc3RhcnQnIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoLXN0ZXAnOiB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjdXJyZW50IHRleHQgYW5kIHJlYXNvbmluZyBwYXJ0c1xuICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVUZXh0UGFydHMgPSB7fTtcbiAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlUmVhc29uaW5nUGFydHMgPSB7fTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ3N0YXJ0Jzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsubWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlLmlkID0gY2h1bmsubWVzc2FnZUlkO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlTWVzc2FnZU1ldGFkYXRhKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSk7XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLm1lc3NhZ2VJZCAhPSBudWxsIHx8IGNodW5rLm1lc3NhZ2VNZXRhZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd3JpdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZmluaXNoUmVhc29uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5maW5pc2hSZWFzb24gPSBjaHVuay5maW5pc2hSZWFzb247XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlTWVzc2FnZU1ldGFkYXRhKGNodW5rLm1lc3NhZ2VNZXRhZGF0YSk7XG4gICAgICAgICAgICAgIGlmIChjaHVuay5tZXNzYWdlTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UtbWV0YWRhdGEnOiB7XG4gICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZU1lc3NhZ2VNZXRhZGF0YShjaHVuay5tZXNzYWdlTWV0YWRhdGEpO1xuICAgICAgICAgICAgICBpZiAoY2h1bmsubWVzc2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgICAgICAgb25FcnJvcj8uKG5ldyBFcnJvcihjaHVuay5lcnJvclRleHQpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgaWYgKGlzRGF0YVVJTWVzc2FnZUNodW5rKGNodW5rKSkge1xuICAgICAgICAgICAgICAgIC8vIHZhbGlkYXRlIGRhdGEgY2h1bmsgaWYgZGF0YVBhcnRTY2hlbWFzIGlzIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFQYXJ0U2NoZW1hcz8uW2NodW5rLnR5cGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2h1bmsuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBkYXRhUGFydFNjaGVtYXNbY2h1bmsudHlwZV0sXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYXN0LCB2YWxpZGF0aW9uIGlzIGRvbmUgYWJvdmVcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ2h1bmsgPSBjaHVuayBhcyBEYXRhVUlNZXNzYWdlQ2h1bms8XG4gICAgICAgICAgICAgICAgICBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5cbiAgICAgICAgICAgICAgICA+O1xuXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNpZW50IHBhcnRzIGFyZSBub3QgYWRkZWQgdG8gdGhlIG1lc3NhZ2Ugc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUNodW5rLnRyYW5zaWVudCkge1xuICAgICAgICAgICAgICAgICAgb25EYXRhPy4oZGF0YUNodW5rKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVUlQYXJ0ID1cbiAgICAgICAgICAgICAgICAgIGRhdGFDaHVuay5pZCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gKHN0YXRlLm1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rQXJnID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaHVuay50eXBlID09PSBjaHVua0FyZy50eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaHVuay5pZCA9PT0gY2h1bmtBcmcuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgKSBhc1xuICAgICAgICAgICAgICAgICAgICAgICAgfCBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHwgdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1VJUGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ1VJUGFydC5kYXRhID0gZGF0YUNodW5rLmRhdGE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UucGFydHMucHVzaChkYXRhQ2h1bmspO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9uRGF0YT8uKGRhdGFDaHVuayk7XG5cbiAgICAgICAgICAgICAgICB3cml0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rIGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSksXG4gICk7XG59XG4iLCAiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZC92NCc7XG5pbXBvcnQge1xuICBQcm92aWRlck1ldGFkYXRhLFxuICBwcm92aWRlck1ldGFkYXRhU2NoZW1hLFxufSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBGaW5pc2hSZWFzb24gfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQge1xuICBJbmZlclVJTWVzc2FnZURhdGEsXG4gIEluZmVyVUlNZXNzYWdlTWV0YWRhdGEsXG4gIFVJRGF0YVR5cGVzLFxuICBVSU1lc3NhZ2UsXG59IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IFZhbHVlT2YgfSBmcm9tICcuLi91dGlsL3ZhbHVlLW9mJztcbmltcG9ydCB7IGxhenlWYWxpZGF0b3IsIHpvZFNjaGVtYSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgdWlNZXNzYWdlQ2h1bmtTY2hlbWEgPSBsYXp5VmFsaWRhdG9yKCgpID0+XG4gIHpvZFNjaGVtYShcbiAgICB6LnVuaW9uKFtcbiAgICAgIHouc3RyaWN0T2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0ZXh0LXN0YXJ0JyksXG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICB9KSxcbiAgICAgIHouc3RyaWN0T2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0ZXh0LWRlbHRhJyksXG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dC1lbmQnKSxcbiAgICAgICAgaWQ6IHouc3RyaW5nKCksXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2Vycm9yJyksXG4gICAgICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtaW5wdXQtc3RhcnQnKSxcbiAgICAgICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICB9KSxcbiAgICAgIHouc3RyaWN0T2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0b29sLWlucHV0LWRlbHRhJyksXG4gICAgICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIGlucHV0VGV4dERlbHRhOiB6LnN0cmluZygpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1pbnB1dC1hdmFpbGFibGUnKSxcbiAgICAgICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbC1pbnB1dC1lcnJvcicpLFxuICAgICAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgICAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgIGR5bmFtaWM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtb3V0cHV0LWF2YWlsYWJsZScpLFxuICAgICAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgICAgICBvdXRwdXQ6IHoudW5rbm93bigpLFxuICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICBkeW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICBwcmVsaW1pbmFyeTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2wtb3V0cHV0LWVycm9yJyksXG4gICAgICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIGVycm9yVGV4dDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgZHluYW1pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZy1zdGFydCcpLFxuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nLWRlbHRhJyksXG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nLWVuZCcpLFxuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnc291cmNlLXVybCcpLFxuICAgICAgICBzb3VyY2VJZDogei5zdHJpbmcoKSxcbiAgICAgICAgdXJsOiB6LnN0cmluZygpLFxuICAgICAgICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICB9KSxcbiAgICAgIHouc3RyaWN0T2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtZG9jdW1lbnQnKSxcbiAgICAgICAgc291cmNlSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIG1lZGlhVHlwZTogei5zdHJpbmcoKSxcbiAgICAgICAgdGl0bGU6IHouc3RyaW5nKCksXG4gICAgICAgIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2ZpbGUnKSxcbiAgICAgICAgdXJsOiB6LnN0cmluZygpLFxuICAgICAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCksXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmN1c3RvbTxgZGF0YS0ke3N0cmluZ31gPihcbiAgICAgICAgICAodmFsdWUpOiB2YWx1ZSBpcyBgZGF0YS0ke3N0cmluZ31gID0+XG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ2RhdGEtJyksXG4gICAgICAgICAgeyBtZXNzYWdlOiAnVHlwZSBtdXN0IHN0YXJ0IHdpdGggXCJkYXRhLVwiJyB9LFxuICAgICAgICApLFxuICAgICAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICBkYXRhOiB6LnVua25vd24oKSxcbiAgICAgICAgdHJhbnNpZW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnc3RhcnQtc3RlcCcpLFxuICAgICAgfSksXG4gICAgICB6LnN0cmljdE9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZmluaXNoLXN0ZXAnKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0YXJ0JyksXG4gICAgICAgIG1lc3NhZ2VJZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICBtZXNzYWdlTWV0YWRhdGE6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gICAgICB9KSxcbiAgICAgIHouc3RyaWN0T2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdmaW5pc2gnKSxcbiAgICAgICAgZmluaXNoUmVhc29uOiB6XG4gICAgICAgICAgLmVudW0oW1xuICAgICAgICAgICAgJ3N0b3AnLFxuICAgICAgICAgICAgJ2xlbmd0aCcsXG4gICAgICAgICAgICAnY29udGVudC1maWx0ZXInLFxuICAgICAgICAgICAgJ3Rvb2wtY2FsbHMnLFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICdvdGhlcicsXG4gICAgICAgICAgICAndW5rbm93bicsXG4gICAgICAgICAgXSBhcyBjb25zdCBzYXRpc2ZpZXMgcmVhZG9ubHkgRmluaXNoUmVhc29uW10pXG4gICAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgICAgIG1lc3NhZ2VNZXRhZGF0YTogei51bmtub3duKCkub3B0aW9uYWwoKSxcbiAgICAgIH0pLFxuICAgICAgei5zdHJpY3RPYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2Fib3J0JyksXG4gICAgICB9KSxcbiAgICAgIHouc3RyaWN0T2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlLW1ldGFkYXRhJyksXG4gICAgICAgIG1lc3NhZ2VNZXRhZGF0YTogei51bmtub3duKCksXG4gICAgICB9KSxcbiAgICBdKSxcbiAgKSxcbik7XG5cbmV4cG9ydCB0eXBlIERhdGFVSU1lc3NhZ2VDaHVuazxEQVRBX1RZUEVTIGV4dGVuZHMgVUlEYXRhVHlwZXM+ID0gVmFsdWVPZjx7XG4gIFtOQU1FIGluIGtleW9mIERBVEFfVFlQRVMgJiBzdHJpbmddOiB7XG4gICAgdHlwZTogYGRhdGEtJHtOQU1FfWA7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgZGF0YTogREFUQV9UWVBFU1tOQU1FXTtcbiAgICB0cmFuc2llbnQ/OiBib29sZWFuO1xuICB9O1xufT47XG5cbmV4cG9ydCB0eXBlIFVJTWVzc2FnZUNodW5rPFxuICBNRVRBREFUQSA9IHVua25vd24sXG4gIERBVEFfVFlQRVMgZXh0ZW5kcyBVSURhdGFUeXBlcyA9IFVJRGF0YVR5cGVzLFxuPiA9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtc3RhcnQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1kZWx0YSc7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAndGV4dC1lbmQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YSc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdlcnJvcic7XG4gICAgICBlcnJvclRleHQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICBpbnB1dDogdW5rbm93bjtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZXJyb3InO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICAgIGlucHV0OiB1bmtub3duO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIGR5bmFtaWM/OiBib29sZWFuO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLW91dHB1dC1hdmFpbGFibGUnO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgb3V0cHV0OiB1bmtub3duO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtb3V0cHV0LWVycm9yJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG4gICAgICBkeW5hbWljPzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtc3RhcnQnO1xuICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgdG9vbE5hbWU6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgZHluYW1pYz86IGJvb2xlYW47XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICd0b29sLWlucHV0LWRlbHRhJztcbiAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgIGlucHV0VGV4dERlbHRhOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzb3VyY2UtdXJsJztcbiAgICAgIHNvdXJjZUlkOiBzdHJpbmc7XG4gICAgICB1cmw6IHN0cmluZztcbiAgICAgIHRpdGxlPzogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzb3VyY2UtZG9jdW1lbnQnO1xuICAgICAgc291cmNlSWQ6IHN0cmluZztcbiAgICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgIGZpbGVuYW1lPzogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaWxlJztcbiAgICAgIHVybDogc3RyaW5nO1xuICAgICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwgRGF0YVVJTWVzc2FnZUNodW5rPERBVEFfVFlQRVM+XG4gIHwge1xuICAgICAgdHlwZTogJ3N0YXJ0LXN0ZXAnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnZmluaXNoLXN0ZXAnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnc3RhcnQnO1xuICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgbWVzc2FnZU1ldGFkYXRhPzogTUVUQURBVEE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaW5pc2gnO1xuICAgICAgZmluaXNoUmVhc29uPzogRmluaXNoUmVhc29uO1xuICAgICAgbWVzc2FnZU1ldGFkYXRhPzogTUVUQURBVEE7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdhYm9ydCc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdtZXNzYWdlLW1ldGFkYXRhJztcbiAgICAgIG1lc3NhZ2VNZXRhZGF0YTogTUVUQURBVEE7XG4gICAgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YVVJTWVzc2FnZUNodW5rKFxuICBjaHVuazogVUlNZXNzYWdlQ2h1bmssXG4pOiBjaHVuayBpcyBEYXRhVUlNZXNzYWdlQ2h1bms8VUlEYXRhVHlwZXM+IHtcbiAgcmV0dXJuIGNodW5rLnR5cGUuc3RhcnRzV2l0aCgnZGF0YS0nKTtcbn1cblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VDaHVuazxUIGV4dGVuZHMgVUlNZXNzYWdlPiA9IFVJTWVzc2FnZUNodW5rPFxuICBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFQ+LFxuICBJbmZlclVJTWVzc2FnZURhdGE8VD5cbj47XG4iLCAiLyoqXG4gKiBEZWVwbHkgbWVyZ2VzIHR3byBvYmplY3RzIHRvZ2V0aGVyLlxuICogLSBQcm9wZXJ0aWVzIGZyb20gdGhlIGBvdmVycmlkZXNgIG9iamVjdCBvdmVycmlkZSB0aG9zZSBpbiB0aGUgYGJhc2VgIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleS5cbiAqIC0gRm9yIG5lc3RlZCBvYmplY3RzLCB0aGUgbWVyZ2UgaXMgcGVyZm9ybWVkIHJlY3Vyc2l2ZWx5IChkZWVwIG1lcmdlKS5cbiAqIC0gQXJyYXlzIGFyZSByZXBsYWNlZCwgbm90IG1lcmdlZC5cbiAqIC0gUHJpbWl0aXZlIHZhbHVlcyBhcmUgcmVwbGFjZWQuXG4gKiAtIElmIGJvdGggYGJhc2VgIGFuZCBgb3ZlcnJpZGVzYCBhcmUgdW5kZWZpbmVkLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAqIC0gSWYgb25lIG9mIGBiYXNlYCBvciBgb3ZlcnJpZGVzYCBpcyB1bmRlZmluZWQsIHJldHVybnMgdGhlIG90aGVyLlxuICpcbiAqIEBwYXJhbSBiYXNlIFRoZSB0YXJnZXQgb2JqZWN0IHRvIG1lcmdlIGludG9cbiAqIEBwYXJhbSBvdmVycmlkZXMgVGhlIHNvdXJjZSBvYmplY3QgdG8gbWVyZ2UgZnJvbVxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IHdpdGggdGhlIG1lcmdlZCBwcm9wZXJ0aWVzLCBvciB1bmRlZmluZWQgaWYgYm90aCBpbnB1dHMgYXJlIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VPYmplY3RzPFQgZXh0ZW5kcyBvYmplY3QsIFUgZXh0ZW5kcyBvYmplY3Q+KFxuICBiYXNlOiBUIHwgdW5kZWZpbmVkLFxuICBvdmVycmlkZXM6IFUgfCB1bmRlZmluZWQsXG4pOiAoVCAmIFUpIHwgVCB8IFUgfCB1bmRlZmluZWQge1xuICAvLyBJZiBib3RoIGlucHV0cyBhcmUgdW5kZWZpbmVkLCByZXR1cm4gdW5kZWZpbmVkXG4gIGlmIChiYXNlID09PSB1bmRlZmluZWQgJiYgb3ZlcnJpZGVzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gSWYgdGFyZ2V0IGlzIHVuZGVmaW5lZCwgcmV0dXJuIHNvdXJjZVxuICBpZiAoYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlcztcbiAgfVxuXG4gIC8vIElmIHNvdXJjZSBpcyB1bmRlZmluZWQsIHJldHVybiB0YXJnZXRcbiAgaWYgKG92ZXJyaWRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cblxuICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0IHRvIGF2b2lkIG11dGF0aW5nIHRoZSBpbnB1dHNcbiAgY29uc3QgcmVzdWx0ID0geyAuLi5iYXNlIH0gYXMgVCAmIFU7XG5cbiAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBrZXlzIGluIHRoZSBzb3VyY2Ugb2JqZWN0XG4gIGZvciAoY29uc3Qga2V5IGluIG92ZXJyaWRlcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3ZlcnJpZGVzLCBrZXkpKSB7XG4gICAgICBjb25zdCBvdmVycmlkZXNWYWx1ZSA9IG92ZXJyaWRlc1trZXldO1xuXG4gICAgICAvLyBTa2lwIGlmIHRoZSBvdmVycmlkZXMgdmFsdWUgaXMgdW5kZWZpbmVkXG4gICAgICBpZiAob3ZlcnJpZGVzVmFsdWUgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgIC8vIEdldCB0aGUgYmFzZSB2YWx1ZSBpZiBpdCBleGlzdHNcbiAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9XG4gICAgICAgIGtleSBpbiBiYXNlID8gYmFzZVtrZXkgYXMgdW5rbm93biBhcyBrZXlvZiBUXSA6IHVuZGVmaW5lZDtcblxuICAgICAgLy8gQ2hlY2sgaWYgYm90aCB2YWx1ZXMgYXJlIG9iamVjdHMgdGhhdCBjYW4gYmUgZGVlcGx5IG1lcmdlZFxuICAgICAgY29uc3QgaXNTb3VyY2VPYmplY3QgPVxuICAgICAgICBvdmVycmlkZXNWYWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICB0eXBlb2Ygb3ZlcnJpZGVzVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KG92ZXJyaWRlc1ZhbHVlKSAmJlxuICAgICAgICAhKG92ZXJyaWRlc1ZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiZcbiAgICAgICAgIShvdmVycmlkZXNWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCk7XG5cbiAgICAgIGNvbnN0IGlzVGFyZ2V0T2JqZWN0ID1cbiAgICAgICAgYmFzZVZhbHVlICE9PSBudWxsICYmXG4gICAgICAgIGJhc2VWYWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHR5cGVvZiBiYXNlVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KGJhc2VWYWx1ZSkgJiZcbiAgICAgICAgIShiYXNlVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSAmJlxuICAgICAgICAhKGJhc2VWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCk7XG5cbiAgICAgIC8vIElmIGJvdGggdmFsdWVzIGFyZSBtZXJnZWFibGUgb2JqZWN0cywgbWVyZ2UgdGhlbSByZWN1cnNpdmVseVxuICAgICAgaWYgKGlzU291cmNlT2JqZWN0ICYmIGlzVGFyZ2V0T2JqZWN0KSB7XG4gICAgICAgIHJlc3VsdFtrZXkgYXMga2V5b2YgKFQgJiBVKV0gPSBtZXJnZU9iamVjdHMoXG4gICAgICAgICAgYmFzZVZhbHVlIGFzIG9iamVjdCxcbiAgICAgICAgICBvdmVycmlkZXNWYWx1ZSBhcyBvYmplY3QsXG4gICAgICAgICkgYXMgYW55O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHByaW1pdGl2ZXMsIGFycmF5cywgb3Igd2hlbiBvbmUgdmFsdWUgaXMgbm90IGEgbWVyZ2VhYmxlIG9iamVjdCxcbiAgICAgICAgLy8gc2ltcGx5IG92ZXJyaWRlIHdpdGggdGhlIHNvdXJjZSB2YWx1ZVxuICAgICAgICByZXN1bHRba2V5IGFzIGtleW9mIChUICYgVSldID0gb3ZlcnJpZGVzVmFsdWUgYXMgYW55O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBzYWZlUGFyc2VKU09OIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBmaXhKc29uIH0gZnJvbSAnLi9maXgtanNvbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPHtcbiAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZDtcbiAgc3RhdGU6XG4gICAgfCAndW5kZWZpbmVkLWlucHV0J1xuICAgIHwgJ3N1Y2Nlc3NmdWwtcGFyc2UnXG4gICAgfCAncmVwYWlyZWQtcGFyc2UnXG4gICAgfCAnZmFpbGVkLXBhcnNlJztcbn0+IHtcbiAgaWYgKGpzb25UZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBzdGF0ZTogJ3VuZGVmaW5lZC1pbnB1dCcgfTtcbiAgfVxuXG4gIGxldCByZXN1bHQgPSBhd2FpdCBzYWZlUGFyc2VKU09OKHsgdGV4dDoganNvblRleHQgfSk7XG5cbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdC52YWx1ZSwgc3RhdGU6ICdzdWNjZXNzZnVsLXBhcnNlJyB9O1xuICB9XG5cbiAgcmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQ6IGZpeEpzb24oanNvblRleHQpIH0pO1xuXG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiAncmVwYWlyZWQtcGFyc2UnIH07XG4gIH1cblxuICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBzdGF0ZTogJ2ZhaWxlZC1wYXJzZScgfTtcbn1cbiIsICJ0eXBlIFN0YXRlID1cbiAgfCAnUk9PVCdcbiAgfCAnRklOSVNIJ1xuICB8ICdJTlNJREVfU1RSSU5HJ1xuICB8ICdJTlNJREVfU1RSSU5HX0VTQ0FQRSdcbiAgfCAnSU5TSURFX0xJVEVSQUwnXG4gIHwgJ0lOU0lERV9OVU1CRVInXG4gIHwgJ0lOU0lERV9PQkpFQ1RfU1RBUlQnXG4gIHwgJ0lOU0lERV9PQkpFQ1RfS0VZJ1xuICB8ICdJTlNJREVfT0JKRUNUX0FGVEVSX0tFWSdcbiAgfCAnSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUUnXG4gIHwgJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnXG4gIHwgJ0lOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUEnXG4gIHwgJ0lOU0lERV9BUlJBWV9TVEFSVCdcbiAgfCAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJ1xuICB8ICdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnO1xuXG4vLyBJbXBsZW1lbnRlZCBhcyBhIHNjYW5uZXIgd2l0aCBhZGRpdGlvbmFsIGZpeGluZ1xuLy8gdGhhdCBwZXJmb3JtcyBhIHNpbmdsZSBsaW5lYXIgdGltZSBzY2FuIHBhc3Mgb3ZlciB0aGUgcGFydGlhbCBKU09OLlxuLy9cbi8vIFRoZSBzdGF0ZXMgc2hvdWxkIGlkZWFsbHkgbWF0Y2ggcmVsZXZhbnQgc3RhdGVzIGZyb20gdGhlIEpTT04gc3BlYzpcbi8vIGh0dHBzOi8vd3d3Lmpzb24ub3JnL2pzb24tZW4uaHRtbFxuLy9cbi8vIFBsZWFzZSBub3RlIHRoYXQgaW52YWxpZCBKU09OIGlzIG5vdCBjb25zaWRlcmVkL2NvdmVyZWQsIGJlY2F1c2UgaXRcbi8vIGlzIGFzc3VtZWQgdGhhdCB0aGUgcmVzdWx0aW5nIEpTT04gd2lsbCBiZSBwcm9jZXNzZWQgYnkgYSBzdGFuZGFyZFxuLy8gSlNPTiBwYXJzZXIgdGhhdCB3aWxsIGRldGVjdCBhbnkgaW52YWxpZCBKU09OLlxuZXhwb3J0IGZ1bmN0aW9uIGZpeEpzb24oaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHN0YWNrOiBTdGF0ZVtdID0gWydST09UJ107XG4gIGxldCBsYXN0VmFsaWRJbmRleCA9IC0xO1xuICBsZXQgbGl0ZXJhbFN0YXJ0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9jZXNzVmFsdWVTdGFydChjaGFyOiBzdHJpbmcsIGk6IG51bWJlciwgc3dhcFN0YXRlOiBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9TVFJJTkcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgY2FzZSAnbic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX0xJVEVSQUwnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJy0nOiB7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9OVU1CRVInKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgY2FzZSAnMSc6XG4gICAgICAgIGNhc2UgJzInOlxuICAgICAgICBjYXNlICczJzpcbiAgICAgICAgY2FzZSAnNCc6XG4gICAgICAgIGNhc2UgJzUnOlxuICAgICAgICBjYXNlICc2JzpcbiAgICAgICAgY2FzZSAnNyc6XG4gICAgICAgIGNhc2UgJzgnOlxuICAgICAgICBjYXNlICc5Jzoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX05VTUJFUicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAneyc6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfU1RBUlQnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ1snOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfQVJSQVlfU1RBUlQnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXI6IHN0cmluZywgaTogbnVtYmVyKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlICcsJzoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ30nOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhcjogc3RyaW5nLCBpOiBudW1iZXIpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgJywnOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfQVJSQVlfQUZURVJfQ09NTUEnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICddJzoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IGlucHV0W2ldO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgc3dpdGNoIChjdXJyZW50U3RhdGUpIHtcbiAgICAgIGNhc2UgJ1JPT1QnOlxuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCAnRklOSVNIJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX1NUQVJUJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaCgnSU5TSURFX09CSkVDVF9LRVknKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICd9Jzoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUEnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0tFWScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX0tFWSc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9PQkpFQ1RfQUZURVJfS0VZJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfS0VZJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICc6Jzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKCdJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRScpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFJzoge1xuICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRSc6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfU1RSSU5HJzoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnXFxcXCc6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9TVFJJTkdfRVNDQVBFJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9TVEFSVCc6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXSc6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJywnOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnXSc6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9BRlRFUl9DT01NQSc6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX1NUUklOR19FU0NBUEUnOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9OVU1CRVInOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJzAnOlxuICAgICAgICAgIGNhc2UgJzEnOlxuICAgICAgICAgIGNhc2UgJzInOlxuICAgICAgICAgIGNhc2UgJzMnOlxuICAgICAgICAgIGNhc2UgJzQnOlxuICAgICAgICAgIGNhc2UgJzUnOlxuICAgICAgICAgIGNhc2UgJzYnOlxuICAgICAgICAgIGNhc2UgJzcnOlxuICAgICAgICAgIGNhc2UgJzgnOlxuICAgICAgICAgIGNhc2UgJzknOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICBjYXNlICcuJzoge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnLCc6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09ICdJTlNJREVfQVJSQVlfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd9Jzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICddJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRScpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX0xJVEVSQUwnOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCEsIGkgKyAxKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgISdmYWxzZScuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiZcbiAgICAgICAgICAhJ3RydWUnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmXG4gICAgICAgICAgISdudWxsJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKVxuICAgICAgICApIHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcblxuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnKSB7XG4gICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSAnSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFJykge1xuICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG5cbiAgZm9yIChsZXQgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdGFja1tpXTtcblxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgJ0lOU0lERV9TVFJJTkcnOiB7XG4gICAgICAgIHJlc3VsdCArPSAnXCInO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9LRVknOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9LRVknOlxuICAgICAgY2FzZSAnSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQSc6XG4gICAgICBjYXNlICdJTlNJREVfT0JKRUNUX1NUQVJUJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUUnOiB7XG4gICAgICAgIHJlc3VsdCArPSAnfSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdJTlNJREVfQVJSQVlfU1RBUlQnOlxuICAgICAgY2FzZSAnSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BJzpcbiAgICAgIGNhc2UgJ0lOU0lERV9BUlJBWV9BRlRFUl9WQUxVRSc6IHtcbiAgICAgICAgcmVzdWx0ICs9ICddJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0lOU0lERV9MSVRFUkFMJzoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQhLCBpbnB1dC5sZW5ndGgpO1xuXG4gICAgICAgIGlmICgndHJ1ZScuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gJ3RydWUnLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ2ZhbHNlJy5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHJlc3VsdCArPSAnZmFsc2UnLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoJ251bGwnLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9ICdudWxsJy5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsICJpbXBvcnQge1xuICBJbmZlclRvb2xJbnB1dCxcbiAgSW5mZXJUb29sT3V0cHV0LFxuICBUb29sLFxuICBUb29sQ2FsbCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBUb29sU2V0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dCc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgRGVlcFBhcnRpYWwgfSBmcm9tICcuLi91dGlsL2RlZXAtcGFydGlhbCc7XG5pbXBvcnQgeyBWYWx1ZU9mIH0gZnJvbSAnLi4vdXRpbC92YWx1ZS1vZic7XG5cbi8qKlxuVGhlIGRhdGEgdHlwZXMgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgVUkgbWVzc2FnZSBmb3IgdGhlIFVJIG1lc3NhZ2UgZGF0YSBwYXJ0cy5cbiAqL1xuZXhwb3J0IHR5cGUgVUlEYXRhVHlwZXMgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IHR5cGUgVUlUb29sID0ge1xuICBpbnB1dDogdW5rbm93bjtcbiAgb3V0cHV0OiB1bmtub3duIHwgdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBJbmZlciB0aGUgaW5wdXQgYW5kIG91dHB1dCB0eXBlcyBvZiBhIHRvb2wgc28gaXQgY2FuIGJlIHVzZWQgYXMgYSBVSSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBJbmZlclVJVG9vbDxUT09MIGV4dGVuZHMgVG9vbD4gPSB7XG4gIGlucHV0OiBJbmZlclRvb2xJbnB1dDxUT09MPjtcbiAgb3V0cHV0OiBJbmZlclRvb2xPdXRwdXQ8VE9PTD47XG59O1xuXG4vKipcbiAqIEluZmVyIHRoZSBpbnB1dCBhbmQgb3V0cHV0IHR5cGVzIG9mIGEgdG9vbCBzZXQgc28gaXQgY2FuIGJlIHVzZWQgYXMgYSBVSSB0b29sIHNldC5cbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJVSVRvb2xzPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4gPSB7XG4gIFtOQU1FIGluIGtleW9mIFRPT0xTICYgc3RyaW5nXTogSW5mZXJVSVRvb2w8VE9PTFNbTkFNRV0+O1xufTtcblxuZXhwb3J0IHR5cGUgVUlUb29scyA9IFJlY29yZDxzdHJpbmcsIFVJVG9vbD47XG5cbi8qKlxuQUkgU0RLIFVJIE1lc3NhZ2VzLiBUaGV5IGFyZSB1c2VkIGluIHRoZSBjbGllbnQgYW5kIHRvIGNvbW11bmljYXRlIGJldHdlZW4gdGhlIGZyb250ZW5kIGFuZCB0aGUgQVBJIHJvdXRlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVSU1lc3NhZ2U8XG4gIE1FVEFEQVRBID0gdW5rbm93bixcbiAgREFUQV9QQVJUUyBleHRlbmRzIFVJRGF0YVR5cGVzID0gVUlEYXRhVHlwZXMsXG4gIFRPT0xTIGV4dGVuZHMgVUlUb29scyA9IFVJVG9vbHMsXG4+IHtcbiAgLyoqXG5BIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbWVzc2FnZS5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG5cbiAgLyoqXG5UaGUgcm9sZSBvZiB0aGUgbWVzc2FnZS5cbiAgICovXG4gIHJvbGU6ICdzeXN0ZW0nIHwgJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG5cbiAgLyoqXG5UaGUgbWV0YWRhdGEgb2YgdGhlIG1lc3NhZ2UuXG4gICAqL1xuICBtZXRhZGF0YT86IE1FVEFEQVRBO1xuXG4gIC8qKlxuVGhlIHBhcnRzIG9mIHRoZSBtZXNzYWdlLiBVc2UgdGhpcyBmb3IgcmVuZGVyaW5nIHRoZSBtZXNzYWdlIGluIHRoZSBVSS5cblxuU3lzdGVtIG1lc3NhZ2VzIHNob3VsZCBiZSBhdm9pZGVkIChzZXQgdGhlIHN5c3RlbSBwcm9tcHQgb24gdGhlIHNlcnZlciBpbnN0ZWFkKS5cblRoZXkgY2FuIGhhdmUgdGV4dCBwYXJ0cy5cblxuVXNlciBtZXNzYWdlcyBjYW4gaGF2ZSB0ZXh0IHBhcnRzIGFuZCBmaWxlIHBhcnRzLlxuXG5Bc3Npc3RhbnQgbWVzc2FnZXMgY2FuIGhhdmUgdGV4dCwgcmVhc29uaW5nLCB0b29sIGludm9jYXRpb24sIGFuZCBmaWxlIHBhcnRzLlxuICAgKi9cbiAgcGFydHM6IEFycmF5PFVJTWVzc2FnZVBhcnQ8REFUQV9QQVJUUywgVE9PTFM+Pjtcbn1cblxuZXhwb3J0IHR5cGUgVUlNZXNzYWdlUGFydDxcbiAgREFUQV9UWVBFUyBleHRlbmRzIFVJRGF0YVR5cGVzLFxuICBUT09MUyBleHRlbmRzIFVJVG9vbHMsXG4+ID1cbiAgfCBUZXh0VUlQYXJ0XG4gIHwgUmVhc29uaW5nVUlQYXJ0XG4gIHwgVG9vbFVJUGFydDxUT09MUz5cbiAgfCBEeW5hbWljVG9vbFVJUGFydFxuICB8IFNvdXJjZVVybFVJUGFydFxuICB8IFNvdXJjZURvY3VtZW50VUlQYXJ0XG4gIHwgRmlsZVVJUGFydFxuICB8IERhdGFVSVBhcnQ8REFUQV9UWVBFUz5cbiAgfCBTdGVwU3RhcnRVSVBhcnQ7XG5cbi8qKlxuICogQSB0ZXh0IHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBUZXh0VUlQYXJ0ID0ge1xuICB0eXBlOiAndGV4dCc7XG5cbiAgLyoqXG4gICAqIFRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgdGV4dCBwYXJ0LlxuICAgKi9cbiAgc3RhdGU/OiAnc3RyZWFtaW5nJyB8ICdkb25lJztcblxuICAvKipcbiAgICogVGhlIHByb3ZpZGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgcmVhc29uaW5nIHBhcnQgb2YgYSBtZXNzYWdlLlxuICovXG5leHBvcnQgdHlwZSBSZWFzb25pbmdVSVBhcnQgPSB7XG4gIHR5cGU6ICdyZWFzb25pbmcnO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVhc29uaW5nIHRleHQuXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgcmVhc29uaW5nIHBhcnQuXG4gICAqL1xuICBzdGF0ZT86ICdzdHJlYW1pbmcnIHwgJ2RvbmUnO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJvdmlkZXIgbWV0YWRhdGEuXG4gICAqL1xuICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbn07XG5cbi8qKlxuICogQSBzb3VyY2UgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIFNvdXJjZVVybFVJUGFydCA9IHtcbiAgdHlwZTogJ3NvdXJjZS11cmwnO1xuICBzb3VyY2VJZDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIGRvY3VtZW50IHNvdXJjZSBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgU291cmNlRG9jdW1lbnRVSVBhcnQgPSB7XG4gIHR5cGU6ICdzb3VyY2UtZG9jdW1lbnQnO1xuICBzb3VyY2VJZDogc3RyaW5nO1xuICBtZWRpYVR5cGU6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZmlsZW5hbWU/OiBzdHJpbmc7XG4gIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xufTtcblxuLyoqXG4gKiBBIGZpbGUgcGFydCBvZiBhIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIEZpbGVVSVBhcnQgPSB7XG4gIHR5cGU6ICdmaWxlJztcblxuICAvKipcbiAgICogSUFOQSBtZWRpYSB0eXBlIG9mIHRoZSBmaWxlLlxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL21lZGlhLXR5cGVzLnhodG1sXG4gICAqL1xuICBtZWRpYVR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogT3B0aW9uYWwgZmlsZW5hbWUgb2YgdGhlIGZpbGUuXG4gICAqL1xuICBmaWxlbmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFVSTCBvZiB0aGUgZmlsZS5cbiAgICogSXQgY2FuIGVpdGhlciBiZSBhIFVSTCB0byBhIGhvc3RlZCBmaWxlIG9yIGEgW0RhdGEgVVJMXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jhc2ljc19vZl9IVFRQL0RhdGFfVVJMcykuXG4gICAqL1xuICB1cmw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHByb3ZpZGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG59O1xuXG4vKipcbiAqIEEgc3RlcCBib3VuZGFyeSBwYXJ0IG9mIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IHR5cGUgU3RlcFN0YXJ0VUlQYXJ0ID0ge1xuICB0eXBlOiAnc3RlcC1zdGFydCc7XG59O1xuXG5leHBvcnQgdHlwZSBEYXRhVUlQYXJ0PERBVEFfVFlQRVMgZXh0ZW5kcyBVSURhdGFUeXBlcz4gPSBWYWx1ZU9mPHtcbiAgW05BTUUgaW4ga2V5b2YgREFUQV9UWVBFUyAmIHN0cmluZ106IHtcbiAgICB0eXBlOiBgZGF0YS0ke05BTUV9YDtcbiAgICBpZD86IHN0cmluZztcbiAgICBkYXRhOiBEQVRBX1RZUEVTW05BTUVdO1xuICB9O1xufT47XG5cbnR5cGUgYXNVSVRvb2w8VE9PTCBleHRlbmRzIFVJVG9vbCB8IFRvb2w+ID0gVE9PTCBleHRlbmRzIFRvb2xcbiAgPyBJbmZlclVJVG9vbDxUT09MPlxuICA6IFRPT0w7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBtZXNzYWdlIHBhcnQgaXMgYSBkYXRhIHBhcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFVSVBhcnQ8REFUQV9UWVBFUyBleHRlbmRzIFVJRGF0YVR5cGVzPihcbiAgcGFydDogVUlNZXNzYWdlUGFydDxEQVRBX1RZUEVTLCBVSVRvb2xzPixcbik6IHBhcnQgaXMgRGF0YVVJUGFydDxEQVRBX1RZUEVTPiB7XG4gIHJldHVybiBwYXJ0LnR5cGUuc3RhcnRzV2l0aCgnZGF0YS0nKTtcbn1cblxuLyoqXG4gKiBBIFVJIHRvb2wgaW52b2NhdGlvbiBjb250YWlucyBhbGwgdGhlIGluZm9ybWF0aW9uIG5lZWRlZCB0byByZW5kZXIgYSB0b29sIGludm9jYXRpb24gaW4gdGhlIFVJLlxuICogSXQgY2FuIGJlIGRlcml2ZWQgZnJvbSBhIHRvb2wgd2l0aG91dCBrbm93aW5nIHRoZSB0b29sIG5hbWUsIGFuZCBjYW4gYmUgdXNlZCB0byBkZWZpbmVcbiAqIFVJIGNvbXBvbmVudHMgZm9yIHRoZSB0b29sLlxuICovXG5leHBvcnQgdHlwZSBVSVRvb2xJbnZvY2F0aW9uPFRPT0wgZXh0ZW5kcyBVSVRvb2wgfCBUb29sPiA9IHtcbiAgLyoqXG4gICAqIElEIG9mIHRoZSB0b29sIGNhbGwuXG4gICAqL1xuICB0b29sQ2FsbElkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHRvb2wgY2FsbCB3YXMgZXhlY3V0ZWQgYnkgdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG59ICYgKFxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgIGlucHV0OiBEZWVwUGFydGlhbDxhc1VJVG9vbDxUT09MPlsnaW5wdXQnXT4gfCB1bmRlZmluZWQ7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtYXZhaWxhYmxlJztcbiAgICAgIGlucHV0OiBhc1VJVG9vbDxUT09MPlsnaW5wdXQnXTtcbiAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ/OiBib29sZWFuO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtYXZhaWxhYmxlJztcbiAgICAgIGlucHV0OiBhc1VJVG9vbDxUT09MPlsnaW5wdXQnXTtcbiAgICAgIG91dHB1dDogYXNVSVRvb2w8VE9PTD5bJ291dHB1dCddO1xuICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InOyAvLyBUT0RPIEFJIFNESyA2OiBjaGFuZ2UgdG8gJ2Vycm9yJyBzdGF0ZVxuICAgICAgaW5wdXQ6IGFzVUlUb29sPFRPT0w+WydpbnB1dCddIHwgdW5kZWZpbmVkO1xuICAgICAgcmF3SW5wdXQ/OiB1bmtub3duOyAvLyBUT0RPIEFJIFNESyA2OiByZW1vdmUgdGhpcyBmaWVsZCwgaW5wdXQgc2hvdWxkIGJlIHVua25vd25cbiAgICAgIG91dHB1dD86IG5ldmVyO1xuICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICBwcm92aWRlckV4ZWN1dGVkPzogYm9vbGVhbjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4pO1xuXG5leHBvcnQgdHlwZSBUb29sVUlQYXJ0PFRPT0xTIGV4dGVuZHMgVUlUb29scyA9IFVJVG9vbHM+ID0gVmFsdWVPZjx7XG4gIFtOQU1FIGluIGtleW9mIFRPT0xTICYgc3RyaW5nXToge1xuICAgIHR5cGU6IGB0b29sLSR7TkFNRX1gO1xuICB9ICYgVUlUb29sSW52b2NhdGlvbjxUT09MU1tOQU1FXT47XG59PjtcblxuZXhwb3J0IHR5cGUgRHluYW1pY1Rvb2xVSVBhcnQgPSB7XG4gIHR5cGU6ICdkeW5hbWljLXRvb2wnO1xuXG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSB0b29sIHRoYXQgaXMgYmVpbmcgY2FsbGVkLlxuICAgKi9cbiAgdG9vbE5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogSUQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICovXG4gIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHRvb2wgY2FsbCB3YXMgZXhlY3V0ZWQgYnkgdGhlIHByb3ZpZGVyLlxuICAgKi9cbiAgcHJvdmlkZXJFeGVjdXRlZD86IGJvb2xlYW47XG59ICYgKFxuICB8IHtcbiAgICAgIHN0YXRlOiAnaW5wdXQtc3RyZWFtaW5nJztcbiAgICAgIGlucHV0OiB1bmtub3duIHwgdW5kZWZpbmVkO1xuICAgICAgb3V0cHV0PzogbmV2ZXI7XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdpbnB1dC1hdmFpbGFibGUnO1xuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dD86IG5ldmVyO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogJ291dHB1dC1hdmFpbGFibGUnO1xuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBvdXRwdXQ6IHVua25vd247XG4gICAgICBlcnJvclRleHQ/OiBuZXZlcjtcbiAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIHByZWxpbWluYXJ5PzogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6ICdvdXRwdXQtZXJyb3InOyAvLyBUT0RPIEFJIFNESyA2OiBjaGFuZ2UgdG8gJ2Vycm9yJyBzdGF0ZVxuICAgICAgaW5wdXQ6IHVua25vd247XG4gICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgIGVycm9yVGV4dDogc3RyaW5nO1xuICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgIH1cbik7XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIG1lc3NhZ2UgcGFydCBpcyBhIHRleHQgcGFydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGV4dFVJUGFydChcbiAgcGFydDogVUlNZXNzYWdlUGFydDxVSURhdGFUeXBlcywgVUlUb29scz4sXG4pOiBwYXJ0IGlzIFRleHRVSVBhcnQge1xuICByZXR1cm4gcGFydC50eXBlID09PSAndGV4dCc7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIG1lc3NhZ2UgcGFydCBpcyBhIGZpbGUgcGFydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmlsZVVJUGFydChcbiAgcGFydDogVUlNZXNzYWdlUGFydDxVSURhdGFUeXBlcywgVUlUb29scz4sXG4pOiBwYXJ0IGlzIEZpbGVVSVBhcnQge1xuICByZXR1cm4gcGFydC50eXBlID09PSAnZmlsZSc7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIG1lc3NhZ2UgcGFydCBpcyBhIHJlYXNvbmluZyBwYXJ0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFzb25pbmdVSVBhcnQoXG4gIHBhcnQ6IFVJTWVzc2FnZVBhcnQ8VUlEYXRhVHlwZXMsIFVJVG9vbHM+LFxuKTogcGFydCBpcyBSZWFzb25pbmdVSVBhcnQge1xuICByZXR1cm4gcGFydC50eXBlID09PSAncmVhc29uaW5nJztcbn1cblxuLy8gVE9ETyBBSSBTREsgNjogcmVuYW1lIHRvIGlzU3RhdGljVG9vbFVJUGFydFxuZXhwb3J0IGZ1bmN0aW9uIGlzVG9vbFVJUGFydDxUT09MUyBleHRlbmRzIFVJVG9vbHM+KFxuICBwYXJ0OiBVSU1lc3NhZ2VQYXJ0PFVJRGF0YVR5cGVzLCBUT09MUz4sXG4pOiBwYXJ0IGlzIFRvb2xVSVBhcnQ8VE9PTFM+IHtcbiAgcmV0dXJuIHBhcnQudHlwZS5zdGFydHNXaXRoKCd0b29sLScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEeW5hbWljVG9vbFVJUGFydChcbiAgcGFydDogVUlNZXNzYWdlUGFydDxVSURhdGFUeXBlcywgVUlUb29scz4sXG4pOiBwYXJ0IGlzIER5bmFtaWNUb29sVUlQYXJ0IHtcbiAgcmV0dXJuIHBhcnQudHlwZSA9PT0gJ2R5bmFtaWMtdG9vbCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0PFRPT0xTIGV4dGVuZHMgVUlUb29scz4oXG4gIHBhcnQ6IFVJTWVzc2FnZVBhcnQ8VUlEYXRhVHlwZXMsIFRPT0xTPixcbik6IHBhcnQgaXMgVG9vbFVJUGFydDxUT09MUz4gfCBEeW5hbWljVG9vbFVJUGFydCB7XG4gIHJldHVybiBpc1Rvb2xVSVBhcnQocGFydCkgfHwgaXNEeW5hbWljVG9vbFVJUGFydChwYXJ0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvb2xOYW1lPFRPT0xTIGV4dGVuZHMgVUlUb29scz4oXG4gIHBhcnQ6IFRvb2xVSVBhcnQ8VE9PTFM+LFxuKToga2V5b2YgVE9PTFMge1xuICByZXR1cm4gcGFydC50eXBlLnNwbGl0KCctJykuc2xpY2UoMSkuam9pbignLScpIGFzIGtleW9mIFRPT0xTO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9vbE9yRHluYW1pY1Rvb2xOYW1lKFxuICBwYXJ0OiBUb29sVUlQYXJ0PFVJVG9vbHM+IHwgRHluYW1pY1Rvb2xVSVBhcnQsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gaXNEeW5hbWljVG9vbFVJUGFydChwYXJ0KSA/IHBhcnQudG9vbE5hbWUgOiBnZXRUb29sTmFtZShwYXJ0KTtcbn1cblxuZXhwb3J0IHR5cGUgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxUIGV4dGVuZHMgVUlNZXNzYWdlPiA9XG4gIFQgZXh0ZW5kcyBVSU1lc3NhZ2U8aW5mZXIgTUVUQURBVEE+ID8gTUVUQURBVEEgOiB1bmtub3duO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZURhdGE8VCBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICBUIGV4dGVuZHMgVUlNZXNzYWdlPHVua25vd24sIGluZmVyIERBVEFfVFlQRVM+ID8gREFUQV9UWVBFUyA6IFVJRGF0YVR5cGVzO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xzPFQgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgVCBleHRlbmRzIFVJTWVzc2FnZTx1bmtub3duLCBVSURhdGFUeXBlcywgaW5mZXIgVE9PTFM+ID8gVE9PTFMgOiBVSVRvb2xzO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xPdXRwdXRzPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+XVsnb3V0cHV0J107XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPVxuICB8IFZhbHVlT2Y8e1xuICAgICAgW05BTUUgaW4ga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPl06IFRvb2xDYWxsPFxuICAgICAgICBOQU1FICYgc3RyaW5nLFxuICAgICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W05BTUVdIGV4dGVuZHMgeyBpbnB1dDogaW5mZXIgSU5QVVQgfVxuICAgICAgICAgID8gSU5QVVRcbiAgICAgICAgICA6IG5ldmVyXG4gICAgICA+ICYgeyBkeW5hbWljPzogZmFsc2UgfTtcbiAgICB9PlxuICB8IChUb29sQ2FsbDxzdHJpbmcsIHVua25vd24+ICYgeyBkeW5hbWljOiB0cnVlIH0pO1xuXG5leHBvcnQgdHlwZSBJbmZlclVJTWVzc2FnZVBhcnQ8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSBVSU1lc3NhZ2VQYXJ0PFxuICBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4sXG4gIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5cbj47XG4iLCAiaW1wb3J0IHtcbiAgY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG4gIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW0sXG4gIFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxufSBmcm9tICcuLi91aS9wcm9jZXNzLXVpLW1lc3NhZ2Utc3RyZWFtJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4uL3V0aWwvZXJyb3ItaGFuZGxlcic7XG5pbXBvcnQgeyBJbmZlclVJTWVzc2FnZUNodW5rLCBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtT25GaW5pc2hDYWxsYmFjayB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0tb24tZmluaXNoLWNhbGxiYWNrJztcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPih7XG4gIG1lc3NhZ2VJZCxcbiAgb3JpZ2luYWxNZXNzYWdlcyA9IFtdLFxuICBvbkZpbmlzaCxcbiAgb25FcnJvcixcbiAgc3RyZWFtLFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+O1xuXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZSBJRCB0byB1c2UgZm9yIHRoZSByZXNwb25zZSBtZXNzYWdlLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIG5vIGlkIHdpbGwgYmUgc2V0IGZvciB0aGUgcmVzcG9uc2UgbWVzc2FnZS5cbiAgICovXG4gIG1lc3NhZ2VJZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9yaWdpbmFsIG1lc3NhZ2VzLlxuICAgKi9cbiAgb3JpZ2luYWxNZXNzYWdlcz86IFVJX01FU1NBR0VbXTtcblxuICBvbkVycm9yOiBFcnJvckhhbmRsZXI7XG5cbiAgb25GaW5pc2g/OiBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrPFVJX01FU1NBR0U+O1xufSk6IFJlYWRhYmxlU3RyZWFtPEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4+IHtcbiAgLy8gbGFzdCBtZXNzYWdlIGlzIG9ubHkgcmVsZXZhbnQgZm9yIGFzc2lzdGFudCBtZXNzYWdlc1xuICBsZXQgbGFzdE1lc3NhZ2U6IFVJX01FU1NBR0UgfCB1bmRlZmluZWQgPVxuICAgIG9yaWdpbmFsTWVzc2FnZXM/LltvcmlnaW5hbE1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdE1lc3NhZ2U/LnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgbGFzdE1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gYXBwZW5kaW5nIHRvIHRoZSBsYXN0IG1lc3NhZ2UsIHNvIHdlIG5lZWQgdG8gdXNlIHRoZSBzYW1lIGlkXG4gICAgbWVzc2FnZUlkID0gbGFzdE1lc3NhZ2UuaWQ7XG4gIH1cblxuICBsZXQgaXNBYm9ydGVkID0gZmFsc2U7XG5cbiAgY29uc3QgaWRJbmplY3RlZFN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPixcbiAgICAgIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT5cbiAgICA+KHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAvLyB3aGVuIHRoZXJlIGlzIG5vIG1lc3NhZ2VJZCBpbiB0aGUgc3RhcnQgY2h1bmssXG4gICAgICAgIC8vIGJ1dCB0aGUgdXNlciBjaGVja2VkIGZvciBwZXJzaXN0ZW5jZSxcbiAgICAgICAgLy8gaW5qZWN0IHRoZSBtZXNzYWdlSWQgaW50byB0aGUgY2h1bmtcbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdzdGFydCcpIHtcbiAgICAgICAgICBjb25zdCBzdGFydENodW5rID0gY2h1bmsgYXMgVUlNZXNzYWdlQ2h1bmsgJiB7IHR5cGU6ICdzdGFydCcgfTtcbiAgICAgICAgICBpZiAoc3RhcnRDaHVuay5tZXNzYWdlSWQgPT0gbnVsbCAmJiBtZXNzYWdlSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhcnRDaHVuay5tZXNzYWdlSWQgPSBtZXNzYWdlSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICBpc0Fib3J0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgIH0sXG4gICAgfSksXG4gICk7XG5cbiAgaWYgKG9uRmluaXNoID09IG51bGwpIHtcbiAgICByZXR1cm4gaWRJbmplY3RlZFN0cmVhbTtcbiAgfVxuXG4gIGNvbnN0IHN0YXRlID0gY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT4oe1xuICAgIGxhc3RNZXNzYWdlOiBsYXN0TWVzc2FnZVxuICAgICAgPyAoc3RydWN0dXJlZENsb25lKGxhc3RNZXNzYWdlKSBhcyBVSV9NRVNTQUdFKVxuICAgICAgOiB1bmRlZmluZWQsXG4gICAgbWVzc2FnZUlkOiBtZXNzYWdlSWQgPz8gJycsIC8vIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3RyZWFtXG4gIH0pO1xuXG4gIGNvbnN0IHJ1blVwZGF0ZU1lc3NhZ2VKb2IgPSBhc3luYyAoXG4gICAgam9iOiAob3B0aW9uczoge1xuICAgICAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICAgICAgd3JpdGU6ICgpID0+IHZvaWQ7XG4gICAgfSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgKSA9PiB7XG4gICAgYXdhaXQgam9iKHsgc3RhdGUsIHdyaXRlOiAoKSA9PiB7fSB9KTtcbiAgfTtcblxuICBsZXQgZmluaXNoQ2FsbGVkID0gZmFsc2U7XG5cbiAgY29uc3QgY2FsbE9uRmluaXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChmaW5pc2hDYWxsZWQgfHwgIW9uRmluaXNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpbmlzaENhbGxlZCA9IHRydWU7XG5cbiAgICBjb25zdCBpc0NvbnRpbnVhdGlvbiA9IHN0YXRlLm1lc3NhZ2UuaWQgPT09IGxhc3RNZXNzYWdlPy5pZDtcbiAgICBhd2FpdCBvbkZpbmlzaCh7XG4gICAgICBpc0Fib3J0ZWQsXG4gICAgICBpc0NvbnRpbnVhdGlvbixcbiAgICAgIHJlc3BvbnNlTWVzc2FnZTogc3RhdGUubWVzc2FnZSBhcyBVSV9NRVNTQUdFLFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgLi4uKGlzQ29udGludWF0aW9uID8gb3JpZ2luYWxNZXNzYWdlcy5zbGljZSgwLCAtMSkgOiBvcmlnaW5hbE1lc3NhZ2VzKSxcbiAgICAgICAgc3RhdGUubWVzc2FnZSxcbiAgICAgIF0gYXMgVUlfTUVTU0FHRVtdLFxuICAgICAgZmluaXNoUmVhc29uOiBzdGF0ZS5maW5pc2hSZWFzb24sXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHByb2Nlc3NVSU1lc3NhZ2VTdHJlYW08VUlfTUVTU0FHRT4oe1xuICAgIHN0cmVhbTogaWRJbmplY3RlZFN0cmVhbSxcbiAgICBydW5VcGRhdGVNZXNzYWdlSm9iLFxuICAgIG9uRXJyb3IsXG4gIH0pLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+LFxuICAgICAgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPlxuICAgID4oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICB9LFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYW5jZWwgaXMgc3RpbGwgbmV3IGFuZCBtaXNzaW5nIGZyb20gdHlwZXMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RyYW5zZm9ybVN0cmVhbSNicm93c2VyX2NvbXBhdGliaWxpdHlcbiAgICAgIGFzeW5jIGNhbmNlbCgpIHtcbiAgICAgICAgYXdhaXQgY2FsbE9uRmluaXNoKCk7XG4gICAgICB9LFxuXG4gICAgICBhc3luYyBmbHVzaCgpIHtcbiAgICAgICAgYXdhaXQgY2FsbE9uRmluaXNoKCk7XG4gICAgICB9LFxuICAgIH0pLFxuICApO1xufVxuIiwgImltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgd3JpdGVUb1NlcnZlclJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbC93cml0ZS10by1zZXJ2ZXItcmVzcG9uc2UnO1xuaW1wb3J0IHsgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtIH0gZnJvbSAnLi9qc29uLXRvLXNzZS10cmFuc2Zvcm0tc3RyZWFtJztcbmltcG9ydCB7IFVJX01FU1NBR0VfU1RSRUFNX0hFQURFUlMgfSBmcm9tICcuL3VpLW1lc3NhZ2Utc3RyZWFtLWhlYWRlcnMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7IFVJTWVzc2FnZVN0cmVhbVJlc3BvbnNlSW5pdCB9IGZyb20gJy4vdWktbWVzc2FnZS1zdHJlYW0tcmVzcG9uc2UtaW5pdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlVUlNZXNzYWdlU3RyZWFtVG9SZXNwb25zZSh7XG4gIHJlc3BvbnNlLFxuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIHN0cmVhbSxcbiAgY29uc3VtZVNzZVN0cmVhbSxcbn06IHtcbiAgcmVzcG9uc2U6IFNlcnZlclJlc3BvbnNlO1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbn0gJiBVSU1lc3NhZ2VTdHJlYW1SZXNwb25zZUluaXQpOiB2b2lkIHtcbiAgbGV0IHNzZVN0cmVhbSA9IHN0cmVhbS5waXBlVGhyb3VnaChuZXcgSnNvblRvU3NlVHJhbnNmb3JtU3RyZWFtKCkpO1xuXG4gIC8vIHdoZW4gdGhlIGNvbnN1bWVTc2VTdHJlYW0gaXMgcHJvdmlkZWQsIHdlIG5lZWQgdG8gdGVlIHRoZSBzdHJlYW1cbiAgLy8gYW5kIHNlbmQgdGhlIHNlY29uZCBwYXJ0IHRvIHRoZSBjb25zdW1lU3NlU3RyZWFtIGZ1bmN0aW9uXG4gIC8vIHNvIHRoYXQgaXQgY2FuIGJlIGNvbnN1bWVkIGJ5IHRoZSBjbGllbnQgaW5kZXBlbmRlbnRseVxuICBpZiAoY29uc3VtZVNzZVN0cmVhbSkge1xuICAgIGNvbnN0IFtzdHJlYW0xLCBzdHJlYW0yXSA9IHNzZVN0cmVhbS50ZWUoKTtcbiAgICBzc2VTdHJlYW0gPSBzdHJlYW0xO1xuICAgIGNvbnN1bWVTc2VTdHJlYW0oeyBzdHJlYW06IHN0cmVhbTIgfSk7IC8vIG5vIGF3YWl0IChkbyBub3QgYmxvY2sgdGhlIHJlc3BvbnNlKVxuICB9XG5cbiAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICByZXNwb25zZSxcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBwcmVwYXJlSGVhZGVycyhoZWFkZXJzLCBVSV9NRVNTQUdFX1NUUkVBTV9IRUFERVJTKS5lbnRyaWVzKCksXG4gICAgKSxcbiAgICBzdHJlYW06IHNzZVN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksXG4gIH0pO1xufVxuIiwgIi8qKlxuICogQSB0eXBlIHRoYXQgY29tYmluZXMgQXN5bmNJdGVyYWJsZSBhbmQgUmVhZGFibGVTdHJlYW0uXG4gKiBUaGlzIGFsbG93cyBhIFJlYWRhYmxlU3RyZWFtIHRvIGJlIGNvbnN1bWVkIHVzaW5nIGZvci1hd2FpdC1vZiBzeW50YXguXG4gKi9cbmV4cG9ydCB0eXBlIEFzeW5jSXRlcmFibGVTdHJlYW08VD4gPSBBc3luY0l0ZXJhYmxlPFQ+ICYgUmVhZGFibGVTdHJlYW08VD47XG5cbi8qKlxuICogV3JhcHMgYSBSZWFkYWJsZVN0cmVhbSBhbmQgcmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyBib3RoIGEgUmVhZGFibGVTdHJlYW0gYW5kIGFuIEFzeW5jSXRlcmFibGUuXG4gKiBUaGlzIGVuYWJsZXMgY29uc3VtcHRpb24gb2YgdGhlIHN0cmVhbSB1c2luZyBmb3ItYXdhaXQtb2YsIHdpdGggcHJvcGVyIHJlc291cmNlIGNsZWFudXAgb24gZWFybHkgZXhpdCBvciBlcnJvci5cbiAqXG4gKiBAdGVtcGxhdGUgVCBUaGUgdHlwZSBvZiB0aGUgc3RyZWFtJ3MgY2h1bmtzLlxuICogQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIFJlYWRhYmxlU3RyZWFtIHRvIHdyYXAuXG4gKiBAcmV0dXJucyBBbiBBc3luY0l0ZXJhYmxlU3RyZWFtIHRoYXQgY2FuIGJlIHVzZWQgYXMgYm90aCBhIFJlYWRhYmxlU3RyZWFtIGFuZCBhbiBBc3luY0l0ZXJhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbTxUPihcbiAgc291cmNlOiBSZWFkYWJsZVN0cmVhbTxUPixcbik6IEFzeW5jSXRlcmFibGVTdHJlYW08VD4ge1xuICAvLyBQaXBlIHRocm91Z2ggYSBUcmFuc2Zvcm1TdHJlYW0gdG8gZW5zdXJlIGEgZnJlc2gsIHVubG9ja2VkIHN0cmVhbS5cbiAgY29uc3Qgc3RyZWFtID0gc291cmNlLnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW08VCwgVD4oKSk7XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudHMgdGhlIGFzeW5jIGl0ZXJhdG9yIHByb3RvY29sIGZvciB0aGUgc3RyZWFtLlxuICAgKiBFbnN1cmVzIHByb3BlciBjbGVhbnVwIChjYW5jZWxsaW5nIGFuZCByZWxlYXNpbmcgdGhlIHJlYWRlcikgb24gY29tcGxldGlvbiwgZWFybHkgZXhpdCwgb3IgZXJyb3IuXG4gICAqL1xuICAoc3RyZWFtIGFzIEFzeW5jSXRlcmFibGVTdHJlYW08VD4pW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiBSZWFkYWJsZVN0cmVhbTxUPixcbiAgKTogQXN5bmNJdGVyYXRvcjxUPiB7XG4gICAgY29uc3QgcmVhZGVyID0gdGhpcy5nZXRSZWFkZXIoKTtcblxuICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIHRoZSByZWFkZXIgYnkgY2FuY2VsbGluZyBhbmQgcmVsZWFzaW5nIHRoZSBsb2NrLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGNsZWFudXAoY2FuY2VsU3RyZWFtOiBib29sZWFuKSB7XG4gICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoY2FuY2VsU3RyZWFtKSB7XG4gICAgICAgICAgYXdhaXQgcmVhZGVyLmNhbmNlbD8uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBSZWFkcyB0aGUgbmV4dCBjaHVuayBmcm9tIHRoZSBzdHJlYW0uXG4gICAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBuZXh0IEl0ZXJhdG9yUmVzdWx0LlxuICAgICAgICovXG4gICAgICBhc3luYyBuZXh0KCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcblxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGF3YWl0IGNsZWFudXAodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxlZCBvbiBlYXJseSBleGl0IChlLmcuLCBicmVhayBmcm9tIGZvci1hd2FpdCkuXG4gICAgICAgKiBFbnN1cmVzIHRoZSBzdHJlYW0gaXMgY2FuY2VsbGVkIGFuZCByZXNvdXJjZXMgYXJlIHJlbGVhc2VkLlxuICAgICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhIGNvbXBsZXRlZCBJdGVyYXRvclJlc3VsdC5cbiAgICAgICAqL1xuICAgICAgYXN5bmMgcmV0dXJuKCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICAgICAgYXdhaXQgY2xlYW51cCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsZWQgb24gZWFybHkgZXhpdCB3aXRoIGVycm9yLlxuICAgICAgICogRW5zdXJlcyB0aGUgc3RyZWFtIGlzIGNhbmNlbGxlZCBhbmQgcmVzb3VyY2VzIGFyZSByZWxlYXNlZCwgdGhlbiByZXRocm93cyB0aGUgZXJyb3IuXG4gICAgICAgKiBAcGFyYW0gZXJyIFRoZSBlcnJvciB0byB0aHJvdy5cbiAgICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2l0aCB0aGUgcHJvdmlkZWQgZXJyb3IuXG4gICAgICAgKi9cbiAgICAgIGFzeW5jIHRocm93KGVycjogdW5rbm93bik6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8VD4+IHtcbiAgICAgICAgYXdhaXQgY2xlYW51cCh0cnVlKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSxcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBzdHJlYW0gYXMgQXN5bmNJdGVyYWJsZVN0cmVhbTxUPjtcbn1cbiIsICIvKipcbiAqIENvbnN1bWVzIGEgUmVhZGFibGVTdHJlYW0gdW50aWwgaXQncyBmdWxseSByZWFkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmVhZHMgdGhlIHN0cmVhbSBjaHVuayBieSBjaHVuayB1bnRpbCB0aGUgc3RyZWFtIGlzIGV4aGF1c3RlZC5cbiAqIEl0IGRvZXNuJ3QgcHJvY2VzcyBvciByZXR1cm4gdGhlIGRhdGEgZnJvbSB0aGUgc3RyZWFtOyBpdCBzaW1wbHkgZW5zdXJlc1xuICogdGhhdCB0aGUgZW50aXJlIHN0cmVhbSBpcyByZWFkLlxuICpcbiAqIEBwYXJhbSB7UmVhZGFibGVTdHJlYW19IHN0cmVhbSAtIFRoZSBSZWFkYWJsZVN0cmVhbSB0byBiZSBjb25zdW1lZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBzdHJlYW0gaXMgZnVsbHkgY29uc3VtZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25zdW1lU3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvbkVycm9yLFxufToge1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtO1xuICBvbkVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xufSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHsgZG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgb25FcnJvcj8uKGVycm9yKTtcbiAgfSBmaW5hbGx5IHtcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4vZXJyb3ItaGFuZGxlcic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIFByb21pc2Ugd2l0aCBleHRlcm5hbGx5IGFjY2Vzc2libGUgcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZSB0aGF0IHRoZSBQcm9taXNlIHdpbGwgcmVzb2x2ZSB0by5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nOlxuICogICAtIHByb21pc2U6IEEgUHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCBvciByZWplY3RlZCBleHRlcm5hbGx5LlxuICogICAtIHJlc29sdmU6IEEgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgUHJvbWlzZSB3aXRoIGEgdmFsdWUgb2YgdHlwZSBULlxuICogICAtIHJlamVjdDogQSBmdW5jdGlvbiB0byByZWplY3QgdGhlIFByb21pc2Ugd2l0aCBhbiBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlc29sdmFibGVQcm9taXNlPFQgPSBhbnk+KCk6IHtcbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZTogKHZhbHVlOiBUKSA9PiB2b2lkO1xuICByZWplY3Q6IEVycm9ySGFuZGxlcjtcbn0ge1xuICBsZXQgcmVzb2x2ZTogKHZhbHVlOiBUKSA9PiB2b2lkO1xuICBsZXQgcmVqZWN0OiBFcnJvckhhbmRsZXI7XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSByZXM7XG4gICAgcmVqZWN0ID0gcmVqO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHByb21pc2UsXG4gICAgcmVzb2x2ZTogcmVzb2x2ZSEsXG4gICAgcmVqZWN0OiByZWplY3QhLFxuICB9O1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZVJlc29sdmFibGVQcm9taXNlIH0gZnJvbSAnLi9jcmVhdGUtcmVzb2x2YWJsZS1wcm9taXNlJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RpdGNoYWJsZSBzdHJlYW0gdGhhdCBjYW4gcGlwZSBvbmUgc3RyZWFtIGF0IGEgdGltZS5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHZhbHVlcyBlbWl0dGVkIGJ5IHRoZSBzdHJlYW1zLlxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0aXRjaGFibGUgc3RyZWFtIGFuZCBjb250cm9sIG1ldGhvZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtPFQ+KCk6IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUPjtcbiAgYWRkU3RyZWFtOiAoaW5uZXJTdHJlYW06IFJlYWRhYmxlU3RyZWFtPFQ+KSA9PiB2b2lkO1xuICBjbG9zZTogKCkgPT4gdm9pZDtcbiAgdGVybWluYXRlOiAoKSA9PiB2b2lkO1xufSB7XG4gIGxldCBpbm5lclN0cmVhbVJlYWRlcnM6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxUPltdID0gW107XG4gIGxldCBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+IHwgbnVsbCA9IG51bGw7XG4gIGxldCBpc0Nsb3NlZCA9IGZhbHNlO1xuICBsZXQgd2FpdEZvck5ld1N0cmVhbSA9IGNyZWF0ZVJlc29sdmFibGVQcm9taXNlPHZvaWQ+KCk7XG5cbiAgY29uc3QgdGVybWluYXRlID0gKCkgPT4ge1xuICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcblxuICAgIGlubmVyU3RyZWFtUmVhZGVycy5mb3JFYWNoKHJlYWRlciA9PiByZWFkZXIuY2FuY2VsKCkpO1xuICAgIGlubmVyU3RyZWFtUmVhZGVycyA9IFtdO1xuICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gIH07XG5cbiAgY29uc3QgcHJvY2Vzc1B1bGwgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2FzZSAxOiBPdXRlciBzdHJlYW0gaXMgY2xvc2VkIGFuZCBubyBtb3JlIGlubmVyIHN0cmVhbXNcbiAgICBpZiAoaXNDbG9zZWQgJiYgaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udHJvbGxlcj8uY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYXNlIDI6IE5vIGlubmVyIHN0cmVhbXMgYXZhaWxhYmxlLCBidXQgb3V0ZXIgc3RyZWFtIGlzIG9wZW5cbiAgICAvLyB3YWl0IGZvciBhIG5ldyBpbm5lciBzdHJlYW0gdG8gYmUgYWRkZWQgb3IgdGhlIG91dGVyIHN0cmVhbSB0byBjbG9zZVxuICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtID0gY3JlYXRlUmVzb2x2YWJsZVByb21pc2U8dm9pZD4oKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JOZXdTdHJlYW0ucHJvbWlzZTtcbiAgICAgIHJldHVybiBwcm9jZXNzUHVsbCgpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpbm5lclN0cmVhbVJlYWRlcnNbMF0ucmVhZCgpO1xuXG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICAvLyBDYXNlIDM6IEN1cnJlbnQgaW5uZXIgc3RyZWFtIGlzIGRvbmVcbiAgICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnNoaWZ0KCk7IC8vIFJlbW92ZSB0aGUgZmluaXNoZWQgc3RyZWFtXG5cbiAgICAgICAgLy8gQ29udGludWUgcHVsbGluZyBmcm9tIHRoZSBuZXh0IHN0cmVhbSBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYXdhaXQgcHJvY2Vzc1B1bGwoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Nsb3NlZCkge1xuICAgICAgICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENhc2UgNDogQ3VycmVudCBpbm5lciBzdHJlYW0gcmV0dXJucyBhbiBpdGVtXG4gICAgICAgIGNvbnRyb2xsZXI/LmVucXVldWUodmFsdWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBDYXNlIDU6IEN1cnJlbnQgaW5uZXIgc3RyZWFtIHRocm93cyBhbiBlcnJvclxuICAgICAgY29udHJvbGxlcj8uZXJyb3IoZXJyb3IpO1xuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnNoaWZ0KCk7IC8vIFJlbW92ZSB0aGUgZXJyb3JlZCBzdHJlYW1cbiAgICAgIHRlcm1pbmF0ZSgpOyAvLyB3ZSBoYXZlIGVycm9yZWQsIHRlcm1pbmF0ZSBhbGwgc3RyZWFtc1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHN0cmVhbTogbmV3IFJlYWRhYmxlU3RyZWFtPFQ+KHtcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXJQYXJhbSkge1xuICAgICAgICBjb250cm9sbGVyID0gY29udHJvbGxlclBhcmFtO1xuICAgICAgfSxcbiAgICAgIHB1bGw6IHByb2Nlc3NQdWxsLFxuICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiBpbm5lclN0cmVhbVJlYWRlcnMpIHtcbiAgICAgICAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzID0gW107XG4gICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfSksXG4gICAgYWRkU3RyZWFtOiAoaW5uZXJTdHJlYW06IFJlYWRhYmxlU3RyZWFtPFQ+KSA9PiB7XG4gICAgICBpZiAoaXNDbG9zZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIGlubmVyIHN0cmVhbTogb3V0ZXIgc3RyZWFtIGlzIGNsb3NlZCcpO1xuICAgICAgfVxuXG4gICAgICBpbm5lclN0cmVhbVJlYWRlcnMucHVzaChpbm5lclN0cmVhbS5nZXRSZWFkZXIoKSk7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR3JhY2VmdWxseSBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLiBUaGlzIHdpbGwgbGV0IHRoZSBpbm5lciBzdHJlYW1zXG4gICAgICogZmluaXNoIHByb2Nlc3NpbmcgYW5kIHRoZW4gY2xvc2UgdGhlIG91dGVyIHN0cmVhbS5cbiAgICAgKi9cbiAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgd2FpdEZvck5ld1N0cmVhbS5yZXNvbHZlKCk7XG5cbiAgICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXI/LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uIFRoaXMgd2lsbCBjYW5jZWwgYWxsIGlubmVyIHN0cmVhbXNcbiAgICAgKiBhbmQgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS5cbiAgICAgKi9cbiAgICB0ZXJtaW5hdGUsXG4gIH07XG59XG4iLCAiLy8gU2hpbSBmb3IgcGVyZm9ybWFuY2Uubm93KCkgdG8gc3VwcG9ydCBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBoYXZlIGl0OlxuZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xuICByZXR1cm4gZ2xvYmFsVGhpcz8ucGVyZm9ybWFuY2U/Lm5vdygpID8/IERhdGUubm93KCk7XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyQ2FsbFdhcm5pbmcsXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgZXhlY3V0ZVRvb2wsXG4gIGdlbmVyYXRlSWQsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgTW9kZWxNZXNzYWdlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRyYWNlciB9IGZyb20gJ0BvcGVudGVsZW1ldHJ5L2FwaSc7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgcmVjb3JkRXJyb3JPblNwYW4sIHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IEZpbmlzaFJlYXNvbiwgTGFuZ3VhZ2VNb2RlbFVzYWdlLCBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU291cmNlIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgRGVmYXVsdEdlbmVyYXRlZEZpbGVXaXRoVHlwZSwgR2VuZXJhdGVkRmlsZSB9IGZyb20gJy4vZ2VuZXJhdGVkLWZpbGUnO1xuaW1wb3J0IHsgcGFyc2VUb29sQ2FsbCB9IGZyb20gJy4vcGFyc2UtdG9vbC1jYWxsJztcbmltcG9ydCB7IFR5cGVkVG9vbENhbGwgfSBmcm9tICcuL3Rvb2wtY2FsbCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFR5cGVkVG9vbEVycm9yIH0gZnJvbSAnLi90b29sLWVycm9yJztcbmltcG9ydCB7IFR5cGVkVG9vbFJlc3VsdCB9IGZyb20gJy4vdG9vbC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuXG5leHBvcnQgdHlwZSBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFMgZXh0ZW5kcyBUb29sU2V0PiA9XG4gIC8vIFRleHQgYmxvY2tzOlxuICB8IHtcbiAgICAgIHR5cGU6ICd0ZXh0LXN0YXJ0JztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtZGVsdGEnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgZGVsdGE6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3RleHQtZW5kJztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG5cbiAgLy8gUmVhc29uaW5nIGJsb2NrczpcbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JztcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE/OiBQcm92aWRlck1ldGFkYXRhO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3JlYXNvbmluZy1kZWx0YSc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICBkZWx0YTogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVhc29uaW5nLWVuZCc7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgfVxuXG4gIC8vIFRvb2wgY2FsbHM6XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtc3RhcnQnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIHRvb2xOYW1lOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZGVsdGEnO1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGRlbHRhOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Rvb2wtaW5wdXQtZW5kJztcbiAgICAgIGlkOiBzdHJpbmc7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwgKHsgdHlwZTogJ3NvdXJjZScgfSAmIFNvdXJjZSlcbiAgfCB7IHR5cGU6ICdmaWxlJzsgZmlsZTogR2VuZXJhdGVkRmlsZSB9IC8vIGRpZmZlcmVudCBiZWNhdXNlIG9mIEdlbmVyYXRlZEZpbGUgb2JqZWN0XG4gIHwgKHsgdHlwZTogJ3Rvb2wtY2FsbCcgfSAmIFR5cGVkVG9vbENhbGw8VE9PTFM+KVxuICB8ICh7IHR5cGU6ICd0b29sLXJlc3VsdCcgfSAmIFR5cGVkVG9vbFJlc3VsdDxUT09MUz4pXG4gIHwgKHsgdHlwZTogJ3Rvb2wtZXJyb3InIH0gJiBUeXBlZFRvb2xFcnJvcjxUT09MUz4pXG4gIHwgeyB0eXBlOiAnZmlsZSc7IGZpbGU6IEdlbmVyYXRlZEZpbGUgfSAvLyBkaWZmZXJlbnQgYmVjYXVzZSBvZiBHZW5lcmF0ZWRGaWxlIG9iamVjdFxuICB8IHsgdHlwZTogJ3N0cmVhbS1zdGFydCc7IHdhcm5pbmdzOiBMYW5ndWFnZU1vZGVsVjJDYWxsV2FybmluZ1tdIH1cbiAgfCB7XG4gICAgICB0eXBlOiAncmVzcG9uc2UtbWV0YWRhdGEnO1xuICAgICAgaWQ/OiBzdHJpbmc7XG4gICAgICB0aW1lc3RhbXA/OiBEYXRlO1xuICAgICAgbW9kZWxJZD86IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ2ZpbmlzaCc7XG4gICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICB9XG4gIHwgeyB0eXBlOiAnZXJyb3InOyBlcnJvcjogdW5rbm93biB9XG4gIHwgeyB0eXBlOiAncmF3JzsgcmF3VmFsdWU6IHVua25vd24gfTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1blRvb2xzVHJhbnNmb3JtYXRpb248VE9PTFMgZXh0ZW5kcyBUb29sU2V0Pih7XG4gIHRvb2xzLFxuICBnZW5lcmF0b3JTdHJlYW0sXG4gIHRyYWNlcixcbiAgdGVsZW1ldHJ5LFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzLFxuICBhYm9ydFNpZ25hbCxcbiAgcmVwYWlyVG9vbENhbGwsXG4gIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxufToge1xuICB0b29sczogVE9PTFMgfCB1bmRlZmluZWQ7XG4gIGdlbmVyYXRvclN0cmVhbTogUmVhZGFibGVTdHJlYW08TGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydD47XG4gIHRyYWNlcjogVHJhY2VyO1xuICB0ZWxlbWV0cnk6IFRlbGVtZXRyeVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBzeXN0ZW06IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgbWVzc2FnZXM6IE1vZGVsTWVzc2FnZVtdO1xuICBhYm9ydFNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQ7XG4gIHJlcGFpclRvb2xDYWxsOiBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uPFRPT0xTPiB8IHVuZGVmaW5lZDtcbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ6IHVua25vd247XG59KTogUmVhZGFibGVTdHJlYW08U2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4ge1xuICAvLyB0b29sIHJlc3VsdHMgc3RyZWFtXG4gIGxldCB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8XG4gICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICA+IHwgbnVsbCA9IG51bGw7XG4gIGNvbnN0IHRvb2xSZXN1bHRzU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtPFxuICAgIFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz5cbiAgPih7XG4gICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9LFxuICB9KTtcblxuICAvLyBrZWVwIHRyYWNrIG9mIG91dHN0YW5kaW5nIHRvb2wgcmVzdWx0cyBmb3Igc3RyZWFtIGNsb3Npbmc6XG4gIGNvbnN0IG91dHN0YW5kaW5nVG9vbFJlc3VsdHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAvLyBrZWVwIHRyYWNrIG9mIHRvb2wgaW5wdXRzIGZvciBwcm92aWRlci1zaWRlIHRvb2wgcmVzdWx0c1xuICBjb25zdCB0b29sSW5wdXRzID0gbmV3IE1hcDxzdHJpbmcsIHVua25vd24+KCk7XG5cbiAgbGV0IGNhbkNsb3NlID0gZmFsc2U7XG4gIGxldCBmaW5pc2hDaHVuazpcbiAgICB8IChTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+ICYgeyB0eXBlOiAnZmluaXNoJyB9KVxuICAgIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGF0dGVtcHRDbG9zZSgpIHtcbiAgICAvLyBjbG9zZSB0aGUgdG9vbCByZXN1bHRzIGNvbnRyb2xsZXIgaWYgbm8gbW9yZSBvdXRzdGFuZGluZyB0b29sIGNhbGxzXG4gICAgaWYgKGNhbkNsb3NlICYmIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgLy8gd2UgZGVsYXkgc2VuZGluZyB0aGUgZmluaXNoIGNodW5rIHVudGlsIGFsbCB0b29sIHJlc3VsdHMgKGluY2wuIGRlbGF5ZWQgb25lcylcbiAgICAgIC8vIGFyZSByZWNlaXZlZCB0byBlbnN1cmUgdGhhdCB0aGUgZnJvbnRlbmQgcmVjZWl2ZXMgdG9vbCByZXN1bHRzIGJlZm9yZSBhIG1lc3NhZ2VcbiAgICAgIC8vIGZpbmlzaCBldmVudCBhcnJpdmVzLlxuICAgICAgaWYgKGZpbmlzaENodW5rICE9IG51bGwpIHtcbiAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKGZpbmlzaENodW5rKTtcbiAgICAgIH1cblxuICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZvcndhcmQgc3RyZWFtXG4gIGNvbnN0IGZvcndhcmRTdHJlYW0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gICAgU2luZ2xlUmVxdWVzdFRleHRTdHJlYW1QYXJ0PFRPT0xTPlxuICA+KHtcbiAgICBhc3luYyB0cmFuc2Zvcm0oXG4gICAgICBjaHVuazogTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydCxcbiAgICAgIGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFxuICAgICAgICBTaW5nbGVSZXF1ZXN0VGV4dFN0cmVhbVBhcnQ8VE9PTFM+XG4gICAgICA+LFxuICAgICkge1xuICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcblxuICAgICAgc3dpdGNoIChjaHVua1R5cGUpIHtcbiAgICAgICAgLy8gZm9yd2FyZDpcbiAgICAgICAgY2FzZSAnc3RyZWFtLXN0YXJ0JzpcbiAgICAgICAgY2FzZSAndGV4dC1zdGFydCc6XG4gICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICBjYXNlICd0ZXh0LWVuZCc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZy1zdGFydCc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZy1kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3JlYXNvbmluZy1lbmQnOlxuICAgICAgICBjYXNlICd0b29sLWlucHV0LXN0YXJ0JzpcbiAgICAgICAgY2FzZSAndG9vbC1pbnB1dC1kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3Rvb2wtaW5wdXQtZW5kJzpcbiAgICAgICAgY2FzZSAnc291cmNlJzpcbiAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOlxuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIGNhc2UgJ3Jhdyc6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnZmlsZSc6IHtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICAgICAgZmlsZTogbmV3IERlZmF1bHRHZW5lcmF0ZWRGaWxlV2l0aFR5cGUoe1xuICAgICAgICAgICAgICBkYXRhOiBjaHVuay5kYXRhLFxuICAgICAgICAgICAgICBtZWRpYVR5cGU6IGNodW5rLm1lZGlhVHlwZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgIGZpbmlzaENodW5rID0ge1xuICAgICAgICAgICAgdHlwZTogJ2ZpbmlzaCcsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IGNodW5rLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiBjaHVuay51c2FnZSxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByb2Nlc3MgdG9vbCBjYWxsOlxuICAgICAgICBjYXNlICd0b29sLWNhbGwnOiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gYXdhaXQgcGFyc2VUb29sQ2FsbCh7XG4gICAgICAgICAgICAgIHRvb2xDYWxsOiBjaHVuayxcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgIHJlcGFpclRvb2xDYWxsLFxuICAgICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0b29sQ2FsbCk7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBpbnZhbGlkIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICBpZiAodG9vbENhbGwuaW52YWxpZCkge1xuICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGdldEVycm9yTWVzc2FnZSh0b29sQ2FsbC5lcnJvciEpLFxuICAgICAgICAgICAgICAgIGR5bmFtaWM6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0b29sID0gdG9vbHMhW3Rvb2xDYWxsLnRvb2xOYW1lXTtcblxuICAgICAgICAgICAgdG9vbElucHV0cy5zZXQodG9vbENhbGwudG9vbENhbGxJZCwgdG9vbENhbGwuaW5wdXQpO1xuXG4gICAgICAgICAgICBpZiAodG9vbC5vbklucHV0QXZhaWxhYmxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdG9vbC5vbklucHV0QXZhaWxhYmxlKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogdG9vbENhbGwuaW5wdXQsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGV4dCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE9ubHkgZXhlY3V0ZSB0b29scyB0aGF0IGFyZSBub3QgcHJvdmlkZXItZXhlY3V0ZWQ6XG4gICAgICAgICAgICBpZiAodG9vbC5leGVjdXRlICE9IG51bGwgJiYgdG9vbENhbGwucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBjb25zdCB0b29sRXhlY3V0aW9uSWQgPSBnZW5lcmF0ZUlkKCk7IC8vIHVzZSBvdXIgb3duIGlkIHRvIGd1YXJhbnRlZSB1bmlxdWVuZXNzXG4gICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuYWRkKHRvb2xFeGVjdXRpb25JZCk7XG5cbiAgICAgICAgICAgICAgLy8gTm90ZTogd2UgZG9uJ3QgYXdhaXQgdGhlIHRvb2wgZXhlY3V0aW9uIGhlcmUgKGJ5IGxlYXZpbmcgb3V0ICdhd2FpdCcgb24gcmVjb3JkU3BhbiksXG4gICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2Ugd2FudCB0byBwcm9jZXNzIHRoZSBuZXh0IGNodW5rIGFzIHNvb24gYXMgcG9zc2libGUuXG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGZvciB0aGUgY2FzZSB3aGVyZSB0aGUgdG9vbCBleGVjdXRpb24gdGFrZXMgYSBsb25nIHRpbWUuXG4gICAgICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhaS50b29sQ2FsbCcsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS50b29sQ2FsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLm5hbWUnOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmlkJzogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnRvb2xDYWxsLmFyZ3MnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbC5pbnB1dCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgICBsZXQgb3V0cHV0OiB1bmtub3duO1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBleGVjdXRlVG9vbCh7XG4gICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogdG9vbC5leGVjdXRlIS5iaW5kKHRvb2wpLFxuICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0b29sQ2FsbC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgcGFydCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIhLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnR5cGUgPT09ICdwcmVsaW1pbmFyeScgJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ2ZpbmFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gcGFydC5vdXRwdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmRFcnJvck9uU3BhbihzcGFuLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICB9IHNhdGlzZmllcyBUeXBlZFRvb2xFcnJvcjxUT09MUz4pO1xuXG4gICAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuZGVsZXRlKHRvb2xFeGVjdXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nVG9vbFJlc3VsdHMuZGVsZXRlKHRvb2xFeGVjdXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICBhdHRlbXB0Q2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgLy8gcmVjb3JkIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWkudG9vbENhbGwucmVzdWx0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEpTT04gc3RyaW5naWZ5IG1pZ2h0IGZhaWwgaWYgdGhlIHJlc3VsdCBpcyBub3Qgc2VyaWFsaXphYmxlLFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB3aGljaCBjYXNlIHdlIGp1c3QgaWdub3JlIGl0LiBJbiB0aGUgZnV0dXJlIHdlIG1pZ2h0IHdhbnQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGFuIG9wdGlvbmFsIHNlcmlhbGl6ZSBtZXRob2QgdG8gdGhlIHRvb2wgaW50ZXJmYWNlIGFuZCB3YXJuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSByZXN1bHQgaXMgbm90IHNlcmlhbGl6YWJsZS5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyIS5lbnF1ZXVlKHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICd0b29sLXJlc3VsdCc6IHtcbiAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGNodW5rLnRvb2xOYW1lIGFzIGtleW9mIFRPT0xTICYgc3RyaW5nO1xuXG4gICAgICAgICAgaWYgKGNodW5rLmlzRXJyb3IpIHtcbiAgICAgICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtQ29udHJvbGxlciEuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICd0b29sLWVycm9yJyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0OiB0b29sSW5wdXRzLmdldChjaHVuay50b29sQ2FsbElkKSxcbiAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogY2h1bmsucHJvdmlkZXJFeGVjdXRlZCxcbiAgICAgICAgICAgICAgZXJyb3I6IGNodW5rLnJlc3VsdCxcbiAgICAgICAgICAgIH0gYXMgVHlwZWRUb29sRXJyb3I8VE9PTFM+KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3Rvb2wtcmVzdWx0JyxcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWUsXG4gICAgICAgICAgICAgIGlucHV0OiB0b29sSW5wdXRzLmdldChjaHVuay50b29sQ2FsbElkKSxcbiAgICAgICAgICAgICAgb3V0cHV0OiBjaHVuay5yZXN1bHQsXG4gICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IGNodW5rLnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICB9IGFzIFR5cGVkVG9vbFJlc3VsdDxUT09MUz4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rVHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaGFuZGxlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmx1c2goKSB7XG4gICAgICBjYW5DbG9zZSA9IHRydWU7XG4gICAgICBhdHRlbXB0Q2xvc2UoKTtcbiAgICB9LFxuICB9KTtcblxuICAvLyBjb21iaW5lIHRoZSBnZW5lcmF0b3Igc3RyZWFtIGFuZCB0aGUgdG9vbCByZXN1bHRzIHN0cmVhbVxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtPFNpbmdsZVJlcXVlc3RUZXh0U3RyZWFtUGFydDxUT09MUz4+KHtcbiAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGJvdGggcGlwZXMgc28gdGhlcmUgYXJlIG5vIGRhbmdsaW5nIHByb21pc2VzIHRoYXRcbiAgICAgIC8vIGNhbiBjYXVzZSB1bmNhdWdodCBwcm9taXNlIHJlamVjdGlvbnMgd2hlbiB0aGUgc3RyZWFtIGlzIGFib3J0ZWRcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIGdlbmVyYXRvclN0cmVhbS5waXBlVGhyb3VnaChmb3J3YXJkU3RyZWFtKS5waXBlVG8oXG4gICAgICAgICAgbmV3IFdyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBnZW5lcmF0b3Igc3RyZWFtIGNvbnRyb2xsZXIgaXMgYXV0b21hdGljYWxseSBjbG9zZWQgd2hlbiBpdCdzIGNvbnN1bWVkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgICB0b29sUmVzdWx0c1N0cmVhbS5waXBlVG8oXG4gICAgICAgICAgbmV3IFdyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICBdKTtcbiAgICB9LFxuICB9KTtcbn1cbiIsICJpbXBvcnQge1xuICBBc3Npc3RhbnRDb250ZW50LFxuICBGaWxlUGFydCxcbiAgTW9kZWxNZXNzYWdlLFxuICBUZXh0UGFydCxcbiAgVG9vbFJlc3VsdFBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvdG9vbC1zZXQnO1xuaW1wb3J0IHsgY3JlYXRlVG9vbE1vZGVsT3V0cHV0IH0gZnJvbSAnLi4vcHJvbXB0L2NyZWF0ZS10b29sLW1vZGVsLW91dHB1dCc7XG5pbXBvcnQgeyBNZXNzYWdlQ29udmVyc2lvbkVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L21lc3NhZ2UtY29udmVyc2lvbi1lcnJvcic7XG5pbXBvcnQge1xuICBEYXRhVUlQYXJ0LFxuICBEeW5hbWljVG9vbFVJUGFydCxcbiAgRmlsZVVJUGFydCxcbiAgZ2V0VG9vbE5hbWUsXG4gIGdldFRvb2xPckR5bmFtaWNUb29sTmFtZSxcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICBpc0RhdGFVSVBhcnQsXG4gIGlzRHluYW1pY1Rvb2xVSVBhcnQsXG4gIGlzRmlsZVVJUGFydCxcbiAgaXNSZWFzb25pbmdVSVBhcnQsXG4gIGlzVGV4dFVJUGFydCxcbiAgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydCxcbiAgaXNUb29sVUlQYXJ0LFxuICBSZWFzb25pbmdVSVBhcnQsXG4gIFRleHRVSVBhcnQsXG4gIFRvb2xVSVBhcnQsXG4gIFVJTWVzc2FnZSxcbn0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbi8qKlxuQ29udmVydHMgYW4gYXJyYXkgb2YgVUkgbWVzc2FnZXMgZnJvbSB1c2VDaGF0IGludG8gYW4gYXJyYXkgb2YgTW9kZWxNZXNzYWdlcyB0aGF0IGNhbiBiZSB1c2VkXG53aXRoIHRoZSBBSSBmdW5jdGlvbnMgKGUuZy4gYHN0cmVhbVRleHRgLCBgZ2VuZXJhdGVUZXh0YCkuXG5cbkBwYXJhbSBtZXNzYWdlcyAtIFRoZSBVSSBtZXNzYWdlcyB0byBjb252ZXJ0LlxuQHBhcmFtIG9wdGlvbnMudG9vbHMgLSBUaGUgdG9vbHMgdG8gdXNlLlxuQHBhcmFtIG9wdGlvbnMuaWdub3JlSW5jb21wbGV0ZVRvb2xDYWxscyAtIFdoZXRoZXIgdG8gaWdub3JlIGluY29tcGxldGUgdG9vbCBjYWxscy4gRGVmYXVsdCBpcyBgZmFsc2VgLlxuQHBhcmFtIG9wdGlvbnMuY29udmVydERhdGFQYXJ0IC0gT3B0aW9uYWwgZnVuY3Rpb24gdG8gY29udmVydCBkYXRhIHBhcnRzIHRvIHRleHQgb3IgZmlsZSBtb2RlbCBtZXNzYWdlIHBhcnRzLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmIHRoZSBwYXJ0IHNob3VsZCBiZSBpZ25vcmVkLlxuXG5AcmV0dXJucyBBbiBhcnJheSBvZiBNb2RlbE1lc3NhZ2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvTW9kZWxNZXNzYWdlczxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPihcbiAgbWVzc2FnZXM6IEFycmF5PE9taXQ8VUlfTUVTU0FHRSwgJ2lkJz4+LFxuICBvcHRpb25zPzoge1xuICAgIHRvb2xzPzogVG9vbFNldDtcbiAgICBpZ25vcmVJbmNvbXBsZXRlVG9vbENhbGxzPzogYm9vbGVhbjtcbiAgICBjb252ZXJ0RGF0YVBhcnQ/OiAoXG4gICAgICBwYXJ0OiBEYXRhVUlQYXJ0PEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPj4sXG4gICAgKSA9PiBUZXh0UGFydCB8IEZpbGVQYXJ0IHwgdW5kZWZpbmVkO1xuICB9LFxuKTogTW9kZWxNZXNzYWdlW10ge1xuICBjb25zdCBtb2RlbE1lc3NhZ2VzOiBNb2RlbE1lc3NhZ2VbXSA9IFtdO1xuXG4gIGlmIChvcHRpb25zPy5pZ25vcmVJbmNvbXBsZXRlVG9vbENhbGxzKSB7XG4gICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAobWVzc2FnZSA9PiAoe1xuICAgICAgLi4ubWVzc2FnZSxcbiAgICAgIHBhcnRzOiBtZXNzYWdlLnBhcnRzLmZpbHRlcihcbiAgICAgICAgcGFydCA9PlxuICAgICAgICAgICFpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KHBhcnQpIHx8XG4gICAgICAgICAgKHBhcnQuc3RhdGUgIT09ICdpbnB1dC1zdHJlYW1pbmcnICYmXG4gICAgICAgICAgICBwYXJ0LnN0YXRlICE9PSAnaW5wdXQtYXZhaWxhYmxlJyksXG4gICAgICApLFxuICAgIH0pKTtcbiAgfVxuXG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgICBjYXNlICdzeXN0ZW0nOiB7XG4gICAgICAgIGNvbnN0IHRleHRQYXJ0cyA9IG1lc3NhZ2UucGFydHMuZmlsdGVyKFxuICAgICAgICAgIChwYXJ0KTogcGFydCBpcyBUZXh0VUlQYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ3RleHQnLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyTWV0YWRhdGEgPSB0ZXh0UGFydHMucmVkdWNlKChhY2MsIHBhcnQpID0+IHtcbiAgICAgICAgICBpZiAocGFydC5wcm92aWRlck1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmFjYywgLi4ucGFydC5wcm92aWRlck1ldGFkYXRhIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcblxuICAgICAgICBtb2RlbE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6IHRleHRQYXJ0cy5tYXAocGFydCA9PiBwYXJ0LnRleHQpLmpvaW4oJycpLFxuICAgICAgICAgIC4uLihPYmplY3Qua2V5cyhwcm92aWRlck1ldGFkYXRhKS5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3VzZXInOiB7XG4gICAgICAgIG1vZGVsTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucGFydHNcbiAgICAgICAgICAgIC5tYXAoKHBhcnQpOiBUZXh0UGFydCB8IEZpbGVQYXJ0IHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0ZXh0IHBhcnRzXG4gICAgICAgICAgICAgIGlmIChpc1RleHRVSVBhcnQocGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdGV4dDogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgICAgLi4uKHBhcnQucHJvdmlkZXJNZXRhZGF0YSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBQcm9jZXNzIGZpbGUgcGFydHNcbiAgICAgICAgICAgICAgaWYgKGlzRmlsZVVJUGFydChwYXJ0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICBtZWRpYVR5cGU6IHBhcnQubWVkaWFUeXBlLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBwYXJ0LnVybCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gUHJvY2VzcyBkYXRhIHBhcnRzIHdpdGggY29udmVydGVyIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICAgIGlmIChpc0RhdGFVSVBhcnQocGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucz8uY29udmVydERhdGFQYXJ0Py4oXG4gICAgICAgICAgICAgICAgICBwYXJ0IGFzIERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigocGFydCk6IHBhcnQgaXMgVGV4dFBhcnQgfCBGaWxlUGFydCA9PiBwYXJ0ICE9IG51bGwpLFxuICAgICAgICB9KTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnYXNzaXN0YW50Jzoge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJ0cyAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IGJsb2NrOiBBcnJheTxcbiAgICAgICAgICAgIHwgVGV4dFVJUGFydFxuICAgICAgICAgICAgfCBUb29sVUlQYXJ0PEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+XG4gICAgICAgICAgICB8IFJlYXNvbmluZ1VJUGFydFxuICAgICAgICAgICAgfCBGaWxlVUlQYXJ0XG4gICAgICAgICAgICB8IER5bmFtaWNUb29sVUlQYXJ0XG4gICAgICAgICAgICB8IERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PlxuICAgICAgICAgID4gPSBbXTtcblxuICAgICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NCbG9jaygpIHtcbiAgICAgICAgICAgIGlmIChibG9jay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50OiBBc3Npc3RhbnRDb250ZW50ID0gW107XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBibG9jaykge1xuICAgICAgICAgICAgICBpZiAoaXNUZXh0VUlQYXJ0KHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0ZpbGVVSVBhcnQocGFydCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiBwYXJ0Lm1lZGlhVHlwZSxcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgZGF0YTogcGFydC51cmwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWFzb25pbmdVSVBhcnQocGFydCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZycgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnM6IHBhcnQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0R5bmFtaWNUb29sVUlQYXJ0KHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBwYXJ0LnRvb2xOYW1lO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuc3RhdGUgIT09ICdpbnB1dC1zdHJlYW1pbmcnKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Rvb2xVSVBhcnQocGFydCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGdldFRvb2xOYW1lKHBhcnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQuc3RhdGUgIT09ICdpbnB1dC1zdHJlYW1pbmcnKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1jYWxsJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbE5hbWUgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDpcbiAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAocGFydC5pbnB1dCA/PyBwYXJ0LnJhd0lucHV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJ0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiBwYXJ0LnByb3ZpZGVyRXhlY3V0ZWQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcHJvdmlkZXJPcHRpb25zOiBwYXJ0LmNhbGxQcm92aWRlck1ldGFkYXRhIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHBhcnQucHJvdmlkZXJFeGVjdXRlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAocGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcicpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbE5hbWUgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogY3JlYXRlVG9vbE1vZGVsT3V0cHV0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnQuZXJyb3JUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6IG9wdGlvbnM/LnRvb2xzPy5bdG9vbE5hbWVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNb2RlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJyA/ICdqc29uJyA6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzRGF0YVVJUGFydChwYXJ0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFQYXJ0ID0gb3B0aW9ucz8uY29udmVydERhdGFQYXJ0Py4oXG4gICAgICAgICAgICAgICAgICBwYXJ0IGFzIERhdGFVSVBhcnQ8SW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+PixcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFQYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQucHVzaChkYXRhUGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcGFydDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnQ6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb2RlbE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgdG9vbCBpbnZvY2F0aW9ucyB3aXRoIHJlc3VsdHMgaW4gdGhlIGJsb2NrXG4gICAgICAgICAgICBjb25zdCB0b29sUGFydHMgPSBibG9jay5maWx0ZXIoXG4gICAgICAgICAgICAgIHBhcnQgPT5cbiAgICAgICAgICAgICAgICAoaXNUb29sVUlQYXJ0KHBhcnQpICYmIHBhcnQucHJvdmlkZXJFeGVjdXRlZCAhPT0gdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09ICdkeW5hbWljLXRvb2wnLFxuICAgICAgICAgICAgKSBhcyAoXG4gICAgICAgICAgICAgIHwgVG9vbFVJUGFydDxJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+PlxuICAgICAgICAgICAgICB8IER5bmFtaWNUb29sVUlQYXJ0XG4gICAgICAgICAgICApW107XG5cbiAgICAgICAgICAgIC8vIHRvb2wgbWVzc2FnZSB3aXRoIHRvb2wgcmVzdWx0c1xuICAgICAgICAgICAgaWYgKHRvb2xQYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIG1vZGVsTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcm9sZTogJ3Rvb2wnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRvb2xQYXJ0c1xuICAgICAgICAgICAgICAgICAgLm1hcCgodG9vbFBhcnQpOiBUb29sUmVzdWx0UGFydCB8IG51bGwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRvb2xQYXJ0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3V0cHV0LWVycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlICdvdXRwdXQtYXZhaWxhYmxlJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBnZXRUb29sT3JEeW5hbWljVG9vbE5hbWUodG9vbFBhcnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9vbC1yZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sUGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjcmVhdGVUb29sTW9kZWxPdXRwdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xQYXJ0LnN0YXRlID09PSAnb3V0cHV0LWVycm9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRvb2xQYXJ0LmVycm9yVGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRvb2xQYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sOiBvcHRpb25zPy50b29scz8uW3Rvb2xOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1vZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgKG91dHB1dCk6IG91dHB1dCBpcyBOb25OdWxsYWJsZTx0eXBlb2Ygb3V0cHV0PiA9PlxuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCAhPSBudWxsLFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgZm9yIG5leHQgYmxvY2tcbiAgICAgICAgICAgIGJsb2NrID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIG1lc3NhZ2UucGFydHMpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaXNUZXh0VUlQYXJ0KHBhcnQpIHx8XG4gICAgICAgICAgICAgIGlzUmVhc29uaW5nVUlQYXJ0KHBhcnQpIHx8XG4gICAgICAgICAgICAgIGlzRmlsZVVJUGFydChwYXJ0KSB8fFxuICAgICAgICAgICAgICBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KHBhcnQpIHx8XG4gICAgICAgICAgICAgIGlzRGF0YVVJUGFydChwYXJ0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGJsb2NrLnB1c2gocGFydCBhcyAodHlwZW9mIGJsb2NrKVtudW1iZXJdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC50eXBlID09PSAnc3RlcC1zdGFydCcpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0Jsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvY2Vzc0Jsb2NrKCk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gbWVzc2FnZS5yb2xlO1xuICAgICAgICB0aHJvdyBuZXcgTWVzc2FnZUNvbnZlcnNpb25FcnJvcih7XG4gICAgICAgICAgb3JpZ2luYWxNZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1vZGVsTWVzc2FnZXM7XG59XG5cbi8qKlxuQGRlcHJlY2F0ZWQgVXNlIGBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzYCBpbnN0ZWFkLlxuICovXG4vLyBUT0RPIHJlbW92ZSBpbiBBSSBTREsgNlxuZXhwb3J0IGNvbnN0IGNvbnZlcnRUb0NvcmVNZXNzYWdlcyA9IGNvbnZlcnRUb01vZGVsTWVzc2FnZXM7XG4iLCAiaW1wb3J0IHsgSWRHZW5lcmF0b3IsIFByb3ZpZGVyT3B0aW9ucyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVUZXh0LFxuICBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjayxcbn0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9nZW5lcmF0ZS10ZXh0JztcbmltcG9ydCB7IEdlbmVyYXRlVGV4dFJlc3VsdCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGUtdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgT3V0cHV0IH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9vdXRwdXQnO1xuaW1wb3J0IHsgUHJlcGFyZVN0ZXBGdW5jdGlvbiB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvcHJlcGFyZS1zdGVwJztcbmltcG9ydCB7IFN0b3BDb25kaXRpb24gfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3N0b3AtY29uZGl0aW9uJztcbmltcG9ydCB7IHN0cmVhbVRleHQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3N0cmVhbS10ZXh0JztcbmltcG9ydCB7IFN0cmVhbVRleHRSZXN1bHQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3N0cmVhbS10ZXh0LXJlc3VsdCc7XG5pbXBvcnQgeyBUb29sQ2FsbFJlcGFpckZ1bmN0aW9uIH0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC90b29sLWNhbGwtcmVwYWlyLWZ1bmN0aW9uJztcbmltcG9ydCB7IFRvb2xTZXQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L3Rvb2wtc2V0JztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9wcm9tcHQnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWwsIFRvb2xDaG9pY2UgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBQcm92aWRlck1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHsgY29udmVydFRvTW9kZWxNZXNzYWdlcyB9IGZyb20gJy4uL3VpL2NvbnZlcnQtdG8tbW9kZWwtbWVzc2FnZXMnO1xuaW1wb3J0IHsgSW5mZXJVSVRvb2xzLCBVSU1lc3NhZ2UgfSBmcm9tICcuLi91aS91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIEFnZW50U2V0dGluZ3M8XG4gIFRPT0xTIGV4dGVuZHMgVG9vbFNldCxcbiAgT1VUUFVUID0gbmV2ZXIsXG4gIE9VVFBVVF9QQVJUSUFMID0gbmV2ZXIsXG4+ID0gQ2FsbFNldHRpbmdzICYge1xuICAvKipcbiAgICogVGhlIHN5c3RlbSBwcm9tcHQgdG8gdXNlLlxuICAgKi9cbiAgc3lzdGVtPzogc3RyaW5nO1xuXG4gIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICovXG4gIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuXG4gIC8qKlxuVGhlIHRvb2xzIHRoYXQgdGhlIG1vZGVsIGNhbiBjYWxsLiBUaGUgbW9kZWwgbmVlZHMgdG8gc3VwcG9ydCBjYWxsaW5nIHRvb2xzLlxuKi9cbiAgdG9vbHM/OiBUT09MUztcblxuICAvKipcblRoZSB0b29sIGNob2ljZSBzdHJhdGVneS4gRGVmYXVsdDogJ2F1dG8nLlxuICAgKi9cbiAgdG9vbENob2ljZT86IFRvb2xDaG9pY2U8Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuQ29uZGl0aW9uIGZvciBzdG9wcGluZyB0aGUgZ2VuZXJhdGlvbiB3aGVuIHRoZXJlIGFyZSB0b29sIHJlc3VsdHMgaW4gdGhlIGxhc3Qgc3RlcC5cbldoZW4gdGhlIGNvbmRpdGlvbiBpcyBhbiBhcnJheSwgYW55IG9mIHRoZSBjb25kaXRpb25zIGNhbiBiZSBtZXQgdG8gc3RvcCB0aGUgZ2VuZXJhdGlvbi5cblxuQGRlZmF1bHQgc3RlcENvdW50SXMoMSlcbiAgICovXG4gIHN0b3BXaGVuPzpcbiAgICB8IFN0b3BDb25kaXRpb248Tm9JbmZlcjxUT09MUz4+XG4gICAgfCBBcnJheTxTdG9wQ29uZGl0aW9uPE5vSW5mZXI8VE9PTFM+Pj47XG5cbiAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAvKipcbkxpbWl0cyB0aGUgdG9vbHMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGUgbW9kZWwgdG8gY2FsbCB3aXRob3V0XG5jaGFuZ2luZyB0aGUgdG9vbCBjYWxsIGFuZCByZXN1bHQgdHlwZXMgaW4gdGhlIHJlc3VsdC5cbiAgICovXG4gIGFjdGl2ZVRvb2xzPzogQXJyYXk8a2V5b2YgTm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuT3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBmb3IgcGFyc2luZyBzdHJ1Y3R1cmVkIG91dHB1dHMgZnJvbSB0aGUgTExNIHJlc3BvbnNlLlxuICAgKi9cbiAgZXhwZXJpbWVudGFsX291dHB1dD86IE91dHB1dDxPVVRQVVQsIE9VVFBVVF9QQVJUSUFMPjtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBwcmVwYXJlU3RlcGAgaW5zdGVhZC5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuT3B0aW9uYWwgZnVuY3Rpb24gdGhhdCB5b3UgY2FuIHVzZSB0byBwcm92aWRlIGRpZmZlcmVudCBzZXR0aW5ncyBmb3IgYSBzdGVwLlxuICAqL1xuICBwcmVwYXJlU3RlcD86IFByZXBhcmVTdGVwRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciBhIHRvb2wgY2FsbCB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbD86IFRvb2xDYWxsUmVwYWlyRnVuY3Rpb248Tm9JbmZlcjxUT09MUz4+O1xuXG4gIC8qKlxuICBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIGVhY2ggc3RlcCAoTExNIGNhbGwpIGlzIGZpbmlzaGVkLCBpbmNsdWRpbmcgaW50ZXJtZWRpYXRlIHN0ZXBzLlxuICAqL1xuICBvblN0ZXBGaW5pc2g/OiBHZW5lcmF0ZVRleHRPblN0ZXBGaW5pc2hDYWxsYmFjazxOb0luZmVyPFRPT0xTPj47XG5cbiAgLyoqXG4gICAqIENvbnRleHQgdGhhdCBpcyBwYXNzZWQgaW50byB0b29sIGNhbGxzLlxuICAgKlxuICAgKiBFeHBlcmltZW50YWwgKGNhbiBicmVhayBpbiBwYXRjaCByZWxlYXNlcykuXG4gICAqXG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKi9cbiAgZXhwZXJpbWVudGFsX2NvbnRleHQ/OiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBfaW50ZXJuYWw/OiB7XG4gICAgZ2VuZXJhdGVJZD86IElkR2VuZXJhdG9yO1xuICAgIGN1cnJlbnREYXRlPzogKCkgPT4gRGF0ZTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBBZ2VudDxcbiAgVE9PTFMgZXh0ZW5kcyBUb29sU2V0LFxuICBPVVRQVVQgPSBuZXZlcixcbiAgT1VUUFVUX1BBUlRJQUwgPSBuZXZlcixcbj4ge1xuICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBBZ2VudFNldHRpbmdzPFRPT0xTLCBPVVRQVVQsIE9VVFBVVF9QQVJUSUFMPjtcblxuICBjb25zdHJ1Y3RvcihzZXR0aW5nczogQWdlbnRTZXR0aW5nczxUT09MUywgT1VUUFVULCBPVVRQVVRfUEFSVElBTD4pIHtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gIH1cblxuICBnZXQgdG9vbHMoKTogVE9PTFMge1xuICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRvb2xzIGFzIFRPT0xTO1xuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGUoXG4gICAgb3B0aW9uczogUHJvbXB0ICYge1xuICAgICAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuZnJvbSB0aGUgcHJvdmlkZXIgdG8gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5yZXN1bHRzIHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICAgICAgcHJvdmlkZXJNZXRhZGF0YT86IFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG50byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbmZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICAgICAgICovXG4gICAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG4gICAgfSxcbiAgKTogUHJvbWlzZTxHZW5lcmF0ZVRleHRSZXN1bHQ8VE9PTFMsIE9VVFBVVD4+IHtcbiAgICByZXR1cm4gZ2VuZXJhdGVUZXh0KHsgLi4udGhpcy5zZXR0aW5ncywgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIHN0cmVhbShcbiAgICBvcHRpb25zOiBQcm9tcHQgJiB7XG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG5mcm9tIHRoZSBwcm92aWRlciB0byB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbnJlc3VsdHMgdGhhdCBjYW4gYmUgZnVsbHkgZW5jYXBzdWxhdGVkIGluIHRoZSBwcm92aWRlci5cbiAgICovXG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogUHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAgICAgICAgKi9cbiAgICAgIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcbiAgICB9LFxuICApOiBTdHJlYW1UZXh0UmVzdWx0PFRPT0xTLCBPVVRQVVRfUEFSVElBTD4ge1xuICAgIHJldHVybiBzdHJlYW1UZXh0KHsgLi4udGhpcy5zZXR0aW5ncywgLi4ub3B0aW9ucyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcmVzcG9uc2Ugb2JqZWN0IHRoYXQgc3RyZWFtcyBVSSBtZXNzYWdlcyB0byB0aGUgY2xpZW50LlxuICAgKi9cbiAgcmVzcG9uZChvcHRpb25zOiB7XG4gICAgbWVzc2FnZXM6IFVJTWVzc2FnZTxuZXZlciwgbmV2ZXIsIEluZmVyVUlUb29sczxUT09MUz4+W107XG4gIH0pOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtKHtcbiAgICAgIHByb21wdDogY29udmVydFRvTW9kZWxNZXNzYWdlcyhvcHRpb25zLm1lc3NhZ2VzKSxcbiAgICB9KS50b1VJTWVzc2FnZVN0cmVhbVJlc3BvbnNlPFxuICAgICAgVUlNZXNzYWdlPG5ldmVyLCBuZXZlciwgSW5mZXJVSVRvb2xzPFRPT0xTPj5cbiAgICA+KCk7XG4gIH1cbn1cblxudHlwZSBJbmZlckFnZW50VG9vbHM8QUdFTlQ+ID1cbiAgQUdFTlQgZXh0ZW5kcyBBZ2VudDxpbmZlciBUT09MUywgYW55LCBhbnk+ID8gVE9PTFMgOiBuZXZlcjtcblxuLyoqXG4gKiBJbmZlciB0aGUgVUkgbWVzc2FnZSB0eXBlIG9mIGFuIGFnZW50LlxuICovXG5leHBvcnQgdHlwZSBJbmZlckFnZW50VUlNZXNzYWdlPEFHRU5UPiA9IFVJTWVzc2FnZTxcbiAgbmV2ZXIsXG4gIG5ldmVyLFxuICBJbmZlclVJVG9vbHM8SW5mZXJBZ2VudFRvb2xzPEFHRU5UPj5cbj47XG4iLCAiaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyByZXNvbHZlRW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IGFzc2VtYmxlT3BlcmF0aW9uTmFtZSB9IGZyb20gJy4uL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZSc7XG5pbXBvcnQgeyBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtYmFzZS10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBnZXRUcmFjZXIgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LXRyYWNlcic7XG5pbXBvcnQgeyByZWNvcmRTcGFuIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3JlY29yZC1zcGFuJztcbmltcG9ydCB7IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvc2VsZWN0LXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBFbWJlZGRpbmdNb2RlbCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgRW1iZWRSZXN1bHQgfSBmcm9tICcuL2VtYmVkLXJlc3VsdCc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbi8qKlxuRW1iZWQgYSB2YWx1ZSB1c2luZyBhbiBlbWJlZGRpbmcgbW9kZWwuIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZSBpcyBkZWZpbmVkIGJ5IHRoZSBlbWJlZGRpbmcgbW9kZWwuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGVtYmVkZGVkLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZW1iZWRkaW5nLCB0aGUgdmFsdWUsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1iZWQ8VkFMVUUgPSBzdHJpbmc+KHtcbiAgbW9kZWw6IG1vZGVsQXJnLFxuICB2YWx1ZSxcbiAgcHJvdmlkZXJPcHRpb25zLFxuICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxufToge1xuICAvKipcblRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogRW1iZWRkaW5nTW9kZWw8VkFMVUU+O1xuXG4gIC8qKlxuVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGVtYmVkZGVkLlxuICAgKi9cbiAgdmFsdWU6IFZBTFVFO1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgZW1iZWRkaW5nIG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIC8qKlxuICBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG4gIHRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuICBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbiAgICogT3B0aW9uYWwgdGVsZW1ldHJ5IGNvbmZpZ3VyYXRpb24gKGV4cGVyaW1lbnRhbCkuXG4gICAqL1xuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG59KTogUHJvbWlzZTxFbWJlZFJlc3VsdDxWQUxVRT4+IHtcbiAgY29uc3QgbW9kZWwgPSByZXNvbHZlRW1iZWRkaW5nTW9kZWw8VkFMVUU+KG1vZGVsQXJnKTtcblxuICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgIG1vZGVsOiBtb2RlbCxcbiAgICB0ZWxlbWV0cnksXG4gICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgc2V0dGluZ3M6IHsgbWF4UmV0cmllcyB9LFxuICB9KTtcblxuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogJ2FpLmVtYmVkJyxcbiAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHsgb3BlcmF0aW9uSWQ6ICdhaS5lbWJlZCcsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICdhaS52YWx1ZSc6IHsgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB0cmFjZXIsXG4gICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgY29uc3QgeyBlbWJlZGRpbmcsIHVzYWdlLCByZXNwb25zZSwgcHJvdmlkZXJNZXRhZGF0YSB9ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgLy8gbmVzdGVkIHNwYW5zIHRvIGFsaWduIHdpdGggdGhlIGVtYmVkTWFueSB0ZWxlbWV0cnkgZGF0YTpcbiAgICAgICAgcmVjb3JkU3Bhbih7XG4gICAgICAgICAgbmFtZTogJ2FpLmVtYmVkLmRvRW1iZWQnLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZW1iZWQuZG9FbWJlZCcsXG4gICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgJ2FpLnZhbHVlcyc6IHsgaW5wdXQ6ICgpID0+IFtKU09OLnN0cmluZ2lmeSh2YWx1ZSldIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICBmbjogYXN5bmMgZG9FbWJlZFNwYW4gPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICB2YWx1ZXM6IFt2YWx1ZV0sXG4gICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5nc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gbW9kZWxSZXNwb25zZS51c2FnZSA/PyB7IHRva2VuczogTmFOIH07XG5cbiAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGVtYmVkZGluZyxcbiAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IG1vZGVsUmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgJ2FpLmVtYmVkZGluZyc6IHsgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpIH0sXG4gICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRSZXN1bHQoe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZW1iZWRkaW5nLFxuICAgICAgICB1c2FnZSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn1cblxuY2xhc3MgRGVmYXVsdEVtYmVkUmVzdWx0PFZBTFVFPiBpbXBsZW1lbnRzIEVtYmVkUmVzdWx0PFZBTFVFPiB7XG4gIHJlYWRvbmx5IHZhbHVlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3ZhbHVlJ107XG4gIHJlYWRvbmx5IGVtYmVkZGluZzogRW1iZWRSZXN1bHQ8VkFMVUU+WydlbWJlZGRpbmcnXTtcbiAgcmVhZG9ubHkgdXNhZ2U6IEVtYmVkUmVzdWx0PFZBTFVFPlsndXNhZ2UnXTtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogRW1iZWRSZXN1bHQ8VkFMVUU+Wydwcm92aWRlck1ldGFkYXRhJ107XG4gIHJlYWRvbmx5IHJlc3BvbnNlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3Jlc3BvbnNlJ107XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHZhbHVlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3ZhbHVlJ107XG4gICAgZW1iZWRkaW5nOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ2VtYmVkZGluZyddO1xuICAgIHVzYWdlOiBFbWJlZFJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YT86IEVtYmVkUmVzdWx0PFZBTFVFPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICAgIHJlc3BvbnNlPzogRW1iZWRSZXN1bHQ8VkFMVUU+WydyZXNwb25zZSddO1xuICB9KSB7XG4gICAgdGhpcy52YWx1ZSA9IG9wdGlvbnMudmFsdWU7XG4gICAgdGhpcy5lbWJlZGRpbmcgPSBvcHRpb25zLmVtYmVkZGluZztcbiAgICB0aGlzLnVzYWdlID0gb3B0aW9ucy51c2FnZTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHByZXBhcmVSZXRyaWVzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLXJldHJpZXMnO1xuaW1wb3J0IHsgc3BsaXRBcnJheSB9IGZyb20gJy4uL3V0aWwvc3BsaXQtYXJyYXknO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7IEVtYmVkZGluZywgRW1iZWRkaW5nTW9kZWwsIFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyByZXNvbHZlRW1iZWRkaW5nTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IEVtYmVkTWFueVJlc3VsdCB9IGZyb20gJy4vZW1iZWQtbWFueS1yZXN1bHQnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuXG4vKipcbkVtYmVkIHNldmVyYWwgdmFsdWVzIHVzaW5nIGFuIGVtYmVkZGluZyBtb2RlbC4gVGhlIHR5cGUgb2YgdGhlIHZhbHVlIGlzIGRlZmluZWRcbmJ5IHRoZSBlbWJlZGRpbmcgbW9kZWwuXG5cbmBlbWJlZE1hbnlgIGF1dG9tYXRpY2FsbHkgc3BsaXRzIGxhcmdlIHJlcXVlc3RzIGludG8gc21hbGxlciBjaHVua3MgaWYgdGhlIG1vZGVsXG5oYXMgYSBsaW1pdCBvbiBob3cgbWFueSBlbWJlZGRpbmdzIGNhbiBiZSBnZW5lcmF0ZWQgaW4gYSBzaW5nbGUgY2FsbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGVtYmVkZGluZyBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdmFsdWVzIC0gVGhlIHZhbHVlcyB0aGF0IHNob3VsZCBiZSBlbWJlZGRlZC5cblxuQHBhcmFtIG1heFJldHJpZXMgLSBNYXhpbXVtIG51bWJlciBvZiByZXRyaWVzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHJldHJpZXMuIERlZmF1bHQ6IDIuXG5AcGFyYW0gYWJvcnRTaWduYWwgLSBBbiBvcHRpb25hbCBhYm9ydCBzaWduYWwgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGwuXG5AcGFyYW0gaGVhZGVycyAtIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdC4gT25seSBhcHBsaWNhYmxlIGZvciBIVFRQLWJhc2VkIHByb3ZpZGVycy5cblxuQHJldHVybnMgQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGVtYmVkZGluZ3MsIHRoZSB2YWx1ZSwgYW5kIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbWJlZE1hbnk8VkFMVUUgPSBzdHJpbmc+KHtcbiAgbW9kZWw6IG1vZGVsQXJnLFxuICB2YWx1ZXMsXG4gIG1heFBhcmFsbGVsQ2FsbHMgPSBJbmZpbml0eSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxufToge1xuICAvKipcblRoZSBlbWJlZGRpbmcgbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogRW1iZWRkaW5nTW9kZWw8VkFMVUU+O1xuXG4gIC8qKlxuVGhlIHZhbHVlcyB0aGF0IHNob3VsZCBiZSBlbWJlZGRlZC5cbiAgICovXG4gIHZhbHVlczogQXJyYXk8VkFMVUU+O1xuXG4gIC8qKlxuTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyBwZXIgZW1iZWRkaW5nIG1vZGVsIGNhbGwuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy5cblxuQGRlZmF1bHQgMlxuICAgKi9cbiAgbWF4UmV0cmllcz86IG51bWJlcjtcblxuICAvKipcbkFib3J0IHNpZ25hbC5cbiAqL1xuICBhYm9ydFNpZ25hbD86IEFib3J0U2lnbmFsO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHJlcXVlc3QuXG5Pbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICovXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAvKipcbiAgQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxuICB0byB0aGUgcHJvdmlkZXIgZnJvbSB0aGUgQUkgU0RLIGFuZCBlbmFibGUgcHJvdmlkZXItc3BlY2lmaWNcbiAgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIE1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnQgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IEluZmluaXR5XG4gICAqL1xuICBtYXhQYXJhbGxlbENhbGxzPzogbnVtYmVyO1xufSk6IFByb21pc2U8RW1iZWRNYW55UmVzdWx0PFZBTFVFPj4ge1xuICBjb25zdCBtb2RlbCA9IHJlc29sdmVFbWJlZGRpbmdNb2RlbDxWQUxVRT4obW9kZWxBcmcpO1xuXG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgIHNldHRpbmdzOiB7IG1heFJldHJpZXMgfSxcbiAgfSk7XG5cbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG5cbiAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgIG5hbWU6ICdhaS5lbWJlZE1hbnknLFxuICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgdGVsZW1ldHJ5LFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoeyBvcGVyYXRpb25JZDogJ2FpLmVtYmVkTWFueScsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgJ2FpLnZhbHVlcyc6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCh2YWx1ZSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB0cmFjZXIsXG4gICAgZm46IGFzeW5jIHNwYW4gPT4ge1xuICAgICAgY29uc3QgW21heEVtYmVkZGluZ3NQZXJDYWxsLCBzdXBwb3J0c1BhcmFsbGVsQ2FsbHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBtb2RlbC5tYXhFbWJlZGRpbmdzUGVyQ2FsbCxcbiAgICAgICAgbW9kZWwuc3VwcG9ydHNQYXJhbGxlbENhbGxzLFxuICAgICAgXSk7XG5cbiAgICAgIC8vIHRoZSBtb2RlbCBoYXMgbm90IHNwZWNpZmllZCBsaW1pdHMgb25cbiAgICAgIC8vIGhvdyBtYW55IGVtYmVkZGluZ3MgY2FuIGJlIGdlbmVyYXRlZCBpbiBhIHNpbmdsZSBjYWxsXG4gICAgICBpZiAobWF4RW1iZWRkaW5nc1BlckNhbGwgPT0gbnVsbCB8fCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgY29uc3QgeyBlbWJlZGRpbmdzLCB1c2FnZSwgcmVzcG9uc2UsIHByb3ZpZGVyTWV0YWRhdGEgfSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIG5lc3RlZCBzcGFucyB0byBhbGlnbiB3aXRoIHRoZSBlbWJlZE1hbnkgdGVsZW1ldHJ5IGRhdGE6XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgIG5hbWU6ICdhaS5lbWJlZE1hbnkuZG9FbWJlZCcsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmVtYmVkTWFueS5kb0VtYmVkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgICAgICdhaS52YWx1ZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiB2YWx1ZXMubWFwKHZhbHVlID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyBkb0VtYmVkU3BhbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3M7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNhZ2UgPSBtb2RlbFJlc3BvbnNlLnVzYWdlID8/IHsgdG9rZW5zOiBOYU4gfTtcblxuICAgICAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgJ2FpLmVtYmVkZGluZ3MnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGVtYmVkZGluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdXNhZ2UudG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBtb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZTogbW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICdhaS5lbWJlZGRpbmdzJzoge1xuICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT5cbiAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRva2Vucyc6IHVzYWdlLnRva2VucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0KHtcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgZW1iZWRkaW5ncyxcbiAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICBwcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIHJlc3BvbnNlczogW3Jlc3BvbnNlXSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNwbGl0IHRoZSB2YWx1ZXMgaW50byBjaHVua3MgdGhhdCBhcmUgc21hbGwgZW5vdWdoIGZvciB0aGUgbW9kZWw6XG4gICAgICBjb25zdCB2YWx1ZUNodW5rcyA9IHNwbGl0QXJyYXkodmFsdWVzLCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCk7XG5cbiAgICAgIC8vIHNlcmlhbGx5IGVtYmVkIHRoZSBjaHVua3M6XG4gICAgICBjb25zdCBlbWJlZGRpbmdzOiBBcnJheTxFbWJlZGRpbmc+ID0gW107XG4gICAgICBjb25zdCByZXNwb25zZXM6IEFycmF5PFxuICAgICAgICB8IHtcbiAgICAgICAgICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgICAgICAgYm9keT86IHVua25vd247XG4gICAgICAgICAgfVxuICAgICAgICB8IHVuZGVmaW5lZFxuICAgICAgPiA9IFtdO1xuICAgICAgbGV0IHRva2VucyA9IDA7XG4gICAgICBsZXQgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcblxuICAgICAgY29uc3QgcGFyYWxsZWxDaHVua3MgPSBzcGxpdEFycmF5KFxuICAgICAgICB2YWx1ZUNodW5rcyxcbiAgICAgICAgc3VwcG9ydHNQYXJhbGxlbENhbGxzID8gbWF4UGFyYWxsZWxDYWxscyA6IDEsXG4gICAgICApO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhcmFsbGVsQ2h1bmsgb2YgcGFyYWxsZWxDaHVua3MpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHBhcmFsbGVsQ2h1bmsubWFwKGNodW5rID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXRyeSgoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIG5lc3RlZCBzcGFucyB0byBhbGlnbiB3aXRoIHRoZSBlbWJlZE1hbnkgdGVsZW1ldHJ5IGRhdGE6XG4gICAgICAgICAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnYWkuZW1iZWRNYW55LmRvRW1iZWQnLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZW1iZWRNYW55LmRvRW1iZWQnLFxuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICAgICAgICdhaS52YWx1ZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IGNodW5rLm1hcCh2YWx1ZSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICAgICAgZm46IGFzeW5jIGRvRW1iZWRTcGFuID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsUmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5kb0VtYmVkKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5ncyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncztcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gbW9kZWxSZXNwb25zZS51c2FnZSA/PyB7IHRva2VuczogTmFOIH07XG5cbiAgICAgICAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS50b2tlbnMnOiB1c2FnZS50b2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbW9kZWxSZXNwb25zZS5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogbW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgZW1iZWRkaW5ncy5wdXNoKC4uLnJlc3VsdC5lbWJlZGRpbmdzKTtcbiAgICAgICAgICByZXNwb25zZXMucHVzaChyZXN1bHQucmVzcG9uc2UpO1xuICAgICAgICAgIHRva2VucyArPSByZXN1bHQudXNhZ2UudG9rZW5zO1xuICAgICAgICAgIGlmIChyZXN1bHQucHJvdmlkZXJNZXRhZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFwcm92aWRlck1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEgPSB7IC4uLnJlc3VsdC5wcm92aWRlck1ldGFkYXRhIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtwcm92aWRlck5hbWUsIG1ldGFkYXRhXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgICAgICAgICAgICByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgIC4uLihwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0gPz8ge30pLFxuICAgICAgICAgICAgICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAnYWkuZW1iZWRkaW5ncyc6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PlxuICAgICAgICAgICAgICAgIGVtYmVkZGluZ3MubWFwKGVtYmVkZGluZyA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYWkudXNhZ2UudG9rZW5zJzogdG9rZW5zLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0KHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICB1c2FnZTogeyB0b2tlbnMgfSxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgcmVzcG9uc2VzLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+IGltcGxlbWVudHMgRW1iZWRNYW55UmVzdWx0PFZBTFVFPiB7XG4gIHJlYWRvbmx5IHZhbHVlczogRW1iZWRNYW55UmVzdWx0PFZBTFVFPlsndmFsdWVzJ107XG4gIHJlYWRvbmx5IGVtYmVkZGluZ3M6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ2VtYmVkZGluZ3MnXTtcbiAgcmVhZG9ubHkgdXNhZ2U6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHByb3ZpZGVyTWV0YWRhdGE6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2VzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydyZXNwb25zZXMnXTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgdmFsdWVzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+Wyd2YWx1ZXMnXTtcbiAgICBlbWJlZGRpbmdzOiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydlbWJlZGRpbmdzJ107XG4gICAgdXNhZ2U6IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3VzYWdlJ107XG4gICAgcHJvdmlkZXJNZXRhZGF0YT86IEVtYmVkTWFueVJlc3VsdDxWQUxVRT5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgICByZXNwb25zZXM/OiBFbWJlZE1hbnlSZXN1bHQ8VkFMVUU+WydyZXNwb25zZXMnXTtcbiAgfSkge1xuICAgIHRoaXMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XG4gICAgdGhpcy5lbWJlZGRpbmdzID0gb3B0aW9ucy5lbWJlZGRpbmdzO1xuICAgIHRoaXMudXNhZ2UgPSBvcHRpb25zLnVzYWdlO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICB9XG59XG4iLCAiLyoqXG4gKiBTcGxpdHMgYW4gYXJyYXkgaW50byBjaHVua3Mgb2YgYSBzcGVjaWZpZWQgc2l6ZS5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheS5cbiAqIEBwYXJhbSB7VFtdfSBhcnJheSAtIFRoZSBhcnJheSB0byBzcGxpdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjaHVua1NpemUgLSBUaGUgc2l6ZSBvZiBlYWNoIGNodW5rLlxuICogQHJldHVybnMge1RbXVtdfSAtIEEgbmV3IGFycmF5IGNvbnRhaW5pbmcgdGhlIGNodW5rcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0QXJyYXk8VD4oYXJyYXk6IFRbXSwgY2h1bmtTaXplOiBudW1iZXIpOiBUW11bXSB7XG4gIGlmIChjaHVua1NpemUgPD0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2h1bmtTaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICByZXN1bHQucHVzaChhcnJheS5zbGljZShpLCBpICsgY2h1bmtTaXplKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwgImltcG9ydCB7IEltYWdlTW9kZWxWMiwgSW1hZ2VNb2RlbFYyUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgUHJvdmlkZXJPcHRpb25zLCB3aXRoVXNlckFnZW50U3VmZml4IH0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1pbWFnZS1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgZGV0ZWN0TWVkaWFUeXBlLFxuICBpbWFnZU1lZGlhVHlwZVNpZ25hdHVyZXMsXG59IGZyb20gJy4uL3V0aWwvZGV0ZWN0LW1lZGlhLXR5cGUnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQge1xuICBEZWZhdWx0R2VuZXJhdGVkRmlsZSxcbiAgR2VuZXJhdGVkRmlsZSxcbn0gZnJvbSAnLi4vZ2VuZXJhdGUtdGV4dC9nZW5lcmF0ZWQtZmlsZSc7XG5pbXBvcnQgeyBJbWFnZUdlbmVyYXRpb25XYXJuaW5nIH0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UtbW9kZWwnO1xuaW1wb3J0IHsgSW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9pbWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBHZW5lcmF0ZUltYWdlUmVzdWx0IH0gZnJvbSAnLi9nZW5lcmF0ZS1pbWFnZS1yZXN1bHQnO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcbmltcG9ydCB7IHJlc29sdmVJbWFnZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvcmVzb2x2ZS1tb2RlbCc7XG5pbXBvcnQgdHlwZSB7IEltYWdlTW9kZWwgfSBmcm9tICcuLi90eXBlcy9pbWFnZS1tb2RlbCc7XG5cbi8qKlxuR2VuZXJhdGVzIGltYWdlcyB1c2luZyBhbiBpbWFnZSBtb2RlbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIGltYWdlIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSBwcm9tcHQgLSBUaGUgcHJvbXB0IHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGltYWdlLlxuQHBhcmFtIG4gLSBOdW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLiBEZWZhdWx0OiAxLlxuQHBhcmFtIHNpemUgLSBTaXplIG9mIHRoZSBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgaGF2ZSB0aGUgZm9ybWF0IGB7d2lkdGh9eHtoZWlnaHR9YC5cbkBwYXJhbSBhc3BlY3RSYXRpbyAtIEFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGhhdmUgdGhlIGZvcm1hdCBge3dpZHRofTp7aGVpZ2h0fWAuXG5AcGFyYW0gc2VlZCAtIFNlZWQgZm9yIHRoZSBpbWFnZSBnZW5lcmF0aW9uLlxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgaW1hZ2VzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVJbWFnZSh7XG4gIG1vZGVsOiBtb2RlbEFyZyxcbiAgcHJvbXB0LFxuICBuID0gMSxcbiAgbWF4SW1hZ2VzUGVyQ2FsbCxcbiAgc2l6ZSxcbiAgYXNwZWN0UmF0aW8sXG4gIHNlZWQsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG59OiB7XG4gIC8qKlxuVGhlIGltYWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgbW9kZWw6IEltYWdlTW9kZWw7XG5cbiAgLyoqXG5UaGUgcHJvbXB0IHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGltYWdlLlxuICAgKi9cbiAgcHJvbXB0OiBzdHJpbmc7XG5cbiAgLyoqXG5OdW1iZXIgb2YgaW1hZ2VzIHRvIGdlbmVyYXRlLlxuICAgKi9cbiAgbj86IG51bWJlcjtcblxuICAvKipcbk51bWJlciBvZiBpbWFnZXMgdG8gZ2VuZXJhdGUuXG4gICAqL1xuICBtYXhJbWFnZXNQZXJDYWxsPzogbnVtYmVyO1xuXG4gIC8qKlxuU2l6ZSBvZiB0aGUgaW1hZ2VzIHRvIGdlbmVyYXRlLiBNdXN0IGhhdmUgdGhlIGZvcm1hdCBge3dpZHRofXh7aGVpZ2h0fWAuIElmIG5vdCBwcm92aWRlZCwgdGhlIGRlZmF1bHQgc2l6ZSB3aWxsIGJlIHVzZWQuXG4gICAqL1xuICBzaXplPzogYCR7bnVtYmVyfXgke251bWJlcn1gO1xuXG4gIC8qKlxuQXNwZWN0IHJhdGlvIG9mIHRoZSBpbWFnZXMgdG8gZ2VuZXJhdGUuIE11c3QgaGF2ZSB0aGUgZm9ybWF0IGB7d2lkdGh9OntoZWlnaHR9YC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBhc3BlY3QgcmF0aW8gd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgYXNwZWN0UmF0aW8/OiBgJHtudW1iZXJ9OiR7bnVtYmVyfWA7XG5cbiAgLyoqXG5TZWVkIGZvciB0aGUgaW1hZ2UgZ2VuZXJhdGlvbi4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBzZWVkIHdpbGwgYmUgdXNlZC5cbiAgICovXG4gIHNlZWQ/OiBudW1iZXI7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5cblRoZSBvdXRlciByZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyIG5hbWUsIGFuZCB0aGUgaW5uZXJcbnJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEga2V5LlxuYGBgdHNcbntcbiAgXCJvcGVuYWlcIjoge1xuICAgIFwic3R5bGVcIjogXCJ2aXZpZFwiXG4gIH1cbn1cbmBgYFxuICAgICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciBlbWJlZGRpbmcgbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59KTogUHJvbWlzZTxHZW5lcmF0ZUltYWdlUmVzdWx0PiB7XG4gIGNvbnN0IG1vZGVsID0gcmVzb2x2ZUltYWdlTW9kZWwobW9kZWxBcmcpO1xuXG4gIGNvbnN0IGhlYWRlcnNXaXRoVXNlckFnZW50ID0gd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICBoZWFkZXJzID8/IHt9LFxuICAgIGBhaS8ke1ZFUlNJT059YCxcbiAgKTtcblxuICBjb25zdCB7IHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgfSk7XG5cbiAgLy8gZGVmYXVsdCB0byAxIGlmIHRoZSBtb2RlbCBoYXMgbm90IHNwZWNpZmllZCBsaW1pdHMgb25cbiAgLy8gaG93IG1hbnkgaW1hZ2VzIGNhbiBiZSBnZW5lcmF0ZWQgaW4gYSBzaW5nbGUgY2FsbFxuICBjb25zdCBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQgPVxuICAgIG1heEltYWdlc1BlckNhbGwgPz8gKGF3YWl0IGludm9rZU1vZGVsTWF4SW1hZ2VzUGVyQ2FsbChtb2RlbCkpID8/IDE7XG5cbiAgLy8gcGFyYWxsZWxpemUgY2FsbHMgdG8gdGhlIG1vZGVsOlxuICBjb25zdCBjYWxsQ291bnQgPSBNYXRoLmNlaWwobiAvIG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdCk7XG4gIGNvbnN0IGNhbGxJbWFnZUNvdW50cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGNhbGxDb3VudCB9LCAoXywgaSkgPT4ge1xuICAgIGlmIChpIDwgY2FsbENvdW50IC0gMSkge1xuICAgICAgcmV0dXJuIG1heEltYWdlc1BlckNhbGxXaXRoRGVmYXVsdDtcbiAgICB9XG5cbiAgICBjb25zdCByZW1haW5kZXIgPSBuICUgbWF4SW1hZ2VzUGVyQ2FsbFdpdGhEZWZhdWx0O1xuICAgIHJldHVybiByZW1haW5kZXIgPT09IDAgPyBtYXhJbWFnZXNQZXJDYWxsV2l0aERlZmF1bHQgOiByZW1haW5kZXI7XG4gIH0pO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBjYWxsSW1hZ2VDb3VudHMubWFwKGFzeW5jIGNhbGxJbWFnZUNvdW50ID0+XG4gICAgICByZXRyeSgoKSA9PlxuICAgICAgICBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgbjogY2FsbEltYWdlQ291bnQsXG4gICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgICBzZWVkLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJPcHRpb25zID8/IHt9LFxuICAgICAgICB9KSxcbiAgICAgICksXG4gICAgKSxcbiAgKTtcblxuICAvLyBjb2xsZWN0IHJlc3VsdCBpbWFnZXMsIHdhcm5pbmdzLCBhbmQgcmVzcG9uc2UgbWV0YWRhdGFcbiAgY29uc3QgaW1hZ2VzOiBBcnJheTxEZWZhdWx0R2VuZXJhdGVkRmlsZT4gPSBbXTtcbiAgY29uc3Qgd2FybmluZ3M6IEFycmF5PEltYWdlR2VuZXJhdGlvbldhcm5pbmc+ID0gW107XG4gIGNvbnN0IHJlc3BvbnNlczogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+ID0gW107XG4gIGNvbnN0IHByb3ZpZGVyTWV0YWRhdGE6IEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGEgPSB7fTtcbiAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgIGltYWdlcy5wdXNoKFxuICAgICAgLi4ucmVzdWx0LmltYWdlcy5tYXAoXG4gICAgICAgIGltYWdlID0+XG4gICAgICAgICAgbmV3IERlZmF1bHRHZW5lcmF0ZWRGaWxlKHtcbiAgICAgICAgICAgIGRhdGE6IGltYWdlLFxuICAgICAgICAgICAgbWVkaWFUeXBlOlxuICAgICAgICAgICAgICBkZXRlY3RNZWRpYVR5cGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGltYWdlLFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZXM6IGltYWdlTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgICAgICAgICAgICAgfSkgPz8gJ2ltYWdlL3BuZycsXG4gICAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gICAgd2FybmluZ3MucHVzaCguLi5yZXN1bHQud2FybmluZ3MpO1xuXG4gICAgaWYgKHJlc3VsdC5wcm92aWRlck1ldGFkYXRhKSB7XG4gICAgICBmb3IgKGNvbnN0IFtwcm92aWRlck5hbWUsIG1ldGFkYXRhXSBvZiBPYmplY3QuZW50cmllczx7XG4gICAgICAgIGltYWdlczogdW5rbm93bjtcbiAgICAgIH0+KHJlc3VsdC5wcm92aWRlck1ldGFkYXRhKSkge1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSAnZ2F0ZXdheScpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RW50cnkgPSBwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV07XG4gICAgICAgICAgaWYgKGN1cnJlbnRFbnRyeSAhPSBudWxsICYmIHR5cGVvZiBjdXJyZW50RW50cnkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0gPSB7XG4gICAgICAgICAgICAgIC4uLihjdXJyZW50RW50cnkgYXMgb2JqZWN0KSxcbiAgICAgICAgICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAgICAgICB9IGFzIEltYWdlTW9kZWxWMlByb3ZpZGVyTWV0YWRhdGFbc3RyaW5nXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdID1cbiAgICAgICAgICAgICAgbWV0YWRhdGEgYXMgSW1hZ2VNb2RlbFYyUHJvdmlkZXJNZXRhZGF0YVtzdHJpbmddO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbWFnZXNWYWx1ZSA9IChcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXSBhcyB7IGltYWdlcz86IHVua25vd24gfVxuICAgICAgICAgICkuaW1hZ2VzO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGltYWdlc1ZhbHVlKSAmJiBpbWFnZXNWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSAocHJvdmlkZXJNZXRhZGF0YVtwcm92aWRlck5hbWVdIGFzIHsgaW1hZ2VzPzogdW5rbm93biB9KVxuICAgICAgICAgICAgICAuaW1hZ2VzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0gPz89IHsgaW1hZ2VzOiBbXSB9O1xuICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGFbcHJvdmlkZXJOYW1lXS5pbWFnZXMucHVzaChcbiAgICAgICAgICAgIC4uLnJlc3VsdC5wcm92aWRlck1ldGFkYXRhW3Byb3ZpZGVyTmFtZV0uaW1hZ2VzLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXNwb25zZXMucHVzaChyZXN1bHQucmVzcG9uc2UpO1xuICB9XG5cbiAgbG9nV2FybmluZ3Mod2FybmluZ3MpO1xuXG4gIGlmICghaW1hZ2VzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IoeyByZXNwb25zZXMgfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IERlZmF1bHRHZW5lcmF0ZUltYWdlUmVzdWx0KHtcbiAgICBpbWFnZXMsXG4gICAgd2FybmluZ3MsXG4gICAgcmVzcG9uc2VzLFxuICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0R2VuZXJhdGVJbWFnZVJlc3VsdCBpbXBsZW1lbnRzIEdlbmVyYXRlSW1hZ2VSZXN1bHQge1xuICByZWFkb25seSBpbWFnZXM6IEFycmF5PEdlbmVyYXRlZEZpbGU+O1xuICByZWFkb25seSB3YXJuaW5nczogQXJyYXk8SW1hZ2VHZW5lcmF0aW9uV2FybmluZz47XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8SW1hZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcbiAgICBpbWFnZXM6IEFycmF5PEdlbmVyYXRlZEZpbGU+O1xuICAgIHdhcm5pbmdzOiBBcnJheTxJbWFnZUdlbmVyYXRpb25XYXJuaW5nPjtcbiAgICByZXNwb25zZXM6IEFycmF5PEltYWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBJbWFnZU1vZGVsVjJQcm92aWRlck1ldGFkYXRhO1xuICB9KSB7XG4gICAgdGhpcy5pbWFnZXMgPSBvcHRpb25zLmltYWdlcztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgfVxuXG4gIGdldCBpbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZXNbMF07XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaW52b2tlTW9kZWxNYXhJbWFnZXNQZXJDYWxsKG1vZGVsOiBJbWFnZU1vZGVsVjIpIHtcbiAgY29uc3QgaXNGdW5jdGlvbiA9IG1vZGVsLm1heEltYWdlc1BlckNhbGwgaW5zdGFuY2VvZiBGdW5jdGlvbjtcblxuICBpZiAoIWlzRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gbW9kZWwubWF4SW1hZ2VzUGVyQ2FsbDtcbiAgfVxuXG4gIHJldHVybiBtb2RlbC5tYXhJbWFnZXNQZXJDYWxsKHtcbiAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBKU09OVmFsdWUgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBGbGV4aWJsZVNjaGVtYSxcbiAgSW5mZXJTY2hlbWEsXG4gIFByb3ZpZGVyT3B0aW9ucyxcbiAgd2l0aFVzZXJBZ2VudFN1ZmZpeCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQgeyBleHRyYWN0UmVhc29uaW5nQ29udGVudCB9IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZXh0cmFjdC1yZWFzb25pbmctY29udGVudCc7XG5pbXBvcnQgeyBleHRyYWN0VGV4dENvbnRlbnQgfSBmcm9tICcuLi9nZW5lcmF0ZS10ZXh0L2V4dHJhY3QtdGV4dC1jb250ZW50JztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyByZXNvbHZlTGFuZ3VhZ2VNb2RlbCB9IGZyb20gJy4uL21vZGVsL3Jlc29sdmUtbW9kZWwnO1xuaW1wb3J0IHsgQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L2NhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCB9IGZyb20gJy4uL3Byb21wdC9jb252ZXJ0LXRvLWxhbmd1YWdlLW1vZGVsLXByb21wdCc7XG5pbXBvcnQgeyBwcmVwYXJlQ2FsbFNldHRpbmdzIH0gZnJvbSAnLi4vcHJvbXB0L3ByZXBhcmUtY2FsbC1zZXR0aW5ncyc7XG5pbXBvcnQgeyBQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvcHJvbXB0JztcbmltcG9ydCB7IHN0YW5kYXJkaXplUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3N0YW5kYXJkaXplLXByb21wdCc7XG5pbXBvcnQgeyB3cmFwR2F0ZXdheUVycm9yIH0gZnJvbSAnLi4vcHJvbXB0L3dyYXAtZ2F0ZXdheS1lcnJvcic7XG5pbXBvcnQgeyBhc3NlbWJsZU9wZXJhdGlvbk5hbWUgfSBmcm9tICcuLi90ZWxlbWV0cnkvYXNzZW1ibGUtb3BlcmF0aW9uLW5hbWUnO1xuaW1wb3J0IHsgZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgfSBmcm9tICcuLi90ZWxlbWV0cnkvZ2V0LWJhc2UtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgZ2V0VHJhY2VyIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC10cmFjZXInO1xuaW1wb3J0IHsgcmVjb3JkU3BhbiB9IGZyb20gJy4uL3RlbGVtZXRyeS9yZWNvcmQtc3Bhbic7XG5pbXBvcnQgeyBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3NlbGVjdC10ZWxlbWV0cnktYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdpZnlGb3JUZWxlbWV0cnkgfSBmcm9tICcuLi90ZWxlbWV0cnkvc3RyaW5naWZ5LWZvci10ZWxlbWV0cnknO1xuaW1wb3J0IHsgVGVsZW1ldHJ5U2V0dGluZ3MgfSBmcm9tICcuLi90ZWxlbWV0cnkvdGVsZW1ldHJ5LXNldHRpbmdzJztcbmltcG9ydCB7XG4gIENhbGxXYXJuaW5nLFxuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWwsXG59IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXF1ZXN0TWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXF1ZXN0LW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVzcG9uc2UtbWV0YWRhdGEnO1xuaW1wb3J0IHsgUHJvdmlkZXJNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxVc2FnZSB9IGZyb20gJy4uL3R5cGVzL3VzYWdlJztcbmltcG9ydCB7IERvd25sb2FkRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2Rvd25sb2FkL2Rvd25sb2FkLWZ1bmN0aW9uJztcbmltcG9ydCB7IHByZXBhcmVIZWFkZXJzIH0gZnJvbSAnLi4vdXRpbC9wcmVwYXJlLWhlYWRlcnMnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5pbXBvcnQgeyBHZW5lcmF0ZU9iamVjdFJlc3VsdCB9IGZyb20gJy4vZ2VuZXJhdGUtb2JqZWN0LXJlc3VsdCc7XG5pbXBvcnQgeyBnZXRPdXRwdXRTdHJhdGVneSB9IGZyb20gJy4vb3V0cHV0LXN0cmF0ZWd5JztcbmltcG9ydCB7IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHRXaXRoUmVwYWlyIH0gZnJvbSAnLi9wYXJzZS1hbmQtdmFsaWRhdGUtb2JqZWN0LXJlc3VsdCc7XG5pbXBvcnQgeyBSZXBhaXJUZXh0RnVuY3Rpb24gfSBmcm9tICcuL3JlcGFpci10ZXh0JztcbmltcG9ydCB7IHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0IH0gZnJvbSAnLi92YWxpZGF0ZS1vYmplY3QtZ2VuZXJhdGlvbi1pbnB1dCc7XG5cbmNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKHsgcHJlZml4OiAnYWlvYmonLCBzaXplOiAyNCB9KTtcblxuLyoqXG5HZW5lcmF0ZSBhIHN0cnVjdHVyZWQsIHR5cGVkIG9iamVjdCBmb3IgYSBnaXZlbiBwcm9tcHQgYW5kIHNjaGVtYSB1c2luZyBhIGxhbmd1YWdlIG1vZGVsLlxuXG5UaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN0cmVhbSB0aGUgb3V0cHV0LiBJZiB5b3Ugd2FudCB0byBzdHJlYW0gdGhlIG91dHB1dCwgdXNlIGBzdHJlYW1PYmplY3RgIGluc3RlYWQuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cblxuQHBhcmFtIHN5c3RlbSAtIEEgc3lzdGVtIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIHByb21wdC5cbkBwYXJhbSBwcm9tcHQgLSBBIHNpbXBsZSB0ZXh0IHByb21wdC4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuQHBhcmFtIG1lc3NhZ2VzIC0gQSBsaXN0IG9mIG1lc3NhZ2VzLiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5cbkBwYXJhbSBtYXhPdXRwdXRUb2tlbnMgLSBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUuXG5AcGFyYW0gdGVtcGVyYXR1cmUgLSBUZW1wZXJhdHVyZSBzZXR0aW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BQIC0gTnVjbGV1cyBzYW1wbGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wSyAtIE9ubHkgc2FtcGxlIGZyb20gdGhlIHRvcCBLIG9wdGlvbnMgZm9yIGVhY2ggc3Vic2VxdWVudCB0b2tlbi5cblVzZWQgdG8gcmVtb3ZlIFwibG9uZyB0YWlsXCIgbG93IHByb2JhYmlsaXR5IHJlc3BvbnNlcy5cblJlY29tbWVuZGVkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMgb25seS4gWW91IHVzdWFsbHkgb25seSBuZWVkIHRvIHVzZSB0ZW1wZXJhdHVyZS5cbkBwYXJhbSBwcmVzZW5jZVBlbmFsdHkgLSBQcmVzZW5jZSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXQgaW5mb3JtYXRpb24gdGhhdCBpcyBhbHJlYWR5IGluIHRoZSBwcm9tcHQuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIGZyZXF1ZW5jeVBlbmFsdHkgLSBGcmVxdWVuY3kgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0ZWRseSB1c2UgdGhlIHNhbWUgd29yZHMgb3IgcGhyYXNlcy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gc3RvcFNlcXVlbmNlcyAtIFN0b3Agc2VxdWVuY2VzLlxuSWYgc2V0LCB0aGUgbW9kZWwgd2lsbCBzdG9wIGdlbmVyYXRpbmcgdGV4dCB3aGVuIG9uZSBvZiB0aGUgc3RvcCBzZXF1ZW5jZXMgaXMgZ2VuZXJhdGVkLlxuQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCAoaW50ZWdlcikgdG8gdXNlIGZvciByYW5kb20gc2FtcGxpbmcuXG5JZiBzZXQgYW5kIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwsIGNhbGxzIHdpbGwgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyByZXN1bHRzLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbkBwYXJhbSBzY2hlbWFOYW1lIC0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgbmFtZS5cbkBwYXJhbSBzY2hlbWFEZXNjcmlwdGlvbiAtIE9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBkZXNjcmlwdGlvbi5cblxuQHBhcmFtIG91dHB1dCAtIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQuXG5cbi0gJ29iamVjdCc6IFRoZSBvdXRwdXQgaXMgYW4gb2JqZWN0LlxuLSAnYXJyYXknOiBUaGUgb3V0cHV0IGlzIGFuIGFycmF5LlxuLSAnZW51bSc6IFRoZSBvdXRwdXQgaXMgYW4gZW51bS5cbi0gJ25vLXNjaGVtYSc6IFRoZSBvdXRwdXQgaXMgbm90IGEgc2NoZW1hLlxuXG5AcGFyYW0gZXhwZXJpbWVudGFsX3JlcGFpclRleHQgLSBBIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gcmVwYWlyIHRoZSByYXcgb3V0cHV0IG9mIHRoZSBtb2RlbFxudG8gZW5hYmxlIEpTT04gcGFyc2luZy5cblxuQHBhcmFtIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnkgLSBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cblxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuXG5AcmV0dXJuc1xuQSByZXN1bHQgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCBvYmplY3QsIHRoZSBmaW5pc2ggcmVhc29uLCB0aGUgdG9rZW4gdXNhZ2UsIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVPYmplY3Q8XG4gIFNDSEVNQSBleHRlbmRzIEZsZXhpYmxlU2NoZW1hPHVua25vd24+ID0gRmxleGlibGVTY2hlbWE8SlNPTlZhbHVlPixcbiAgT1VUUFVUIGV4dGVuZHNcbiAgICB8ICdvYmplY3QnXG4gICAgfCAnYXJyYXknXG4gICAgfCAnZW51bSdcbiAgICB8ICduby1zY2hlbWEnID0gSW5mZXJTY2hlbWE8U0NIRU1BPiBleHRlbmRzIHN0cmluZyA/ICdlbnVtJyA6ICdvYmplY3QnLFxuICBSRVNVTFQgPSBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgPyBBcnJheTxJbmZlclNjaGVtYTxTQ0hFTUE+PlxuICAgIDogSW5mZXJTY2hlbWE8U0NIRU1BPixcbj4oXG4gIG9wdGlvbnM6IE9taXQ8Q2FsbFNldHRpbmdzLCAnc3RvcFNlcXVlbmNlcyc+ICZcbiAgICBQcm9tcHQgJlxuICAgIChPVVRQVVQgZXh0ZW5kcyAnZW51bSdcbiAgICAgID8ge1xuICAgICAgICAgIC8qKlxuVGhlIGVudW0gdmFsdWVzIHRoYXQgdGhlIG1vZGVsIHNob3VsZCB1c2UuXG4gICAgICAgICovXG4gICAgICAgICAgZW51bTogQXJyYXk8UkVTVUxUPjtcbiAgICAgICAgICBtb2RlPzogJ2pzb24nO1xuICAgICAgICAgIG91dHB1dDogJ2VudW0nO1xuICAgICAgICB9XG4gICAgICA6IE9VVFBVVCBleHRlbmRzICduby1zY2hlbWEnXG4gICAgICAgID8ge31cbiAgICAgICAgOiB7XG4gICAgICAgICAgICAvKipcblRoZSBzY2hlbWEgb2YgdGhlIG9iamVjdCB0aGF0IHRoZSBtb2RlbCBzaG91bGQgZ2VuZXJhdGUuXG4gICAgICAgICovXG4gICAgICAgICAgICBzY2hlbWE6IFNDSEVNQTtcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBuYW1lIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBuYW1lLlxuICAgICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hTmFtZT86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgZGVzY3JpcHRpb24uXG4gICAgICAgICovXG4gICAgICAgICAgICBzY2hlbWFEZXNjcmlwdGlvbj86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5UaGUgbW9kZSB0byB1c2UgZm9yIG9iamVjdCBnZW5lcmF0aW9uLlxuXG5UaGUgc2NoZW1hIGlzIGNvbnZlcnRlZCBpbnRvIGEgSlNPTiBzY2hlbWEgYW5kIHVzZWQgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgd2F5c1xuXG4tICdhdXRvJzogVGhlIHByb3ZpZGVyIHdpbGwgY2hvb3NlIHRoZSBiZXN0IG1vZGUgZm9yIHRoZSBtb2RlbC5cbi0gJ3Rvb2wnOiBBIHRvb2wgd2l0aCB0aGUgSlNPTiBzY2hlbWEgYXMgcGFyYW1ldGVycyBpcyBwcm92aWRlZCBhbmQgdGhlIHByb3ZpZGVyIGlzIGluc3RydWN0ZWQgdG8gdXNlIGl0LlxuLSAnanNvbic6IFRoZSBKU09OIHNjaGVtYSBhbmQgYW4gaW5zdHJ1Y3Rpb24gYXJlIGluamVjdGVkIGludG8gdGhlIHByb21wdC4gSWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIEpTT04gbW9kZSwgaXQgaXMgZW5hYmxlZC4gSWYgdGhlIHByb3ZpZGVyIHN1cHBvcnRzIEpTT04gZ3JhbW1hcnMsIHRoZSBncmFtbWFyIGlzIHVzZWQuXG5cblBsZWFzZSBub3RlIHRoYXQgbW9zdCBwcm92aWRlcnMgZG8gbm90IHN1cHBvcnQgYWxsIG1vZGVzLlxuXG5EZWZhdWx0IGFuZCByZWNvbW1lbmRlZDogJ2F1dG8nIChiZXN0IG1vZGUgZm9yIHRoZSBtb2RlbCkuXG4gICAgICAgICovXG4gICAgICAgICAgICBtb2RlPzogJ2F1dG8nIHwgJ2pzb24nIHwgJ3Rvb2wnO1xuICAgICAgICAgIH0pICYge1xuICAgICAgb3V0cHV0PzogT1VUUFVUO1xuXG4gICAgICAvKipcbiAgVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgICAqL1xuICAgICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG4gICAgICAvKipcbiAgQSBmdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmF3IG91dHB1dCBvZiB0aGUgbW9kZWxcbiAgdG8gZW5hYmxlIEpTT04gcGFyc2luZy5cbiAgICAgICAqL1xuICAgICAgZXhwZXJpbWVudGFsX3JlcGFpclRleHQ/OiBSZXBhaXJUZXh0RnVuY3Rpb247XG5cbiAgICAgIC8qKlxuICBPcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgICAgICovXG5cbiAgICAgIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk/OiBUZWxlbWV0cnlTZXR0aW5ncztcblxuICAgICAgLyoqXG4gIEN1c3RvbSBkb3dubG9hZCBmdW5jdGlvbiB0byB1c2UgZm9yIFVSTHMuXG5cbiAgQnkgZGVmYXVsdCwgZmlsZXMgYXJlIGRvd25sb2FkZWQgaWYgdGhlIG1vZGVsIGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTCBmb3IgdGhlIGdpdmVuIG1lZGlhIHR5cGUuXG4gICAgICAgKi9cbiAgICAgIGV4cGVyaW1lbnRhbF9kb3dubG9hZD86IERvd25sb2FkRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbiAgICAgIC8qKlxuICBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMuIFRoZXkgYXJlIHBhc3NlZCB0aHJvdWdoXG4gIHRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuICBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICAgICAgcHJvdmlkZXJPcHRpb25zPzogUHJvdmlkZXJPcHRpb25zO1xuXG4gICAgICAvKipcbiAgICAgICAqIEludGVybmFsLiBGb3IgdGVzdCB1c2Ugb25seS4gTWF5IGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAgICAgICAqL1xuICAgICAgX2ludGVybmFsPzoge1xuICAgICAgICBnZW5lcmF0ZUlkPzogKCkgPT4gc3RyaW5nO1xuICAgICAgICBjdXJyZW50RGF0ZT86ICgpID0+IERhdGU7XG4gICAgICB9O1xuICAgIH0sXG4pOiBQcm9taXNlPEdlbmVyYXRlT2JqZWN0UmVzdWx0PFJFU1VMVD4+IHtcbiAgY29uc3Qge1xuICAgIG1vZGVsOiBtb2RlbEFyZyxcbiAgICBvdXRwdXQgPSAnb2JqZWN0JyxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgaGVhZGVycyxcbiAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dDogcmVwYWlyVGV4dCxcbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgX2ludGVybmFsOiB7XG4gICAgICBnZW5lcmF0ZUlkID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgICAgY3VycmVudERhdGUgPSAoKSA9PiBuZXcgRGF0ZSgpLFxuICAgIH0gPSB7fSxcbiAgICAuLi5zZXR0aW5nc1xuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBtb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsQXJnKTtcblxuICBjb25zdCBlbnVtVmFsdWVzID0gJ2VudW0nIGluIG9wdGlvbnMgPyBvcHRpb25zLmVudW0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHtcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHNjaGVtYU5hbWUsXG4gIH0gPSAnc2NoZW1hJyBpbiBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBvdXRwdXRTdHJhdGVneSA9IGdldE91dHB1dFN0cmF0ZWd5KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBlbnVtVmFsdWVzLFxuICB9KTtcblxuICBjb25zdCBjYWxsU2V0dGluZ3MgPSBwcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgIHNldHRpbmdzOiB7IC4uLmNhbGxTZXR0aW5ncywgbWF4UmV0cmllcyB9LFxuICB9KTtcblxuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcblxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCByZWNvcmRTcGFuKHtcbiAgICAgIG5hbWU6ICdhaS5nZW5lcmF0ZU9iamVjdCcsXG4gICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbklkOiAnYWkuZ2VuZXJhdGVPYmplY3QnLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAnYWkucHJvbXB0Jzoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2FpLnNjaGVtYSc6XG4gICAgICAgICAgICBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hICE9IG51bGxcbiAgICAgICAgICAgICAgPyB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hKSB9XG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICdhaS5zY2hlbWEubmFtZSc6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgJ2FpLnNjaGVtYS5kZXNjcmlwdGlvbic6IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgICdhaS5zZXR0aW5ncy5vdXRwdXQnOiBvdXRwdXRTdHJhdGVneS50eXBlLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBmbjogYXN5bmMgc3BhbiA9PiB7XG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZztcbiAgICAgICAgbGV0IGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgICAgICBsZXQgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICAgICAgbGV0IHdhcm5pbmdzOiBDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgICAgICBsZXQgcmVxdWVzdDogTGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YTtcbiAgICAgICAgbGV0IHJlc3VsdFByb3ZpZGVyTWV0YWRhdGE6IFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCByZWFzb25pbmc6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBhd2FpdCBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgfSBhcyBQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgcHJvbXB0OiBzdGFuZGFyZGl6ZWRQcm9tcHQsXG4gICAgICAgICAgc3VwcG9ydGVkVXJsczogYXdhaXQgbW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICBkb3dubG9hZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVSZXN1bHQgPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgICAgICAgIHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgbmFtZTogJ2FpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLmdlbmVyYXRlT2JqZWN0LmRvR2VuZXJhdGUnLFxuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICdhaS5wcm9tcHQubWVzc2FnZXMnOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdE1lc3NhZ2VzKSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICdnZW5fYWkuc3lzdGVtJzogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1vZGVsJzogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgY2FsbFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBjYWxsU2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5JzogY2FsbFNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOiBjYWxsU2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogY2FsbFNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9wJzogY2FsbFNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGZuOiBhc3luYyBzcGFuID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VGb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgIHNjaGVtYTogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzV2l0aFVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXN1bHQucmVzcG9uc2U/LmlkID8/IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHJlc3VsdC5yZXNwb25zZT8udGltZXN0YW1wID8/IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgICAgICAgbW9kZWxJZDogcmVzdWx0LnJlc3BvbnNlPy5tb2RlbElkID8/IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogcmVzdWx0LnJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IHJlc3VsdC5yZXNwb25zZT8uYm9keSxcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZXh0cmFjdFRleHRDb250ZW50KHJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgY29uc3QgcmVhc29uaW5nID0gZXh0cmFjdFJlYXNvbmluZ0NvbnRlbnQocmVzdWx0LmNvbnRlbnQpO1xuXG4gICAgICAgICAgICAgIGlmICh0ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICAnTm8gb2JqZWN0IGdlbmVyYXRlZDogdGhlIG1vZGVsIGRpZCBub3QgcmV0dXJuIGEgcmVzcG9uc2UuJyxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgICB1c2FnZTogcmVzdWx0LnVzYWdlLFxuICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQWRkIHJlc3BvbnNlIGluZm9ybWF0aW9uIHRvIHRoZSBzcGFuOlxuICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5maW5pc2hSZWFzb24nOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0JzogeyBvdXRwdXQ6ICgpID0+IHRleHQgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmlkJzogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubW9kZWwnOiByZXNwb25zZURhdGEubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnRpbWVzdGFtcCc6XG4gICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVuYW1lIHRlbGVtZXRyeSBhdHRyaWJ1dGVzIHRvIGlucHV0VG9rZW5zIGFuZCBvdXRwdXRUb2tlbnNcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMnOiByZXN1bHQudXNhZ2Uub3V0cHV0VG9rZW5zLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29ucyc6IFtyZXN1bHQuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5pZCc6IHJlc3BvbnNlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS5yZXNwb25zZS5tb2RlbCc6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IHJlc3VsdC51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgJ2dlbl9haS51c2FnZS5vdXRwdXRfdG9rZW5zJzogcmVzdWx0LnVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgb2JqZWN0VGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICByZWFzb25pbmcsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICByZXN1bHQgPSBnZW5lcmF0ZVJlc3VsdC5vYmplY3RUZXh0O1xuICAgICAgICBmaW5pc2hSZWFzb24gPSBnZW5lcmF0ZVJlc3VsdC5maW5pc2hSZWFzb247XG4gICAgICAgIHVzYWdlID0gZ2VuZXJhdGVSZXN1bHQudXNhZ2U7XG4gICAgICAgIHdhcm5pbmdzID0gZ2VuZXJhdGVSZXN1bHQud2FybmluZ3M7XG4gICAgICAgIHJlc3VsdFByb3ZpZGVyTWV0YWRhdGEgPSBnZW5lcmF0ZVJlc3VsdC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICByZXF1ZXN0ID0gZ2VuZXJhdGVSZXN1bHQucmVxdWVzdCA/PyB7fTtcbiAgICAgICAgcmVzcG9uc2UgPSBnZW5lcmF0ZVJlc3VsdC5yZXNwb25zZURhdGE7XG4gICAgICAgIHJlYXNvbmluZyA9IGdlbmVyYXRlUmVzdWx0LnJlYXNvbmluZztcblxuICAgICAgICBsb2dXYXJuaW5ncyh3YXJuaW5ncyk7XG5cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gYXdhaXQgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXIoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgICAgICAgIHJlcGFpclRleHQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCByZXNwb25zZSBpbmZvcm1hdGlvbiB0byB0aGUgc3BhbjpcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuZmluaXNoUmVhc29uJzogZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0Jzoge1xuICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICByZXN1bHRQcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgIC8vIFRPRE8gcmVuYW1lIHRlbGVtZXRyeSBhdHRyaWJ1dGVzIHRvIGlucHV0VG9rZW5zIGFuZCBvdXRwdXRUb2tlbnNcbiAgICAgICAgICAgICAgJ2FpLnVzYWdlLnByb21wdFRva2Vucyc6IHVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAnYWkudXNhZ2UuY29tcGxldGlvblRva2Vucyc6IHVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVPYmplY3RSZXN1bHQoe1xuICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICByZWFzb25pbmcsXG4gICAgICAgICAgZmluaXNoUmVhc29uLFxuICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgIHdhcm5pbmdzLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0UHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IHdyYXBHYXRld2F5RXJyb3IoZXJyb3IpO1xuICB9XG59XG5cbmNsYXNzIERlZmF1bHRHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPiBpbXBsZW1lbnRzIEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+IHtcbiAgcmVhZG9ubHkgb2JqZWN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnb2JqZWN0J107XG4gIHJlYWRvbmx5IGZpbmlzaFJlYXNvbjogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ2ZpbmlzaFJlYXNvbiddO1xuICByZWFkb25seSB1c2FnZTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3VzYWdlJ107XG4gIHJlYWRvbmx5IHdhcm5pbmdzOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnd2FybmluZ3MnXTtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3Byb3ZpZGVyTWV0YWRhdGEnXTtcbiAgcmVhZG9ubHkgcmVzcG9uc2U6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZXNwb25zZSddO1xuICByZWFkb25seSByZXF1ZXN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVxdWVzdCddO1xuICByZWFkb25seSByZWFzb25pbmc6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+WydyZWFzb25pbmcnXTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgb2JqZWN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnb2JqZWN0J107XG4gICAgZmluaXNoUmVhc29uOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnZmluaXNoUmVhc29uJ107XG4gICAgdXNhZ2U6IEdlbmVyYXRlT2JqZWN0UmVzdWx0PFQ+Wyd1c2FnZSddO1xuICAgIHdhcm5pbmdzOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsnd2FybmluZ3MnXTtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncHJvdmlkZXJNZXRhZGF0YSddO1xuICAgIHJlc3BvbnNlOiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVzcG9uc2UnXTtcbiAgICByZXF1ZXN0OiBHZW5lcmF0ZU9iamVjdFJlc3VsdDxUPlsncmVxdWVzdCddO1xuICAgIHJlYXNvbmluZzogR2VuZXJhdGVPYmplY3RSZXN1bHQ8VD5bJ3JlYXNvbmluZyddO1xuICB9KSB7XG4gICAgdGhpcy5vYmplY3QgPSBvcHRpb25zLm9iamVjdDtcbiAgICB0aGlzLmZpbmlzaFJlYXNvbiA9IG9wdGlvbnMuZmluaXNoUmVhc29uO1xuICAgIHRoaXMudXNhZ2UgPSBvcHRpb25zLnVzYWdlO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm5pbmdzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnJlc3BvbnNlID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICB0aGlzLnJlcXVlc3QgPSBvcHRpb25zLnJlcXVlc3Q7XG4gICAgdGhpcy5yZWFzb25pbmcgPSBvcHRpb25zLnJlYXNvbmluZztcbiAgfVxuXG4gIHRvSnNvblJlc3BvbnNlKGluaXQ/OiBSZXNwb25zZUluaXQpOiBSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh0aGlzLm9iamVjdCksIHtcbiAgICAgIHN0YXR1czogaW5pdD8uc3RhdHVzID8/IDIwMCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVIZWFkZXJzKGluaXQ/LmhlYWRlcnMsIHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgTGFuZ3VhZ2VNb2RlbFYyQ29udGVudCxcbiAgTGFuZ3VhZ2VNb2RlbFYyUmVhc29uaW5nLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RSZWFzb25pbmdDb250ZW50KFxuICBjb250ZW50OiBMYW5ndWFnZU1vZGVsVjJDb250ZW50W10sXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBjb25zdCBwYXJ0cyA9IGNvbnRlbnQuZmlsdGVyKFxuICAgIChjb250ZW50KTogY29udGVudCBpcyBMYW5ndWFnZU1vZGVsVjJSZWFzb25pbmcgPT5cbiAgICAgIGNvbnRlbnQudHlwZSA9PT0gJ3JlYXNvbmluZycsXG4gICk7XG5cbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA9PT0gMFxuICAgID8gdW5kZWZpbmVkXG4gICAgOiBwYXJ0cy5tYXAoY29udGVudCA9PiBjb250ZW50LnRleHQpLmpvaW4oJ1xcbicpO1xufVxuIiwgImltcG9ydCB7XG4gIGlzSlNPTkFycmF5LFxuICBpc0pTT05PYmplY3QsXG4gIEpTT05PYmplY3QsXG4gIEpTT05TY2hlbWE3LFxuICBKU09OVmFsdWUsXG4gIFR5cGVWYWxpZGF0aW9uRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGFzU2NoZW1hLFxuICBGbGV4aWJsZVNjaGVtYSxcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG4gIFNjaGVtYSxcbiAgVmFsaWRhdGlvblJlc3VsdCxcbn0gZnJvbSAnQGFpLXNkay9wcm92aWRlci11dGlscyc7XG5pbXBvcnQgeyBOb09iamVjdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tb2JqZWN0LWdlbmVyYXRlZC1lcnJvcic7XG5pbXBvcnQge1xuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhLFxuICBMYW5ndWFnZU1vZGVsVXNhZ2UsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIEFzeW5jSXRlcmFibGVTdHJlYW0sXG4gIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0sXG59IGZyb20gJy4uL3V0aWwvYXN5bmMtaXRlcmFibGUtc3RyZWFtJztcbmltcG9ydCB7IERlZXBQYXJ0aWFsIH0gZnJvbSAnLi4vdXRpbC9kZWVwLXBhcnRpYWwnO1xuaW1wb3J0IHsgT2JqZWN0U3RyZWFtUGFydCB9IGZyb20gJy4vc3RyZWFtLW9iamVjdC1yZXN1bHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE91dHB1dFN0cmF0ZWd5PFBBUlRJQUwsIFJFU1VMVCwgRUxFTUVOVF9TVFJFQU0+IHtcbiAgcmVhZG9ubHkgdHlwZTogJ29iamVjdCcgfCAnYXJyYXknIHwgJ2VudW0nIHwgJ25vLXNjaGVtYSc7XG4gIHJlYWRvbmx5IGpzb25TY2hlbWE6IEpTT05TY2hlbWE3IHwgdW5kZWZpbmVkO1xuXG4gIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7XG4gICAgdmFsdWUsXG4gICAgdGV4dERlbHRhLFxuICAgIGlzRmluYWxEZWx0YSxcbiAgfToge1xuICAgIHZhbHVlOiBKU09OVmFsdWU7XG4gICAgdGV4dERlbHRhOiBzdHJpbmc7XG4gICAgaXNGaXJzdERlbHRhOiBib29sZWFuO1xuICAgIGlzRmluYWxEZWx0YTogYm9vbGVhbjtcbiAgICBsYXRlc3RPYmplY3Q6IFBBUlRJQUwgfCB1bmRlZmluZWQ7XG4gIH0pOiBQcm9taXNlPFxuICAgIFZhbGlkYXRpb25SZXN1bHQ8e1xuICAgICAgcGFydGlhbDogUEFSVElBTDtcbiAgICAgIHRleHREZWx0YTogc3RyaW5nO1xuICAgIH0+XG4gID47XG4gIHZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgICBjb250ZXh0OiB7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlO1xuICAgIH0sXG4gICk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdDxSRVNVTFQ+PjtcblxuICBjcmVhdGVFbGVtZW50U3RyZWFtKFxuICAgIG9yaWdpbmFsU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+PixcbiAgKTogRUxFTUVOVF9TVFJFQU07XG59XG5cbmNvbnN0IG5vU2NoZW1hT3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PEpTT05WYWx1ZSwgSlNPTlZhbHVlLCBuZXZlcj4gPSB7XG4gIHR5cGU6ICduby1zY2hlbWEnLFxuICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG5cbiAgYXN5bmMgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHsgcGFydGlhbDogdmFsdWUsIHRleHREZWx0YSB9IH07XG4gIH0sXG5cbiAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICB9LFxuICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8SlNPTlZhbHVlPj4ge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLicsXG4gICAgICAgICAgICB0ZXh0OiBjb250ZXh0LnRleHQsXG4gICAgICAgICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICB9KSxcbiAgICAgICAgfVxuICAgICAgOiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlIH07XG4gIH0sXG5cbiAgY3JlYXRlRWxlbWVudFN0cmVhbSgpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgZnVuY3Rpb25hbGl0eTogJ2VsZW1lbnQgc3RyZWFtcyBpbiBuby1zY2hlbWEgbW9kZScsXG4gICAgfSk7XG4gIH0sXG59O1xuXG5jb25zdCBvYmplY3RPdXRwdXRTdHJhdGVneSA9IDxPQkpFQ1Q+KFxuICBzY2hlbWE6IFNjaGVtYTxPQkpFQ1Q+LFxuKTogT3V0cHV0U3RyYXRlZ3k8RGVlcFBhcnRpYWw8T0JKRUNUPiwgT0JKRUNULCBuZXZlcj4gPT4gKHtcbiAgdHlwZTogJ29iamVjdCcsXG4gIGpzb25TY2hlbWE6IHNjaGVtYS5qc29uU2NoZW1hLFxuXG4gIGFzeW5jIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7IHZhbHVlLCB0ZXh0RGVsdGEgfSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG5vIHZhbGlkYXRpb24gb2YgcGFydGlhbCByZXN1bHRzOlxuICAgICAgICBwYXJ0aWFsOiB2YWx1ZSBhcyBEZWVwUGFydGlhbDxPQkpFQ1Q+LFxuICAgICAgICB0ZXh0RGVsdGEsXG4gICAgICB9LFxuICAgIH07XG4gIH0sXG5cbiAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICB2YWx1ZTogSlNPTlZhbHVlIHwgdW5kZWZpbmVkLFxuICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8T0JKRUNUPj4ge1xuICAgIHJldHVybiBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0sXG5cbiAgY3JlYXRlRWxlbWVudFN0cmVhbSgpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgZnVuY3Rpb25hbGl0eTogJ2VsZW1lbnQgc3RyZWFtcyBpbiBvYmplY3QgbW9kZScsXG4gICAgfSk7XG4gIH0sXG59KTtcblxuY29uc3QgYXJyYXlPdXRwdXRTdHJhdGVneSA9IDxFTEVNRU5UPihcbiAgc2NoZW1hOiBTY2hlbWE8RUxFTUVOVD4sXG4pOiBPdXRwdXRTdHJhdGVneTxFTEVNRU5UW10sIEVMRU1FTlRbXSwgQXN5bmNJdGVyYWJsZVN0cmVhbTxFTEVNRU5UPj4gPT4ge1xuICAvLyByZW1vdmUgJHNjaGVtYSBmcm9tIHNjaGVtYS5qc29uU2NoZW1hOlxuICBjb25zdCB7ICRzY2hlbWEsIC4uLml0ZW1TY2hlbWEgfSA9IHNjaGVtYS5qc29uU2NoZW1hO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ2FycmF5JyxcblxuICAgIC8vIHdyYXAgaW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYXJyYXkgb2YgZWxlbWVudHMsIHNpbmNlIG1vc3QgTExNcyB3aWxsIG5vdFxuICAgIC8vIGJlIGFibGUgdG8gZ2VuZXJhdGUgYW4gYXJyYXkgZGlyZWN0bHk6XG4gICAgLy8gcG9zc2libGUgZnV0dXJlIG9wdGltaXphdGlvbjogdXNlIGFycmF5cyBkaXJlY3RseSB3aGVuIG1vZGVsIHN1cHBvcnRzIGdyYW1tYXItZ3VpZGVkIGdlbmVyYXRpb25cbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAkc2NoZW1hOiAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJyxcbiAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBlbGVtZW50czogeyB0eXBlOiAnYXJyYXknLCBpdGVtczogaXRlbVNjaGVtYSB9LFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbJ2VsZW1lbnRzJ10sXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfSxcblxuICAgIGFzeW5jIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7XG4gICAgICB2YWx1ZSxcbiAgICAgIGxhdGVzdE9iamVjdCxcbiAgICAgIGlzRmlyc3REZWx0YSxcbiAgICAgIGlzRmluYWxEZWx0YSxcbiAgICB9KSB7XG4gICAgICAvLyBjaGVjayB0aGF0IHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50czpcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCAhaXNKU09OQXJyYXkodmFsdWUuZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5wdXRBcnJheSA9IHZhbHVlLmVsZW1lbnRzIGFzIEFycmF5PEpTT05PYmplY3Q+O1xuICAgICAgY29uc3QgcmVzdWx0QXJyYXk6IEFycmF5PEVMRU1FTlQ+ID0gW107XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5wdXRBcnJheVtpXTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZTogZWxlbWVudCwgc2NoZW1hIH0pO1xuXG4gICAgICAgIC8vIHNwZWNpYWwgdHJlYXRtZW50IGZvciBsYXN0IHByb2Nlc3NlZCBlbGVtZW50OlxuICAgICAgICAvLyBpZ25vcmUgcGFyc2Ugb3IgdmFsaWRhdGlvbiBmYWlsdXJlcywgc2luY2UgdGhleSBpbmRpY2F0ZSB0aGF0IHRoZVxuICAgICAgICAvLyBsYXN0IGVsZW1lbnQgaXMgaW5jb21wbGV0ZSBhbmQgc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LFxuICAgICAgICAvLyB1bmxlc3MgaXQgaXMgdGhlIGZpbmFsIGRlbHRhXG4gICAgICAgIGlmIChpID09PSBpbnB1dEFycmF5Lmxlbmd0aCAtIDEgJiYgIWlzRmluYWxEZWx0YSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRBcnJheS5wdXNoKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBkZWx0YTpcbiAgICAgIGNvbnN0IHB1Ymxpc2hlZEVsZW1lbnRDb3VudCA9IGxhdGVzdE9iamVjdD8ubGVuZ3RoID8/IDA7XG5cbiAgICAgIGxldCB0ZXh0RGVsdGEgPSAnJztcblxuICAgICAgaWYgKGlzRmlyc3REZWx0YSkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gJ1snO1xuICAgICAgfVxuXG4gICAgICBpZiAocHVibGlzaGVkRWxlbWVudENvdW50ID4gMCkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gJywnO1xuICAgICAgfVxuXG4gICAgICB0ZXh0RGVsdGEgKz0gcmVzdWx0QXJyYXlcbiAgICAgICAgLnNsaWNlKHB1Ymxpc2hlZEVsZW1lbnRDb3VudCkgLy8gb25seSBuZXcgZWxlbWVudHNcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IEpTT04uc3RyaW5naWZ5KGVsZW1lbnQpKVxuICAgICAgICAuam9pbignLCcpO1xuXG4gICAgICBpZiAoaXNGaW5hbERlbHRhKSB7XG4gICAgICAgIHRleHREZWx0YSArPSAnXSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgcGFydGlhbDogcmVzdWx0QXJyYXksXG4gICAgICAgICAgdGV4dERlbHRhLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgYXN5bmMgdmFsaWRhdGVGaW5hbFJlc3VsdChcbiAgICAgIHZhbHVlOiBKU09OVmFsdWUgfCB1bmRlZmluZWQsXG4gICAgKTogUHJvbWlzZTxWYWxpZGF0aW9uUmVzdWx0PEFycmF5PEVMRU1FTlQ+Pj4ge1xuICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYW4gYXJyYXkgb2YgZWxlbWVudHM6XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgIWlzSlNPTkFycmF5KHZhbHVlLmVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiAndmFsdWUgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50cycsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlucHV0QXJyYXkgPSB2YWx1ZS5lbGVtZW50cyBhcyBBcnJheTxKU09OT2JqZWN0PjtcblxuICAgICAgLy8gY2hlY2sgdGhhdCBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5IGlzIG9mIHRoZSBjb3JyZWN0IHR5cGU6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaW5wdXRBcnJheSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlOiBlbGVtZW50LCBzY2hlbWEgfSk7XG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiBpbnB1dEFycmF5IGFzIEFycmF5PEVMRU1FTlQ+IH07XG4gICAgfSxcblxuICAgIGNyZWF0ZUVsZW1lbnRTdHJlYW0oXG4gICAgICBvcmlnaW5hbFN0cmVhbTogUmVhZGFibGVTdHJlYW08T2JqZWN0U3RyZWFtUGFydDxFTEVNRU5UW10+PixcbiAgICApIHtcbiAgICAgIGxldCBwdWJsaXNoZWRFbGVtZW50cyA9IDA7XG5cbiAgICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgICBvcmlnaW5hbFN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8RUxFTUVOVFtdPiwgRUxFTUVOVD4oe1xuICAgICAgICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gY2h1bmsub2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgICAvLyBwdWJsaXNoIG5ldyBlbGVtZW50cyBvbmUgYnkgb25lOlxuICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBwdWJsaXNoZWRFbGVtZW50cyA8IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVkRWxlbWVudHMrK1xuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShhcnJheVtwdWJsaXNoZWRFbGVtZW50c10pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzogLy8gc3VwcHJlc3MgZXJyb3IgKHVzZSBvbkVycm9yIGluc3RlYWQpXG4gICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gY2h1bms7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9LFxuICB9O1xufTtcblxuY29uc3QgZW51bU91dHB1dFN0cmF0ZWd5ID0gPEVOVU0gZXh0ZW5kcyBzdHJpbmc+KFxuICBlbnVtVmFsdWVzOiBBcnJheTxFTlVNPixcbik6IE91dHB1dFN0cmF0ZWd5PHN0cmluZywgRU5VTSwgbmV2ZXI+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnZW51bScsXG5cbiAgICAvLyB3cmFwIGluIG9iamVjdCB0aGF0IGNvbnRhaW5zIHJlc3VsdCwgc2luY2UgbW9zdCBMTE1zIHdpbGwgbm90XG4gICAgLy8gYmUgYWJsZSB0byBnZW5lcmF0ZSBhbiBlbnVtIHZhbHVlIGRpcmVjdGx5OlxuICAgIC8vIHBvc3NpYmxlIGZ1dHVyZSBvcHRpbWl6YXRpb246IHVzZSBlbnVtcyBkaXJlY3RseSB3aGVuIG1vZGVsIHN1cHBvcnRzIHRvcC1sZXZlbCBlbnVtc1xuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICRzY2hlbWE6ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSMnLFxuICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIHJlc3VsdDogeyB0eXBlOiAnc3RyaW5nJywgZW51bTogZW51bVZhbHVlcyB9LFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbJ3Jlc3VsdCddLFxuICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgIH0sXG5cbiAgICBhc3luYyB2YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgICAgdmFsdWU6IEpTT05WYWx1ZSB8IHVuZGVmaW5lZCxcbiAgICApOiBQcm9taXNlPFZhbGlkYXRpb25SZXN1bHQ8RU5VTT4+IHtcbiAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzOlxuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5yZXN1bHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6XG4gICAgICAgICAgICAgICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIGluIHRoZSBcInJlc3VsdFwiIHByb3BlcnR5LicsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLnJlc3VsdCBhcyBzdHJpbmc7XG5cbiAgICAgIHJldHVybiBlbnVtVmFsdWVzLmluY2x1ZGVzKHJlc3VsdCBhcyBFTlVNKVxuICAgICAgICA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdCBhcyBFTlVNIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBjYXVzZTogJ3ZhbHVlIG11c3QgYmUgYSBzdHJpbmcgaW4gdGhlIGVudW0nLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgYXN5bmMgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgICBpZiAoIWlzSlNPTk9iamVjdCh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnJlc3VsdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTpcbiAgICAgICAgICAgICAgJ3ZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBzdHJpbmcgaW4gdGhlIFwicmVzdWx0XCIgcHJvcGVydHkuJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUucmVzdWx0IGFzIHN0cmluZztcbiAgICAgIGNvbnN0IHBvc3NpYmxlRW51bVZhbHVlcyA9IGVudW1WYWx1ZXMuZmlsdGVyKGVudW1WYWx1ZSA9PlxuICAgICAgICBlbnVtVmFsdWUuc3RhcnRzV2l0aChyZXN1bHQpLFxuICAgICAgKTtcblxuICAgICAgaWYgKHZhbHVlLnJlc3VsdC5sZW5ndGggPT09IDAgfHwgcG9zc2libGVFbnVtVmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGNhdXNlOiAndmFsdWUgbXVzdCBiZSBhIHN0cmluZyBpbiB0aGUgZW51bScsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgcGFydGlhbDpcbiAgICAgICAgICAgIHBvc3NpYmxlRW51bVZhbHVlcy5sZW5ndGggPiAxID8gcmVzdWx0IDogcG9zc2libGVFbnVtVmFsdWVzWzBdLFxuICAgICAgICAgIHRleHREZWx0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGNyZWF0ZUVsZW1lbnRTdHJlYW0oKSB7XG4gICAgICAvLyBubyBzdHJlYW1pbmcgaW4gZW51bSBtb2RlXG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiAnZWxlbWVudCBzdHJlYW1zIGluIGVudW0gbW9kZScsXG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE91dHB1dFN0cmF0ZWd5PFNDSEVNQT4oe1xuICBvdXRwdXQsXG4gIHNjaGVtYSxcbiAgZW51bVZhbHVlcyxcbn06IHtcbiAgb3V0cHV0OiAnb2JqZWN0JyB8ICdhcnJheScgfCAnZW51bScgfCAnbm8tc2NoZW1hJztcbiAgc2NoZW1hPzogRmxleGlibGVTY2hlbWE8U0NIRU1BPjtcbiAgZW51bVZhbHVlcz86IEFycmF5PFNDSEVNQT47XG59KTogT3V0cHV0U3RyYXRlZ3k8YW55LCBhbnksIGFueT4ge1xuICBzd2l0Y2ggKG91dHB1dCkge1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gb2JqZWN0T3V0cHV0U3RyYXRlZ3koYXNTY2hlbWEoc2NoZW1hISkpO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBhcnJheU91dHB1dFN0cmF0ZWd5KGFzU2NoZW1hKHNjaGVtYSEpKTtcbiAgICBjYXNlICdlbnVtJzpcbiAgICAgIHJldHVybiBlbnVtT3V0cHV0U3RyYXRlZ3koZW51bVZhbHVlcyEgYXMgQXJyYXk8c3RyaW5nPik7XG4gICAgY2FzZSAnbm8tc2NoZW1hJzpcbiAgICAgIHJldHVybiBub1NjaGVtYU91dHB1dFN0cmF0ZWd5O1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gb3V0cHV0O1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBvdXRwdXQ6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKU09OUGFyc2VFcnJvciwgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgc2FmZVBhcnNlSlNPTiB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHR5cGUge1xuICBGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhLFxuICBMYW5ndWFnZU1vZGVsVXNhZ2UsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgT3V0cHV0U3RyYXRlZ3kgfSBmcm9tICcuL291dHB1dC1zdHJhdGVneSc7XG5pbXBvcnQgeyBSZXBhaXJUZXh0RnVuY3Rpb24gfSBmcm9tICcuL3JlcGFpci10ZXh0JztcblxuLyoqXG4gKiBQYXJzZXMgYW5kIHZhbGlkYXRlcyBhIHJlc3VsdCBzdHJpbmcgYnkgcGFyc2luZyBpdCBhcyBKU09OIGFuZCB2YWxpZGF0aW5nIGFnYWluc3QgdGhlIG91dHB1dCBzdHJhdGVneS5cbiAqXG4gKiBAcGFyYW0gcmVzdWx0IC0gVGhlIHJlc3VsdCBzdHJpbmcgdG8gcGFyc2UgYW5kIHZhbGlkYXRlXG4gKiBAcGFyYW0gb3V0cHV0U3RyYXRlZ3kgLSBUaGUgb3V0cHV0IHN0cmF0ZWd5IGNvbnRhaW5pbmcgdmFsaWRhdGlvbiBsb2dpY1xuICogQHBhcmFtIGNvbnRleHQgLSBBZGRpdGlvbmFsIGNvbnRleHQgZm9yIGVycm9yIHJlcG9ydGluZ1xuICogQHJldHVybnMgVGhlIHZhbGlkYXRlZCByZXN1bHRcbiAqIEB0aHJvd3MgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciBpZiBwYXJzaW5nIG9yIHZhbGlkYXRpb24gZmFpbHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdDxSRVNVTFQ+KFxuICByZXN1bHQ6IHN0cmluZyxcbiAgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PGFueSwgUkVTVUxULCBhbnk+LFxuICBjb250ZXh0OiB7XG4gICAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgZmluaXNoUmVhc29uOiBGaW5pc2hSZWFzb247XG4gIH0sXG4pOiBQcm9taXNlPFJFU1VMVD4ge1xuICBjb25zdCBwYXJzZVJlc3VsdCA9IGF3YWl0IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiByZXN1bHQgfSk7XG5cbiAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuJyxcbiAgICAgIGNhdXNlOiBwYXJzZVJlc3VsdC5lcnJvcixcbiAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IG91dHB1dFN0cmF0ZWd5LnZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgcGFyc2VSZXN1bHQudmFsdWUsXG4gICAge1xuICAgICAgdGV4dDogcmVzdWx0LFxuICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICB9LFxuICApO1xuXG4gIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IHJlc3BvbnNlIGRpZCBub3QgbWF0Y2ggc2NoZW1hLicsXG4gICAgICBjYXVzZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvcixcbiAgICAgIHRleHQ6IHJlc3VsdCxcbiAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQudmFsdWU7XG59XG5cbi8qKlxuICogUGFyc2VzIGFuZCB2YWxpZGF0ZXMgYSByZXN1bHQgc3RyaW5nIGJ5IHBhcnNpbmcgaXQgYXMgSlNPTiBhbmQgdmFsaWRhdGluZyBhZ2FpbnN0IHRoZSBvdXRwdXQgc3RyYXRlZ3kuXG4gKiBJZiB0aGUgcmVzdWx0IGNhbm5vdCBiZSBwYXJzZWQsIGl0IGF0dGVtcHRzIHRvIHJlcGFpciB0aGUgcmVzdWx0IHVzaW5nIHRoZSByZXBhaXJUZXh0IGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSByZXN1bHQgLSBUaGUgcmVzdWx0IHN0cmluZyB0byBwYXJzZSBhbmQgdmFsaWRhdGVcbiAqIEBwYXJhbSBvdXRwdXRTdHJhdGVneSAtIFRoZSBvdXRwdXQgc3RyYXRlZ3kgY29udGFpbmluZyB2YWxpZGF0aW9uIGxvZ2ljXG4gKiBAcGFyYW0gcmVwYWlyVGV4dCAtIEEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJlc3VsdCBzdHJpbmdcbiAqIEBwYXJhbSBjb250ZXh0IC0gQWRkaXRpb25hbCBjb250ZXh0IGZvciBlcnJvciByZXBvcnRpbmdcbiAqIEByZXR1cm5zIFRoZSB2YWxpZGF0ZWQgcmVzdWx0XG4gKiBAdGhyb3dzIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IgaWYgcGFyc2luZyBvciB2YWxpZGF0aW9uIGZhaWxzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpcjxSRVNVTFQ+KFxuICByZXN1bHQ6IHN0cmluZyxcbiAgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PGFueSwgUkVTVUxULCBhbnk+LFxuICByZXBhaXJUZXh0OiBSZXBhaXJUZXh0RnVuY3Rpb24gfCB1bmRlZmluZWQsXG4gIGNvbnRleHQ6IHtcbiAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgdXNhZ2U6IExhbmd1YWdlTW9kZWxVc2FnZTtcbiAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgfSxcbik6IFByb21pc2U8UkVTVUxUPiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHBhcnNlQW5kVmFsaWRhdGVPYmplY3RSZXN1bHQocmVzdWx0LCBvdXRwdXRTdHJhdGVneSwgY29udGV4dCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKFxuICAgICAgcmVwYWlyVGV4dCAhPSBudWxsICYmXG4gICAgICBOb09iamVjdEdlbmVyYXRlZEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpICYmXG4gICAgICAoSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvci5jYXVzZSkgfHxcbiAgICAgICAgVHlwZVZhbGlkYXRpb25FcnJvci5pc0luc3RhbmNlKGVycm9yLmNhdXNlKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHJlcGFpcmVkVGV4dCA9IGF3YWl0IHJlcGFpclRleHQoe1xuICAgICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICAgIGVycm9yOiBlcnJvci5jYXVzZSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlcGFpcmVkVGV4dCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0KFxuICAgICAgICByZXBhaXJlZFRleHQsXG4gICAgICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgICAgICBjb250ZXh0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBGbGV4aWJsZVNjaGVtYSB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgb3V0cHV0LFxuICBzY2hlbWEsXG4gIHNjaGVtYU5hbWUsXG4gIHNjaGVtYURlc2NyaXB0aW9uLFxuICBlbnVtVmFsdWVzLFxufToge1xuICBvdXRwdXQ/OiAnb2JqZWN0JyB8ICdhcnJheScgfCAnZW51bScgfCAnbm8tc2NoZW1hJztcbiAgc2NoZW1hPzogRmxleGlibGVTY2hlbWE8dW5rbm93bj47XG4gIHNjaGVtYU5hbWU/OiBzdHJpbmc7XG4gIHNjaGVtYURlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBlbnVtVmFsdWVzPzogQXJyYXk8dW5rbm93bj47XG59KSB7XG4gIGlmIChcbiAgICBvdXRwdXQgIT0gbnVsbCAmJlxuICAgIG91dHB1dCAhPT0gJ29iamVjdCcgJiZcbiAgICBvdXRwdXQgIT09ICdhcnJheScgJiZcbiAgICBvdXRwdXQgIT09ICdlbnVtJyAmJlxuICAgIG91dHB1dCAhPT0gJ25vLXNjaGVtYSdcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogJ291dHB1dCcsXG4gICAgICB2YWx1ZTogb3V0cHV0LFxuICAgICAgbWVzc2FnZTogJ0ludmFsaWQgb3V0cHV0IHR5cGUuJyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvdXRwdXQgPT09ICduby1zY2hlbWEnKSB7XG4gICAgaWYgKHNjaGVtYSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWFEZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWFEZXNjcmlwdGlvbicsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBkZXNjcmlwdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGZvciBuby1zY2hlbWEgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hTmFtZSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWFOYW1lJyxcbiAgICAgICAgdmFsdWU6IHNjaGVtYU5hbWUsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgbmFtZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBuby1zY2hlbWEgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGVudW1WYWx1ZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG91dHB1dCA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYScsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgaXMgcmVxdWlyZWQgZm9yIG9iamVjdCBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbnVtVmFsdWVzICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ2VudW1WYWx1ZXMnLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBvYmplY3Qgb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAob3V0cHV0ID09PSAnYXJyYXknKSB7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnRWxlbWVudCBzY2hlbWEgaXMgcmVxdWlyZWQgZm9yIGFycmF5IG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVudW1WYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiAnRW51bSB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGFycmF5IG91dHB1dC4nLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG91dHB1dCA9PT0gJ2VudW0nKSB7XG4gICAgaWYgKHNjaGVtYSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdzY2hlbWEnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiAnU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiAnc2NoZW1hRGVzY3JpcHRpb24nLFxuICAgICAgICB2YWx1ZTogc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgICAgIG1lc3NhZ2U6ICdTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuJyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzY2hlbWFOYW1lICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogJ3NjaGVtYU5hbWUnLFxuICAgICAgICB2YWx1ZTogc2NoZW1hTmFtZSxcbiAgICAgICAgbWVzc2FnZTogJ1NjaGVtYSBuYW1lIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZW51bVZhbHVlcyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6ICdlbnVtVmFsdWVzJyxcbiAgICAgICAgdmFsdWU6IGVudW1WYWx1ZXMsXG4gICAgICAgIG1lc3NhZ2U6ICdFbnVtIHZhbHVlcyBhcmUgcmVxdWlyZWQgZm9yIGVudW0gb3V0cHV0LicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGVudW1WYWx1ZXMpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgICAgcGFyYW1ldGVyOiAnZW51bVZhbHVlcycsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgbWVzc2FnZTogJ0VudW0gdmFsdWVzIG11c3QgYmUgc3RyaW5ncy4nLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBKU09OVmFsdWUsXG4gIExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nLFxuICBMYW5ndWFnZU1vZGVsVjJGaW5pc2hSZWFzb24sXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG4gIExhbmd1YWdlTW9kZWxWMlVzYWdlLFxuICBTaGFyZWRWMlByb3ZpZGVyTWV0YWRhdGEsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHtcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIERlbGF5ZWRQcm9taXNlLFxuICBGbGV4aWJsZVNjaGVtYSxcbiAgUHJvdmlkZXJPcHRpb25zLFxuICB0eXBlIEluZmVyU2NoZW1hLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFNlcnZlclJlc3BvbnNlIH0gZnJvbSAnaHR0cCc7XG5pbXBvcnQgeyBsb2dXYXJuaW5ncyB9IGZyb20gJy4uL2xvZ2dlci9sb2ctd2FybmluZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmd1YWdlTW9kZWwgfSBmcm9tICcuLi9tb2RlbC9yZXNvbHZlLW1vZGVsJztcbmltcG9ydCB7IENhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9jYWxsLXNldHRpbmdzJztcbmltcG9ydCB7IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQgfSBmcm9tICcuLi9wcm9tcHQvY29udmVydC10by1sYW5ndWFnZS1tb2RlbC1wcm9tcHQnO1xuaW1wb3J0IHsgcHJlcGFyZUNhbGxTZXR0aW5ncyB9IGZyb20gJy4uL3Byb21wdC9wcmVwYXJlLWNhbGwtc2V0dGluZ3MnO1xuaW1wb3J0IHsgUHJvbXB0IH0gZnJvbSAnLi4vcHJvbXB0L3Byb21wdCc7XG5pbXBvcnQgeyBzdGFuZGFyZGl6ZVByb21wdCB9IGZyb20gJy4uL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQnO1xuaW1wb3J0IHsgd3JhcEdhdGV3YXlFcnJvciB9IGZyb20gJy4uL3Byb21wdC93cmFwLWdhdGV3YXktZXJyb3InO1xuaW1wb3J0IHsgYXNzZW1ibGVPcGVyYXRpb25OYW1lIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2Fzc2VtYmxlLW9wZXJhdGlvbi1uYW1lJztcbmltcG9ydCB7IGdldEJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IGdldFRyYWNlciB9IGZyb20gJy4uL3RlbGVtZXRyeS9nZXQtdHJhY2VyJztcbmltcG9ydCB7IHJlY29yZFNwYW4gfSBmcm9tICcuLi90ZWxlbWV0cnkvcmVjb3JkLXNwYW4nO1xuaW1wb3J0IHsgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyB9IGZyb20gJy4uL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5IH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3N0cmluZ2lmeS1mb3ItdGVsZW1ldHJ5JztcbmltcG9ydCB7IFRlbGVtZXRyeVNldHRpbmdzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3RlbGVtZXRyeS1zZXR0aW5ncyc7XG5pbXBvcnQgeyBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2UgfSBmcm9tICcuLi90ZXh0LXN0cmVhbS9jcmVhdGUtdGV4dC1zdHJlYW0tcmVzcG9uc2UnO1xuaW1wb3J0IHsgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlIH0gZnJvbSAnLi4vdGV4dC1zdHJlYW0vcGlwZS10ZXh0LXN0cmVhbS10by1yZXNwb25zZSc7XG5pbXBvcnQge1xuICBDYWxsV2FybmluZyxcbiAgRmluaXNoUmVhc29uLFxuICBMYW5ndWFnZU1vZGVsLFxufSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbCc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVxdWVzdE1ldGFkYXRhIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwtcmVxdWVzdC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7IFByb3ZpZGVyTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9wcm92aWRlci1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBEZWVwUGFydGlhbCwgaXNEZWVwRXF1YWxEYXRhLCBwYXJzZVBhcnRpYWxKc29uIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQge1xuICBBc3luY0l0ZXJhYmxlU3RyZWFtLFxuICBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtLFxufSBmcm9tICcuLi91dGlsL2FzeW5jLWl0ZXJhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jcmVhdGUtc3RpdGNoYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgRG93bmxvYWRGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvZG93bmxvYWQvZG93bmxvYWQtZnVuY3Rpb24nO1xuaW1wb3J0IHsgbm93IGFzIG9yaWdpbmFsTm93IH0gZnJvbSAnLi4vdXRpbC9ub3cnO1xuaW1wb3J0IHsgcHJlcGFyZVJldHJpZXMgfSBmcm9tICcuLi91dGlsL3ByZXBhcmUtcmV0cmllcyc7XG5pbXBvcnQgeyBnZXRPdXRwdXRTdHJhdGVneSwgT3V0cHV0U3RyYXRlZ3kgfSBmcm9tICcuL291dHB1dC1zdHJhdGVneSc7XG5pbXBvcnQgeyBwYXJzZUFuZFZhbGlkYXRlT2JqZWN0UmVzdWx0V2l0aFJlcGFpciB9IGZyb20gJy4vcGFyc2UtYW5kLXZhbGlkYXRlLW9iamVjdC1yZXN1bHQnO1xuaW1wb3J0IHsgUmVwYWlyVGV4dEZ1bmN0aW9uIH0gZnJvbSAnLi9yZXBhaXItdGV4dCc7XG5pbXBvcnQgeyBPYmplY3RTdHJlYW1QYXJ0LCBTdHJlYW1PYmplY3RSZXN1bHQgfSBmcm9tICcuL3N0cmVhbS1vYmplY3QtcmVzdWx0JztcbmltcG9ydCB7IHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0IH0gZnJvbSAnLi92YWxpZGF0ZS1vYmplY3QtZ2VuZXJhdGlvbi1pbnB1dCc7XG5cbmNvbnN0IG9yaWdpbmFsR2VuZXJhdGVJZCA9IGNyZWF0ZUlkR2VuZXJhdG9yKHsgcHJlZml4OiAnYWlvYmonLCBzaXplOiAyNCB9KTtcblxuLyoqXG5DYWxsYmFjayB0aGF0IGlzIHNldCB1c2luZyB0aGUgYG9uRXJyb3JgIG9wdGlvbi5cblxuQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtT2JqZWN0T25FcnJvckNhbGxiYWNrID0gKGV2ZW50OiB7XG4gIGVycm9yOiB1bmtub3duO1xufSkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG5cbi8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBzZXQgdXNpbmcgdGhlIGBvbkZpbmlzaGAgb3B0aW9uLlxuXG5AcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1PYmplY3RPbkZpbmlzaENhbGxiYWNrPFJFU1VMVD4gPSAoZXZlbnQ6IHtcbiAgLyoqXG5UaGUgdG9rZW4gdXNhZ2Ugb2YgdGhlIGdlbmVyYXRlZCByZXNwb25zZS5cbiovXG4gIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG5cbiAgLyoqXG5UaGUgZ2VuZXJhdGVkIG9iamVjdC4gQ2FuIGJlIHVuZGVmaW5lZCBpZiB0aGUgZmluYWwgb2JqZWN0IGRvZXMgbm90IG1hdGNoIHRoZSBzY2hlbWEuXG4qL1xuICBvYmplY3Q6IFJFU1VMVCB8IHVuZGVmaW5lZDtcblxuICAvKipcbk9wdGlvbmFsIGVycm9yIG9iamVjdC4gVGhpcyBpcyBlLmcuIGEgVHlwZVZhbGlkYXRpb25FcnJvciB3aGVuIHRoZSBmaW5hbCBvYmplY3QgZG9lcyBub3QgbWF0Y2ggdGhlIHNjaGVtYS5cbiovXG4gIGVycm9yOiB1bmtub3duIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuUmVzcG9uc2UgbWV0YWRhdGEuXG4gKi9cbiAgcmVzcG9uc2U6IExhbmd1YWdlTW9kZWxSZXNwb25zZU1ldGFkYXRhO1xuXG4gIC8qKlxuV2FybmluZ3MgZnJvbSB0aGUgbW9kZWwgcHJvdmlkZXIgKGUuZy4gdW5zdXBwb3J0ZWQgc2V0dGluZ3MpLlxuKi9cbiAgd2FybmluZ3M/OiBDYWxsV2FybmluZ1tdO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBtZXRhZGF0YS4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuKi9cbiAgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbn0pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuXG4vKipcbkdlbmVyYXRlIGEgc3RydWN0dXJlZCwgdHlwZWQgb2JqZWN0IGZvciBhIGdpdmVuIHByb21wdCBhbmQgc2NoZW1hIHVzaW5nIGEgbGFuZ3VhZ2UgbW9kZWwuXG5cblRoaXMgZnVuY3Rpb24gc3RyZWFtcyB0aGUgb3V0cHV0LiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gc3RyZWFtIHRoZSBvdXRwdXQsIHVzZSBgZ2VuZXJhdGVPYmplY3RgIGluc3RlYWQuXG5cbkBwYXJhbSBtb2RlbCAtIFRoZSBsYW5ndWFnZSBtb2RlbCB0byB1c2UuXG5AcGFyYW0gdG9vbHMgLSBUb29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHRvIGFuZCBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBtb2RlbC4gVGhlIG1vZGVsIG5lZWRzIHRvIHN1cHBvcnQgY2FsbGluZyB0b29scy5cblxuQHBhcmFtIHN5c3RlbSAtIEEgc3lzdGVtIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIHByb21wdC5cbkBwYXJhbSBwcm9tcHQgLSBBIHNpbXBsZSB0ZXh0IHByb21wdC4gWW91IGNhbiBlaXRoZXIgdXNlIGBwcm9tcHRgIG9yIGBtZXNzYWdlc2AgYnV0IG5vdCBib3RoLlxuQHBhcmFtIG1lc3NhZ2VzIC0gQSBsaXN0IG9mIG1lc3NhZ2VzLiBZb3UgY2FuIGVpdGhlciB1c2UgYHByb21wdGAgb3IgYG1lc3NhZ2VzYCBidXQgbm90IGJvdGguXG5cbkBwYXJhbSBtYXhPdXRwdXRUb2tlbnMgLSBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gZ2VuZXJhdGUuXG5AcGFyYW0gdGVtcGVyYXR1cmUgLSBUZW1wZXJhdHVyZSBzZXR0aW5nLlxuVGhlIHZhbHVlIGlzIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlci4gVGhlIHJhbmdlIGRlcGVuZHMgb24gdGhlIHByb3ZpZGVyIGFuZCBtb2RlbC5cbkl0IGlzIHJlY29tbWVuZGVkIHRvIHNldCBlaXRoZXIgYHRlbXBlcmF0dXJlYCBvciBgdG9wUGAsIGJ1dCBub3QgYm90aC5cbkBwYXJhbSB0b3BQIC0gTnVjbGV1cyBzYW1wbGluZy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5JdCBpcyByZWNvbW1lbmRlZCB0byBzZXQgZWl0aGVyIGB0ZW1wZXJhdHVyZWAgb3IgYHRvcFBgLCBidXQgbm90IGJvdGguXG5AcGFyYW0gdG9wSyAtIE9ubHkgc2FtcGxlIGZyb20gdGhlIHRvcCBLIG9wdGlvbnMgZm9yIGVhY2ggc3Vic2VxdWVudCB0b2tlbi5cblVzZWQgdG8gcmVtb3ZlIFwibG9uZyB0YWlsXCIgbG93IHByb2JhYmlsaXR5IHJlc3BvbnNlcy5cblJlY29tbWVuZGVkIGZvciBhZHZhbmNlZCB1c2UgY2FzZXMgb25seS4gWW91IHVzdWFsbHkgb25seSBuZWVkIHRvIHVzZSB0ZW1wZXJhdHVyZS5cbkBwYXJhbSBwcmVzZW5jZVBlbmFsdHkgLSBQcmVzZW5jZSBwZW5hbHR5IHNldHRpbmcuXG5JdCBhZmZlY3RzIHRoZSBsaWtlbGlob29kIG9mIHRoZSBtb2RlbCB0byByZXBlYXQgaW5mb3JtYXRpb24gdGhhdCBpcyBhbHJlYWR5IGluIHRoZSBwcm9tcHQuXG5UaGUgdmFsdWUgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyLiBUaGUgcmFuZ2UgZGVwZW5kcyBvbiB0aGUgcHJvdmlkZXIgYW5kIG1vZGVsLlxuQHBhcmFtIGZyZXF1ZW5jeVBlbmFsdHkgLSBGcmVxdWVuY3kgcGVuYWx0eSBzZXR0aW5nLlxuSXQgYWZmZWN0cyB0aGUgbGlrZWxpaG9vZCBvZiB0aGUgbW9kZWwgdG8gcmVwZWF0ZWRseSB1c2UgdGhlIHNhbWUgd29yZHMgb3IgcGhyYXNlcy5cblRoZSB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXIuIFRoZSByYW5nZSBkZXBlbmRzIG9uIHRoZSBwcm92aWRlciBhbmQgbW9kZWwuXG5AcGFyYW0gc3RvcFNlcXVlbmNlcyAtIFN0b3Agc2VxdWVuY2VzLlxuSWYgc2V0LCB0aGUgbW9kZWwgd2lsbCBzdG9wIGdlbmVyYXRpbmcgdGV4dCB3aGVuIG9uZSBvZiB0aGUgc3RvcCBzZXF1ZW5jZXMgaXMgZ2VuZXJhdGVkLlxuQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCAoaW50ZWdlcikgdG8gdXNlIGZvciByYW5kb20gc2FtcGxpbmcuXG5JZiBzZXQgYW5kIHN1cHBvcnRlZCBieSB0aGUgbW9kZWwsIGNhbGxzIHdpbGwgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyByZXN1bHRzLlxuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIG1vZGVsIHNob3VsZCBnZW5lcmF0ZS5cbkBwYXJhbSBzY2hlbWFOYW1lIC0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgbmFtZS5cbkBwYXJhbSBzY2hlbWFEZXNjcmlwdGlvbiAtIE9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBvdXRwdXQgdGhhdCBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuVXNlZCBieSBzb21lIHByb3ZpZGVycyBmb3IgYWRkaXRpb25hbCBMTE0gZ3VpZGFuY2UsIGUuZy5cbnZpYSB0b29sIG9yIHNjaGVtYSBkZXNjcmlwdGlvbi5cblxuQHBhcmFtIG91dHB1dCAtIFRoZSB0eXBlIG9mIHRoZSBvdXRwdXQuXG5cbi0gJ29iamVjdCc6IFRoZSBvdXRwdXQgaXMgYW4gb2JqZWN0LlxuLSAnYXJyYXknOiBUaGUgb3V0cHV0IGlzIGFuIGFycmF5LlxuLSAnZW51bSc6IFRoZSBvdXRwdXQgaXMgYW4gZW51bS5cbi0gJ25vLXNjaGVtYSc6IFRoZSBvdXRwdXQgaXMgbm90IGEgc2NoZW1hLlxuXG5AcGFyYW0gZXhwZXJpbWVudGFsX3RlbGVtZXRyeSAtIE9wdGlvbmFsIHRlbGVtZXRyeSBjb25maWd1cmF0aW9uIChleHBlcmltZW50YWwpLlxuXG5AcGFyYW0gcHJvdmlkZXJPcHRpb25zIC0gQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zLiBUaGV5IGFyZSBwYXNzZWQgdGhyb3VnaFxudG8gdGhlIHByb3ZpZGVyIGZyb20gdGhlIEFJIFNESyBhbmQgZW5hYmxlIHByb3ZpZGVyLXNwZWNpZmljXG5mdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGZ1bGx5IGVuY2Fwc3VsYXRlZCBpbiB0aGUgcHJvdmlkZXIuXG5cbkByZXR1cm5zXG5BIHJlc3VsdCBvYmplY3QgZm9yIGFjY2Vzc2luZyB0aGUgcGFydGlhbCBvYmplY3Qgc3RyZWFtIGFuZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtT2JqZWN0PFxuICBTQ0hFTUEgZXh0ZW5kcyBGbGV4aWJsZVNjaGVtYTx1bmtub3duPiA9IEZsZXhpYmxlU2NoZW1hPEpTT05WYWx1ZT4sXG4gIE9VVFBVVCBleHRlbmRzXG4gICAgfCAnb2JqZWN0J1xuICAgIHwgJ2FycmF5J1xuICAgIHwgJ2VudW0nXG4gICAgfCAnbm8tc2NoZW1hJyA9IEluZmVyU2NoZW1hPFNDSEVNQT4gZXh0ZW5kcyBzdHJpbmcgPyAnZW51bScgOiAnb2JqZWN0JyxcbiAgUkVTVUxUID0gT1VUUFVUIGV4dGVuZHMgJ2FycmF5J1xuICAgID8gQXJyYXk8SW5mZXJTY2hlbWE8U0NIRU1BPj5cbiAgICA6IEluZmVyU2NoZW1hPFNDSEVNQT4sXG4+KFxuICBvcHRpb25zOiBPbWl0PENhbGxTZXR0aW5ncywgJ3N0b3BTZXF1ZW5jZXMnPiAmXG4gICAgUHJvbXB0ICZcbiAgICAoT1VUUFVUIGV4dGVuZHMgJ2VudW0nXG4gICAgICA/IHtcbiAgICAgICAgICAvKipcblRoZSBlbnVtIHZhbHVlcyB0aGF0IHRoZSBtb2RlbCBzaG91bGQgdXNlLlxuICAgICAgICAqL1xuICAgICAgICAgIGVudW06IEFycmF5PFJFU1VMVD47XG4gICAgICAgICAgbW9kZT86ICdqc29uJztcbiAgICAgICAgICBvdXRwdXQ6ICdlbnVtJztcbiAgICAgICAgfVxuICAgICAgOiBPVVRQVVQgZXh0ZW5kcyAnbm8tc2NoZW1hJ1xuICAgICAgICA/IHt9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgLyoqXG5UaGUgc2NoZW1hIG9mIHRoZSBvYmplY3QgdGhhdCB0aGUgbW9kZWwgc2hvdWxkIGdlbmVyYXRlLlxuICAgICAgKi9cbiAgICAgICAgICAgIHNjaGVtYTogU0NIRU1BO1xuXG4gICAgICAgICAgICAvKipcbk9wdGlvbmFsIG5hbWUgb2YgdGhlIG91dHB1dCB0aGF0IHNob3VsZCBiZSBnZW5lcmF0ZWQuXG5Vc2VkIGJ5IHNvbWUgcHJvdmlkZXJzIGZvciBhZGRpdGlvbmFsIExMTSBndWlkYW5jZSwgZS5nLlxudmlhIHRvb2wgb3Igc2NoZW1hIG5hbWUuXG4gICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hTmFtZT86IHN0cmluZztcblxuICAgICAgICAgICAgLyoqXG5PcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgb3V0cHV0IHRoYXQgc2hvdWxkIGJlIGdlbmVyYXRlZC5cblVzZWQgYnkgc29tZSBwcm92aWRlcnMgZm9yIGFkZGl0aW9uYWwgTExNIGd1aWRhbmNlLCBlLmcuXG52aWEgdG9vbCBvciBzY2hlbWEgZGVzY3JpcHRpb24uXG4gICAgICAqL1xuICAgICAgICAgICAgc2NoZW1hRGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cbiAgICAgICAgICAgIC8qKlxuVGhlIG1vZGUgdG8gdXNlIGZvciBvYmplY3QgZ2VuZXJhdGlvbi5cblxuVGhlIHNjaGVtYSBpcyBjb252ZXJ0ZWQgaW50byBhIEpTT04gc2NoZW1hIGFuZCB1c2VkIGluIG9uZSBvZiB0aGUgZm9sbG93aW5nIHdheXNcblxuLSAnYXV0byc6IFRoZSBwcm92aWRlciB3aWxsIGNob29zZSB0aGUgYmVzdCBtb2RlIGZvciB0aGUgbW9kZWwuXG4tICd0b29sJzogQSB0b29sIHdpdGggdGhlIEpTT04gc2NoZW1hIGFzIHBhcmFtZXRlcnMgaXMgcHJvdmlkZWQgYW5kIHRoZSBwcm92aWRlciBpcyBpbnN0cnVjdGVkIHRvIHVzZSBpdC5cbi0gJ2pzb24nOiBUaGUgSlNPTiBzY2hlbWEgYW5kIGFuIGluc3RydWN0aW9uIGFyZSBpbmplY3RlZCBpbnRvIHRoZSBwcm9tcHQuIElmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBKU09OIG1vZGUsIGl0IGlzIGVuYWJsZWQuIElmIHRoZSBwcm92aWRlciBzdXBwb3J0cyBKU09OIGdyYW1tYXJzLCB0aGUgZ3JhbW1hciBpcyB1c2VkLlxuXG5QbGVhc2Ugbm90ZSB0aGF0IG1vc3QgcHJvdmlkZXJzIGRvIG5vdCBzdXBwb3J0IGFsbCBtb2Rlcy5cblxuRGVmYXVsdCBhbmQgcmVjb21tZW5kZWQ6ICdhdXRvJyAoYmVzdCBtb2RlIGZvciB0aGUgbW9kZWwpLlxuICAgICAgKi9cbiAgICAgICAgICAgIG1vZGU/OiAnYXV0bycgfCAnanNvbicgfCAndG9vbCc7XG4gICAgICAgICAgfSkgJiB7XG4gICAgICBvdXRwdXQ/OiBPVVRQVVQ7XG5cbiAgICAgIC8qKlxuVGhlIGxhbmd1YWdlIG1vZGVsIHRvIHVzZS5cbiAgICAgKi9cbiAgICAgIG1vZGVsOiBMYW5ndWFnZU1vZGVsO1xuXG4gICAgICAvKipcbkEgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byByZXBhaXIgdGhlIHJhdyBvdXRwdXQgb2YgdGhlIG1vZGVsXG50byBlbmFibGUgSlNPTiBwYXJzaW5nLlxuICAgICAgICovXG4gICAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dD86IFJlcGFpclRleHRGdW5jdGlvbjtcblxuICAgICAgLyoqXG5PcHRpb25hbCB0ZWxlbWV0cnkgY29uZmlndXJhdGlvbiAoZXhwZXJpbWVudGFsKS5cbiAgICAgICAqL1xuXG4gICAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5PzogVGVsZW1ldHJ5U2V0dGluZ3M7XG5cbiAgICAgIC8qKlxuICBDdXN0b20gZG93bmxvYWQgZnVuY3Rpb24gdG8gdXNlIGZvciBVUkxzLlxuXG4gIEJ5IGRlZmF1bHQsIGZpbGVzIGFyZSBkb3dubG9hZGVkIGlmIHRoZSBtb2RlbCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkwgZm9yIHRoZSBnaXZlbiBtZWRpYSB0eXBlLlxuICAgICAgICovXG4gICAgICBleHBlcmltZW50YWxfZG93bmxvYWQ/OiBEb3dubG9hZEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuXG4gICAgICAvKipcbkFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucy4gVGhleSBhcmUgcGFzc2VkIHRocm91Z2hcbnRvIHRoZSBwcm92aWRlciBmcm9tIHRoZSBBSSBTREsgYW5kIGVuYWJsZSBwcm92aWRlci1zcGVjaWZpY1xuZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBmdWxseSBlbmNhcHN1bGF0ZWQgaW4gdGhlIHByb3ZpZGVyLlxuICovXG4gICAgICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgICAgIC8qKlxuQ2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBzdHJlYW1pbmcuXG5Zb3UgY2FuIHVzZSBpdCB0byBsb2cgZXJyb3JzLlxuVGhlIHN0cmVhbSBwcm9jZXNzaW5nIHdpbGwgcGF1c2UgdW50aWwgdGhlIGNhbGxiYWNrIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICovXG4gICAgICBvbkVycm9yPzogU3RyZWFtT2JqZWN0T25FcnJvckNhbGxiYWNrO1xuXG4gICAgICAvKipcbkNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIExMTSByZXNwb25zZSBhbmQgdGhlIGZpbmFsIG9iamVjdCB2YWxpZGF0aW9uIGFyZSBmaW5pc2hlZC5cbiovXG4gICAgICBvbkZpbmlzaD86IFN0cmVhbU9iamVjdE9uRmluaXNoQ2FsbGJhY2s8UkVTVUxUPjtcblxuICAgICAgLyoqXG4gICAgICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAgICAgKi9cbiAgICAgIF9pbnRlcm5hbD86IHtcbiAgICAgICAgZ2VuZXJhdGVJZD86ICgpID0+IHN0cmluZztcbiAgICAgICAgY3VycmVudERhdGU/OiAoKSA9PiBEYXRlO1xuICAgICAgICBub3c/OiAoKSA9PiBudW1iZXI7XG4gICAgICB9O1xuICAgIH0sXG4pOiBTdHJlYW1PYmplY3RSZXN1bHQ8XG4gIE9VVFBVVCBleHRlbmRzICdlbnVtJ1xuICAgID8gc3RyaW5nXG4gICAgOiBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgICA/IFJFU1VMVFxuICAgICAgOiBEZWVwUGFydGlhbDxSRVNVTFQ+LFxuICBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknID8gUkVTVUxUIDogUkVTVUxULFxuICBPVVRQVVQgZXh0ZW5kcyAnYXJyYXknXG4gICAgPyBSRVNVTFQgZXh0ZW5kcyBBcnJheTxpbmZlciBVPlxuICAgICAgPyBBc3luY0l0ZXJhYmxlU3RyZWFtPFU+XG4gICAgICA6IG5ldmVyXG4gICAgOiBuZXZlclxuPiB7XG4gIGNvbnN0IHtcbiAgICBtb2RlbCxcbiAgICBvdXRwdXQgPSAnb2JqZWN0JyxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIG1heFJldHJpZXMsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgaGVhZGVycyxcbiAgICBleHBlcmltZW50YWxfcmVwYWlyVGV4dDogcmVwYWlyVGV4dCxcbiAgICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gICAgZXhwZXJpbWVudGFsX2Rvd25sb2FkOiBkb3dubG9hZCxcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgb25FcnJvciA9ICh7IGVycm9yIH06IHsgZXJyb3I6IHVua25vd24gfSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSxcbiAgICBvbkZpbmlzaCxcbiAgICBfaW50ZXJuYWw6IHtcbiAgICAgIGdlbmVyYXRlSWQgPSBvcmlnaW5hbEdlbmVyYXRlSWQsXG4gICAgICBjdXJyZW50RGF0ZSA9ICgpID0+IG5ldyBEYXRlKCksXG4gICAgICBub3cgPSBvcmlnaW5hbE5vdyxcbiAgICB9ID0ge30sXG4gICAgLi4uc2V0dGluZ3NcbiAgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgZW51bVZhbHVlcyA9XG4gICAgJ2VudW0nIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5lbnVtID8gb3B0aW9ucy5lbnVtIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHtcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHNjaGVtYU5hbWUsXG4gIH0gPSAnc2NoZW1hJyBpbiBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuXG4gIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIGNvbnN0IG91dHB1dFN0cmF0ZWd5ID0gZ2V0T3V0cHV0U3RyYXRlZ3koe1xuICAgIG91dHB1dCxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIGVudW1WYWx1ZXMsXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgRGVmYXVsdFN0cmVhbU9iamVjdFJlc3VsdCh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBvdXRwdXRTdHJhdGVneSxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIHJlcGFpclRleHQsXG4gICAgb25FcnJvcixcbiAgICBvbkZpbmlzaCxcbiAgICBkb3dubG9hZCxcbiAgICBnZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlLFxuICAgIG5vdyxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRTdHJlYW1PYmplY3RSZXN1bHQ8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT5cbiAgaW1wbGVtZW50cyBTdHJlYW1PYmplY3RSZXN1bHQ8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT5cbntcbiAgcHJpdmF0ZSByZWFkb25seSBfb2JqZWN0ID0gbmV3IERlbGF5ZWRQcm9taXNlPFJFU1VMVD4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfdXNhZ2UgPSBuZXcgRGVsYXllZFByb21pc2U8TGFuZ3VhZ2VNb2RlbFVzYWdlPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9wcm92aWRlck1ldGFkYXRhID0gbmV3IERlbGF5ZWRQcm9taXNlPFxuICAgIFByb3ZpZGVyTWV0YWRhdGEgfCB1bmRlZmluZWRcbiAgPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF93YXJuaW5ncyA9IG5ldyBEZWxheWVkUHJvbWlzZTxDYWxsV2FybmluZ1tdIHwgdW5kZWZpbmVkPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IF9yZXF1ZXN0ID1cbiAgICBuZXcgRGVsYXllZFByb21pc2U8TGFuZ3VhZ2VNb2RlbFJlcXVlc3RNZXRhZGF0YT4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfcmVzcG9uc2UgPVxuICAgIG5ldyBEZWxheWVkUHJvbWlzZTxMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YT4oKTtcbiAgcHJpdmF0ZSByZWFkb25seSBfZmluaXNoUmVhc29uID0gbmV3IERlbGF5ZWRQcm9taXNlPEZpbmlzaFJlYXNvbj4oKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGJhc2VTdHJlYW06IFJlYWRhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgb3V0cHV0U3RyYXRlZ3k6IE91dHB1dFN0cmF0ZWd5PFxuICAgIFBBUlRJQUwsXG4gICAgUkVTVUxULFxuICAgIEVMRU1FTlRfU1RSRUFNXG4gID47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsOiBtb2RlbEFyZyxcbiAgICBoZWFkZXJzLFxuICAgIHRlbGVtZXRyeSxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgcmVwYWlyVGV4dCxcbiAgICBvbkVycm9yLFxuICAgIG9uRmluaXNoLFxuICAgIGRvd25sb2FkLFxuICAgIGdlbmVyYXRlSWQsXG4gICAgY3VycmVudERhdGUsXG4gICAgbm93LFxuICB9OiB7XG4gICAgbW9kZWw6IExhbmd1YWdlTW9kZWw7XG4gICAgdGVsZW1ldHJ5OiBUZWxlbWV0cnlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkO1xuICAgIHNldHRpbmdzOiBPbWl0PENhbGxTZXR0aW5ncywgJ2Fib3J0U2lnbmFsJyB8ICdoZWFkZXJzJz47XG4gICAgbWF4UmV0cmllczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIGFib3J0U2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZDtcbiAgICBvdXRwdXRTdHJhdGVneTogT3V0cHV0U3RyYXRlZ3k8UEFSVElBTCwgUkVTVUxULCBFTEVNRU5UX1NUUkVBTT47XG4gICAgc3lzdGVtOiBQcm9tcHRbJ3N5c3RlbSddO1xuICAgIHByb21wdDogUHJvbXB0Wydwcm9tcHQnXTtcbiAgICBtZXNzYWdlczogUHJvbXB0WydtZXNzYWdlcyddO1xuICAgIHNjaGVtYU5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBzY2hlbWFEZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHByb3ZpZGVyT3B0aW9uczogUHJvdmlkZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIHJlcGFpclRleHQ6IFJlcGFpclRleHRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbiAgICBvbkVycm9yOiBTdHJlYW1PYmplY3RPbkVycm9yQ2FsbGJhY2s7XG4gICAgb25GaW5pc2g6IFN0cmVhbU9iamVjdE9uRmluaXNoQ2FsbGJhY2s8UkVTVUxUPiB8IHVuZGVmaW5lZDtcbiAgICBkb3dubG9hZDogRG93bmxvYWRGdW5jdGlvbiB8IHVuZGVmaW5lZDtcbiAgICBnZW5lcmF0ZUlkOiAoKSA9PiBzdHJpbmc7XG4gICAgY3VycmVudERhdGU6ICgpID0+IERhdGU7XG4gICAgbm93OiAoKSA9PiBudW1iZXI7XG4gIH0pIHtcbiAgICBjb25zdCBtb2RlbCA9IHJlc29sdmVMYW5ndWFnZU1vZGVsKG1vZGVsQXJnKTtcblxuICAgIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICBtb2RlbCxcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBzZXR0aW5nczogeyAuLi5jYWxsU2V0dGluZ3MsIG1heFJldHJpZXMgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgY29uc3Qgc3RpdGNoYWJsZVN0cmVhbSA9XG4gICAgICBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+KCk7XG5cbiAgICBjb25zdCBldmVudFByb2Nlc3NvciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICBPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+LFxuICAgICAgT2JqZWN0U3RyZWFtUGFydDxQQVJUSUFMPlxuICAgID4oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG5cbiAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICBvbkVycm9yKHsgZXJyb3I6IHdyYXBHYXRld2F5RXJyb3IoY2h1bmsuZXJyb3IpIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW0ucGlwZVRocm91Z2goZXZlbnRQcm9jZXNzb3IpO1xuXG4gICAgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiAnYWkuc3RyZWFtT2JqZWN0JyxcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6ICdhaS5zdHJlYW1PYmplY3QnLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAnYWkucHJvbXB0Jzoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2FpLnNjaGVtYSc6XG4gICAgICAgICAgICBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hICE9IG51bGxcbiAgICAgICAgICAgICAgPyB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hKSB9XG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICdhaS5zY2hlbWEubmFtZSc6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgJ2FpLnNjaGVtYS5kZXNjcmlwdGlvbic6IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgICdhaS5zZXR0aW5ncy5vdXRwdXQnOiBvdXRwdXRTdHJhdGVneS50eXBlLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB0cmFjZXIsXG4gICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICBmbjogYXN5bmMgcm9vdFNwYW4gPT4ge1xuICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBhd2FpdCBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgfSBhcyBQcm9tcHQpO1xuXG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0ge1xuICAgICAgICAgIHJlc3BvbnNlRm9ybWF0OiB7XG4gICAgICAgICAgICB0eXBlOiAnanNvbicgYXMgY29uc3QsXG4gICAgICAgICAgICBzY2hlbWE6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWEsXG4gICAgICAgICAgICBuYW1lOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYURlc2NyaXB0aW9uLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4ucHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgcHJvbXB0OiBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgIHByb21wdDogc3RhbmRhcmRpemVkUHJvbXB0LFxuICAgICAgICAgICAgc3VwcG9ydGVkVXJsczogYXdhaXQgbW9kZWwuc3VwcG9ydGVkVXJscyxcbiAgICAgICAgICAgIGRvd25sb2FkLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGluY2x1ZGVSYXdDaHVua3M6IGZhbHNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVyOiBUcmFuc2Zvcm1lcjxcbiAgICAgICAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICAgICAgICAgIE9iamVjdFN0cmVhbUlucHV0UGFydFxuICAgICAgICA+ID0ge1xuICAgICAgICAgIHRyYW5zZm9ybTogKGNodW5rLCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndGV4dC1kZWx0YSc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLmRlbHRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UtbWV0YWRhdGEnOlxuICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgIGNhc2UgJ3N0cmVhbS1zdGFydCc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXN1bHQ6IHsgc3RyZWFtLCByZXNwb25zZSwgcmVxdWVzdCB9LFxuICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zLFxuICAgICAgICB9ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgIG5hbWU6ICdhaS5zdHJlYW1PYmplY3QuZG9TdHJlYW0nLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogJ2FpLnN0cmVhbU9iamVjdC5kb1N0cmVhbScsXG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgJ2FpLnByb21wdC5tZXNzYWdlcyc6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkoY2FsbE9wdGlvbnMucHJvbXB0KSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICdnZW5fYWkuc3lzdGVtJzogbW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1vZGVsJzogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHknOlxuICAgICAgICAgICAgICAgICAgY2FsbFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHksXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnMnOiBjYWxsU2V0dGluZ3MubWF4T3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICdnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5JzogY2FsbFNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmUnOiBjYWxsU2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9rJzogY2FsbFNldHRpbmdzLnRvcEssXG4gICAgICAgICAgICAgICAgJ2dlbl9haS5yZXF1ZXN0LnRvcF9wJzogY2FsbFNldHRpbmdzLnRvcFAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGVuZFdoZW5Eb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGZuOiBhc3luYyBkb1N0cmVhbVNwYW4gPT4gKHtcbiAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXBNczogbm93KCksXG4gICAgICAgICAgICAgIGRvU3RyZWFtU3BhbixcbiAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBtb2RlbC5kb1N0cmVhbShjYWxsT3B0aW9ucyksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgICAgICBzZWxmLl9yZXF1ZXN0LnJlc29sdmUocmVxdWVzdCA/PyB7fSk7XG5cbiAgICAgICAgLy8gc3RvcmUgaW5mb3JtYXRpb24gZm9yIG9uRmluaXNoIGNhbGxiYWNrOlxuICAgICAgICBsZXQgd2FybmluZ3M6IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nW10gfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCB1c2FnZTogTGFuZ3VhZ2VNb2RlbFVzYWdlID0ge1xuICAgICAgICAgIGlucHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgb3V0cHV0VG9rZW5zOiB1bmRlZmluZWQsXG4gICAgICAgICAgdG90YWxUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGZpbmlzaFJlYXNvbjogTGFuZ3VhZ2VNb2RlbFYyRmluaXNoUmVhc29uIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcHJvdmlkZXJNZXRhZGF0YTogUHJvdmlkZXJNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG9iamVjdDogUkVTVUxUIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgZXJyb3I6IHVua25vd24gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gcGlwZSBjaHVua3MgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIHN0cmVhbSB0aGF0IGV4dHJhY3RzIG1ldGFkYXRhOlxuICAgICAgICBsZXQgYWNjdW11bGF0ZWRUZXh0ID0gJyc7XG4gICAgICAgIGxldCB0ZXh0RGVsdGEgPSAnJztcbiAgICAgICAgbGV0IGZ1bGxSZXNwb25zZToge1xuICAgICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlO1xuICAgICAgICAgIG1vZGVsSWQ6IHN0cmluZztcbiAgICAgICAgfSA9IHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVJZCgpLFxuICAgICAgICAgIHRpbWVzdGFtcDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgcmF3IHBhcnNlIHJlc3VsdCBiZWZvcmUgdHlwZSB2YWxpZGF0aW9uLCBzaW5jZSBlLmcuIFpvZCBtaWdodFxuICAgICAgICAvLyBjaGFuZ2UgdGhlIG9iamVjdCBieSBtYXBwaW5nIHByb3BlcnRpZXMuXG4gICAgICAgIGxldCBsYXRlc3RPYmplY3RKc29uOiBKU09OVmFsdWUgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBsYXRlc3RPYmplY3Q6IFBBUlRJQUwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBpc0ZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgICAgICBsZXQgaXNGaXJzdERlbHRhID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZFN0cmVhbSA9IHN0cmVhbVxuICAgICAgICAgIC5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKHRyYW5zZm9ybWVyKSlcbiAgICAgICAgICAucGlwZVRocm91Z2goXG4gICAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPFxuICAgICAgICAgICAgICBzdHJpbmcgfCBPYmplY3RTdHJlYW1JbnB1dFBhcnQsXG4gICAgICAgICAgICAgIE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD5cbiAgICAgICAgICAgID4oe1xuICAgICAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgY2h1bmsgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICBjaHVuay50eXBlID09PSAnc3RyZWFtLXN0YXJ0J1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgd2FybmluZ3MgPSBjaHVuay53YXJuaW5ncztcbiAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc3RyZWFtIHN0YXJ0IGNodW5rcyBhcmUgc2VudCBpbW1lZGlhdGVseSBhbmQgZG8gbm90IGNvdW50IGFzIGZpcnN0IGNodW5rXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVGVsZW1ldHJ5IGV2ZW50IGZvciBmaXJzdCBjaHVuazpcbiAgICAgICAgICAgICAgICBpZiAoaXNGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmlyc3RDaHVuayA9IG5vdygpIC0gc3RhcnRUaW1lc3RhbXBNcztcblxuICAgICAgICAgICAgICAgICAgaXNGaXJzdENodW5rID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudCgnYWkuc3RyZWFtLmZpcnN0Q2h1bmsnLCB7XG4gICAgICAgICAgICAgICAgICAgICdhaS5zdHJlYW0ubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdhaS5zdHJlYW0ubXNUb0ZpcnN0Q2h1bmsnOiBtc1RvRmlyc3RDaHVuayxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgcGFydGlhbCB0ZXh0IGNodW5rc1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFRleHQgKz0gY2h1bms7XG4gICAgICAgICAgICAgICAgICB0ZXh0RGVsdGEgKz0gY2h1bms7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGN1cnJlbnRPYmplY3RKc29uLCBzdGF0ZTogcGFyc2VTdGF0ZSB9ID1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFyc2VQYXJ0aWFsSnNvbihhY2N1bXVsYXRlZFRleHQpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3RKc29uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzRGVlcEVxdWFsRGF0YShsYXRlc3RPYmplY3RKc29uLCBjdXJyZW50T2JqZWN0SnNvbilcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID1cbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBvdXRwdXRTdHJhdGVneS52YWxpZGF0ZVBhcnRpYWxSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRPYmplY3RKc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdERlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaW5hbERlbHRhOiBwYXJzZVN0YXRlID09PSAnc3VjY2Vzc2Z1bC1wYXJzZScsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuc3VjY2VzcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICFpc0RlZXBFcXVhbERhdGEoXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlLnBhcnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBpbnNpZGUgaW5uZXIgY2hlY2sgdG8gY29ycmVjdGx5IHBhcnNlIHRoZSBmaW5hbCBlbGVtZW50IGluIGFycmF5IG1vZGU6XG4gICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0SnNvbiA9IGN1cnJlbnRPYmplY3RKc29uO1xuICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdCA9IHZhbGlkYXRpb25SZXN1bHQudmFsdWUucGFydGlhbDtcblxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdDogbGF0ZXN0T2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0LWRlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YTogdmFsaWRhdGlvblJlc3VsdC52YWx1ZS50ZXh0RGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGVsdGEgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0RGVsdGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlICdyZXNwb25zZS1tZXRhZGF0YSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZnVsbFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiBjaHVuay5pZCA/PyBmdWxsUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBjaHVuay50aW1lc3RhbXAgPz8gZnVsbFJlc3BvbnNlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbElkOiBjaHVuay5tb2RlbElkID8/IGZ1bGxSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY2FzZSAnZmluaXNoJzoge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIGZpbmFsIHRleHQgZGVsdGE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RGVsdGEgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCB0ZXh0RGVsdGEgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBmaW5pc2ggcmVhc29uIGZvciB0ZWxlbWV0cnk6XG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IGNodW5rLmZpbmlzaFJlYXNvbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSB1c2FnZSBhbmQgbWV0YWRhdGEgZm9yIHByb21pc2VzIGFuZCBvbkZpbmlzaCBjYWxsYmFjazpcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2UgPSBjaHVuay51c2FnZTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSA9IGNodW5rLnByb3ZpZGVyTWV0YWRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZnVsbFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgd2FybmluZ3M6XG4gICAgICAgICAgICAgICAgICAgIGxvZ1dhcm5pbmdzKHdhcm5pbmdzID8/IFtdKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlIHByb21pc2VzIHRoYXQgY2FuIGJlIHJlc29sdmVkIG5vdzpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fdXNhZ2UucmVzb2x2ZSh1c2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3Byb3ZpZGVyTWV0YWRhdGEucmVzb2x2ZShwcm92aWRlck1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fd2FybmluZ3MucmVzb2x2ZSh3YXJuaW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3Jlc3BvbnNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmZ1bGxSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZT8uaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZpbmlzaFJlYXNvbi5yZXNvbHZlKGZpbmlzaFJlYXNvbiA/PyAndW5rbm93bicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0ID0gYXdhaXQgcGFyc2VBbmRWYWxpZGF0ZU9iamVjdFJlc3VsdFdpdGhSZXBhaXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRTdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGFpclRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdWxsUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi5fb2JqZWN0LnJlc29sdmUob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9vYmplY3QucmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAvLyBpbnZva2Ugb25GaW5pc2ggY2FsbGJhY2sgYW5kIHJlc29sdmUgdG9vbFJlc3VsdHMgcHJvbWlzZSB3aGVuIHRoZSBzdHJlYW0gaXMgYWJvdXQgdG8gY2xvc2U6XG4gICAgICAgICAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxVc2FnZSA9IHVzYWdlID8/IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiBOYU4sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLmZpbmlzaFJlYXNvbic6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS5vYmplY3QnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UuaWQnOiBmdWxsUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UubW9kZWwnOiBmdWxsUmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS5yZXNwb25zZS50aW1lc3RhbXAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsUmVzcG9uc2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3ZpZGVyTWV0YWRhdGEpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiBmaW5hbFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IGZpbmFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRvdGFsVG9rZW5zJzogZmluYWxVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiBmaW5hbFVzYWdlLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnMnOiBbZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdnZW5fYWkucmVzcG9uc2UuaWQnOiBmdWxsUmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnJlc3BvbnNlLm1vZGVsJzogZnVsbFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vucyc6IGZpbmFsVXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnMnOiBmaW5hbFVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCBkb1N0cmVhbVNwYW4gYmVmb3JlIG90aGVyIG9wZXJhdGlvbnMgZm9yIGNvcnJlY3QgdGltaW5nOlxuICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLmVuZCgpO1xuXG4gICAgICAgICAgICAgICAgICAvLyBBZGQgcmVzcG9uc2UgaW5mb3JtYXRpb24gdG8gdGhlIHJvb3Qgc3BhbjpcbiAgICAgICAgICAgICAgICAgIHJvb3RTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkudXNhZ2UuaW5wdXRUb2tlbnMnOiBmaW5hbFVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLm91dHB1dFRva2Vucyc6IGZpbmFsVXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnVzYWdlLnRvdGFsVG9rZW5zJzogZmluYWxVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5yZWFzb25pbmdUb2tlbnMnOiBmaW5hbFVzYWdlLnJlYXNvbmluZ1Rva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhaS51c2FnZS5jYWNoZWRJbnB1dFRva2Vucyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVXNhZ2UuY2FjaGVkSW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWkucmVzcG9uc2Uub2JqZWN0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm92aWRlck1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIGNhbGwgb25GaW5pc2ggY2FsbGJhY2s6XG4gICAgICAgICAgICAgICAgICBhd2FpdCBvbkZpbmlzaD8uKHtcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGZpbmFsVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uZnVsbFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnZXJyb3InLCBlcnJvciB9KTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgcm9vdFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLmFkZFN0cmVhbSh0cmFuc2Zvcm1lZFN0cmVhbSk7XG4gICAgICB9LFxuICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAvLyBhZGQgYW4gZW1wdHkgc3RyZWFtIHdpdGggYW4gZXJyb3IgdG8gYnJlYWsgdGhlIHN0cmVhbTpcbiAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW0oXG4gICAgICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfSk7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzdGl0Y2hhYmxlU3RyZWFtLmNsb3NlKCk7XG4gICAgICB9KTtcblxuICAgIHRoaXMub3V0cHV0U3RyYXRlZ3kgPSBvdXRwdXRTdHJhdGVneTtcbiAgfVxuXG4gIGdldCBvYmplY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdC5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLl91c2FnZS5wcm9taXNlO1xuICB9XG5cbiAgZ2V0IHByb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyTWV0YWRhdGEucHJvbWlzZTtcbiAgfVxuXG4gIGdldCB3YXJuaW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5fd2FybmluZ3MucHJvbWlzZTtcbiAgfVxuXG4gIGdldCByZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0LnByb21pc2U7XG4gIH1cblxuICBnZXQgcmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlLnByb21pc2U7XG4gIH1cblxuICBnZXQgZmluaXNoUmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLl9maW5pc2hSZWFzb24ucHJvbWlzZTtcbiAgfVxuXG4gIGdldCBwYXJ0aWFsT2JqZWN0U3RyZWFtKCk6IEFzeW5jSXRlcmFibGVTdHJlYW08UEFSVElBTD4ge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy5iYXNlU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4sIFBBUlRJQUw+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay5vYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQtZGVsdGEnOlxuICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICBjYXNlICdlcnJvcic6IC8vIHN1cHByZXNzIGVycm9yICh1c2Ugb25FcnJvciBpbnN0ZWFkKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXQgZWxlbWVudFN0cmVhbSgpOiBFTEVNRU5UX1NUUkVBTSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0U3RyYXRlZ3kuY3JlYXRlRWxlbWVudFN0cmVhbSh0aGlzLmJhc2VTdHJlYW0pO1xuICB9XG5cbiAgZ2V0IHRleHRTdHJlYW0oKTogQXN5bmNJdGVyYWJsZVN0cmVhbTxzdHJpbmc+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbShcbiAgICAgIHRoaXMuYmFzZVN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxPYmplY3RTdHJlYW1QYXJ0PFBBUlRJQUw+LCBzdHJpbmc+KHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd0ZXh0LWRlbHRhJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsudGV4dERlbHRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICBjYXNlICdmaW5pc2gnOlxuICAgICAgICAgICAgICBjYXNlICdlcnJvcic6IC8vIHN1cHByZXNzIGVycm9yICh1c2Ugb25FcnJvciBpbnN0ZWFkKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrOiBuZXZlciA9IGNodW5rO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXQgZnVsbFN0cmVhbSgpOiBBc3luY0l0ZXJhYmxlU3RyZWFtPE9iamVjdFN0cmVhbVBhcnQ8UEFSVElBTD4+IHtcbiAgICByZXR1cm4gY3JlYXRlQXN5bmNJdGVyYWJsZVN0cmVhbSh0aGlzLmJhc2VTdHJlYW0pO1xuICB9XG5cbiAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHJlc3BvbnNlOiBTZXJ2ZXJSZXNwb25zZSwgaW5pdD86IFJlc3BvbnNlSW5pdCkge1xuICAgIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHRleHRTdHJlYW06IHRoaXMudGV4dFN0cmVhbSxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG4gIH1cblxuICB0b1RleHRTdHJlYW1SZXNwb25zZShpbml0PzogUmVzcG9uc2VJbml0KTogUmVzcG9uc2Uge1xuICAgIHJldHVybiBjcmVhdGVUZXh0U3RyZWFtUmVzcG9uc2Uoe1xuICAgICAgdGV4dFN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLFxuICAgICAgLi4uaW5pdCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBPYmplY3RTdHJlYW1JbnB1dFBhcnQgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIHR5cGU6ICdzdHJlYW0tc3RhcnQnO1xuICAgICAgd2FybmluZ3M6IExhbmd1YWdlTW9kZWxWMkNhbGxXYXJuaW5nW107XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdlcnJvcic7XG4gICAgICBlcnJvcjogdW5rbm93bjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ3Jlc3BvbnNlLW1ldGFkYXRhJztcbiAgICAgIGlkPzogc3RyaW5nO1xuICAgICAgdGltZXN0YW1wPzogRGF0ZTtcbiAgICAgIG1vZGVsSWQ/OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdmaW5pc2gnO1xuICAgICAgZmluaXNoUmVhc29uOiBMYW5ndWFnZU1vZGVsVjJGaW5pc2hSZWFzb247XG4gICAgICB1c2FnZTogTGFuZ3VhZ2VNb2RlbFYyVXNhZ2U7XG4gICAgICBwcm92aWRlck1ldGFkYXRhPzogU2hhcmVkVjJQcm92aWRlck1ldGFkYXRhO1xuICAgIH07XG4iLCAiaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvci9pbnZhbGlkLWFyZ3VtZW50LWVycm9yJztcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBjb3NpbmUgc2ltaWxhcml0eSBiZXR3ZWVuIHR3byB2ZWN0b3JzLiBUaGlzIGlzIGEgdXNlZnVsIG1ldHJpYyBmb3JcbiAqIGNvbXBhcmluZyB0aGUgc2ltaWxhcml0eSBvZiB0d28gdmVjdG9ycyBzdWNoIGFzIGVtYmVkZGluZ3MuXG4gKlxuICogQHBhcmFtIHZlY3RvcjEgLSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHZlY3RvcjIgLSBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY29zaW5lIHNpbWlsYXJpdHkgYmV0d2VlbiB2ZWN0b3IxIGFuZCB2ZWN0b3IyLlxuICogQHJldHVybnMgMCBpZiBlaXRoZXIgdmVjdG9yIGlzIHRoZSB6ZXJvIHZlY3Rvci5cbiAqXG4gKiBAdGhyb3dzIHtJbnZhbGlkQXJndW1lbnRFcnJvcn0gSWYgdGhlIHZlY3RvcnMgZG8gbm90IGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29zaW5lU2ltaWxhcml0eSh2ZWN0b3IxOiBudW1iZXJbXSwgdmVjdG9yMjogbnVtYmVyW10pOiBudW1iZXIge1xuICBpZiAodmVjdG9yMS5sZW5ndGggIT09IHZlY3RvcjIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogJ3ZlY3RvcjEsdmVjdG9yMicsXG4gICAgICB2YWx1ZTogeyB2ZWN0b3IxTGVuZ3RoOiB2ZWN0b3IxLmxlbmd0aCwgdmVjdG9yMkxlbmd0aDogdmVjdG9yMi5sZW5ndGggfSxcbiAgICAgIG1lc3NhZ2U6IGBWZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhgLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgbiA9IHZlY3RvcjEubGVuZ3RoO1xuXG4gIGlmIChuID09PSAwKSB7XG4gICAgcmV0dXJuIDA7IC8vIFJldHVybiAwIGZvciBlbXB0eSB2ZWN0b3JzIGlmIG5vIGVycm9yIGlzIHRocm93blxuICB9XG5cbiAgbGV0IG1hZ25pdHVkZVNxdWFyZWQxID0gMDtcbiAgbGV0IG1hZ25pdHVkZVNxdWFyZWQyID0gMDtcbiAgbGV0IGRvdFByb2R1Y3QgPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUxID0gdmVjdG9yMVtpXTtcbiAgICBjb25zdCB2YWx1ZTIgPSB2ZWN0b3IyW2ldO1xuXG4gICAgbWFnbml0dWRlU3F1YXJlZDEgKz0gdmFsdWUxICogdmFsdWUxO1xuICAgIG1hZ25pdHVkZVNxdWFyZWQyICs9IHZhbHVlMiAqIHZhbHVlMjtcbiAgICBkb3RQcm9kdWN0ICs9IHZhbHVlMSAqIHZhbHVlMjtcbiAgfVxuXG4gIHJldHVybiBtYWduaXR1ZGVTcXVhcmVkMSA9PT0gMCB8fCBtYWduaXR1ZGVTcXVhcmVkMiA9PT0gMFxuICAgID8gMFxuICAgIDogZG90UHJvZHVjdCAvXG4gICAgICAgIChNYXRoLnNxcnQobWFnbml0dWRlU3F1YXJlZDEpICogTWF0aC5zcXJ0KG1hZ25pdHVkZVNxdWFyZWQyKSk7XG59XG4iLCAiLyoqXG4gKiBDb252ZXJ0cyBhIGRhdGEgVVJMIG9mIHR5cGUgdGV4dC8qIHRvIGEgdGV4dCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0RnJvbURhdGFVcmwoZGF0YVVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KCcsJyk7XG4gIGNvbnN0IG1lZGlhVHlwZSA9IGhlYWRlci5zcGxpdCgnOycpWzBdLnNwbGl0KCc6JylbMV07XG5cbiAgaWYgKG1lZGlhVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhIFVSTCBmb3JtYXQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5hdG9iKGJhc2U2NENvbnRlbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVjb2RpbmcgZGF0YSBVUkxgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogUGVyZm9ybXMgYSBkZWVwLWVxdWFsIGNvbXBhcmlzb24gb2YgdHdvIHBhcnNlZCBKU09OIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHthbnl9IG9iajEgLSBUaGUgZmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2FueX0gb2JqMiAtIFRoZSBzZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBvYmplY3RzIGFyZSBkZWVwbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVlcEVxdWFsRGF0YShvYmoxOiBhbnksIG9iajI6IGFueSk6IGJvb2xlYW4ge1xuICAvLyBDaGVjayBmb3Igc3RyaWN0IGVxdWFsaXR5IGZpcnN0XG4gIGlmIChvYmoxID09PSBvYmoyKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBDaGVjayBpZiBlaXRoZXIgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgaWYgKG9iajEgPT0gbnVsbCB8fCBvYmoyID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAvLyBDaGVjayBpZiBib3RoIGFyZSBvYmplY3RzXG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iajIgIT09ICdvYmplY3QnKVxuICAgIHJldHVybiBvYmoxID09PSBvYmoyO1xuXG4gIC8vIElmIHRoZXkgYXJlIG5vdCBzdHJpY3RseSBlcXVhbCwgdGhleSBib3RoIG5lZWQgdG8gYmUgT2JqZWN0c1xuICBpZiAob2JqMS5jb25zdHJ1Y3RvciAhPT0gb2JqMi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIERhdGUgb2JqZWN0c1xuICBpZiAob2JqMSBpbnN0YW5jZW9mIERhdGUgJiYgb2JqMiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gb2JqMS5nZXRUaW1lKCkgPT09IG9iajIuZ2V0VGltZSgpO1xuICB9XG5cbiAgLy8gSGFuZGxlIGFycmF5czogY29tcGFyZSBsZW5ndGggYW5kIHRoZW4gcGVyZm9ybSBhIHJlY3Vyc2l2ZSBkZWVwIGNvbXBhcmlzb24gb24gZWFjaCBpdGVtXG4gIGlmIChBcnJheS5pc0FycmF5KG9iajEpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtpXSwgb2JqMltpXSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7IC8vIEFsbCBhcnJheSBlbGVtZW50cyBtYXRjaGVkXG4gIH1cblxuICAvLyBDb21wYXJlIHRoZSBzZXQgb2Yga2V5cyBpbiBlYWNoIG9iamVjdFxuICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICBjb25zdCBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAvLyBDaGVjayBlYWNoIGtleS12YWx1ZSBwYWlyIHJlY3Vyc2l2ZWx5XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XG4gICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtrZXldLCBvYmoyW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTsgLy8gQWxsIGtleXMgYW5kIHZhbHVlcyBtYXRjaGVkXG59XG4iLCAiaW1wb3J0IHsgSm9iIH0gZnJvbSAnLi9qb2InO1xuXG5leHBvcnQgY2xhc3MgU2VyaWFsSm9iRXhlY3V0b3Ige1xuICBwcml2YXRlIHF1ZXVlOiBBcnJheTxKb2I+ID0gW107XG4gIHByaXZhdGUgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUXVldWUoKSB7XG4gICAgaWYgKHRoaXMuaXNQcm9jZXNzaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgdGhpcy5xdWV1ZVswXSgpO1xuICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgIH1cblxuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cblxuICBhc3luYyBydW4oam9iOiBKb2IpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBqb2IoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZvaWQgdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IGRlbGF5IGFzIGRlbGF5RnVuY3Rpb24gfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgUmVhZGFibGVTdHJlYW0gdGhhdCBlbWl0cyB0aGUgcHJvdmlkZWQgdmFsdWVzIHdpdGggYW4gb3B0aW9uYWwgZGVsYXkgYmV0d2VlbiBlYWNoIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMuY2h1bmtzIC0gQXJyYXkgb2YgdmFsdWVzIHRvIGJlIGVtaXR0ZWQgYnkgdGhlIHN0cmVhbVxuICogQHBhcmFtIG9wdGlvbnMuaW5pdGlhbERlbGF5SW5NcyAtIE9wdGlvbmFsIGluaXRpYWwgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSBlbWl0dGluZyB0aGUgZmlyc3QgdmFsdWUgKGRlZmF1bHQ6IDApLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byBza2lwIHRoZSBpbml0aWFsIGRlbGF5LiBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGBpbml0aWFsRGVsYXlJbk1zOiBudWxsYCBhbmQgYGluaXRpYWxEZWxheUluTXM6IDBgIGlzIHRoYXQgYGluaXRpYWxEZWxheUluTXM6IG51bGxgIHdpbGwgZW1pdCB0aGUgdmFsdWVzIHdpdGhvdXQgYW55IGRlbGF5LCB3aGlsZSBgaW5pdGlhbERlbGF5SW5NczogMGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aCBhIGRlbGF5IG9mIDAgbWlsbGlzZWNvbmRzLlxuICogQHBhcmFtIG9wdGlvbnMuY2h1bmtEZWxheUluTXMgLSBPcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlbWl0dGluZyBlYWNoIHZhbHVlIChkZWZhdWx0OiAwKS4gQ2FuIGJlIHNldCB0byBgbnVsbGAgdG8gc2tpcCB0aGUgZGVsYXkuIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYGNodW5rRGVsYXlJbk1zOiBudWxsYCBhbmQgYGNodW5rRGVsYXlJbk1zOiAwYCBpcyB0aGF0IGBjaHVua0RlbGF5SW5NczogbnVsbGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aG91dCBhbnkgZGVsYXksIHdoaWxlIGBjaHVua0RlbGF5SW5NczogMGAgd2lsbCBlbWl0IHRoZSB2YWx1ZXMgd2l0aCBhIGRlbGF5IG9mIDAgbWlsbGlzZWNvbmRzLlxuICogQHJldHVybnMgQSBSZWFkYWJsZVN0cmVhbSB0aGF0IGVtaXRzIHRoZSBwcm92aWRlZCB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbXVsYXRlUmVhZGFibGVTdHJlYW08VD4oe1xuICBjaHVua3MsXG4gIGluaXRpYWxEZWxheUluTXMgPSAwLFxuICBjaHVua0RlbGF5SW5NcyA9IDAsXG4gIF9pbnRlcm5hbCxcbn06IHtcbiAgY2h1bmtzOiBUW107XG4gIGluaXRpYWxEZWxheUluTXM/OiBudW1iZXIgfCBudWxsO1xuICBjaHVua0RlbGF5SW5Ncz86IG51bWJlciB8IG51bGw7XG4gIF9pbnRlcm5hbD86IHtcbiAgICBkZWxheT86IChtczogbnVtYmVyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgfTtcbn0pOiBSZWFkYWJsZVN0cmVhbTxUPiB7XG4gIGNvbnN0IGRlbGF5ID0gX2ludGVybmFsPy5kZWxheSA/PyBkZWxheUZ1bmN0aW9uO1xuXG4gIGxldCBpbmRleCA9IDA7XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICBpZiAoaW5kZXggPCBjaHVua3MubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IGRlbGF5KGluZGV4ID09PSAwID8gaW5pdGlhbERlbGF5SW5NcyA6IGNodW5rRGVsYXlJbk1zKTtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rc1tpbmRleCsrXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgSlNPTlZhbHVlLCBTcGVlY2hNb2RlbFYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE5vU3BlZWNoR2VuZXJhdGVkRXJyb3IgfSBmcm9tICcuLi9lcnJvci9uby1zcGVlY2gtZ2VuZXJhdGVkLWVycm9yJztcbmltcG9ydCB7IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci91bnN1cHBvcnRlZC1tb2RlbC12ZXJzaW9uLWVycm9yJztcbmltcG9ydCB7IGxvZ1dhcm5pbmdzIH0gZnJvbSAnLi4vbG9nZ2VyL2xvZy13YXJuaW5ncyc7XG5pbXBvcnQgeyBTcGVlY2hXYXJuaW5nIH0gZnJvbSAnLi4vdHlwZXMvc3BlZWNoLW1vZGVsJztcbmltcG9ydCB7IFNwZWVjaE1vZGVsUmVzcG9uc2VNZXRhZGF0YSB9IGZyb20gJy4uL3R5cGVzL3NwZWVjaC1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQge1xuICBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gIGRldGVjdE1lZGlhVHlwZSxcbn0gZnJvbSAnLi4vdXRpbC9kZXRlY3QtbWVkaWEtdHlwZSc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IFNwZWVjaFJlc3VsdCB9IGZyb20gJy4vZ2VuZXJhdGUtc3BlZWNoLXJlc3VsdCc7XG5pbXBvcnQge1xuICBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlLFxuICBHZW5lcmF0ZWRBdWRpb0ZpbGUsXG59IGZyb20gJy4vZ2VuZXJhdGVkLWF1ZGlvLWZpbGUnO1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuLyoqXG5HZW5lcmF0ZXMgc3BlZWNoIGF1ZGlvIHVzaW5nIGEgc3BlZWNoIG1vZGVsLlxuXG5AcGFyYW0gbW9kZWwgLSBUaGUgc3BlZWNoIG1vZGVsIHRvIHVzZS5cbkBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgdG8gY29udmVydCB0byBzcGVlY2guXG5AcGFyYW0gdm9pY2UgLSBUaGUgdm9pY2UgdG8gdXNlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbi5cbkBwYXJhbSBvdXRwdXRGb3JtYXQgLSBUaGUgb3V0cHV0IGZvcm1hdCB0byB1c2UgZm9yIHNwZWVjaCBnZW5lcmF0aW9uIGUuZy4gXCJtcDNcIiwgXCJ3YXZcIiwgZXRjLlxuQHBhcmFtIGluc3RydWN0aW9ucyAtIEluc3RydWN0aW9ucyBmb3IgdGhlIHNwZWVjaCBnZW5lcmF0aW9uIGUuZy4gXCJTcGVhayBpbiBhIHNsb3cgYW5kIHN0ZWFkeSB0b25lXCIuXG5AcGFyYW0gc3BlZWQgLSBUaGUgc3BlZWQgb2YgdGhlIHNwZWVjaCBnZW5lcmF0aW9uLlxuQHBhcmFtIHByb3ZpZGVyT3B0aW9ucyAtIEFkZGl0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgb3B0aW9ucyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgcHJvdmlkZXJcbmFzIGJvZHkgcGFyYW1ldGVycy5cbkBwYXJhbSBtYXhSZXRyaWVzIC0gTWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLiBEZWZhdWx0OiAyLlxuQHBhcmFtIGFib3J0U2lnbmFsIC0gQW4gb3B0aW9uYWwgYWJvcnQgc2lnbmFsIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsLlxuQHBhcmFtIGhlYWRlcnMgLSBBZGRpdGlvbmFsIEhUVFAgaGVhZGVycyB0byBiZSBzZW50IHdpdGggdGhlIHJlcXVlc3QuIE9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG5cbkByZXR1cm5zIEEgcmVzdWx0IG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBnZW5lcmF0ZWQgYXVkaW8gZGF0YS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlU3BlZWNoKHtcbiAgbW9kZWwsXG4gIHRleHQsXG4gIHZvaWNlLFxuICBvdXRwdXRGb3JtYXQsXG4gIGluc3RydWN0aW9ucyxcbiAgc3BlZWQsXG4gIGxhbmd1YWdlLFxuICBwcm92aWRlck9wdGlvbnMgPSB7fSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG59OiB7XG4gIC8qKlxuVGhlIHNwZWVjaCBtb2RlbCB0byB1c2UuXG4gICAgICovXG4gIG1vZGVsOiBTcGVlY2hNb2RlbFYyO1xuXG4gIC8qKlxuVGhlIHRleHQgdG8gY29udmVydCB0byBzcGVlY2guXG4gICAqL1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgLyoqXG5UaGUgdm9pY2UgdG8gdXNlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbi5cbiAgICovXG4gIHZvaWNlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVzaXJlZCBvdXRwdXQgZm9ybWF0IGZvciB0aGUgYXVkaW8gZS5nLiBcIm1wM1wiLCBcIndhdlwiLCBldGMuXG4gICAqL1xuICBvdXRwdXRGb3JtYXQ/OiAnbXAzJyB8ICd3YXYnIHwgKHN0cmluZyAmIHt9KTtcblxuICAvKipcbiAgICBJbnN0cnVjdGlvbnMgZm9yIHRoZSBzcGVlY2ggZ2VuZXJhdGlvbiBlLmcuIFwiU3BlYWsgaW4gYSBzbG93IGFuZCBzdGVhZHkgdG9uZVwiLlxuICAqL1xuICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gIFRoZSBzcGVlZCBvZiB0aGUgc3BlZWNoIGdlbmVyYXRpb24uXG4gICAqL1xuICBzcGVlZD86IG51bWJlcjtcblxuICAvKipcbiAgVGhlIGxhbmd1YWdlIGZvciBzcGVlY2ggZ2VuZXJhdGlvbi4gVGhpcyBzaG91bGQgYmUgYW4gSVNPIDYzOS0xIGxhbmd1YWdlIGNvZGUgKGUuZy4gXCJlblwiLCBcImVzXCIsIFwiZnJcIilcbiAgb3IgXCJhdXRvXCIgZm9yIGF1dG9tYXRpYyBsYW5ndWFnZSBkZXRlY3Rpb24uIFByb3ZpZGVyIHN1cHBvcnQgdmFyaWVzLlxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5cblRoZSBvdXRlciByZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyIG5hbWUsIGFuZCB0aGUgaW5uZXJcbnJlY29yZCBpcyBrZXllZCBieSB0aGUgcHJvdmlkZXItc3BlY2lmaWMgbWV0YWRhdGEga2V5LlxuYGBgdHNcbntcbiAgXCJvcGVuYWlcIjoge31cbn1cbmBgYFxuICAgICAqL1xuICBwcm92aWRlck9wdGlvbnM/OiBQcm92aWRlck9wdGlvbnM7XG5cbiAgLyoqXG5NYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHBlciBzcGVlY2ggbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59KTogUHJvbWlzZTxTcGVlY2hSZXN1bHQ+IHtcbiAgaWYgKG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSAndjInKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3Ioe1xuICAgICAgdmVyc2lvbjogbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24sXG4gICAgICBwcm92aWRlcjogbW9kZWwucHJvdmlkZXIsXG4gICAgICBtb2RlbElkOiBtb2RlbC5tb2RlbElkLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgaGVhZGVyc1dpdGhVc2VyQWdlbnQgPSB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgIGhlYWRlcnMgPz8ge30sXG4gICAgYGFpLyR7VkVSU0lPTn1gLFxuICApO1xuXG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXRyeSgoKSA9PlxuICAgIG1vZGVsLmRvR2VuZXJhdGUoe1xuICAgICAgdGV4dCxcbiAgICAgIHZvaWNlLFxuICAgICAgb3V0cHV0Rm9ybWF0LFxuICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgc3BlZWQsXG4gICAgICBsYW5ndWFnZSxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhVc2VyQWdlbnQsXG4gICAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgfSksXG4gICk7XG5cbiAgaWYgKCFyZXN1bHQuYXVkaW8gfHwgcmVzdWx0LmF1ZGlvLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBOb1NwZWVjaEdlbmVyYXRlZEVycm9yKHsgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSB9KTtcbiAgfVxuXG4gIGxvZ1dhcm5pbmdzKHJlc3VsdC53YXJuaW5ncyk7XG5cbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3BlZWNoUmVzdWx0KHtcbiAgICBhdWRpbzogbmV3IERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGUoe1xuICAgICAgZGF0YTogcmVzdWx0LmF1ZGlvLFxuICAgICAgbWVkaWFUeXBlOlxuICAgICAgICBkZXRlY3RNZWRpYVR5cGUoe1xuICAgICAgICAgIGRhdGE6IHJlc3VsdC5hdWRpbyxcbiAgICAgICAgICBzaWduYXR1cmVzOiBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gICAgICAgIH0pID8/ICdhdWRpby9tcDMnLFxuICAgIH0pLFxuICAgIHdhcm5pbmdzOiByZXN1bHQud2FybmluZ3MsXG4gICAgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSxcbiAgICBwcm92aWRlck1ldGFkYXRhOiByZXN1bHQucHJvdmlkZXJNZXRhZGF0YSxcbiAgfSk7XG59XG5cbmNsYXNzIERlZmF1bHRTcGVlY2hSZXN1bHQgaW1wbGVtZW50cyBTcGVlY2hSZXN1bHQge1xuICByZWFkb25seSBhdWRpbzogR2VuZXJhdGVkQXVkaW9GaWxlO1xuICByZWFkb25seSB3YXJuaW5nczogQXJyYXk8U3BlZWNoV2FybmluZz47XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgcmVhZG9ubHkgcHJvdmlkZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgSlNPTlZhbHVlPj47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIGF1ZGlvOiBHZW5lcmF0ZWRBdWRpb0ZpbGU7XG4gICAgd2FybmluZ3M6IEFycmF5PFNwZWVjaFdhcm5pbmc+O1xuICAgIHJlc3BvbnNlczogQXJyYXk8U3BlZWNoTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PiB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHRoaXMuYXVkaW8gPSBvcHRpb25zLmF1ZGlvO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm5pbmdzO1xuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0aW9ucy5yZXNwb25zZXM7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhID8/IHt9O1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgR2VuZXJhdGVkRmlsZSxcbiAgRGVmYXVsdEdlbmVyYXRlZEZpbGUsXG59IGZyb20gJy4uL2dlbmVyYXRlLXRleHQvZ2VuZXJhdGVkLWZpbGUnO1xuXG4vKipcbiAqIEEgZ2VuZXJhdGVkIGF1ZGlvIGZpbGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VuZXJhdGVkQXVkaW9GaWxlIGV4dGVuZHMgR2VuZXJhdGVkRmlsZSB7XG4gIC8qKlxuICAgKiBBdWRpbyBmb3JtYXQgb2YgdGhlIGZpbGUgKGUuZy4sICdtcDMnLCAnd2F2JywgZXRjLilcbiAgICovXG4gIHJlYWRvbmx5IGZvcm1hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdEdlbmVyYXRlZEF1ZGlvRmlsZVxuICBleHRlbmRzIERlZmF1bHRHZW5lcmF0ZWRGaWxlXG4gIGltcGxlbWVudHMgR2VuZXJhdGVkQXVkaW9GaWxlXG57XG4gIHJlYWRvbmx5IGZvcm1hdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1lZGlhVHlwZSxcbiAgfToge1xuICAgIGRhdGE6IHN0cmluZyB8IFVpbnQ4QXJyYXk7XG4gICAgbWVkaWFUeXBlOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IGRhdGEsIG1lZGlhVHlwZSB9KTtcbiAgICBsZXQgZm9ybWF0ID0gJ21wMyc7XG5cbiAgICAvLyBJZiBmb3JtYXQgaXMgbm90IHByb3ZpZGVkLCB0cnkgdG8gZGV0ZXJtaW5lIGl0IGZyb20gdGhlIG1lZGlhIHR5cGVcbiAgICBpZiAobWVkaWFUeXBlKSB7XG4gICAgICBjb25zdCBtZWRpYVR5cGVQYXJ0cyA9IG1lZGlhVHlwZS5zcGxpdCgnLycpO1xuXG4gICAgICBpZiAobWVkaWFUeXBlUGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBhdWRpbyBmb3JtYXRzXG4gICAgICAgIGlmIChtZWRpYVR5cGUgIT09ICdhdWRpby9tcGVnJykge1xuICAgICAgICAgIGZvcm1hdCA9IG1lZGlhVHlwZVBhcnRzWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgIC8vIFRPRE8gdGhpcyBzaG91bGQgYmUgYW4gQUkgU0RLIGVycm9yXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdBdWRpbyBmb3JtYXQgbXVzdCBiZSBwcm92aWRlZCBvciBkZXRlcm1pbmFibGUgZnJvbSBtZWRpYSB0eXBlJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGVXaXRoVHlwZSBleHRlbmRzIERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGUge1xuICByZWFkb25seSB0eXBlID0gJ2F1ZGlvJztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgZGF0YTogc3RyaW5nIHwgVWludDhBcnJheTtcbiAgICBtZWRpYVR5cGU6IHN0cmluZztcbiAgICBmb3JtYXQ6IHN0cmluZztcbiAgfSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGFzU2NoZW1hLFxuICBGbGV4aWJsZVNjaGVtYSxcbiAgc2FmZVBhcnNlSlNPTixcbiAgc2FmZVZhbGlkYXRlVHlwZXMsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHsgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciB9IGZyb20gJy4uL2Vycm9yL25vLW9iamVjdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHsgRmluaXNoUmVhc29uIH0gZnJvbSAnLi4vdHlwZXMvbGFuZ3VhZ2UtbW9kZWwnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1yZXNwb25zZS1tZXRhZGF0YSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsVXNhZ2UgfSBmcm9tICcuLi90eXBlcy91c2FnZSc7XG5pbXBvcnQgeyBEZWVwUGFydGlhbCB9IGZyb20gJy4uL3V0aWwvZGVlcC1wYXJ0aWFsJztcbmltcG9ydCB7IHBhcnNlUGFydGlhbEpzb24gfSBmcm9tICcuLi91dGlsL3BhcnNlLXBhcnRpYWwtanNvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3V0cHV0PE9VVFBVVCwgUEFSVElBTD4ge1xuICByZWFkb25seSB0eXBlOiAnb2JqZWN0JyB8ICd0ZXh0JztcblxuICByZXNwb25zZUZvcm1hdDogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Jlc3BvbnNlRm9ybWF0J107XG5cbiAgcGFyc2VQYXJ0aWFsKG9wdGlvbnM6IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHsgcGFydGlhbDogUEFSVElBTCB9IHwgdW5kZWZpbmVkPjtcblxuICBwYXJzZU91dHB1dChcbiAgICBvcHRpb25zOiB7IHRleHQ6IHN0cmluZyB9LFxuICAgIGNvbnRleHQ6IHtcbiAgICAgIHJlc3BvbnNlOiBMYW5ndWFnZU1vZGVsUmVzcG9uc2VNZXRhZGF0YTtcbiAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICBmaW5pc2hSZWFzb246IEZpbmlzaFJlYXNvbjtcbiAgICB9LFxuICApOiBQcm9taXNlPE9VVFBVVD47XG59XG5cbmV4cG9ydCBjb25zdCB0ZXh0ID0gKCk6IE91dHB1dDxzdHJpbmcsIHN0cmluZz4gPT4gKHtcbiAgdHlwZTogJ3RleHQnLFxuXG4gIHJlc3BvbnNlRm9ybWF0OiB7IHR5cGU6ICd0ZXh0JyB9LFxuXG4gIGFzeW5jIHBhcnNlUGFydGlhbCh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiB7IHBhcnRpYWw6IHRleHQgfTtcbiAgfSxcblxuICBhc3luYyBwYXJzZU91dHB1dCh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBvYmplY3QgPSA8T1VUUFVUPih7XG4gIHNjaGVtYTogaW5wdXRTY2hlbWEsXG59OiB7XG4gIHNjaGVtYTogRmxleGlibGVTY2hlbWE8T1VUUFVUPjtcbn0pOiBPdXRwdXQ8T1VUUFVULCBEZWVwUGFydGlhbDxPVVRQVVQ+PiA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IGFzU2NoZW1hKGlucHV0U2NoZW1hKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdvYmplY3QnLFxuXG4gICAgcmVzcG9uc2VGb3JtYXQ6IHtcbiAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgIHNjaGVtYTogc2NoZW1hLmpzb25TY2hlbWEsXG4gICAgfSxcblxuICAgIGFzeW5jIHBhcnNlUGFydGlhbCh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGFyc2VQYXJ0aWFsSnNvbih0ZXh0KTtcblxuICAgICAgc3dpdGNoIChyZXN1bHQuc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnZmFpbGVkLXBhcnNlJzpcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkLWlucHV0JzpcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNhc2UgJ3JlcGFpcmVkLXBhcnNlJzpcbiAgICAgICAgY2FzZSAnc3VjY2Vzc2Z1bC1wYXJzZSc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IGN1cnJlbnRseSBubyB2YWxpZGF0aW9uIG9mIHBhcnRpYWwgcmVzdWx0czpcbiAgICAgICAgICAgIHBhcnRpYWw6IHJlc3VsdC52YWx1ZSBhcyBEZWVwUGFydGlhbDxPVVRQVVQ+LFxuICAgICAgICAgIH07XG5cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2s6IG5ldmVyID0gcmVzdWx0LnN0YXRlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFyc2Ugc3RhdGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhc3luYyBwYXJzZU91dHB1dChcbiAgICAgIHsgdGV4dCB9OiB7IHRleHQ6IHN0cmluZyB9LFxuICAgICAgY29udGV4dDoge1xuICAgICAgICByZXNwb25zZTogTGFuZ3VhZ2VNb2RlbFJlc3BvbnNlTWV0YWRhdGE7XG4gICAgICAgIHVzYWdlOiBMYW5ndWFnZU1vZGVsVXNhZ2U7XG4gICAgICAgIGZpbmlzaFJlYXNvbjogRmluaXNoUmVhc29uO1xuICAgICAgfSxcbiAgICApIHtcbiAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gYXdhaXQgc2FmZVBhcnNlSlNPTih7IHRleHQgfSk7XG5cbiAgICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuJyxcbiAgICAgICAgICBjYXVzZTogcGFyc2VSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgICAgICB1c2FnZTogY29udGV4dC51c2FnZSxcbiAgICAgICAgICBmaW5pc2hSZWFzb246IGNvbnRleHQuZmluaXNoUmVhc29uLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHNhZmVWYWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgdmFsdWU6IHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICBzY2hlbWEsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBvYmplY3QgZ2VuZXJhdGVkOiByZXNwb25zZSBkaWQgbm90IG1hdGNoIHNjaGVtYS4nLFxuICAgICAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlO1xuICAgIH0sXG4gIH07XG59O1xuIiwgImltcG9ydCB7XG4gIEFzc2lzdGFudE1vZGVsTWVzc2FnZSxcbiAgTW9kZWxNZXNzYWdlLFxuICBUb29sTW9kZWxNZXNzYWdlLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcblxuLyoqXG4gKiBQcnVuZXMgbW9kZWwgbWVzc2FnZXMgZnJvbSBhIGxpc3Qgb2YgbW9kZWwgbWVzc2FnZXMuXG4gKlxuICogQHBhcmFtIG1lc3NhZ2VzIC0gVGhlIGxpc3Qgb2YgbW9kZWwgbWVzc2FnZXMgdG8gcHJ1bmUuXG4gKiBAcGFyYW0gcmVhc29uaW5nIC0gSG93IHRvIHJlbW92ZSByZWFzb25pbmcgY29udGVudCBmcm9tIGFzc2lzdGFudCBtZXNzYWdlcy4gRGVmYXVsdCBpcyBgJ25vbmUnYC5cbiAqIEBwYXJhbSB0b29sQ2FsbHMgLSBIb3cgdG8gcHJ1bmUgdG9vbCBjYWxsL3Jlc3VsdHMvYXBwcm92YWwgY29udGVudC4gRGVmYXVsdCBpcyBgW11gLlxuICogQHBhcmFtIGVtcHR5TWVzc2FnZXMgLSBXaGV0aGVyIHRvIGtlZXAgb3IgcmVtb3ZlIG1lc3NhZ2VzIHdob3NlIGNvbnRlbnQgaXMgZW1wdHkgYWZ0ZXIgcHJ1bmluZy4gRGVmYXVsdCBpcyBgJ3JlbW92ZSdgLlxuICpcbiAqIEByZXR1cm5zIFRoZSBwcnVuZWQgbGlzdCBvZiBtb2RlbCBtZXNzYWdlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBydW5lTWVzc2FnZXMoe1xuICBtZXNzYWdlcyxcbiAgcmVhc29uaW5nID0gJ25vbmUnLFxuICB0b29sQ2FsbHMgPSBbXSxcbiAgZW1wdHlNZXNzYWdlcyA9ICdyZW1vdmUnLFxufToge1xuICBtZXNzYWdlczogTW9kZWxNZXNzYWdlW107XG4gIHJlYXNvbmluZz86ICdhbGwnIHwgJ2JlZm9yZS1sYXN0LW1lc3NhZ2UnIHwgJ25vbmUnO1xuICB0b29sQ2FsbHM/OlxuICAgIHwgJ2FsbCdcbiAgICB8ICdiZWZvcmUtbGFzdC1tZXNzYWdlJ1xuICAgIHwgYGJlZm9yZS1sYXN0LSR7bnVtYmVyfS1tZXNzYWdlc2BcbiAgICB8ICdub25lJ1xuICAgIHwgQXJyYXk8e1xuICAgICAgICB0eXBlOiAnYWxsJyB8ICdiZWZvcmUtbGFzdC1tZXNzYWdlJyB8IGBiZWZvcmUtbGFzdC0ke251bWJlcn0tbWVzc2FnZXNgO1xuICAgICAgICB0b29scz86IHN0cmluZ1tdO1xuICAgICAgfT47XG4gIGVtcHR5TWVzc2FnZXM/OiAna2VlcCcgfCAncmVtb3ZlJztcbn0pOiBNb2RlbE1lc3NhZ2VbXSB7XG4gIC8vIGZpbHRlciByZWFzb25pbmcgcGFydHM6XG4gIGlmIChyZWFzb25pbmcgPT09ICdhbGwnIHx8IHJlYXNvbmluZyA9PT0gJ2JlZm9yZS1sYXN0LW1lc3NhZ2UnKSB7XG4gICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIG1lc3NhZ2VJbmRleCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBtZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnIHx8XG4gICAgICAgIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIChyZWFzb25pbmcgPT09ICdiZWZvcmUtbGFzdC1tZXNzYWdlJyAmJlxuICAgICAgICAgIG1lc3NhZ2VJbmRleCA9PT0gbWVzc2FnZXMubGVuZ3RoIC0gMSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LmZpbHRlcihwYXJ0ID0+IHBhcnQudHlwZSAhPT0gJ3JlYXNvbmluZycpLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGZpbHRlciB0b29sIGNhbGxzLCByZXN1bHRzLCBlcnJvcnMsIGFuZCBhcHByb3ZhbHM6XG4gIGlmICh0b29sQ2FsbHMgPT09ICdub25lJykge1xuICAgIHRvb2xDYWxscyA9IFtdO1xuICB9IGVsc2UgaWYgKHRvb2xDYWxscyA9PT0gJ2FsbCcpIHtcbiAgICB0b29sQ2FsbHMgPSBbeyB0eXBlOiAnYWxsJyB9XTtcbiAgfSBlbHNlIGlmICh0b29sQ2FsbHMgPT09ICdiZWZvcmUtbGFzdC1tZXNzYWdlJykge1xuICAgIHRvb2xDYWxscyA9IFt7IHR5cGU6ICdiZWZvcmUtbGFzdC1tZXNzYWdlJyB9XTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdG9vbENhbGxzID09PSAnc3RyaW5nJykge1xuICAgIHRvb2xDYWxscyA9IFt7IHR5cGU6IHRvb2xDYWxscyB9XTtcbiAgfVxuXG4gIGZvciAoY29uc3QgdG9vbENhbGwgb2YgdG9vbENhbGxzKSB7XG4gICAgLy8gZGV0ZXJtaW5lIGhvdyBtYW55IHRyYWlsaW5nIG1lc3NhZ2VzIHRvIGtlZXA6XG4gICAgY29uc3Qga2VlcExhc3RNZXNzYWdlc0NvdW50ID1cbiAgICAgIHRvb2xDYWxsLnR5cGUgPT09ICdhbGwnXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogdG9vbENhbGwudHlwZSA9PT0gJ2JlZm9yZS1sYXN0LW1lc3NhZ2UnXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiBOdW1iZXIoXG4gICAgICAgICAgICAgIHRvb2xDYWxsLnR5cGVcbiAgICAgICAgICAgICAgICAuc2xpY2UoJ2JlZm9yZS1sYXN0LScubGVuZ3RoKVxuICAgICAgICAgICAgICAgIC5zbGljZSgwLCAtJy1tZXNzYWdlcycubGVuZ3RoKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAvLyBzY2FuIGtlcHQgbWVzc2FnZXMgdG8gaWRlbnRpZnkgdG9vbCBjYWxscyBhbmQgYXBwcm92YWxzIHRoYXQgbmVlZCB0byBiZSBrZXB0OlxuICAgIGNvbnN0IGtlcHRUb29sQ2FsbElkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gICAgY29uc3Qga2VwdEFwcHJvdmFsSWRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICAgIGlmIChrZWVwTGFzdE1lc3NhZ2VzQ291bnQgIT0gbnVsbCkge1xuICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzLnNsaWNlKC1rZWVwTGFzdE1lc3NhZ2VzQ291bnQpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAobWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyB8fCBtZXNzYWdlLnJvbGUgPT09ICd0b29sJykgJiZcbiAgICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ICE9PSAnc3RyaW5nJ1xuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAndG9vbC1jYWxsJyB8fCBwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcpIHtcbiAgICAgICAgICAgICAga2VwdFRvb2xDYWxsSWRzLmFkZChwYXJ0LnRvb2xDYWxsSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMubWFwKChtZXNzYWdlLCBtZXNzYWdlSW5kZXgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgKG1lc3NhZ2Uucm9sZSAhPT0gJ2Fzc2lzdGFudCcgJiYgbWVzc2FnZS5yb2xlICE9PSAndG9vbCcpIHx8XG4gICAgICAgIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIChrZWVwTGFzdE1lc3NhZ2VzQ291bnQgJiZcbiAgICAgICAgICBtZXNzYWdlSW5kZXggPj0gbWVzc2FnZXMubGVuZ3RoIC0ga2VlcExhc3RNZXNzYWdlc0NvdW50KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0b29sQ2FsbElkVG9Ub29sTmFtZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQuZmlsdGVyKHBhcnQgPT4ge1xuICAgICAgICAgIC8vIGtlZXAgbm9uLXRvb2wgcGFydHM6XG4gICAgICAgICAgaWYgKHBhcnQudHlwZSAhPT0gJ3Rvb2wtY2FsbCcgJiYgcGFydC50eXBlICE9PSAndG9vbC1yZXN1bHQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB0cmFjayB0b29sIGNhbGxzIGFuZCBhcHByb3ZhbHM6XG4gICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ3Rvb2wtY2FsbCcpIHtcbiAgICAgICAgICAgIHRvb2xDYWxsSWRUb1Rvb2xOYW1lW3BhcnQudG9vbENhbGxJZF0gPSBwYXJ0LnRvb2xOYW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGtlZXAgcGFydHMgdGhhdCBhcmUgYXNzb2NpYXRlZCB3aXRoIGEgdG9vbCBjYWxsIG9yIGFwcHJvdmFsIHRoYXQgbmVlZHMgdG8gYmUga2VwdDpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAocGFydC50eXBlID09PSAndG9vbC1jYWxsJyB8fCBwYXJ0LnR5cGUgPT09ICd0b29sLXJlc3VsdCcpICYmXG4gICAgICAgICAgICBrZXB0VG9vbENhbGxJZHMuaGFzKHBhcnQudG9vbENhbGxJZClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGtlZXAgcGFydHMgdGhhdCBhcmUgbm90IGFzc29jaWF0ZWQgd2l0aCBhIHRvb2wgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdG9vbENhbGwudG9vbHMgIT0gbnVsbCAmJiAhdG9vbENhbGwudG9vbHMuaW5jbHVkZXMocGFydC50b29sTmFtZSlcbiAgICAgICAgICApO1xuICAgICAgICB9KSxcbiAgICAgIH0gYXMgQXNzaXN0YW50TW9kZWxNZXNzYWdlIHwgVG9vbE1vZGVsTWVzc2FnZTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChlbXB0eU1lc3NhZ2VzID09PSAncmVtb3ZlJykge1xuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKG1lc3NhZ2UgPT4gbWVzc2FnZS5jb250ZW50Lmxlbmd0aCA+IDApO1xuICB9XG5cbiAgcmV0dXJuIG1lc3NhZ2VzO1xufVxuIiwgImltcG9ydCB7IGRlbGF5IGFzIG9yaWdpbmFsRGVsYXkgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFRleHRTdHJlYW1QYXJ0IH0gZnJvbSAnLi9zdHJlYW0tdGV4dC1yZXN1bHQnO1xuaW1wb3J0IHsgVG9vbFNldCB9IGZyb20gJy4vdG9vbC1zZXQnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgQ0hVTktJTkdfUkVHRVhQUyA9IHtcbiAgd29yZDogL1xcUytcXHMrL20sXG4gIGxpbmU6IC9cXG4rL20sXG59O1xuXG4vKipcbiAqIERldGVjdHMgdGhlIGZpcnN0IGNodW5rIGluIGEgYnVmZmVyLlxuICpcbiAqIEBwYXJhbSBidWZmZXIgLSBUaGUgYnVmZmVyIHRvIGRldGVjdCB0aGUgZmlyc3QgY2h1bmsgaW4uXG4gKlxuICogQHJldHVybnMgVGhlIGZpcnN0IGRldGVjdGVkIGNodW5rLCBvciBgdW5kZWZpbmVkYCBpZiBubyBjaHVuayB3YXMgZGV0ZWN0ZWQuXG4gKi9cbmV4cG9ydCB0eXBlIENodW5rRGV0ZWN0b3IgPSAoYnVmZmVyOiBzdHJpbmcpID0+IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGw7XG5cbi8qKlxuICogU21vb3RocyB0ZXh0IHN0cmVhbWluZyBvdXRwdXQuXG4gKlxuICogQHBhcmFtIGRlbGF5SW5NcyAtIFRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGNodW5rLiBEZWZhdWx0cyB0byAxMG1zLiBDYW4gYmUgc2V0IHRvIGBudWxsYCB0byBza2lwIHRoZSBkZWxheS5cbiAqIEBwYXJhbSBjaHVua2luZyAtIENvbnRyb2xzIGhvdyB0aGUgdGV4dCBpcyBjaHVua2VkIGZvciBzdHJlYW1pbmcuIFVzZSBcIndvcmRcIiB0byBzdHJlYW0gd29yZCBieSB3b3JkIChkZWZhdWx0KSwgXCJsaW5lXCIgdG8gc3RyZWFtIGxpbmUgYnkgbGluZSwgb3IgcHJvdmlkZSBhIGN1c3RvbSBSZWdFeHAgcGF0dGVybiBmb3IgY3VzdG9tIGNodW5raW5nLlxuICpcbiAqIEByZXR1cm5zIEEgdHJhbnNmb3JtIHN0cmVhbSB0aGF0IHNtb290aHMgdGV4dCBzdHJlYW1pbmcgb3V0cHV0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU3RyZWFtPFRPT0xTIGV4dGVuZHMgVG9vbFNldD4oe1xuICBkZWxheUluTXMgPSAxMCxcbiAgY2h1bmtpbmcgPSAnd29yZCcsXG4gIF9pbnRlcm5hbDogeyBkZWxheSA9IG9yaWdpbmFsRGVsYXkgfSA9IHt9LFxufToge1xuICBkZWxheUluTXM/OiBudW1iZXIgfCBudWxsO1xuICBjaHVua2luZz86ICd3b3JkJyB8ICdsaW5lJyB8IFJlZ0V4cCB8IENodW5rRGV0ZWN0b3I7XG4gIC8qKlxuICAgKiBJbnRlcm5hbC4gRm9yIHRlc3QgdXNlIG9ubHkuIE1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqL1xuICBfaW50ZXJuYWw/OiB7XG4gICAgZGVsYXk/OiAoZGVsYXlJbk1zOiBudW1iZXIgfCBudWxsKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB9O1xufSA9IHt9KTogKG9wdGlvbnM6IHtcbiAgdG9vbHM6IFRPT0xTO1xufSkgPT4gVHJhbnNmb3JtU3RyZWFtPFRleHRTdHJlYW1QYXJ0PFRPT0xTPiwgVGV4dFN0cmVhbVBhcnQ8VE9PTFM+PiB7XG4gIGxldCBkZXRlY3RDaHVuazogQ2h1bmtEZXRlY3RvcjtcblxuICBpZiAodHlwZW9mIGNodW5raW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZGV0ZWN0Q2h1bmsgPSBidWZmZXIgPT4ge1xuICAgICAgY29uc3QgbWF0Y2ggPSBjaHVua2luZyhidWZmZXIpO1xuXG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtYXRjaC5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaHVua2luZyBmdW5jdGlvbiBtdXN0IHJldHVybiBhIG5vbi1lbXB0eSBzdHJpbmcuYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYnVmZmVyLnN0YXJ0c1dpdGgobWF0Y2gpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQ2h1bmtpbmcgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBtYXRjaCB0aGF0IGlzIGEgcHJlZml4IG9mIHRoZSBidWZmZXIuIFJlY2VpdmVkOiBcIiR7bWF0Y2h9XCIgZXhwZWN0ZWQgdG8gc3RhcnQgd2l0aCBcIiR7YnVmZmVyfVwiYCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY2h1bmtpbmdSZWdleCA9XG4gICAgICB0eXBlb2YgY2h1bmtpbmcgPT09ICdzdHJpbmcnID8gQ0hVTktJTkdfUkVHRVhQU1tjaHVua2luZ10gOiBjaHVua2luZztcblxuICAgIGlmIChjaHVua2luZ1JlZ2V4ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIGFyZ3VtZW50OiAnY2h1bmtpbmcnLFxuICAgICAgICBtZXNzYWdlOiBgQ2h1bmtpbmcgbXVzdCBiZSBcIndvcmRcIiBvciBcImxpbmVcIiBvciBhIFJlZ0V4cC4gUmVjZWl2ZWQ6ICR7Y2h1bmtpbmd9YCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGRldGVjdENodW5rID0gYnVmZmVyID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoID0gY2h1bmtpbmdSZWdleC5leGVjKGJ1ZmZlcik7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2g/LlswXTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgYnVmZmVyID0gJyc7XG4gICAgbGV0IGlkID0gJyc7XG5cbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbTxUZXh0U3RyZWFtUGFydDxUT09MUz4sIFRleHRTdHJlYW1QYXJ0PFRPT0xTPj4oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGlmIChjaHVuay50eXBlICE9PSAndGV4dC1kZWx0YScpIHtcbiAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dDogYnVmZmVyLCBpZCB9KTtcbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW5rLmlkICE9PSBpZCAmJiBidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dDogYnVmZmVyLCBpZCB9KTtcbiAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciArPSBjaHVuay50ZXh0O1xuICAgICAgICBpZCA9IGNodW5rLmlkO1xuXG4gICAgICAgIGxldCBtYXRjaDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gZGV0ZWN0Q2h1bmsoYnVmZmVyKSkgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LWRlbHRhJywgdGV4dDogbWF0Y2gsIGlkIH0pO1xuICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShtYXRjaC5sZW5ndGgpO1xuXG4gICAgICAgICAgYXdhaXQgZGVsYXkoZGVsYXlJbk1zKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtZXJnZU9iamVjdHMgfSBmcm9tICcuLi91dGlsL21lcmdlLW9iamVjdHMnO1xuXG4vKipcbiAqIEFwcGxpZXMgZGVmYXVsdCBzZXR0aW5ncyBmb3IgYSBsYW5ndWFnZSBtb2RlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRTZXR0aW5nc01pZGRsZXdhcmUoe1xuICBzZXR0aW5ncyxcbn06IHtcbiAgc2V0dGluZ3M6IFBhcnRpYWw8e1xuICAgIG1heE91dHB1dFRva2Vucz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydtYXhPdXRwdXRUb2tlbnMnXTtcbiAgICB0ZW1wZXJhdHVyZT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0ZW1wZXJhdHVyZSddO1xuICAgIHN0b3BTZXF1ZW5jZXM/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snc3RvcFNlcXVlbmNlcyddO1xuICAgIHRvcFA/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndG9wUCddO1xuICAgIHRvcEs/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1sndG9wSyddO1xuICAgIHByZXNlbmNlUGVuYWx0eT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydwcmVzZW5jZVBlbmFsdHknXTtcbiAgICBmcmVxdWVuY3lQZW5hbHR5PzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ2ZyZXF1ZW5jeVBlbmFsdHknXTtcbiAgICByZXNwb25zZUZvcm1hdD86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydyZXNwb25zZUZvcm1hdCddO1xuICAgIHNlZWQ/OiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9uc1snc2VlZCddO1xuICAgIHRvb2xzPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Rvb2xzJ107XG4gICAgdG9vbENob2ljZT86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWyd0b29sQ2hvaWNlJ107XG4gICAgaGVhZGVycz86IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zWydoZWFkZXJzJ107XG4gICAgcHJvdmlkZXJPcHRpb25zPzogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnNbJ3Byb3ZpZGVyT3B0aW9ucyddO1xuICB9Pjtcbn0pOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB7XG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246ICd2MicsXG4gICAgdHJhbnNmb3JtUGFyYW1zOiBhc3luYyAoeyBwYXJhbXMgfSkgPT4ge1xuICAgICAgcmV0dXJuIG1lcmdlT2JqZWN0cyhzZXR0aW5ncywgcGFyYW1zKSBhcyBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucztcbiAgICB9LFxuICB9O1xufVxuIiwgIi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIHN0YXJ0IG9mIHRoZSBzZWFyY2hlZFRleHQgaW4gdGhlIHRleHQsIG9yIG51bGwgaWYgaXRcbiAqIGlzIG5vdCBmb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvdGVudGlhbFN0YXJ0SW5kZXgoXG4gIHRleHQ6IHN0cmluZyxcbiAgc2VhcmNoZWRUZXh0OiBzdHJpbmcsXG4pOiBudW1iZXIgfCBudWxsIHtcbiAgLy8gUmV0dXJuIG51bGwgaW1tZWRpYXRlbHkgaWYgc2VhcmNoZWRUZXh0IGlzIGVtcHR5LlxuICBpZiAoc2VhcmNoZWRUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlIHNlYXJjaGVkVGV4dCBleGlzdHMgYXMgYSBkaXJlY3Qgc3Vic3RyaW5nIG9mIHRleHQuXG4gIGNvbnN0IGRpcmVjdEluZGV4ID0gdGV4dC5pbmRleE9mKHNlYXJjaGVkVGV4dCk7XG4gIGlmIChkaXJlY3RJbmRleCAhPT0gLTEpIHtcbiAgICByZXR1cm4gZGlyZWN0SW5kZXg7XG4gIH1cblxuICAvLyBPdGhlcndpc2UsIGxvb2sgZm9yIHRoZSBsYXJnZXN0IHN1ZmZpeCBvZiBcInRleHRcIiB0aGF0IG1hdGNoZXNcbiAgLy8gYSBwcmVmaXggb2YgXCJzZWFyY2hlZFRleHRcIi4gV2UgZ28gZnJvbSB0aGUgZW5kIG9mIHRleHQgaW53YXJkLlxuICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN1ZmZpeCA9IHRleHQuc3Vic3RyaW5nKGkpO1xuICAgIGlmIChzZWFyY2hlZFRleHQuc3RhcnRzV2l0aChzdWZmaXgpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIExhbmd1YWdlTW9kZWxWMkNvbnRlbnQsXG4gIExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuaW1wb3J0IHsgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgfSBmcm9tICcuLi90eXBlcy9sYW5ndWFnZS1tb2RlbC1taWRkbGV3YXJlJztcbmltcG9ydCB7IGdldFBvdGVudGlhbFN0YXJ0SW5kZXggfSBmcm9tICcuLi91dGlsL2dldC1wb3RlbnRpYWwtc3RhcnQtaW5kZXgnO1xuXG4vKipcbiAqIEV4dHJhY3QgYW4gWE1MLXRhZ2dlZCByZWFzb25pbmcgc2VjdGlvbiBmcm9tIHRoZSBnZW5lcmF0ZWQgdGV4dCBhbmQgZXhwb3NlcyBpdFxuICogYXMgYSBgcmVhc29uaW5nYCBwcm9wZXJ0eSBvbiB0aGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIFhNTCB0YWcgdG8gZXh0cmFjdCByZWFzb25pbmcgZnJvbS5cbiAqIEBwYXJhbSBzZXBhcmF0b3IgLSBUaGUgc2VwYXJhdG9yIHRvIHVzZSBiZXR3ZWVuIHJlYXNvbmluZyBhbmQgdGV4dCBzZWN0aW9ucy5cbiAqIEBwYXJhbSBzdGFydFdpdGhSZWFzb25pbmcgLSBXaGV0aGVyIHRvIHN0YXJ0IHdpdGggcmVhc29uaW5nIHRva2Vucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RSZWFzb25pbmdNaWRkbGV3YXJlKHtcbiAgdGFnTmFtZSxcbiAgc2VwYXJhdG9yID0gJ1xcbicsXG4gIHN0YXJ0V2l0aFJlYXNvbmluZyA9IGZhbHNlLFxufToge1xuICB0YWdOYW1lOiBzdHJpbmc7XG4gIHNlcGFyYXRvcj86IHN0cmluZztcbiAgc3RhcnRXaXRoUmVhc29uaW5nPzogYm9vbGVhbjtcbn0pOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB7XG4gIGNvbnN0IG9wZW5pbmdUYWcgPSBgPCR7dGFnTmFtZX0+YDtcbiAgY29uc3QgY2xvc2luZ1RhZyA9IGA8XFwvJHt0YWdOYW1lfT5gO1xuXG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246ICd2MicsXG4gICAgd3JhcEdlbmVyYXRlOiBhc3luYyAoeyBkb0dlbmVyYXRlIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgY29udGVudCwgLi4ucmVzdCB9ID0gYXdhaXQgZG9HZW5lcmF0ZSgpO1xuXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZENvbnRlbnQ6IExhbmd1YWdlTW9kZWxWMkNvbnRlbnRbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGNvbnRlbnQpIHtcbiAgICAgICAgaWYgKHBhcnQudHlwZSAhPT0gJ3RleHQnKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRDb250ZW50LnB1c2gocGFydCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0ID0gc3RhcnRXaXRoUmVhc29uaW5nID8gb3BlbmluZ1RhZyArIHBhcnQudGV4dCA6IHBhcnQudGV4dDtcblxuICAgICAgICBjb25zdCByZWdleHAgPSBuZXcgUmVnRXhwKGAke29wZW5pbmdUYWd9KC4qPykke2Nsb3NpbmdUYWd9YCwgJ2dzJyk7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKHRleHQubWF0Y2hBbGwocmVnZXhwKSk7XG5cbiAgICAgICAgaWYgKCFtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkQ29udGVudC5wdXNoKHBhcnQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVhc29uaW5nVGV4dCA9IG1hdGNoZXMubWFwKG1hdGNoID0+IG1hdGNoWzFdKS5qb2luKHNlcGFyYXRvcik7XG5cbiAgICAgICAgbGV0IHRleHRXaXRob3V0UmVhc29uaW5nID0gdGV4dDtcbiAgICAgICAgZm9yIChsZXQgaSA9IG1hdGNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IG1hdGNoZXNbaV07XG5cbiAgICAgICAgICBjb25zdCBiZWZvcmVNYXRjaCA9IHRleHRXaXRob3V0UmVhc29uaW5nLnNsaWNlKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgICBjb25zdCBhZnRlck1hdGNoID0gdGV4dFdpdGhvdXRSZWFzb25pbmcuc2xpY2UoXG4gICAgICAgICAgICBtYXRjaC5pbmRleCEgKyBtYXRjaFswXS5sZW5ndGgsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHRleHRXaXRob3V0UmVhc29uaW5nID1cbiAgICAgICAgICAgIGJlZm9yZU1hdGNoICtcbiAgICAgICAgICAgIChiZWZvcmVNYXRjaC5sZW5ndGggPiAwICYmIGFmdGVyTWF0Y2gubGVuZ3RoID4gMCA/IHNlcGFyYXRvciA6ICcnKSArXG4gICAgICAgICAgICBhZnRlck1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhbnNmb3JtZWRDb250ZW50LnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmcnLFxuICAgICAgICAgIHRleHQ6IHJlYXNvbmluZ1RleHQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyYW5zZm9ybWVkQ29udGVudC5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgdGV4dDogdGV4dFdpdGhvdXRSZWFzb25pbmcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBjb250ZW50OiB0cmFuc2Zvcm1lZENvbnRlbnQsIC4uLnJlc3QgfTtcbiAgICB9LFxuXG4gICAgd3JhcFN0cmVhbTogYXN5bmMgKHsgZG9TdHJlYW0gfSkgPT4ge1xuICAgICAgY29uc3QgeyBzdHJlYW0sIC4uLnJlc3QgfSA9IGF3YWl0IGRvU3RyZWFtKCk7XG5cbiAgICAgIGNvbnN0IHJlYXNvbmluZ0V4dHJhY3Rpb25zOiBSZWNvcmQ8XG4gICAgICAgIHN0cmluZyxcbiAgICAgICAge1xuICAgICAgICAgIGlzRmlyc3RSZWFzb25pbmc6IGJvb2xlYW47XG4gICAgICAgICAgaXNGaXJzdFRleHQ6IGJvb2xlYW47XG4gICAgICAgICAgYWZ0ZXJTd2l0Y2g6IGJvb2xlYW47XG4gICAgICAgICAgaXNSZWFzb25pbmc6IGJvb2xlYW47XG4gICAgICAgICAgYnVmZmVyOiBzdHJpbmc7XG4gICAgICAgICAgaWRDb3VudGVyOiBudW1iZXI7XG4gICAgICAgICAgdGV4dElkOiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgID4gPSB7fTtcblxuICAgICAgbGV0IGRlbGF5ZWRUZXh0U3RhcnQ6IExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08XG4gICAgICAgICAgICBMYW5ndWFnZU1vZGVsVjJTdHJlYW1QYXJ0LFxuICAgICAgICAgICAgTGFuZ3VhZ2VNb2RlbFYyU3RyZWFtUGFydFxuICAgICAgICAgID4oe1xuICAgICAgICAgICAgdHJhbnNmb3JtOiAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICAgICAgLy8gZG8gbm90IHNlbmQgYHRleHQtc3RhcnRgIGJlZm9yZSBgcmVhc29uaW5nLXN0YXJ0YFxuICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL2FpL2lzc3Vlcy83Nzc0XG4gICAgICAgICAgICAgIGlmIChjaHVuay50eXBlID09PSAndGV4dC1zdGFydCcpIHtcbiAgICAgICAgICAgICAgICBkZWxheWVkVGV4dFN0YXJ0ID0gY2h1bms7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09ICd0ZXh0LWVuZCcgJiYgZGVsYXllZFRleHRTdGFydCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkZWxheWVkVGV4dFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBkZWxheWVkVGV4dFN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgIT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHJlYXNvbmluZ0V4dHJhY3Rpb25zW2NodW5rLmlkXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVhc29uaW5nRXh0cmFjdGlvbnNbY2h1bmsuaWRdID0ge1xuICAgICAgICAgICAgICAgICAgaXNGaXJzdFJlYXNvbmluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGlzRmlyc3RUZXh0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYWZ0ZXJTd2l0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaXNSZWFzb25pbmc6IHN0YXJ0V2l0aFJlYXNvbmluZyxcbiAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogJycsXG4gICAgICAgICAgICAgICAgICBpZENvdW50ZXI6IDAsXG4gICAgICAgICAgICAgICAgICB0ZXh0SWQ6IGNodW5rLmlkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBhY3RpdmVFeHRyYWN0aW9uID0gcmVhc29uaW5nRXh0cmFjdGlvbnNbY2h1bmsuaWRdO1xuXG4gICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyICs9IGNodW5rLmRlbHRhO1xuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIHB1Ymxpc2godGV4dDogc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4ID1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5hZnRlclN3aXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAoYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZ1xuICAgICAgICAgICAgICAgICAgICAgID8gIWFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFJlYXNvbmluZ1xuICAgICAgICAgICAgICAgICAgICAgIDogIWFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgPyBzZXBhcmF0b3JcbiAgICAgICAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNSZWFzb25pbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFjdGl2ZUV4dHJhY3Rpb24uYWZ0ZXJTd2l0Y2ggfHxcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmlzRmlyc3RSZWFzb25pbmcpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhc29uaW5nLXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYHJlYXNvbmluZy0ke2FjdGl2ZUV4dHJhY3Rpb24uaWRDb3VudGVyfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZykge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiBwcmVmaXggKyB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBgcmVhc29uaW5nLSR7YWN0aXZlRXh0cmFjdGlvbi5pZENvdW50ZXJ9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsYXllZFRleHRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkZWxheWVkVGV4dFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxheWVkVGV4dFN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiBwcmVmaXggKyB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBhY3RpdmVFeHRyYWN0aW9uLnRleHRJZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmFmdGVyU3dpdGNoID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uaXNGaXJzdFJlYXNvbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc0ZpcnN0VGV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFnID0gYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZ1xuICAgICAgICAgICAgICAgICAgPyBjbG9zaW5nVGFnXG4gICAgICAgICAgICAgICAgICA6IG9wZW5pbmdUYWc7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0UG90ZW50aWFsU3RhcnRJbmRleChcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgbmV4dFRhZyxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gbm8gb3BlbmluZyBvciBjbG9zaW5nIHRhZyBmb3VuZCwgcHVibGlzaCB0aGUgYnVmZmVyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcHVibGlzaChhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcHVibGlzaCB0ZXh0IGJlZm9yZSB0aGUgdGFnXG4gICAgICAgICAgICAgICAgcHVibGlzaChhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlci5zbGljZSgwLCBzdGFydEluZGV4KSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZEZ1bGxNYXRjaCA9XG4gICAgICAgICAgICAgICAgICBzdGFydEluZGV4ICsgbmV4dFRhZy5sZW5ndGggPD0gYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kRnVsbE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVFeHRyYWN0aW9uLmJ1ZmZlciA9IGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyLnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4ICsgbmV4dFRhZy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAvLyByZWFzb25pbmcgcGFydCBmaW5pc2hlZDpcbiAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYXNvbmluZy1lbmQnLFxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBgcmVhc29uaW5nLSR7YWN0aXZlRXh0cmFjdGlvbi5pZENvdW50ZXIrK31gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5pc1JlYXNvbmluZyA9ICFhY3RpdmVFeHRyYWN0aW9uLmlzUmVhc29uaW5nO1xuICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5hZnRlclN3aXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUV4dHJhY3Rpb24uYnVmZmVyID1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXh0cmFjdGlvbi5idWZmZXIuc2xpY2Uoc3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFNpbXVsYXRlcyBzdHJlYW1pbmcgY2h1bmtzIHdpdGggdGhlIHJlc3BvbnNlIGZyb20gYSBnZW5lcmF0ZSBjYWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2ltdWxhdGVTdHJlYW1pbmdNaWRkbGV3YXJlKCk6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHtcbiAgcmV0dXJuIHtcbiAgICBtaWRkbGV3YXJlVmVyc2lvbjogJ3YyJyxcbiAgICB3cmFwU3RyZWFtOiBhc3luYyAoeyBkb0dlbmVyYXRlIH0pID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRvR2VuZXJhdGUoKTtcblxuICAgICAgbGV0IGlkID0gMDtcblxuICAgICAgY29uc3Qgc2ltdWxhdGVkU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtPExhbmd1YWdlTW9kZWxWMlN0cmVhbVBhcnQ+KHtcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiAnc3RyZWFtLXN0YXJ0JyxcbiAgICAgICAgICAgIHdhcm5pbmdzOiByZXN1bHQud2FybmluZ3MsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAncmVzcG9uc2UtbWV0YWRhdGEnLCAuLi5yZXN1bHQucmVzcG9uc2UgfSk7XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcmVzdWx0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAocGFydC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnQudGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1zdGFydCcsIGlkOiBTdHJpbmcoaWQpIH0pO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQtZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICBpZDogU3RyaW5nKGlkKSxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZW5kJywgaWQ6IFN0cmluZyhpZCkgfSk7XG4gICAgICAgICAgICAgICAgICBpZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjYXNlICdyZWFzb25pbmcnOiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgaWQ6IFN0cmluZyhpZCksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwYXJ0LnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFzb25pbmctZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgaWQ6IFN0cmluZyhpZCksXG4gICAgICAgICAgICAgICAgICBkZWx0YTogcGFydC50ZXh0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdyZWFzb25pbmctZW5kJywgaWQ6IFN0cmluZyhpZCkgfSk7XG4gICAgICAgICAgICAgICAgaWQrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6ICdmaW5pc2gnLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uOiByZXN1bHQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IHJlc3VsdC51c2FnZSxcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0cmVhbTogc2ltdWxhdGVkU3RyZWFtLFxuICAgICAgICByZXF1ZXN0OiByZXN1bHQucmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2U6IHJlc3VsdC5yZXNwb25zZSxcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBMYW5ndWFnZU1vZGVsVjIsIExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGFzQXJyYXkgfSBmcm9tICcuLi91dGlsL2FzLWFycmF5JztcblxuLyoqXG4gKiBXcmFwcyBhIExhbmd1YWdlTW9kZWxWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgZnVuY3Rpb25hbGl0eS5cbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBhcHBseSBtaWRkbGV3YXJlIHRvIHRyYW5zZm9ybSBwYXJhbWV0ZXJzLFxuICogd3JhcCBnZW5lcmF0ZSBvcGVyYXRpb25zLCBhbmQgd3JhcCBzdHJlYW0gb3BlcmF0aW9ucyBvZiBhIGxhbmd1YWdlIG1vZGVsLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB3cmFwcGluZyB0aGUgbGFuZ3VhZ2UgbW9kZWwuXG4gKiBAcGFyYW0gb3B0aW9ucy5tb2RlbCAtIFRoZSBvcmlnaW5hbCBMYW5ndWFnZU1vZGVsVjIgaW5zdGFuY2UgdG8gYmUgd3JhcHBlZC5cbiAqIEBwYXJhbSBvcHRpb25zLm1pZGRsZXdhcmUgLSBUaGUgbWlkZGxld2FyZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBsYW5ndWFnZSBtb2RlbC4gV2hlbiBtdWx0aXBsZSBtaWRkbGV3YXJlcyBhcmUgcHJvdmlkZWQsIHRoZSBmaXJzdCBtaWRkbGV3YXJlIHdpbGwgdHJhbnNmb3JtIHRoZSBpbnB1dCBmaXJzdCwgYW5kIHRoZSBsYXN0IG1pZGRsZXdhcmUgd2lsbCBiZSB3cmFwcGVkIGRpcmVjdGx5IGFyb3VuZCB0aGUgbW9kZWwuXG4gKiBAcGFyYW0gb3B0aW9ucy5tb2RlbElkIC0gT3B0aW9uYWwgY3VzdG9tIG1vZGVsIElEIHRvIG92ZXJyaWRlIHRoZSBvcmlnaW5hbCBtb2RlbCdzIElELlxuICogQHBhcmFtIG9wdGlvbnMucHJvdmlkZXJJZCAtIE9wdGlvbmFsIGN1c3RvbSBwcm92aWRlciBJRCB0byBvdmVycmlkZSB0aGUgb3JpZ2luYWwgbW9kZWwncyBwcm92aWRlciBJRC5cbiAqIEByZXR1cm5zIEEgbmV3IExhbmd1YWdlTW9kZWxWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXBMYW5ndWFnZU1vZGVsID0gKHtcbiAgbW9kZWwsXG4gIG1pZGRsZXdhcmU6IG1pZGRsZXdhcmVBcmcsXG4gIG1vZGVsSWQsXG4gIHByb3ZpZGVySWQsXG59OiB7XG4gIG1vZGVsOiBMYW5ndWFnZU1vZGVsVjI7XG4gIG1pZGRsZXdhcmU6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbiAgbW9kZWxJZD86IHN0cmluZztcbiAgcHJvdmlkZXJJZD86IHN0cmluZztcbn0pOiBMYW5ndWFnZU1vZGVsVjIgPT4ge1xuICByZXR1cm4gWy4uLmFzQXJyYXkobWlkZGxld2FyZUFyZyldXG4gICAgLnJldmVyc2UoKVxuICAgIC5yZWR1Y2UoKHdyYXBwZWRNb2RlbCwgbWlkZGxld2FyZSkgPT4ge1xuICAgICAgcmV0dXJuIGRvV3JhcCh7IG1vZGVsOiB3cmFwcGVkTW9kZWwsIG1pZGRsZXdhcmUsIG1vZGVsSWQsIHByb3ZpZGVySWQgfSk7XG4gICAgfSwgbW9kZWwpO1xufTtcblxuY29uc3QgZG9XcmFwID0gKHtcbiAgbW9kZWwsXG4gIG1pZGRsZXdhcmU6IHtcbiAgICB0cmFuc2Zvcm1QYXJhbXMsXG4gICAgd3JhcEdlbmVyYXRlLFxuICAgIHdyYXBTdHJlYW0sXG4gICAgb3ZlcnJpZGVQcm92aWRlcixcbiAgICBvdmVycmlkZU1vZGVsSWQsXG4gICAgb3ZlcnJpZGVTdXBwb3J0ZWRVcmxzLFxuICB9LFxuICBtb2RlbElkLFxuICBwcm92aWRlcklkLFxufToge1xuICBtb2RlbDogTGFuZ3VhZ2VNb2RlbFYyO1xuICBtaWRkbGV3YXJlOiBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZTtcbiAgbW9kZWxJZD86IHN0cmluZztcbiAgcHJvdmlkZXJJZD86IHN0cmluZztcbn0pOiBMYW5ndWFnZU1vZGVsVjIgPT4ge1xuICBhc3luYyBmdW5jdGlvbiBkb1RyYW5zZm9ybSh7XG4gICAgcGFyYW1zLFxuICAgIHR5cGUsXG4gIH06IHtcbiAgICBwYXJhbXM6IExhbmd1YWdlTW9kZWxWMkNhbGxPcHRpb25zO1xuICAgIHR5cGU6ICdnZW5lcmF0ZScgfCAnc3RyZWFtJztcbiAgfSkge1xuICAgIHJldHVybiB0cmFuc2Zvcm1QYXJhbXNcbiAgICAgID8gYXdhaXQgdHJhbnNmb3JtUGFyYW1zKHsgcGFyYW1zLCB0eXBlLCBtb2RlbCB9KVxuICAgICAgOiBwYXJhbXM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNwZWNpZmljYXRpb25WZXJzaW9uOiAndjInLFxuXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVySWQgPz8gb3ZlcnJpZGVQcm92aWRlcj8uKHsgbW9kZWwgfSkgPz8gbW9kZWwucHJvdmlkZXIsXG4gICAgbW9kZWxJZDogbW9kZWxJZCA/PyBvdmVycmlkZU1vZGVsSWQ/Lih7IG1vZGVsIH0pID8/IG1vZGVsLm1vZGVsSWQsXG4gICAgc3VwcG9ydGVkVXJsczogb3ZlcnJpZGVTdXBwb3J0ZWRVcmxzPy4oeyBtb2RlbCB9KSA/PyBtb2RlbC5zdXBwb3J0ZWRVcmxzLFxuXG4gICAgYXN5bmMgZG9HZW5lcmF0ZShcbiAgICAgIHBhcmFtczogTGFuZ3VhZ2VNb2RlbFYyQ2FsbE9wdGlvbnMsXG4gICAgKTogUHJvbWlzZTxBd2FpdGVkPFJldHVyblR5cGU8TGFuZ3VhZ2VNb2RlbFYyWydkb0dlbmVyYXRlJ10+Pj4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXJhbXMgPSBhd2FpdCBkb1RyYW5zZm9ybSh7IHBhcmFtcywgdHlwZTogJ2dlbmVyYXRlJyB9KTtcbiAgICAgIGNvbnN0IGRvR2VuZXJhdGUgPSBhc3luYyAoKSA9PiBtb2RlbC5kb0dlbmVyYXRlKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIGNvbnN0IGRvU3RyZWFtID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9TdHJlYW0odHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgcmV0dXJuIHdyYXBHZW5lcmF0ZVxuICAgICAgICA/IHdyYXBHZW5lcmF0ZSh7XG4gICAgICAgICAgICBkb0dlbmVyYXRlLFxuICAgICAgICAgICAgZG9TdHJlYW0sXG4gICAgICAgICAgICBwYXJhbXM6IHRyYW5zZm9ybWVkUGFyYW1zLFxuICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBkb0dlbmVyYXRlKCk7XG4gICAgfSxcblxuICAgIGFzeW5jIGRvU3RyZWFtKFxuICAgICAgcGFyYW1zOiBMYW5ndWFnZU1vZGVsVjJDYWxsT3B0aW9ucyxcbiAgICApOiBQcm9taXNlPEF3YWl0ZWQ8UmV0dXJuVHlwZTxMYW5ndWFnZU1vZGVsVjJbJ2RvU3RyZWFtJ10+Pj4ge1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWRQYXJhbXMgPSBhd2FpdCBkb1RyYW5zZm9ybSh7IHBhcmFtcywgdHlwZTogJ3N0cmVhbScgfSk7XG4gICAgICBjb25zdCBkb0dlbmVyYXRlID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9HZW5lcmF0ZSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICBjb25zdCBkb1N0cmVhbSA9IGFzeW5jICgpID0+IG1vZGVsLmRvU3RyZWFtKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIHJldHVybiB3cmFwU3RyZWFtXG4gICAgICAgID8gd3JhcFN0cmVhbSh7IGRvR2VuZXJhdGUsIGRvU3RyZWFtLCBwYXJhbXM6IHRyYW5zZm9ybWVkUGFyYW1zLCBtb2RlbCB9KVxuICAgICAgICA6IGRvU3RyZWFtKCk7XG4gICAgfSxcbiAgfTtcbn07XG4iLCAiaW1wb3J0IHR5cGUgeyBQcm92aWRlclYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBMYW5ndWFnZU1vZGVsTWlkZGxld2FyZSB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsLW1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgd3JhcExhbmd1YWdlTW9kZWwgfSBmcm9tICcuL3dyYXAtbGFuZ3VhZ2UtbW9kZWwnO1xuXG4vKipcbiAqIFdyYXBzIGEgUHJvdmlkZXJWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgZnVuY3Rpb25hbGl0eS5cbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBhcHBseSBtaWRkbGV3YXJlIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHNcbiAqIGZyb20gdGhlIHByb3ZpZGVyLCBlbmFibGluZyB5b3UgdG8gdHJhbnNmb3JtIHBhcmFtZXRlcnMsIHdyYXAgZ2VuZXJhdGVcbiAqIG9wZXJhdGlvbnMsIGFuZCB3cmFwIHN0cmVhbSBvcGVyYXRpb25zIGZvciBldmVyeSBsYW5ndWFnZSBtb2RlbC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3Igd3JhcHBpbmcgdGhlIHByb3ZpZGVyLlxuICogQHBhcmFtIG9wdGlvbnMucHJvdmlkZXIgLSBUaGUgb3JpZ2luYWwgUHJvdmlkZXJWMiBpbnN0YW5jZSB0byBiZSB3cmFwcGVkLlxuICogQHBhcmFtIG9wdGlvbnMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgLSBUaGUgbWlkZGxld2FyZSB0byBiZSBhcHBsaWVkIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHMgZnJvbSB0aGUgcHJvdmlkZXIuIFdoZW4gbXVsdGlwbGUgbWlkZGxld2FyZXMgYXJlIHByb3ZpZGVkLCB0aGUgZmlyc3QgbWlkZGxld2FyZSB3aWxsIHRyYW5zZm9ybSB0aGUgaW5wdXQgZmlyc3QsIGFuZCB0aGUgbGFzdCBtaWRkbGV3YXJlIHdpbGwgYmUgd3JhcHBlZCBkaXJlY3RseSBhcm91bmQgdGhlIG1vZGVsLlxuICogQHJldHVybnMgQSBuZXcgUHJvdmlkZXJWMiBpbnN0YW5jZSB3aXRoIG1pZGRsZXdhcmUgYXBwbGllZCB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb3ZpZGVyKHtcbiAgcHJvdmlkZXIsXG4gIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlLFxufToge1xuICBwcm92aWRlcjogUHJvdmlkZXJWMjtcbiAgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU6IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbn0pOiBQcm92aWRlclYyIHtcbiAgY29uc3Qgd3JhcHBlZFByb3ZpZGVyID0ge1xuICAgIGxhbmd1YWdlTW9kZWwobW9kZWxJZDogc3RyaW5nKSB7XG4gICAgICBsZXQgbW9kZWwgPSBwcm92aWRlci5sYW5ndWFnZU1vZGVsKG1vZGVsSWQpO1xuICAgICAgbW9kZWwgPSB3cmFwTGFuZ3VhZ2VNb2RlbCh7XG4gICAgICAgIG1vZGVsLFxuICAgICAgICBtaWRkbGV3YXJlOiBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH0sXG4gICAgdGV4dEVtYmVkZGluZ01vZGVsOiBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwsXG4gICAgaW1hZ2VNb2RlbDogcHJvdmlkZXIuaW1hZ2VNb2RlbCxcbiAgICB0cmFuc2NyaXB0aW9uTW9kZWw6IHByb3ZpZGVyLnRyYW5zY3JpcHRpb25Nb2RlbCxcbiAgICBzcGVlY2hNb2RlbDogcHJvdmlkZXIuc3BlZWNoTW9kZWwsXG4gIH07XG5cbiAgcmV0dXJuIHdyYXBwZWRQcm92aWRlcjtcbn1cbiIsICJpbXBvcnQge1xuICBFbWJlZGRpbmdNb2RlbFYyLFxuICBJbWFnZU1vZGVsVjIsXG4gIExhbmd1YWdlTW9kZWxWMixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgUHJvdmlkZXJWMixcbiAgU3BlZWNoTW9kZWxWMixcbiAgVHJhbnNjcmlwdGlvbk1vZGVsVjIsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXInO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjdXN0b20gcHJvdmlkZXIgd2l0aCBzcGVjaWZpZWQgbGFuZ3VhZ2UgbW9kZWxzLCB0ZXh0IGVtYmVkZGluZyBtb2RlbHMsIGltYWdlIG1vZGVscywgdHJhbnNjcmlwdGlvbiBtb2RlbHMsIHNwZWVjaCBtb2RlbHMsIGFuZCBhbiBvcHRpb25hbCBmYWxsYmFjayBwcm92aWRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgY3VzdG9tIHByb3ZpZGVyLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBMYW5ndWFnZU1vZGVsPn0gW29wdGlvbnMubGFuZ3VhZ2VNb2RlbHNdIC0gQSByZWNvcmQgb2YgbGFuZ3VhZ2UgbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgTGFuZ3VhZ2VNb2RlbCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEVtYmVkZGluZ01vZGVsPHN0cmluZz4+fSBbb3B0aW9ucy50ZXh0RW1iZWRkaW5nTW9kZWxzXSAtIEEgcmVjb3JkIG9mIHRleHQgZW1iZWRkaW5nIG1vZGVscywgd2hlcmUga2V5cyBhcmUgbW9kZWwgSURzIGFuZCB2YWx1ZXMgYXJlIEVtYmVkZGluZ01vZGVsPHN0cmluZz4gaW5zdGFuY2VzLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBJbWFnZU1vZGVsPn0gW29wdGlvbnMuaW1hZ2VNb2RlbHNdIC0gQSByZWNvcmQgb2YgaW1hZ2UgbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgSW1hZ2VNb2RlbCBpbnN0YW5jZXMuXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIFRyYW5zY3JpcHRpb25Nb2RlbD59IFtvcHRpb25zLnRyYW5zY3JpcHRpb25Nb2RlbHNdIC0gQSByZWNvcmQgb2YgdHJhbnNjcmlwdGlvbiBtb2RlbHMsIHdoZXJlIGtleXMgYXJlIG1vZGVsIElEcyBhbmQgdmFsdWVzIGFyZSBUcmFuc2NyaXB0aW9uTW9kZWwgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBTcGVlY2hNb2RlbD59IFtvcHRpb25zLnNwZWVjaE1vZGVsc10gLSBBIHJlY29yZCBvZiBzcGVlY2ggbW9kZWxzLCB3aGVyZSBrZXlzIGFyZSBtb2RlbCBJRHMgYW5kIHZhbHVlcyBhcmUgU3BlZWNoTW9kZWwgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtQcm92aWRlcn0gW29wdGlvbnMuZmFsbGJhY2tQcm92aWRlcl0gLSBBbiBvcHRpb25hbCBmYWxsYmFjayBwcm92aWRlciB0byB1c2Ugd2hlbiBhIHJlcXVlc3RlZCBtb2RlbCBpcyBub3QgZm91bmQgaW4gdGhlIGN1c3RvbSBwcm92aWRlci5cbiAqIEByZXR1cm5zIHtQcm92aWRlcn0gQSBQcm92aWRlciBvYmplY3Qgd2l0aCBsYW5ndWFnZU1vZGVsLCB0ZXh0RW1iZWRkaW5nTW9kZWwsIGltYWdlTW9kZWwsIHRyYW5zY3JpcHRpb25Nb2RlbCwgYW5kIHNwZWVjaE1vZGVsIG1ldGhvZHMuXG4gKlxuICogQHRocm93cyB7Tm9TdWNoTW9kZWxFcnJvcn0gVGhyb3dzIHdoZW4gYSByZXF1ZXN0ZWQgbW9kZWwgaXMgbm90IGZvdW5kIGFuZCBubyBmYWxsYmFjayBwcm92aWRlciBpcyBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21Qcm92aWRlcjxcbiAgTEFOR1VBR0VfTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgTGFuZ3VhZ2VNb2RlbFYyPixcbiAgRU1CRURESU5HX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPj4sXG4gIElNQUdFX01PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEltYWdlTW9kZWxWMj4sXG4gIFRSQU5TQ1JJUFRJT05fTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgVHJhbnNjcmlwdGlvbk1vZGVsVjI+LFxuICBTUEVFQ0hfTU9ERUxTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgU3BlZWNoTW9kZWxWMj4sXG4+KHtcbiAgbGFuZ3VhZ2VNb2RlbHMsXG4gIHRleHRFbWJlZGRpbmdNb2RlbHMsXG4gIGltYWdlTW9kZWxzLFxuICB0cmFuc2NyaXB0aW9uTW9kZWxzLFxuICBzcGVlY2hNb2RlbHMsXG4gIGZhbGxiYWNrUHJvdmlkZXIsXG59OiB7XG4gIGxhbmd1YWdlTW9kZWxzPzogTEFOR1VBR0VfTU9ERUxTO1xuICB0ZXh0RW1iZWRkaW5nTW9kZWxzPzogRU1CRURESU5HX01PREVMUztcbiAgaW1hZ2VNb2RlbHM/OiBJTUFHRV9NT0RFTFM7XG4gIHRyYW5zY3JpcHRpb25Nb2RlbHM/OiBUUkFOU0NSSVBUSU9OX01PREVMUztcbiAgc3BlZWNoTW9kZWxzPzogU1BFRUNIX01PREVMUztcbiAgZmFsbGJhY2tQcm92aWRlcj86IFByb3ZpZGVyVjI7XG59KTogUHJvdmlkZXJWMiAmIHtcbiAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxMQU5HVUFHRV9NT0RFTFM+KTogTGFuZ3VhZ2VNb2RlbFYyO1xuICB0ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgbW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8RU1CRURESU5HX01PREVMUz4sXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcbiAgaW1hZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxJTUFHRV9NT0RFTFM+KTogSW1hZ2VNb2RlbFYyO1xuICB0cmFuc2NyaXB0aW9uTW9kZWwoXG4gICAgbW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8VFJBTlNDUklQVElPTl9NT0RFTFM+LFxuICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMjtcbiAgc3BlZWNoTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8U1BFRUNIX01PREVMUz4pOiBTcGVlY2hNb2RlbFYyO1xufSB7XG4gIHJldHVybiB7XG4gICAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxMQU5HVUFHRV9NT0RFTFM+KTogTGFuZ3VhZ2VNb2RlbFYyIHtcbiAgICAgIGlmIChsYW5ndWFnZU1vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gbGFuZ3VhZ2VNb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcikge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci5sYW5ndWFnZU1vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQsIG1vZGVsVHlwZTogJ2xhbmd1YWdlTW9kZWwnIH0pO1xuICAgIH0sXG5cbiAgICB0ZXh0RW1iZWRkaW5nTW9kZWwoXG4gICAgICBtb2RlbElkOiBFeHRyYWN0TW9kZWxJZDxFTUJFRERJTkdfTU9ERUxTPixcbiAgICApOiBFbWJlZGRpbmdNb2RlbFYyPHN0cmluZz4ge1xuICAgICAgaWYgKHRleHRFbWJlZGRpbmdNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIHRleHRFbWJlZGRpbmdNb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuIHRleHRFbWJlZGRpbmdNb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLnRleHRFbWJlZGRpbmdNb2RlbChtb2RlbElkKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IoeyBtb2RlbElkLCBtb2RlbFR5cGU6ICd0ZXh0RW1iZWRkaW5nTW9kZWwnIH0pO1xuICAgIH0sXG5cbiAgICBpbWFnZU1vZGVsKG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPElNQUdFX01PREVMUz4pOiBJbWFnZU1vZGVsVjIge1xuICAgICAgaWYgKGltYWdlTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiBpbWFnZU1vZGVscykge1xuICAgICAgICByZXR1cm4gaW1hZ2VNb2RlbHNbbW9kZWxJZF07XG4gICAgICB9XG5cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyPy5pbWFnZU1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLmltYWdlTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAnaW1hZ2VNb2RlbCcgfSk7XG4gICAgfSxcblxuICAgIHRyYW5zY3JpcHRpb25Nb2RlbChcbiAgICAgIG1vZGVsSWQ6IEV4dHJhY3RNb2RlbElkPFRSQU5TQ1JJUFRJT05fTU9ERUxTPixcbiAgICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMiB7XG4gICAgICBpZiAodHJhbnNjcmlwdGlvbk1vZGVscyAhPSBudWxsICYmIG1vZGVsSWQgaW4gdHJhbnNjcmlwdGlvbk1vZGVscykge1xuICAgICAgICByZXR1cm4gdHJhbnNjcmlwdGlvbk1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXI/LnRyYW5zY3JpcHRpb25Nb2RlbCkge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tQcm92aWRlci50cmFuc2NyaXB0aW9uTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAndHJhbnNjcmlwdGlvbk1vZGVsJyB9KTtcbiAgICB9LFxuXG4gICAgc3BlZWNoTW9kZWwobW9kZWxJZDogRXh0cmFjdE1vZGVsSWQ8U1BFRUNIX01PREVMUz4pOiBTcGVlY2hNb2RlbFYyIHtcbiAgICAgIGlmIChzcGVlY2hNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIHNwZWVjaE1vZGVscykge1xuICAgICAgICByZXR1cm4gc3BlZWNoTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmFsbGJhY2tQcm92aWRlcj8uc3BlZWNoTW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIuc3BlZWNoTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiAnc3BlZWNoTW9kZWwnIH0pO1xuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBjdXN0b21Qcm92aWRlcmAgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGV4cGVyaW1lbnRhbF9jdXN0b21Qcm92aWRlciA9IGN1c3RvbVByb3ZpZGVyO1xuXG50eXBlIEV4dHJhY3RNb2RlbElkPE1PREVMUyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IEV4dHJhY3Q8XG4gIGtleW9mIE1PREVMUyxcbiAgc3RyaW5nXG4+O1xuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IsIE5vU3VjaE1vZGVsRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcblxuY29uc3QgbmFtZSA9ICdBSV9Ob1N1Y2hQcm92aWRlckVycm9yJztcbmNvbnN0IG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG5jb25zdCBzeW1ib2wgPSBTeW1ib2wuZm9yKG1hcmtlcik7XG5cbmV4cG9ydCBjbGFzcyBOb1N1Y2hQcm92aWRlckVycm9yIGV4dGVuZHMgTm9TdWNoTW9kZWxFcnJvciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgW3N5bWJvbF0gPSB0cnVlOyAvLyB1c2VkIGluIGlzSW5zdGFuY2VcblxuICByZWFkb25seSBwcm92aWRlcklkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGF2YWlsYWJsZVByb3ZpZGVyczogc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsSWQsXG4gICAgbW9kZWxUeXBlLFxuICAgIHByb3ZpZGVySWQsXG4gICAgYXZhaWxhYmxlUHJvdmlkZXJzLFxuICAgIG1lc3NhZ2UgPSBgTm8gc3VjaCBwcm92aWRlcjogJHtwcm92aWRlcklkfSAoYXZhaWxhYmxlIHByb3ZpZGVyczogJHthdmFpbGFibGVQcm92aWRlcnMuam9pbigpfSlgLFxuICB9OiB7XG4gICAgbW9kZWxJZDogc3RyaW5nO1xuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnO1xuICAgIHByb3ZpZGVySWQ6IHN0cmluZztcbiAgICBhdmFpbGFibGVQcm92aWRlcnM6IHN0cmluZ1tdO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0pIHtcbiAgICBzdXBlcih7IGVycm9yTmFtZTogbmFtZSwgbW9kZWxJZCwgbW9kZWxUeXBlLCBtZXNzYWdlIH0pO1xuXG4gICAgdGhpcy5wcm92aWRlcklkID0gcHJvdmlkZXJJZDtcbiAgICB0aGlzLmF2YWlsYWJsZVByb3ZpZGVycyA9IGF2YWlsYWJsZVByb3ZpZGVycztcbiAgfVxuXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yOiB1bmtub3duKTogZXJyb3IgaXMgTm9TdWNoUHJvdmlkZXJFcnJvciB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgRW1iZWRkaW5nTW9kZWxWMixcbiAgSW1hZ2VNb2RlbFYyLFxuICBMYW5ndWFnZU1vZGVsVjIsXG4gIE5vU3VjaE1vZGVsRXJyb3IsXG4gIFByb3ZpZGVyVjIsXG4gIFNwZWVjaE1vZGVsVjIsXG4gIFRyYW5zY3JpcHRpb25Nb2RlbFYyLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IHdyYXBMYW5ndWFnZU1vZGVsIH0gZnJvbSAnLi4vbWlkZGxld2FyZS93cmFwLWxhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgTm9TdWNoUHJvdmlkZXJFcnJvciB9IGZyb20gJy4vbm8tc3VjaC1wcm92aWRlci1lcnJvcic7XG5cbnR5cGUgRXh0cmFjdExpdGVyYWxVbmlvbjxUPiA9IFQgZXh0ZW5kcyBzdHJpbmdcbiAgPyBzdHJpbmcgZXh0ZW5kcyBUXG4gICAgPyBuZXZlclxuICAgIDogVFxuICA6IG5ldmVyO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlcjxcbiAgUFJPVklERVJTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4gPSBSZWNvcmQ8c3RyaW5nLCBQcm92aWRlclYyPixcbiAgU0VQQVJBVE9SIGV4dGVuZHMgc3RyaW5nID0gJzonLFxuPiB7XG4gIGxhbmd1YWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nXG4gICAgICA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke0V4dHJhY3RMaXRlcmFsVW5pb248UGFyYW1ldGVyczxOb25OdWxsYWJsZTxQUk9WSURFUlNbS0VZXVsnbGFuZ3VhZ2VNb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IExhbmd1YWdlTW9kZWxWMjtcbiAgbGFuZ3VhZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmcgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCA6IG5ldmVyLFxuICApOiBMYW5ndWFnZU1vZGVsVjI7XG5cbiAgdGV4dEVtYmVkZGluZ01vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ3RleHRFbWJlZGRpbmdNb2RlbCddPj5bMF0+fWBcbiAgICAgIDogbmV2ZXIsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcbiAgdGV4dEVtYmVkZGluZ01vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IEVtYmVkZGluZ01vZGVsVjI8c3RyaW5nPjtcblxuICBpbWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ2ltYWdlTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBJbWFnZU1vZGVsVjI7XG4gIGltYWdlTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogSW1hZ2VNb2RlbFYyO1xuXG4gIHRyYW5zY3JpcHRpb25Nb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBLRVkgZXh0ZW5kcyBzdHJpbmdcbiAgICAgID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7RXh0cmFjdExpdGVyYWxVbmlvbjxQYXJhbWV0ZXJzPE5vbk51bGxhYmxlPFBST1ZJREVSU1tLRVldWyd0cmFuc2NyaXB0aW9uTW9kZWwnXT4+WzBdPn1gXG4gICAgICA6IG5ldmVyLFxuICApOiBUcmFuc2NyaXB0aW9uTW9kZWxWMjtcbiAgdHJhbnNjcmlwdGlvbk1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZyA/IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gIDogbmV2ZXIsXG4gICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyO1xuXG4gIHNwZWVjaE1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IEtFWSBleHRlbmRzIHN0cmluZ1xuICAgICAgPyBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtFeHRyYWN0TGl0ZXJhbFVuaW9uPFBhcmFtZXRlcnM8Tm9uTnVsbGFibGU8UFJPVklERVJTW0tFWV1bJ3NwZWVjaE1vZGVsJ10+PlswXT59YFxuICAgICAgOiBuZXZlcixcbiAgKTogU3BlZWNoTW9kZWxWMjtcbiAgc3BlZWNoTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogS0VZIGV4dGVuZHMgc3RyaW5nID8gYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAgOiBuZXZlcixcbiAgKTogU3BlZWNoTW9kZWxWMjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVnaXN0cnkgZm9yIHRoZSBnaXZlbiBwcm92aWRlcnMgd2l0aCBvcHRpb25hbCBtaWRkbGV3YXJlIGZ1bmN0aW9uYWxpdHkuXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gcmVnaXN0ZXIgbXVsdGlwbGUgcHJvdmlkZXJzIGFuZCBvcHRpb25hbGx5IGFwcGx5IG1pZGRsZXdhcmVcbiAqIHRvIGFsbCBsYW5ndWFnZSBtb2RlbHMgZnJvbSB0aGUgcmVnaXN0cnksIGVuYWJsaW5nIHlvdSB0byB0cmFuc2Zvcm0gcGFyYW1ldGVycywgd3JhcCBnZW5lcmF0ZVxuICogb3BlcmF0aW9ucywgYW5kIHdyYXAgc3RyZWFtIG9wZXJhdGlvbnMgZm9yIGV2ZXJ5IGxhbmd1YWdlIG1vZGVsIGFjY2Vzc2VkIHRocm91Z2ggdGhlIHJlZ2lzdHJ5LlxuICpcbiAqIEBwYXJhbSBwcm92aWRlcnMgLSBBIHJlY29yZCBvZiBwcm92aWRlciBpbnN0YW5jZXMgdG8gYmUgcmVnaXN0ZXJlZCBpbiB0aGUgcmVnaXN0cnkuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHByb3ZpZGVyIHJlZ2lzdHJ5LlxuICogQHBhcmFtIG9wdGlvbnMuc2VwYXJhdG9yIC0gVGhlIHNlcGFyYXRvciB1c2VkIGJldHdlZW4gcHJvdmlkZXIgSUQgYW5kIG1vZGVsIElEIGluIHRoZSBjb21iaW5lZCBpZGVudGlmaWVyLiBEZWZhdWx0cyB0byAnOicuXG4gKiBAcGFyYW0gb3B0aW9ucy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSAtIE9wdGlvbmFsIG1pZGRsZXdhcmUgdG8gYmUgYXBwbGllZCB0byBhbGwgbGFuZ3VhZ2UgbW9kZWxzIGZyb20gdGhlIHJlZ2lzdHJ5LiBXaGVuIG11bHRpcGxlIG1pZGRsZXdhcmVzIGFyZSBwcm92aWRlZCwgdGhlIGZpcnN0IG1pZGRsZXdhcmUgd2lsbCB0cmFuc2Zvcm0gdGhlIGlucHV0IGZpcnN0LCBhbmQgdGhlIGxhc3QgbWlkZGxld2FyZSB3aWxsIGJlIHdyYXBwZWQgZGlyZWN0bHkgYXJvdW5kIHRoZSBtb2RlbC5cbiAqIEByZXR1cm5zIEEgbmV3IFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlciBpbnN0YW5jZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBhbGwgcmVnaXN0ZXJlZCBwcm92aWRlcnMgd2l0aCBvcHRpb25hbCBtaWRkbGV3YXJlIGFwcGxpZWQgdG8gbGFuZ3VhZ2UgbW9kZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeTxcbiAgUFJPVklERVJTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4sXG4gIFNFUEFSQVRPUiBleHRlbmRzIHN0cmluZyA9ICc6Jyxcbj4oXG4gIHByb3ZpZGVyczogUFJPVklERVJTLFxuICB7XG4gICAgc2VwYXJhdG9yID0gJzonIGFzIFNFUEFSQVRPUixcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgfToge1xuICAgIHNlcGFyYXRvcj86IFNFUEFSQVRPUjtcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZT86XG4gICAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlXG4gICAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG4gIH0gPSB7fSxcbik6IFByb3ZpZGVyUmVnaXN0cnlQcm92aWRlcjxQUk9WSURFUlMsIFNFUEFSQVRPUj4ge1xuICBjb25zdCByZWdpc3RyeSA9IG5ldyBEZWZhdWx0UHJvdmlkZXJSZWdpc3RyeTxQUk9WSURFUlMsIFNFUEFSQVRPUj4oe1xuICAgIHNlcGFyYXRvcixcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBbaWQsIHByb3ZpZGVyXSBvZiBPYmplY3QuZW50cmllcyhwcm92aWRlcnMpKSB7XG4gICAgcmVnaXN0cnkucmVnaXN0ZXJQcm92aWRlcih7IGlkLCBwcm92aWRlciB9IGFzIHtcbiAgICAgIGlkOiBrZXlvZiBQUk9WSURFUlM7XG4gICAgICBwcm92aWRlcjogUFJPVklERVJTW2tleW9mIFBST1ZJREVSU107XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVnaXN0cnk7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5YCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgZXhwZXJpbWVudGFsX2NyZWF0ZVByb3ZpZGVyUmVnaXN0cnkgPSBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5O1xuXG5jbGFzcyBEZWZhdWx0UHJvdmlkZXJSZWdpc3RyeTxcbiAgUFJPVklERVJTIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUHJvdmlkZXJWMj4sXG4gIFNFUEFSQVRPUiBleHRlbmRzIHN0cmluZyxcbj4gaW1wbGVtZW50cyBQcm92aWRlclJlZ2lzdHJ5UHJvdmlkZXI8UFJPVklERVJTLCBTRVBBUkFUT1I+XG57XG4gIHByaXZhdGUgcHJvdmlkZXJzOiBQUk9WSURFUlMgPSB7fSBhcyBQUk9WSURFUlM7XG4gIHByaXZhdGUgc2VwYXJhdG9yOiBTRVBBUkFUT1I7XG4gIHByaXZhdGUgbGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmU/OlxuICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVcbiAgICB8IExhbmd1YWdlTW9kZWxNaWRkbGV3YXJlW107XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIHNlcGFyYXRvcixcbiAgICBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgfToge1xuICAgIHNlcGFyYXRvcjogU0VQQVJBVE9SO1xuICAgIGxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlPzpcbiAgICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVcbiAgICAgIHwgTGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmVbXTtcbiAgfSkge1xuICAgIHRoaXMuc2VwYXJhdG9yID0gc2VwYXJhdG9yO1xuICAgIHRoaXMubGFuZ3VhZ2VNb2RlbE1pZGRsZXdhcmUgPSBsYW5ndWFnZU1vZGVsTWlkZGxld2FyZTtcbiAgfVxuXG4gIHJlZ2lzdGVyUHJvdmlkZXI8SyBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oe1xuICAgIGlkLFxuICAgIHByb3ZpZGVyLFxuICB9OiB7XG4gICAgaWQ6IEs7XG4gICAgcHJvdmlkZXI6IFBST1ZJREVSU1tLXTtcbiAgfSk6IHZvaWQge1xuICAgIHRoaXMucHJvdmlkZXJzW2lkXSA9IHByb3ZpZGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcm92aWRlcihcbiAgICBpZDogc3RyaW5nLFxuICAgIG1vZGVsVHlwZTpcbiAgICAgIHwgJ2xhbmd1YWdlTW9kZWwnXG4gICAgICB8ICd0ZXh0RW1iZWRkaW5nTW9kZWwnXG4gICAgICB8ICdpbWFnZU1vZGVsJ1xuICAgICAgfCAndHJhbnNjcmlwdGlvbk1vZGVsJ1xuICAgICAgfCAnc3BlZWNoTW9kZWwnLFxuICApOiBQcm92aWRlclYyIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMucHJvdmlkZXJzW2lkIGFzIGtleW9mIFBST1ZJREVSU107XG5cbiAgICBpZiAocHJvdmlkZXIgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vU3VjaFByb3ZpZGVyRXJyb3Ioe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlLFxuICAgICAgICBwcm92aWRlcklkOiBpZCxcbiAgICAgICAgYXZhaWxhYmxlUHJvdmlkZXJzOiBPYmplY3Qua2V5cyh0aGlzLnByb3ZpZGVycyksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvdmlkZXI7XG4gIH1cblxuICBwcml2YXRlIHNwbGl0SWQoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBtb2RlbFR5cGU6XG4gICAgICB8ICdsYW5ndWFnZU1vZGVsJ1xuICAgICAgfCAndGV4dEVtYmVkZGluZ01vZGVsJ1xuICAgICAgfCAnaW1hZ2VNb2RlbCdcbiAgICAgIHwgJ3RyYW5zY3JpcHRpb25Nb2RlbCdcbiAgICAgIHwgJ3NwZWVjaE1vZGVsJyxcbiAgKTogW3N0cmluZywgc3RyaW5nXSB7XG4gICAgY29uc3QgaW5kZXggPSBpZC5pbmRleE9mKHRoaXMuc2VwYXJhdG9yKTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZSxcbiAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICBgSW52YWxpZCAke21vZGVsVHlwZX0gaWQgZm9yIHJlZ2lzdHJ5OiAke2lkfSBgICtcbiAgICAgICAgICBgKG11c3QgYmUgaW4gdGhlIGZvcm1hdCBcInByb3ZpZGVySWQke3RoaXMuc2VwYXJhdG9yfW1vZGVsSWRcIilgLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtpZC5zbGljZSgwLCBpbmRleCksIGlkLnNsaWNlKGluZGV4ICsgdGhpcy5zZXBhcmF0b3IubGVuZ3RoKV07XG4gIH1cblxuICBsYW5ndWFnZU1vZGVsPEtFWSBleHRlbmRzIGtleW9mIFBST1ZJREVSUz4oXG4gICAgaWQ6IGAke0tFWSAmIHN0cmluZ30ke1NFUEFSQVRPUn0ke3N0cmluZ31gLFxuICApOiBMYW5ndWFnZU1vZGVsVjIge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ2xhbmd1YWdlTW9kZWwnKTtcbiAgICBsZXQgbW9kZWwgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICdsYW5ndWFnZU1vZGVsJykubGFuZ3VhZ2VNb2RlbD8uKFxuICAgICAgbW9kZWxJZCxcbiAgICApO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZDogaWQsIG1vZGVsVHlwZTogJ2xhbmd1YWdlTW9kZWwnIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxhbmd1YWdlTW9kZWxNaWRkbGV3YXJlICE9IG51bGwpIHtcbiAgICAgIG1vZGVsID0gd3JhcExhbmd1YWdlTW9kZWwoe1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWlkZGxld2FyZTogdGhpcy5sYW5ndWFnZU1vZGVsTWlkZGxld2FyZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIHRleHRFbWJlZGRpbmdNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogRW1iZWRkaW5nTW9kZWxWMjxzdHJpbmc+IHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICd0ZXh0RW1iZWRkaW5nTW9kZWwnKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ3RleHRFbWJlZGRpbmdNb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGU6ICd0ZXh0RW1iZWRkaW5nTW9kZWwnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgaW1hZ2VNb2RlbDxLRVkgZXh0ZW5kcyBrZXlvZiBQUk9WSURFUlM+KFxuICAgIGlkOiBgJHtLRVkgJiBzdHJpbmd9JHtTRVBBUkFUT1J9JHtzdHJpbmd9YCxcbiAgKTogSW1hZ2VNb2RlbFYyIHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICdpbWFnZU1vZGVsJyk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICdpbWFnZU1vZGVsJyk7XG5cbiAgICBjb25zdCBtb2RlbCA9IHByb3ZpZGVyLmltYWdlTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7IG1vZGVsSWQ6IGlkLCBtb2RlbFR5cGU6ICdpbWFnZU1vZGVsJyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICB0cmFuc2NyaXB0aW9uTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IFRyYW5zY3JpcHRpb25Nb2RlbFYyIHtcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsICd0cmFuc2NyaXB0aW9uTW9kZWwnKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCwgJ3RyYW5zY3JpcHRpb25Nb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci50cmFuc2NyaXB0aW9uTW9kZWw/Lihtb2RlbElkKTtcblxuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcih7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGU6ICd0cmFuc2NyaXB0aW9uTW9kZWwnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgc3BlZWNoTW9kZWw8S0VZIGV4dGVuZHMga2V5b2YgUFJPVklERVJTPihcbiAgICBpZDogYCR7S0VZICYgc3RyaW5nfSR7U0VQQVJBVE9SfSR7c3RyaW5nfWAsXG4gICk6IFNwZWVjaE1vZGVsVjIge1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgJ3NwZWVjaE1vZGVsJyk7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQsICdzcGVlY2hNb2RlbCcpO1xuXG4gICAgY29uc3QgbW9kZWwgPSBwcm92aWRlci5zcGVlY2hNb2RlbD8uKG1vZGVsSWQpO1xuXG4gICAgaWYgKG1vZGVsID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yKHsgbW9kZWxJZDogaWQsIG1vZGVsVHlwZTogJ3NwZWVjaE1vZGVsJyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBKU09OVmFsdWUsIFRyYW5zY3JpcHRpb25Nb2RlbFYyIH0gZnJvbSAnQGFpLXNkay9wcm92aWRlcic7XG5pbXBvcnQgeyBQcm92aWRlck9wdGlvbnMsIHdpdGhVc2VyQWdlbnRTdWZmaXggfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IE5vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yIH0gZnJvbSAnLi4vZXJyb3Ivbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3InO1xuaW1wb3J0IHsgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3InO1xuaW1wb3J0IHsgbG9nV2FybmluZ3MgfSBmcm9tICcuLi9sb2dnZXIvbG9nLXdhcm5pbmdzJztcbmltcG9ydCB7IERhdGFDb250ZW50IH0gZnJvbSAnLi4vcHJvbXB0JztcbmltcG9ydCB7IGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheSB9IGZyb20gJy4uL3Byb21wdC9kYXRhLWNvbnRlbnQnO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvbldhcm5pbmcgfSBmcm9tICcuLi90eXBlcy90cmFuc2NyaXB0aW9uLW1vZGVsJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy90cmFuc2NyaXB0aW9uLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcbmltcG9ydCB7XG4gIGF1ZGlvTWVkaWFUeXBlU2lnbmF0dXJlcyxcbiAgZGV0ZWN0TWVkaWFUeXBlLFxufSBmcm9tICcuLi91dGlsL2RldGVjdC1tZWRpYS10eXBlJztcbmltcG9ydCB7IGRvd25sb2FkIH0gZnJvbSAnLi4vdXRpbC9kb3dubG9hZC9kb3dubG9hZCc7XG5pbXBvcnQgeyBwcmVwYXJlUmV0cmllcyB9IGZyb20gJy4uL3V0aWwvcHJlcGFyZS1yZXRyaWVzJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25SZXN1bHQgfSBmcm9tICcuL3RyYW5zY3JpYmUtcmVzdWx0JztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuLi92ZXJzaW9uJztcbi8qKlxuR2VuZXJhdGVzIHRyYW5zY3JpcHRzIHVzaW5nIGEgdHJhbnNjcmlwdGlvbiBtb2RlbC5cblxuQHBhcmFtIG1vZGVsIC0gVGhlIHRyYW5zY3JpcHRpb24gbW9kZWwgdG8gdXNlLlxuQHBhcmFtIGF1ZGlvIC0gVGhlIGF1ZGlvIGRhdGEgdG8gdHJhbnNjcmliZSBhcyBEYXRhQ29udGVudCAoc3RyaW5nIHwgVWludDhBcnJheSB8IEFycmF5QnVmZmVyIHwgQnVmZmVyKSBvciBhIFVSTC5cbkBwYXJhbSBwcm92aWRlck9wdGlvbnMgLSBBZGRpdGlvbmFsIHByb3ZpZGVyLXNwZWNpZmljIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHByb3ZpZGVyXG5hcyBib2R5IHBhcmFtZXRlcnMuXG5AcGFyYW0gbWF4UmV0cmllcyAtIE1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMuIFNldCB0byAwIHRvIGRpc2FibGUgcmV0cmllcy4gRGVmYXVsdDogMi5cbkBwYXJhbSBhYm9ydFNpZ25hbCAtIEFuIG9wdGlvbmFsIGFib3J0IHNpZ25hbCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbC5cbkBwYXJhbSBoZWFkZXJzIC0gQWRkaXRpb25hbCBIVFRQIGhlYWRlcnMgdG8gYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0LiBPbmx5IGFwcGxpY2FibGUgZm9yIEhUVFAtYmFzZWQgcHJvdmlkZXJzLlxuXG5AcmV0dXJucyBBIHJlc3VsdCBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZ2VuZXJhdGVkIHRyYW5zY3JpcHQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFuc2NyaWJlKHtcbiAgbW9kZWwsXG4gIGF1ZGlvLFxuICBwcm92aWRlck9wdGlvbnMgPSB7fSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG59OiB7XG4gIC8qKlxuVGhlIHRyYW5zY3JpcHRpb24gbW9kZWwgdG8gdXNlLlxuICAgICAqL1xuICBtb2RlbDogVHJhbnNjcmlwdGlvbk1vZGVsVjI7XG5cbiAgLyoqXG5UaGUgYXVkaW8gZGF0YSB0byB0cmFuc2NyaWJlLlxuICAgKi9cbiAgYXVkaW86IERhdGFDb250ZW50IHwgVVJMO1xuXG4gIC8qKlxuQWRkaXRpb25hbCBwcm92aWRlci1zcGVjaWZpYyBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwcm92aWRlclxuYXMgYm9keSBwYXJhbWV0ZXJzLlxuXG5UaGUgb3V0ZXIgcmVjb3JkIGlzIGtleWVkIGJ5IHRoZSBwcm92aWRlciBuYW1lLCBhbmQgdGhlIGlubmVyXG5yZWNvcmQgaXMga2V5ZWQgYnkgdGhlIHByb3ZpZGVyLXNwZWNpZmljIG1ldGFkYXRhIGtleS5cbmBgYHRzXG57XG4gIFwib3BlbmFpXCI6IHtcbiAgICBcInRlbXBlcmF0dXJlXCI6IDBcbiAgfVxufVxuYGBgXG4gICAgICovXG4gIHByb3ZpZGVyT3B0aW9ucz86IFByb3ZpZGVyT3B0aW9ucztcblxuICAvKipcbk1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgcGVyIHRyYW5zY3JpcHQgbW9kZWwgY2FsbC4gU2V0IHRvIDAgdG8gZGlzYWJsZSByZXRyaWVzLlxuXG5AZGVmYXVsdCAyXG4gICAqL1xuICBtYXhSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuQWJvcnQgc2lnbmFsLlxuICovXG4gIGFib3J0U2lnbmFsPzogQWJvcnRTaWduYWw7XG5cbiAgLyoqXG5BZGRpdGlvbmFsIGhlYWRlcnMgdG8gaW5jbHVkZSBpbiB0aGUgcmVxdWVzdC5cbk9ubHkgYXBwbGljYWJsZSBmb3IgSFRUUC1iYXNlZCBwcm92aWRlcnMuXG4gKi9cbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59KTogUHJvbWlzZTxUcmFuc2NyaXB0aW9uUmVzdWx0PiB7XG4gIGlmIChtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gJ3YyJykge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKHtcbiAgICAgIHZlcnNpb246IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uLFxuICAgICAgcHJvdmlkZXI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHtcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICB9KTtcblxuICBjb25zdCBoZWFkZXJzV2l0aFVzZXJBZ2VudCA9IHdpdGhVc2VyQWdlbnRTdWZmaXgoXG4gICAgaGVhZGVycyA/PyB7fSxcbiAgICBgYWkvJHtWRVJTSU9OfWAsXG4gICk7XG5cbiAgY29uc3QgYXVkaW9EYXRhID1cbiAgICBhdWRpbyBpbnN0YW5jZW9mIFVSTFxuICAgICAgPyAoYXdhaXQgZG93bmxvYWQoeyB1cmw6IGF1ZGlvIH0pKS5kYXRhXG4gICAgICA6IGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheShhdWRpbyk7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV0cnkoKCkgPT5cbiAgICBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgIGF1ZGlvOiBhdWRpb0RhdGEsXG4gICAgICBhYm9ydFNpZ25hbCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNXaXRoVXNlckFnZW50LFxuICAgICAgcHJvdmlkZXJPcHRpb25zLFxuICAgICAgbWVkaWFUeXBlOlxuICAgICAgICBkZXRlY3RNZWRpYVR5cGUoe1xuICAgICAgICAgIGRhdGE6IGF1ZGlvRGF0YSxcbiAgICAgICAgICBzaWduYXR1cmVzOiBhdWRpb01lZGlhVHlwZVNpZ25hdHVyZXMsXG4gICAgICAgIH0pID8/ICdhdWRpby93YXYnLFxuICAgIH0pLFxuICApO1xuXG4gIGxvZ1dhcm5pbmdzKHJlc3VsdC53YXJuaW5ncyk7XG5cbiAgaWYgKCFyZXN1bHQudGV4dCkge1xuICAgIHRocm93IG5ldyBOb1RyYW5zY3JpcHRHZW5lcmF0ZWRFcnJvcih7IHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0gfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IERlZmF1bHRUcmFuc2NyaXB0aW9uUmVzdWx0KHtcbiAgICB0ZXh0OiByZXN1bHQudGV4dCxcbiAgICBzZWdtZW50czogcmVzdWx0LnNlZ21lbnRzLFxuICAgIGxhbmd1YWdlOiByZXN1bHQubGFuZ3VhZ2UsXG4gICAgZHVyYXRpb25JblNlY29uZHM6IHJlc3VsdC5kdXJhdGlvbkluU2Vjb25kcyxcbiAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzLFxuICAgIHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0sXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGEsXG4gIH0pO1xufVxuXG5jbGFzcyBEZWZhdWx0VHJhbnNjcmlwdGlvblJlc3VsdCBpbXBsZW1lbnRzIFRyYW5zY3JpcHRpb25SZXN1bHQge1xuICByZWFkb25seSB0ZXh0OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHNlZ21lbnRzOiBBcnJheTx7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHN0YXJ0U2Vjb25kOiBudW1iZXI7XG4gICAgZW5kU2Vjb25kOiBudW1iZXI7XG4gIH0+O1xuICByZWFkb25seSBsYW5ndWFnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkdXJhdGlvbkluU2Vjb25kczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB3YXJuaW5nczogQXJyYXk8VHJhbnNjcmlwdGlvbldhcm5pbmc+O1xuICByZWFkb25seSByZXNwb25zZXM6IEFycmF5PFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGE+O1xuICByZWFkb25seSBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHNlZ21lbnRzOiBBcnJheTx7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICBzdGFydFNlY29uZDogbnVtYmVyO1xuICAgICAgZW5kU2Vjb25kOiBudW1iZXI7XG4gICAgfT47XG4gICAgbGFuZ3VhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBkdXJhdGlvbkluU2Vjb25kczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHdhcm5pbmdzOiBBcnJheTxUcmFuc2NyaXB0aW9uV2FybmluZz47XG4gICAgcmVzcG9uc2VzOiBBcnJheTxUcmFuc2NyaXB0aW9uTW9kZWxSZXNwb25zZU1ldGFkYXRhPjtcbiAgICBwcm92aWRlck1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBKU09OVmFsdWU+PiB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHRoaXMudGV4dCA9IG9wdGlvbnMudGV4dDtcbiAgICB0aGlzLnNlZ21lbnRzID0gb3B0aW9ucy5zZWdtZW50cztcbiAgICB0aGlzLmxhbmd1YWdlID0gb3B0aW9ucy5sYW5ndWFnZTtcbiAgICB0aGlzLmR1cmF0aW9uSW5TZWNvbmRzID0gb3B0aW9ucy5kdXJhdGlvbkluU2Vjb25kcztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSA/PyB7fTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25Nb2RlbFJlc3BvbnNlTWV0YWRhdGEgfSBmcm9tICcuLi90eXBlcy90cmFuc2NyaXB0aW9uLW1vZGVsLXJlc3BvbnNlLW1ldGFkYXRhJztcblxuLyoqXG5FcnJvciB0aGF0IGlzIHRocm93biB3aGVuIG5vIHRyYW5zY3JpcHQgd2FzIGdlbmVyYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIHJlYWRvbmx5IHJlc3BvbnNlczogQXJyYXk8VHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgIHJlc3BvbnNlczogQXJyYXk8VHJhbnNjcmlwdGlvbk1vZGVsUmVzcG9uc2VNZXRhZGF0YT47XG4gIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiAnQUlfTm9UcmFuc2NyaXB0R2VuZXJhdGVkRXJyb3InLFxuICAgICAgbWVzc2FnZTogJ05vIHRyYW5zY3JpcHQgZ2VuZXJhdGVkLicsXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgcGFyc2VKc29uRXZlbnRTdHJlYW0sXG4gIFBhcnNlUmVzdWx0LFxuICB3aXRoVXNlckFnZW50U3VmZml4LFxuICBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQsXG59IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgVUlNZXNzYWdlQ2h1bmssXG4gIHVpTWVzc2FnZUNodW5rU2NoZW1hLFxufSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBjb25zdW1lU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jb25zdW1lLXN0cmVhbSc7XG5pbXBvcnQgeyBwcm9jZXNzVGV4dFN0cmVhbSB9IGZyb20gJy4vcHJvY2Vzcy10ZXh0LXN0cmVhbSc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbi8vIHVzZSBmdW5jdGlvbiB0byBhbGxvdyBmb3IgbW9ja2luZyBpbiB0ZXN0czpcbmNvbnN0IGdldE9yaWdpbmFsRmV0Y2ggPSAoKSA9PiBmZXRjaDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxDb21wbGV0aW9uQXBpKHtcbiAgYXBpLFxuICBwcm9tcHQsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBzdHJlYW1Qcm90b2NvbCA9ICdkYXRhJyxcbiAgc2V0Q29tcGxldGlvbixcbiAgc2V0TG9hZGluZyxcbiAgc2V0RXJyb3IsXG4gIHNldEFib3J0Q29udHJvbGxlcixcbiAgb25GaW5pc2gsXG4gIG9uRXJyb3IsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpLFxufToge1xuICBhcGk6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGNyZWRlbnRpYWxzOiBSZXF1ZXN0Q3JlZGVudGlhbHMgfCB1bmRlZmluZWQ7XG4gIGhlYWRlcnM6IEhlYWRlcnNJbml0IHwgdW5kZWZpbmVkO1xuICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBzdHJlYW1Qcm90b2NvbDogJ2RhdGEnIHwgJ3RleHQnIHwgdW5kZWZpbmVkO1xuICBzZXRDb21wbGV0aW9uOiAoY29tcGxldGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0RXJyb3I6IChlcnJvcjogRXJyb3IgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIHNldEFib3J0Q29udHJvbGxlcjogKGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbCkgPT4gdm9pZDtcbiAgb25GaW5pc2g6ICgocHJvbXB0OiBzdHJpbmcsIGNvbXBsZXRpb246IHN0cmluZykgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIG9uRXJyb3I6ICgoZXJyb3I6IEVycm9yKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgZmV0Y2g6IFJldHVyblR5cGU8dHlwZW9mIGdldE9yaWdpbmFsRmV0Y2g+IHwgdW5kZWZpbmVkO1xufSkge1xuICB0cnkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IodW5kZWZpbmVkKTtcblxuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBzZXRBYm9ydENvbnRyb2xsZXIoYWJvcnRDb250cm9sbGVyKTtcblxuICAgIC8vIEVtcHR5IHRoZSBjb21wbGV0aW9uIGltbWVkaWF0ZWx5LlxuICAgIHNldENvbXBsZXRpb24oJycpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGksIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIC4uLmJvZHksXG4gICAgICB9KSxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgaGVhZGVyczogd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICAgICAge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgICAgYGFpLXNkay8ke1ZFUlNJT059YCxcbiAgICAgICAgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50KCksXG4gICAgICApLFxuICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChhd2FpdCByZXNwb25zZS50ZXh0KCkpID8/ICdGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LicpO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSAnJztcblxuICAgIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICAgIGF3YWl0IHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgb25UZXh0UGFydDogY2h1bmsgPT4ge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rO1xuICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RhdGEnOiB7XG4gICAgICAgIGF3YWl0IGNvbnN1bWVTdHJlYW0oe1xuICAgICAgICAgIHN0cmVhbTogcGFyc2VKc29uRXZlbnRTdHJlYW0oe1xuICAgICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgICAgc2NoZW1hOiB1aU1lc3NhZ2VDaHVua1NjaGVtYSxcbiAgICAgICAgICB9KS5waXBlVGhyb3VnaChcbiAgICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08UGFyc2VSZXN1bHQ8VUlNZXNzYWdlQ2h1bms+LCBVSU1lc3NhZ2VDaHVuaz4oe1xuICAgICAgICAgICAgICBhc3luYyB0cmFuc2Zvcm0ocGFydCkge1xuICAgICAgICAgICAgICAgIGlmICghcGFydC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBwYXJ0LmVycm9yO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVBhcnQgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChzdHJlYW1QYXJ0LnR5cGUgPT09ICd0ZXh0LWRlbHRhJykge1xuICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmVhbVBhcnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW1QYXJ0LnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzdHJlYW1QYXJ0LmVycm9yVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKSxcbiAgICAgICAgICBvbkVycm9yOiBlcnJvciA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjazogbmV2ZXIgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9uRmluaXNoKSB7XG4gICAgICBvbkZpbmlzaChwcm9tcHQsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIElnbm9yZSBhYm9ydCBlcnJvcnMgYXMgdGhleSBhcmUgZXhwZWN0ZWQuXG4gICAgaWYgKChlcnIgYXMgYW55KS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEVycm9yKGVyciBhcyBFcnJvcik7XG4gIH0gZmluYWxseSB7XG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gIH1cbn1cbiIsICJleHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1RleHRTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnQsXG59OiB7XG4gIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT47XG4gIG9uVGV4dFBhcnQ6IChjaHVuazogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcbn0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5nZXRSZWFkZXIoKTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYXdhaXQgb25UZXh0UGFydCh2YWx1ZSk7XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jLFxuICBJZEdlbmVyYXRvcixcbiAgU3RhbmRhcmRTY2hlbWFWMSxcbiAgVmFsaWRhdG9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IEZpbmlzaFJlYXNvbiB9IGZyb20gJy4uL3R5cGVzL2xhbmd1YWdlLW1vZGVsJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgY29uc3VtZVN0cmVhbSB9IGZyb20gJy4uL3V0aWwvY29uc3VtZS1zdHJlYW0nO1xuaW1wb3J0IHsgU2VyaWFsSm9iRXhlY3V0b3IgfSBmcm9tICcuLi91dGlsL3NlcmlhbC1qb2ItZXhlY3V0b3InO1xuaW1wb3J0IHsgQ2hhdFRyYW5zcG9ydCB9IGZyb20gJy4vY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgY29udmVydEZpbGVMaXN0VG9GaWxlVUlQYXJ0cyB9IGZyb20gJy4vY29udmVydC1maWxlLWxpc3QtdG8tZmlsZS11aS1wYXJ0cyc7XG5pbXBvcnQgeyBEZWZhdWx0Q2hhdFRyYW5zcG9ydCB9IGZyb20gJy4vZGVmYXVsdC1jaGF0LXRyYW5zcG9ydCc7XG5pbXBvcnQge1xuICBjcmVhdGVTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbiAgcHJvY2Vzc1VJTWVzc2FnZVN0cmVhbSxcbiAgU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGUsXG59IGZyb20gJy4vcHJvY2Vzcy11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQge1xuICBJbmZlclVJTWVzc2FnZVRvb2xDYWxsLFxuICBpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0LFxuICBUb29sVUlQYXJ0LFxuICBVSU1lc3NhZ2VQYXJ0LFxuICBVSVRvb2xzLFxuICB0eXBlIERhdGFVSVBhcnQsXG4gIHR5cGUgRmlsZVVJUGFydCxcbiAgdHlwZSBJbmZlclVJTWVzc2FnZURhdGEsXG4gIHR5cGUgSW5mZXJVSU1lc3NhZ2VNZXRhZGF0YSxcbiAgdHlwZSBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICB0eXBlIFVJRGF0YVR5cGVzLFxuICB0eXBlIFVJTWVzc2FnZSxcbn0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIENyZWF0ZVVJTWVzc2FnZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IE9taXQ8XG4gIFVJX01FU1NBR0UsXG4gICdpZCcgfCAncm9sZSdcbj4gJiB7XG4gIGlkPzogVUlfTUVTU0FHRVsnaWQnXTtcbiAgcm9sZT86IFVJX01FU1NBR0VbJ3JvbGUnXTtcbn07XG5cbmV4cG9ydCB0eXBlIFVJRGF0YVBhcnRTY2hlbWFzID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIFZhbGlkYXRvcjxhbnk+IHwgU3RhbmRhcmRTY2hlbWFWMTxhbnk+XG4+O1xuXG5leHBvcnQgdHlwZSBVSURhdGFUeXBlc1RvU2NoZW1hczxUIGV4dGVuZHMgVUlEYXRhVHlwZXM+ID0ge1xuICBbSyBpbiBrZXlvZiBUXTogVmFsaWRhdG9yPFRbS10+IHwgU3RhbmRhcmRTY2hlbWFWMTxUW0tdPjtcbn07XG5cbmV4cG9ydCB0eXBlIEluZmVyVUlEYXRhUGFydHM8VCBleHRlbmRzIFVJRGF0YVBhcnRTY2hlbWFzPiA9IHtcbiAgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBWYWxpZGF0b3I8aW5mZXIgVT5cbiAgICA/IFVcbiAgICA6IFRbS10gZXh0ZW5kcyBTdGFuZGFyZFNjaGVtYVYxPGluZmVyIFU+XG4gICAgICA/IFVcbiAgICAgIDogdW5rbm93bjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXRSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgLyoqXG4gIEFkZGl0aW9uYWwgaGVhZGVycyB0aGF0IHNob3VsZCBiZSB0byBiZSBwYXNzZWQgdG8gdGhlIEFQSSBlbmRwb2ludC5cbiAgICovXG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgSGVhZGVycztcblxuICAvKipcbiAgQWRkaXRpb25hbCBib2R5IEpTT04gcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBzZW50IHRvIHRoZSBBUEkgZW5kcG9pbnQuXG4gICAqL1xuICBib2R5Pzogb2JqZWN0OyAvLyBUT0RPIEpTT05TdHJpbmdpZnlhYmxlXG5cbiAgbWV0YWRhdGE/OiB1bmtub3duO1xufTtcblxuZXhwb3J0IHR5cGUgQ2hhdFN0YXR1cyA9ICdzdWJtaXR0ZWQnIHwgJ3N0cmVhbWluZycgfCAncmVhZHknIHwgJ2Vycm9yJztcblxudHlwZSBBY3RpdmVSZXNwb25zZTxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IHtcbiAgc3RhdGU6IFN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlPFVJX01FU1NBR0U+O1xuICBhYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdFN0YXRlPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+IHtcbiAgc3RhdHVzOiBDaGF0U3RhdHVzO1xuXG4gIGVycm9yOiBFcnJvciB8IHVuZGVmaW5lZDtcblxuICBtZXNzYWdlczogVUlfTUVTU0FHRVtdO1xuICBwdXNoTWVzc2FnZTogKG1lc3NhZ2U6IFVJX01FU1NBR0UpID0+IHZvaWQ7XG4gIHBvcE1lc3NhZ2U6ICgpID0+IHZvaWQ7XG4gIHJlcGxhY2VNZXNzYWdlOiAoaW5kZXg6IG51bWJlciwgbWVzc2FnZTogVUlfTUVTU0FHRSkgPT4gdm9pZDtcblxuICBzbmFwc2hvdDogPFQ+KHRoaW5nOiBUKSA9PiBUO1xufVxuXG5leHBvcnQgdHlwZSBDaGF0T25FcnJvckNhbGxiYWNrID0gKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgQ2hhdE9uVG9vbENhbGxDYWxsYmFjazxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlID0gVUlNZXNzYWdlPiA9XG4gIChvcHRpb25zOiB7XG4gICAgdG9vbENhbGw6IEluZmVyVUlNZXNzYWdlVG9vbENhbGw8VUlfTUVTU0FHRT47XG4gIH0pID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPjtcblxuZXhwb3J0IHR5cGUgQ2hhdE9uRGF0YUNhbGxiYWNrPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gKFxuICBkYXRhUGFydDogRGF0YVVJUGFydDxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+LFxuKSA9PiB2b2lkO1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGFzc2lzdGFudCByZXNwb25zZSBoYXMgZmluaXNoZWQgc3RyZWFtaW5nLlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBhc3Npc3RhbnQgbWVzc2FnZSB0aGF0IHdhcyBzdHJlYW1lZC5cbiAqIEBwYXJhbSBtZXNzYWdlcyBUaGUgZnVsbCBjaGF0IGhpc3RvcnksIGluY2x1ZGluZyB0aGUgYXNzaXN0YW50IG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIGlzQWJvcnQgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZC5cbiAqIEBwYXJhbSBpc0Rpc2Nvbm5lY3QgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gZW5kZWQgYnkgYSBuZXR3b3JrIGVycm9yLlxuICogQHBhcmFtIGlzRXJyb3IgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gZW5kZWQgYnkgYW4gZXJyb3IuXG4gKiBAcGFyYW0gZmluaXNoUmVhc29uIFRoZSByZWFzb24gd2h5IHRoZSBnZW5lcmF0aW9uIGZpbmlzaGVkLlxuICovXG5leHBvcnQgdHlwZSBDaGF0T25GaW5pc2hDYWxsYmFjazxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiA9IChvcHRpb25zOiB7XG4gIG1lc3NhZ2U6IFVJX01FU1NBR0U7XG4gIG1lc3NhZ2VzOiBVSV9NRVNTQUdFW107XG4gIGlzQWJvcnQ6IGJvb2xlYW47XG4gIGlzRGlzY29ubmVjdDogYm9vbGVhbjtcbiAgaXNFcnJvcjogYm9vbGVhbjtcbiAgZmluaXNoUmVhc29uPzogRmluaXNoUmVhc29uO1xufSkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBDaGF0SW5pdDxVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlPiB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2hhdC4gSWYgbm90IHByb3ZpZGVkLCBhIHJhbmRvbSBvbmUgd2lsbCBiZVxuICAgKiBnZW5lcmF0ZWQuXG4gICAqL1xuICBpZD86IHN0cmluZztcblxuICBtZXNzYWdlTWV0YWRhdGFTY2hlbWE/OlxuICAgIHwgVmFsaWRhdG9yPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCBTdGFuZGFyZFNjaGVtYVYxPEluZmVyVUlNZXNzYWdlTWV0YWRhdGE8VUlfTUVTU0FHRT4+O1xuICBkYXRhUGFydFNjaGVtYXM/OiBVSURhdGFUeXBlc1RvU2NoZW1hczxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+O1xuXG4gIG1lc3NhZ2VzPzogVUlfTUVTU0FHRVtdO1xuXG4gIC8qKlxuICAgKiBBIHdheSB0byBwcm92aWRlIGEgZnVuY3Rpb24gdGhhdCBpcyBnb2luZyB0byBiZSB1c2VkIGZvciBpZHMgZm9yIG1lc3NhZ2VzIGFuZCB0aGUgY2hhdC5cbiAgICogSWYgbm90IHByb3ZpZGVkIHRoZSBkZWZhdWx0IEFJIFNESyBgZ2VuZXJhdGVJZGAgaXMgdXNlZC5cbiAgICovXG4gIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcblxuICB0cmFuc3BvcnQ/OiBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+O1xuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBhbiBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAgICovXG4gIG9uRXJyb3I/OiBDaGF0T25FcnJvckNhbGxiYWNrO1xuXG4gIC8qKlxuICBPcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGludm9rZWQgd2hlbiBhIHRvb2wgY2FsbCBpcyByZWNlaXZlZC5cbiAgSW50ZW5kZWQgZm9yIGF1dG9tYXRpYyBjbGllbnQtc2lkZSB0b29sIGV4ZWN1dGlvbi5cblxuICBZb3UgY2FuIG9wdGlvbmFsbHkgcmV0dXJuIGEgcmVzdWx0IGZvciB0aGUgdG9vbCBjYWxsLFxuICBlaXRoZXIgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAgICAgKi9cbiAgb25Ub29sQ2FsbD86IENoYXRPblRvb2xDYWxsQ2FsbGJhY2s8VUlfTUVTU0FHRT47XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGFzc2lzdGFudCByZXNwb25zZSBoYXMgZmluaXNoZWQgc3RyZWFtaW5nLlxuICAgKi9cbiAgb25GaW5pc2g/OiBDaGF0T25GaW5pc2hDYWxsYmFjazxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhIGRhdGEgcGFydCBpcyByZWNlaXZlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgcGFydCB0aGF0IHdhcyByZWNlaXZlZC5cbiAgICovXG4gIG9uRGF0YT86IENoYXRPbkRhdGFDYWxsYmFjazxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogV2hlbiBwcm92aWRlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBzdHJlYW0gaXMgZmluaXNoZWQgb3IgYSB0b29sIGNhbGwgaXMgYWRkZWRcbiAgICogdG8gZGV0ZXJtaW5lIGlmIHRoZSBjdXJyZW50IG1lc3NhZ2VzIHNob3VsZCBiZSByZXN1Ym1pdHRlZC5cbiAgICovXG4gIHNlbmRBdXRvbWF0aWNhbGx5V2hlbj86IChvcHRpb25zOiB7XG4gICAgbWVzc2FnZXM6IFVJX01FU1NBR0VbXTtcbiAgfSkgPT4gYm9vbGVhbiB8IFByb21pc2VMaWtlPGJvb2xlYW4+O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDaGF0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+IHtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgZ2VuZXJhdGVJZDogSWRHZW5lcmF0b3I7XG5cbiAgcHJvdGVjdGVkIHN0YXRlOiBDaGF0U3RhdGU8VUlfTUVTU0FHRT47XG5cbiAgcHJpdmF0ZSBtZXNzYWdlTWV0YWRhdGFTY2hlbWE6XG4gICAgfCBWYWxpZGF0b3I8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IFN0YW5kYXJkU2NoZW1hVjE8SW5mZXJVSU1lc3NhZ2VNZXRhZGF0YTxVSV9NRVNTQUdFPj5cbiAgICB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBkYXRhUGFydFNjaGVtYXM6XG4gICAgfCBVSURhdGFUeXBlc1RvU2NoZW1hczxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+XG4gICAgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhbnNwb3J0OiBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+O1xuICBwcml2YXRlIG9uRXJyb3I/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnb25FcnJvciddO1xuICBwcml2YXRlIG9uVG9vbENhbGw/OiBDaGF0SW5pdDxVSV9NRVNTQUdFPlsnb25Ub29sQ2FsbCddO1xuICBwcml2YXRlIG9uRmluaXNoPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ29uRmluaXNoJ107XG4gIHByaXZhdGUgb25EYXRhPzogQ2hhdEluaXQ8VUlfTUVTU0FHRT5bJ29uRGF0YSddO1xuICBwcml2YXRlIHNlbmRBdXRvbWF0aWNhbGx5V2hlbj86IENoYXRJbml0PFVJX01FU1NBR0U+WydzZW5kQXV0b21hdGljYWxseVdoZW4nXTtcblxuICBwcml2YXRlIGFjdGl2ZVJlc3BvbnNlOiBBY3RpdmVSZXNwb25zZTxVSV9NRVNTQUdFPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBqb2JFeGVjdXRvciA9IG5ldyBTZXJpYWxKb2JFeGVjdXRvcigpO1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBnZW5lcmF0ZUlkID0gZ2VuZXJhdGVJZEZ1bmMsXG4gICAgaWQgPSBnZW5lcmF0ZUlkKCksXG4gICAgdHJhbnNwb3J0ID0gbmV3IERlZmF1bHRDaGF0VHJhbnNwb3J0KCksXG4gICAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hLFxuICAgIGRhdGFQYXJ0U2NoZW1hcyxcbiAgICBzdGF0ZSxcbiAgICBvbkVycm9yLFxuICAgIG9uVG9vbENhbGwsXG4gICAgb25GaW5pc2gsXG4gICAgb25EYXRhLFxuICAgIHNlbmRBdXRvbWF0aWNhbGx5V2hlbixcbiAgfTogT21pdDxDaGF0SW5pdDxVSV9NRVNTQUdFPiwgJ21lc3NhZ2VzJz4gJiB7XG4gICAgc3RhdGU6IENoYXRTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgfSkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB0aGlzLmdlbmVyYXRlSWQgPSBnZW5lcmF0ZUlkO1xuICAgIHRoaXMubWVzc2FnZU1ldGFkYXRhU2NoZW1hID0gbWVzc2FnZU1ldGFkYXRhU2NoZW1hO1xuICAgIHRoaXMuZGF0YVBhcnRTY2hlbWFzID0gZGF0YVBhcnRTY2hlbWFzO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLm9uRXJyb3IgPSBvbkVycm9yO1xuICAgIHRoaXMub25Ub29sQ2FsbCA9IG9uVG9vbENhbGw7XG4gICAgdGhpcy5vbkZpbmlzaCA9IG9uRmluaXNoO1xuICAgIHRoaXMub25EYXRhID0gb25EYXRhO1xuICAgIHRoaXMuc2VuZEF1dG9tYXRpY2FsbHlXaGVuID0gc2VuZEF1dG9tYXRpY2FsbHlXaGVuO1xuICB9XG5cbiAgLyoqXG4gICAqIEhvb2sgc3RhdHVzOlxuICAgKlxuICAgKiAtIGBzdWJtaXR0ZWRgOiBUaGUgbWVzc2FnZSBoYXMgYmVlbiBzZW50IHRvIHRoZSBBUEkgYW5kIHdlJ3JlIGF3YWl0aW5nIHRoZSBzdGFydCBvZiB0aGUgcmVzcG9uc2Ugc3RyZWFtLlxuICAgKiAtIGBzdHJlYW1pbmdgOiBUaGUgcmVzcG9uc2UgaXMgYWN0aXZlbHkgc3RyZWFtaW5nIGluIGZyb20gdGhlIEFQSSwgcmVjZWl2aW5nIGNodW5rcyBvZiBkYXRhLlxuICAgKiAtIGByZWFkeWA6IFRoZSBmdWxsIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkIGFuZCBwcm9jZXNzZWQ7IGEgbmV3IHVzZXIgbWVzc2FnZSBjYW4gYmUgc3VibWl0dGVkLlxuICAgKiAtIGBlcnJvcmA6IEFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgQVBJIHJlcXVlc3QsIHByZXZlbnRpbmcgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXR1cygpOiBDaGF0U3RhdHVzIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zdGF0dXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0U3RhdHVzKHtcbiAgICBzdGF0dXMsXG4gICAgZXJyb3IsXG4gIH06IHtcbiAgICBzdGF0dXM6IENoYXRTdGF0dXM7XG4gICAgZXJyb3I/OiBFcnJvcjtcbiAgfSkge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gc3RhdHVzKSByZXR1cm47XG5cbiAgICB0aGlzLnN0YXRlLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnN0YXRlLmVycm9yID0gZXJyb3I7XG4gIH1cblxuICBnZXQgZXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZXJyb3I7XG4gIH1cblxuICBnZXQgbWVzc2FnZXMoKTogVUlfTUVTU0FHRVtdIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZXNzYWdlcztcbiAgfVxuXG4gIGdldCBsYXN0TWVzc2FnZSgpOiBVSV9NRVNTQUdFIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZXNzYWdlc1t0aGlzLnN0YXRlLm1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgc2V0IG1lc3NhZ2VzKG1lc3NhZ2VzOiBVSV9NRVNTQUdFW10pIHtcbiAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyBvciByZXBsYWNlcyBhIHVzZXIgbWVzc2FnZSB0byB0aGUgY2hhdCBsaXN0LiBUaGlzIHRyaWdnZXJzIHRoZSBBUEkgY2FsbCB0byBmZXRjaFxuICAgKiB0aGUgYXNzaXN0YW50J3MgcmVzcG9uc2UuXG4gICAqXG4gICAqIElmIGEgbWVzc2FnZUlkIGlzIHByb3ZpZGVkLCB0aGUgbWVzc2FnZSB3aWxsIGJlIHJlcGxhY2VkLlxuICAgKi9cbiAgc2VuZE1lc3NhZ2UgPSBhc3luYyAoXG4gICAgbWVzc2FnZT86XG4gICAgICB8IChDcmVhdGVVSU1lc3NhZ2U8VUlfTUVTU0FHRT4gJiB7XG4gICAgICAgICAgdGV4dD86IG5ldmVyO1xuICAgICAgICAgIGZpbGVzPzogbmV2ZXI7XG4gICAgICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgICB9KVxuICAgICAgfCB7XG4gICAgICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgICAgIGZpbGVzPzogRmlsZUxpc3QgfCBGaWxlVUlQYXJ0W107XG4gICAgICAgICAgbWV0YWRhdGE/OiBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+O1xuICAgICAgICAgIHBhcnRzPzogbmV2ZXI7XG4gICAgICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB8IHtcbiAgICAgICAgICBmaWxlczogRmlsZUxpc3QgfCBGaWxlVUlQYXJ0W107XG4gICAgICAgICAgbWV0YWRhdGE/OiBJbmZlclVJTWVzc2FnZU1ldGFkYXRhPFVJX01FU1NBR0U+O1xuICAgICAgICAgIHBhcnRzPzogbmV2ZXI7XG4gICAgICAgICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICAgICAgICB9LFxuICAgIG9wdGlvbnM/OiBDaGF0UmVxdWVzdE9wdGlvbnMsXG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmIChtZXNzYWdlID09IG51bGwpIHtcbiAgICAgIGF3YWl0IHRoaXMubWFrZVJlcXVlc3Qoe1xuICAgICAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnLFxuICAgICAgICBtZXNzYWdlSWQ6IHRoaXMubGFzdE1lc3NhZ2U/LmlkLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHVpTWVzc2FnZTogQ3JlYXRlVUlNZXNzYWdlPFVJX01FU1NBR0U+O1xuXG4gICAgaWYgKCd0ZXh0JyBpbiBtZXNzYWdlIHx8ICdmaWxlcycgaW4gbWVzc2FnZSkge1xuICAgICAgY29uc3QgZmlsZVBhcnRzID0gQXJyYXkuaXNBcnJheShtZXNzYWdlLmZpbGVzKVxuICAgICAgICA/IG1lc3NhZ2UuZmlsZXNcbiAgICAgICAgOiBhd2FpdCBjb252ZXJ0RmlsZUxpc3RUb0ZpbGVVSVBhcnRzKG1lc3NhZ2UuZmlsZXMpO1xuXG4gICAgICB1aU1lc3NhZ2UgPSB7XG4gICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgLi4uZmlsZVBhcnRzLFxuICAgICAgICAgIC4uLigndGV4dCcgaW4gbWVzc2FnZSAmJiBtZXNzYWdlLnRleHQgIT0gbnVsbFxuICAgICAgICAgICAgPyBbeyB0eXBlOiAndGV4dCcgYXMgY29uc3QsIHRleHQ6IG1lc3NhZ2UudGV4dCB9XVxuICAgICAgICAgICAgOiBbXSksXG4gICAgICAgIF0sXG4gICAgICB9IGFzIFVJX01FU1NBR0U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVpTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9IHRoaXMuc3RhdGUubWVzc2FnZXMuZmluZEluZGV4KFxuICAgICAgICBtID0+IG0uaWQgPT09IG1lc3NhZ2UubWVzc2FnZUlkLFxuICAgICAgKTtcblxuICAgICAgaWYgKG1lc3NhZ2VJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtZXNzYWdlIHdpdGggaWQgJHttZXNzYWdlLm1lc3NhZ2VJZH0gbm90IGZvdW5kYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2VzW21lc3NhZ2VJbmRleF0ucm9sZSAhPT0gJ3VzZXInKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgbWVzc2FnZSB3aXRoIGlkICR7bWVzc2FnZS5tZXNzYWdlSWR9IGlzIG5vdCBhIHVzZXIgbWVzc2FnZWAsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSBhbGwgbWVzc2FnZXMgYWZ0ZXIgdGhlIG1lc3NhZ2Ugd2l0aCB0aGUgZ2l2ZW4gaWRcbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLnNsaWNlKDAsIG1lc3NhZ2VJbmRleCArIDEpO1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIG1lc3NhZ2Ugd2l0aCB0aGUgbmV3IGNvbnRlbnRcbiAgICAgIHRoaXMuc3RhdGUucmVwbGFjZU1lc3NhZ2UobWVzc2FnZUluZGV4LCB7XG4gICAgICAgIC4uLnVpTWVzc2FnZSxcbiAgICAgICAgaWQ6IG1lc3NhZ2UubWVzc2FnZUlkLFxuICAgICAgICByb2xlOiB1aU1lc3NhZ2Uucm9sZSA/PyAndXNlcicsXG4gICAgICAgIG1ldGFkYXRhOiBtZXNzYWdlLm1ldGFkYXRhLFxuICAgICAgfSBhcyBVSV9NRVNTQUdFKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5wdXNoTWVzc2FnZSh7XG4gICAgICAgIC4uLnVpTWVzc2FnZSxcbiAgICAgICAgaWQ6IHVpTWVzc2FnZS5pZCA/PyB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgICAgcm9sZTogdWlNZXNzYWdlLnJvbGUgPz8gJ3VzZXInLFxuICAgICAgICBtZXRhZGF0YTogbWVzc2FnZS5tZXRhZGF0YSxcbiAgICAgIH0gYXMgVUlfTUVTU0FHRSk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnLFxuICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlLm1lc3NhZ2VJZCxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZ2VuZXJhdGUgdGhlIGFzc2lzdGFudCBtZXNzYWdlIHdpdGggdGhlIHByb3ZpZGVkIG1lc3NhZ2UgaWQuXG4gICAqIElmIG5vIG1lc3NhZ2UgaWQgaXMgcHJvdmlkZWQsIHRoZSBsYXN0IGFzc2lzdGFudCBtZXNzYWdlIHdpbGwgYmUgcmVnZW5lcmF0ZWQuXG4gICAqL1xuICByZWdlbmVyYXRlID0gYXN5bmMgKHtcbiAgICBtZXNzYWdlSWQsXG4gICAgLi4ub3B0aW9uc1xuICB9OiB7XG4gICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICB9ICYgQ2hhdFJlcXVlc3RPcHRpb25zID0ge30pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBtZXNzYWdlSW5kZXggPVxuICAgICAgbWVzc2FnZUlkID09IG51bGxcbiAgICAgICAgPyB0aGlzLnN0YXRlLm1lc3NhZ2VzLmxlbmd0aCAtIDFcbiAgICAgICAgOiB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbmRJbmRleChtZXNzYWdlID0+IG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VJZCk7XG5cbiAgICBpZiAobWVzc2FnZUluZGV4ID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBtZXNzYWdlICR7bWVzc2FnZUlkfSBub3QgZm91bmRgKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgdGhlIG1lc3NhZ2VzIHRvIHRoZSBtZXNzYWdlIGJlZm9yZSB0aGUgYXNzaXN0YW50IG1lc3NhZ2VcbiAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzID0gdGhpcy5zdGF0ZS5tZXNzYWdlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICAvLyBpZiB0aGUgbWVzc2FnZSBpcyBhIHVzZXIgbWVzc2FnZSwgd2UgbmVlZCB0byBpbmNsdWRlIGl0IGluIHRoZSByZXF1ZXN0OlxuICAgICAgdGhpcy5tZXNzYWdlc1ttZXNzYWdlSW5kZXhdLnJvbGUgPT09ICdhc3Npc3RhbnQnXG4gICAgICAgID8gbWVzc2FnZUluZGV4XG4gICAgICAgIDogbWVzc2FnZUluZGV4ICsgMSxcbiAgICApO1xuXG4gICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICB0cmlnZ2VyOiAncmVnZW5lcmF0ZS1tZXNzYWdlJyxcbiAgICAgIG1lc3NhZ2VJZCxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gcmVzdW1lIGFuIG9uZ29pbmcgc3RyZWFtaW5nIHJlc3BvbnNlLlxuICAgKi9cbiAgcmVzdW1lU3RyZWFtID0gYXN5bmMgKG9wdGlvbnM6IENoYXRSZXF1ZXN0T3B0aW9ucyA9IHt9KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7IHRyaWdnZXI6ICdyZXN1bWUtc3RyZWFtJywgLi4ub3B0aW9ucyB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xlYXIgdGhlIGVycm9yIHN0YXRlIGFuZCBzZXQgdGhlIHN0YXR1cyB0byByZWFkeSBpZiB0aGUgY2hhdCBpcyBpbiBhbiBlcnJvciBzdGF0ZS5cbiAgICovXG4gIGNsZWFyRXJyb3IgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICB0aGlzLnN0YXRlLmVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdyZWFkeScgfSk7XG4gICAgfVxuICB9O1xuXG4gIGFkZFRvb2xPdXRwdXQgPSBhc3luYyA8VE9PTCBleHRlbmRzIGtleW9mIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT4+KHtcbiAgICBzdGF0ZSA9ICdvdXRwdXQtYXZhaWxhYmxlJyxcbiAgICB0b29sLFxuICAgIHRvb2xDYWxsSWQsXG4gICAgb3V0cHV0LFxuICAgIGVycm9yVGV4dCxcbiAgfTpcbiAgICB8IHtcbiAgICAgICAgc3RhdGU/OiAnb3V0cHV0LWF2YWlsYWJsZSc7XG4gICAgICAgIHRvb2w6IFRPT0w7XG4gICAgICAgIHRvb2xDYWxsSWQ6IHN0cmluZztcbiAgICAgICAgb3V0cHV0OiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W1RPT0xdWydvdXRwdXQnXTtcbiAgICAgICAgZXJyb3JUZXh0PzogbmV2ZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIHN0YXRlOiAnb3V0cHV0LWVycm9yJztcbiAgICAgICAgdG9vbDogVE9PTDtcbiAgICAgICAgdG9vbENhbGxJZDogc3RyaW5nO1xuICAgICAgICBvdXRwdXQ/OiBuZXZlcjtcbiAgICAgICAgZXJyb3JUZXh0OiBzdHJpbmc7XG4gICAgICB9KSA9PlxuICAgIHRoaXMuam9iRXhlY3V0b3IucnVuKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5zdGF0ZS5tZXNzYWdlcztcbiAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHRoaXMuc3RhdGUucmVwbGFjZU1lc3NhZ2UobWVzc2FnZXMubGVuZ3RoIC0gMSwge1xuICAgICAgICAuLi5sYXN0TWVzc2FnZSxcbiAgICAgICAgcGFydHM6IGxhc3RNZXNzYWdlLnBhcnRzLm1hcChwYXJ0ID0+XG4gICAgICAgICAgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydChwYXJ0KSAmJiBwYXJ0LnRvb2xDYWxsSWQgPT09IHRvb2xDYWxsSWRcbiAgICAgICAgICAgID8geyAuLi5wYXJ0LCBzdGF0ZSwgb3V0cHV0LCBlcnJvclRleHQgfVxuICAgICAgICAgICAgOiBwYXJ0LFxuICAgICAgICApLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgYWN0aXZlIHJlc3BvbnNlIGlmIGl0IGV4aXN0c1xuICAgICAgaWYgKHRoaXMuYWN0aXZlUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlLnBhcnRzID1cbiAgICAgICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UucGFydHMubWFwKHBhcnQgPT5cbiAgICAgICAgICAgIGlzVG9vbE9yRHluYW1pY1Rvb2xVSVBhcnQocGFydCkgJiYgcGFydC50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICAgICAgICAgICAgID8gKHtcbiAgICAgICAgICAgICAgICAgIC4uLnBhcnQsXG4gICAgICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dCxcbiAgICAgICAgICAgICAgICB9IGFzIHR5cGVvZiBwYXJ0KVxuICAgICAgICAgICAgICA6IHBhcnQsXG4gICAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXV0b21hdGljYWxseSBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBzZW5kQXV0b21hdGljYWxseVdoZW4gZnVuY3Rpb24gcmV0dXJucyB0cnVlXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuc3RhdHVzICE9PSAnc3RyZWFtaW5nJyAmJlxuICAgICAgICB0aGlzLnN0YXR1cyAhPT0gJ3N1Ym1pdHRlZCcgJiZcbiAgICAgICAgdGhpcy5zZW5kQXV0b21hdGljYWxseVdoZW4/Lih7IG1lc3NhZ2VzOiB0aGlzLnN0YXRlLm1lc3NhZ2VzIH0pXG4gICAgICApIHtcbiAgICAgICAgLy8gbm8gYXdhaXQgdG8gYXZvaWQgZGVhZGxvY2tpbmdcbiAgICAgICAgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICAgICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyxcbiAgICAgICAgICBtZXNzYWdlSWQ6IHRoaXMubGFzdE1lc3NhZ2U/LmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvKiogQGRlcHJlY2F0ZWQgVXNlIGFkZFRvb2xPdXRwdXQgKi9cbiAgYWRkVG9vbFJlc3VsdCA9IHRoaXMuYWRkVG9vbE91dHB1dDtcblxuICAvKipcbiAgICogQWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdCBpbW1lZGlhdGVseSwga2VlcCB0aGUgZ2VuZXJhdGVkIHRva2VucyBpZiBhbnkuXG4gICAqL1xuICBzdG9wID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gJ3N0cmVhbWluZycgJiYgdGhpcy5zdGF0dXMgIT09ICdzdWJtaXR0ZWQnKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5hY3RpdmVSZXNwb25zZT8uYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICB0aGlzLmFjdGl2ZVJlc3BvbnNlLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZXF1ZXN0KHtcbiAgICB0cmlnZ2VyLFxuICAgIG1ldGFkYXRhLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgICBtZXNzYWdlSWQsXG4gIH06IHtcbiAgICB0cmlnZ2VyOiAnc3VibWl0LW1lc3NhZ2UnIHwgJ3Jlc3VtZS1zdHJlYW0nIHwgJ3JlZ2VuZXJhdGUtbWVzc2FnZSc7XG4gICAgbWVzc2FnZUlkPzogc3RyaW5nO1xuICB9ICYgQ2hhdFJlcXVlc3RPcHRpb25zKSB7XG4gICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdzdWJtaXR0ZWQnLCBlcnJvcjogdW5kZWZpbmVkIH0pO1xuXG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSB0aGlzLmxhc3RNZXNzYWdlO1xuXG4gICAgbGV0IGlzQWJvcnQgPSBmYWxzZTtcbiAgICBsZXQgaXNEaXNjb25uZWN0ID0gZmFsc2U7XG4gICAgbGV0IGlzRXJyb3IgPSBmYWxzZTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhY3RpdmVSZXNwb25zZSA9IHtcbiAgICAgICAgc3RhdGU6IGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlKHtcbiAgICAgICAgICBsYXN0TWVzc2FnZTogdGhpcy5zdGF0ZS5zbmFwc2hvdChsYXN0TWVzc2FnZSksXG4gICAgICAgICAgbWVzc2FnZUlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgICAgfSksXG4gICAgICAgIGFib3J0Q29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlcigpLFxuICAgICAgfSBhcyBBY3RpdmVSZXNwb25zZTxVSV9NRVNTQUdFPjtcblxuICAgICAgYWN0aXZlUmVzcG9uc2UuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgaXNBYm9ydCA9IHRydWU7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5hY3RpdmVSZXNwb25zZSA9IGFjdGl2ZVJlc3BvbnNlO1xuXG4gICAgICBsZXQgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG5cbiAgICAgIGlmICh0cmlnZ2VyID09PSAncmVzdW1lLXN0cmVhbScpIHtcbiAgICAgICAgY29uc3QgcmVjb25uZWN0ID0gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVjb25uZWN0VG9TdHJlYW0oe1xuICAgICAgICAgIGNoYXRJZDogdGhpcy5pZCxcbiAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZWNvbm5lY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKHsgc3RhdHVzOiAncmVhZHknIH0pO1xuICAgICAgICAgIHJldHVybjsgLy8gbm8gYWN0aXZlIHN0cmVhbSBmb3VuZCwgc28gd2UgZG8gbm90IHJlc3VtZVxuICAgICAgICB9XG5cbiAgICAgICAgc3RyZWFtID0gcmVjb25uZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyZWFtID0gYXdhaXQgdGhpcy50cmFuc3BvcnQuc2VuZE1lc3NhZ2VzKHtcbiAgICAgICAgICBjaGF0SWQ6IHRoaXMuaWQsXG4gICAgICAgICAgbWVzc2FnZXM6IHRoaXMuc3RhdGUubWVzc2FnZXMsXG4gICAgICAgICAgYWJvcnRTaWduYWw6IGFjdGl2ZVJlc3BvbnNlLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIHRyaWdnZXIsXG4gICAgICAgICAgbWVzc2FnZUlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcnVuVXBkYXRlTWVzc2FnZUpvYiA9IChcbiAgICAgICAgam9iOiAob3B0aW9uczoge1xuICAgICAgICAgIHN0YXRlOiBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZTxVSV9NRVNTQUdFPjtcbiAgICAgICAgICB3cml0ZTogKCkgPT4gdm9pZDtcbiAgICAgICAgfSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICkgPT5cbiAgICAgICAgLy8gc2VyaWFsaXplIHRoZSBqb2IgZXhlY3V0aW9uIHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uczpcbiAgICAgICAgdGhpcy5qb2JFeGVjdXRvci5ydW4oKCkgPT5cbiAgICAgICAgICBqb2Ioe1xuICAgICAgICAgICAgc3RhdGU6IGFjdGl2ZVJlc3BvbnNlLnN0YXRlLFxuICAgICAgICAgICAgd3JpdGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gc3RyZWFtaW5nIGlzIHNldCBvbiBmaXJzdCB3cml0ZSAoYmVmb3JlIGl0IHNob3VsZCBiZSBcInN1Ym1pdHRlZFwiKVxuICAgICAgICAgICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3N0cmVhbWluZycgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZUxhc3RNZXNzYWdlID1cbiAgICAgICAgICAgICAgICBhY3RpdmVSZXNwb25zZS5zdGF0ZS5tZXNzYWdlLmlkID09PSB0aGlzLmxhc3RNZXNzYWdlPy5pZDtcblxuICAgICAgICAgICAgICBpZiAocmVwbGFjZUxhc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5yZXBsYWNlTWVzc2FnZShcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnB1c2hNZXNzYWdlKGFjdGl2ZVJlc3BvbnNlLnN0YXRlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuXG4gICAgICBhd2FpdCBjb25zdW1lU3RyZWFtKHtcbiAgICAgICAgc3RyZWFtOiBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgICAgICBzdHJlYW0sXG4gICAgICAgICAgb25Ub29sQ2FsbDogdGhpcy5vblRvb2xDYWxsLFxuICAgICAgICAgIG9uRGF0YTogdGhpcy5vbkRhdGEsXG4gICAgICAgICAgbWVzc2FnZU1ldGFkYXRhU2NoZW1hOiB0aGlzLm1lc3NhZ2VNZXRhZGF0YVNjaGVtYSxcbiAgICAgICAgICBkYXRhUGFydFNjaGVtYXM6IHRoaXMuZGF0YVBhcnRTY2hlbWFzLFxuICAgICAgICAgIHJ1blVwZGF0ZU1lc3NhZ2VKb2IsXG4gICAgICAgICAgb25FcnJvcjogZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIG9uRXJyb3I6IGVycm9yID0+IHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3JlYWR5JyB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIElnbm9yZSBhYm9ydCBlcnJvcnMgYXMgdGhleSBhcmUgZXhwZWN0ZWQuXG4gICAgICBpZiAoaXNBYm9ydCB8fCAoZXJyIGFzIGFueSkubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIGlzQWJvcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXR1cyh7IHN0YXR1czogJ3JlYWR5JyB9KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlzRXJyb3IgPSB0cnVlO1xuXG4gICAgICAvLyBOZXR3b3JrIGVycm9ycyBzdWNoIGFzIGRpc2Nvbm5lY3RlZCwgdGltZW91dCwgZXRjLlxuICAgICAgaWYgKFxuICAgICAgICBlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiZcbiAgICAgICAgKGVyci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2ZldGNoJykgfHxcbiAgICAgICAgICBlcnIubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCduZXR3b3JrJykpXG4gICAgICApIHtcbiAgICAgICAgaXNEaXNjb25uZWN0ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub25FcnJvciAmJiBlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aGlzLm9uRXJyb3IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0dXMoeyBzdGF0dXM6ICdlcnJvcicsIGVycm9yOiBlcnIgYXMgRXJyb3IgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMub25GaW5pc2g/Lih7XG4gICAgICAgICAgbWVzc2FnZTogdGhpcy5hY3RpdmVSZXNwb25zZSEuc3RhdGUubWVzc2FnZSxcbiAgICAgICAgICBtZXNzYWdlczogdGhpcy5zdGF0ZS5tZXNzYWdlcyxcbiAgICAgICAgICBpc0Fib3J0LFxuICAgICAgICAgIGlzRGlzY29ubmVjdCxcbiAgICAgICAgICBpc0Vycm9yLFxuICAgICAgICAgIGZpbmlzaFJlYXNvbjogdGhpcy5hY3RpdmVSZXNwb25zZT8uc3RhdGUuZmluaXNoUmVhc29uLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWN0aXZlUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gYXV0b21hdGljYWxseSBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBzZW5kQXV0b21hdGljYWxseVdoZW4gZnVuY3Rpb24gcmV0dXJucyB0cnVlXG4gICAgaWYgKFxuICAgICAgdGhpcy5zZW5kQXV0b21hdGljYWxseVdoZW4/Lih7IG1lc3NhZ2VzOiB0aGlzLnN0YXRlLm1lc3NhZ2VzIH0pICYmXG4gICAgICAhaXNFcnJvclxuICAgICkge1xuICAgICAgYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCh7XG4gICAgICAgIHRyaWdnZXI6ICdzdWJtaXQtbWVzc2FnZScsXG4gICAgICAgIG1lc3NhZ2VJZDogdGhpcy5sYXN0TWVzc2FnZT8uaWQsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgRmlsZVVJUGFydCB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydEZpbGVMaXN0VG9GaWxlVUlQYXJ0cyhcbiAgZmlsZXM6IEZpbGVMaXN0IHwgdW5kZWZpbmVkLFxuKTogUHJvbWlzZTxBcnJheTxGaWxlVUlQYXJ0Pj4ge1xuICBpZiAoZmlsZXMgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIFJlYWN0LW5hdGl2ZSBkb2Vzbid0IGhhdmUgYSBGaWxlTGlzdCBnbG9iYWw6XG4gIGlmICghZ2xvYmFsVGhpcy5GaWxlTGlzdCB8fCAhKGZpbGVzIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5GaWxlTGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQnKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChcbiAgICBBcnJheS5mcm9tKGZpbGVzKS5tYXAoYXN5bmMgZmlsZSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIHR5cGUgfSA9IGZpbGU7XG5cbiAgICAgIGNvbnN0IGRhdGFVcmwgPSBhd2FpdCBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IHJlYWRlckV2ZW50ID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlYWRlckV2ZW50LnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ZpbGUnLFxuICAgICAgICBtZWRpYVR5cGU6IHR5cGUsXG4gICAgICAgIGZpbGVuYW1lOiBuYW1lLFxuICAgICAgICB1cmw6IGRhdGFVcmwsXG4gICAgICB9O1xuICAgIH0pLFxuICApO1xufVxuIiwgImltcG9ydCB7IHBhcnNlSnNvbkV2ZW50U3RyZWFtLCBQYXJzZVJlc3VsdCB9IGZyb20gJ0BhaS1zZGsvcHJvdmlkZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgVUlNZXNzYWdlQ2h1bmssXG4gIHVpTWVzc2FnZUNodW5rU2NoZW1hLFxufSBmcm9tICcuLi91aS1tZXNzYWdlLXN0cmVhbS91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQge1xuICBIdHRwQ2hhdFRyYW5zcG9ydCxcbiAgSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9ucyxcbn0gZnJvbSAnLi9odHRwLWNoYXQtdHJhbnNwb3J0JztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5leHBvcnQgY2xhc3MgRGVmYXVsdENoYXRUcmFuc3BvcnQ8XG4gIFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2UsXG4+IGV4dGVuZHMgSHR0cENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRT4ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+ID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwcm9jZXNzUmVzcG9uc2VTdHJlYW0oXG4gICAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4+LFxuICApOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz4ge1xuICAgIHJldHVybiBwYXJzZUpzb25FdmVudFN0cmVhbSh7XG4gICAgICBzdHJlYW0sXG4gICAgICBzY2hlbWE6IHVpTWVzc2FnZUNodW5rU2NoZW1hLFxuICAgIH0pLnBpcGVUaHJvdWdoKFxuICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbTxQYXJzZVJlc3VsdDxVSU1lc3NhZ2VDaHVuaz4sIFVJTWVzc2FnZUNodW5rPih7XG4gICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgIGlmICghY2h1bmsuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgY2h1bmsuZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuay52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgRmV0Y2hGdW5jdGlvbixcbiAgUmVzb2x2YWJsZSxcbiAgbm9ybWFsaXplSGVhZGVycyxcbiAgcmVzb2x2ZSxcbiAgd2l0aFVzZXJBZ2VudFN1ZmZpeCxcbiAgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50LFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi4vdWktbWVzc2FnZS1zdHJlYW0vdWktbWVzc2FnZS1jaHVua3MnO1xuaW1wb3J0IHsgQ2hhdFRyYW5zcG9ydCB9IGZyb20gJy4vY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi91aS1tZXNzYWdlcyc7XG5pbXBvcnQgeyBWRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbic7XG5cbmV4cG9ydCB0eXBlIFByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID0gKFxuICBvcHRpb25zOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtZXNzYWdlczogVUlfTUVTU0FHRVtdO1xuICAgIHJlcXVlc3RNZXRhZGF0YTogdW5rbm93bjtcbiAgICBib2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgdW5kZWZpbmVkO1xuICAgIGNyZWRlbnRpYWxzOiBSZXF1ZXN0Q3JlZGVudGlhbHMgfCB1bmRlZmluZWQ7XG4gICAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQ7XG4gICAgYXBpOiBzdHJpbmc7XG4gIH0gJiB7XG4gICAgdHJpZ2dlcjogJ3N1Ym1pdC1tZXNzYWdlJyB8ICdyZWdlbmVyYXRlLW1lc3NhZ2UnO1xuICAgIG1lc3NhZ2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB9LFxuKSA9PlxuICB8IHtcbiAgICAgIGJvZHk6IG9iamVjdDtcbiAgICAgIGhlYWRlcnM/OiBIZWFkZXJzSW5pdDtcbiAgICAgIGNyZWRlbnRpYWxzPzogUmVxdWVzdENyZWRlbnRpYWxzO1xuICAgICAgYXBpPzogc3RyaW5nO1xuICAgIH1cbiAgfCBQcm9taXNlTGlrZTx7XG4gICAgICBib2R5OiBvYmplY3Q7XG4gICAgICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gICAgICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgICAgIGFwaT86IHN0cmluZztcbiAgICB9PjtcblxuZXhwb3J0IHR5cGUgUHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdCA9IChvcHRpb25zOiB7XG4gIGlkOiBzdHJpbmc7XG4gIHJlcXVlc3RNZXRhZGF0YTogdW5rbm93bjtcbiAgYm9keTogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZDtcbiAgY3JlZGVudGlhbHM6IFJlcXVlc3RDcmVkZW50aWFscyB8IHVuZGVmaW5lZDtcbiAgaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQ7XG4gIGFwaTogc3RyaW5nO1xufSkgPT5cbiAgfCB7XG4gICAgICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gICAgICBjcmVkZW50aWFscz86IFJlcXVlc3RDcmVkZW50aWFscztcbiAgICAgIGFwaT86IHN0cmluZztcbiAgICB9XG4gIHwgUHJvbWlzZUxpa2U8e1xuICAgICAgaGVhZGVycz86IEhlYWRlcnNJbml0O1xuICAgICAgY3JlZGVudGlhbHM/OiBSZXF1ZXN0Q3JlZGVudGlhbHM7XG4gICAgICBhcGk/OiBzdHJpbmc7XG4gICAgfT47XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgdGhlIGBIdHRwQ2hhdFRyYW5zcG9ydGAgY2xhc3MuXG4gKlxuICogQHBhcmFtIFVJX01FU1NBR0UgLSBUaGUgdHlwZSBvZiBtZXNzYWdlIHRvIGJlIHVzZWQgaW4gdGhlIGNoYXQuXG4gKi9cbmV4cG9ydCB0eXBlIEh0dHBDaGF0VHJhbnNwb3J0SW5pdE9wdGlvbnM8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4gPSB7XG4gIC8qKlxuICAgKiBUaGUgQVBJIFVSTCB0byBiZSB1c2VkIGZvciB0aGUgY2hhdCB0cmFuc3BvcnQuXG4gICAqIERlZmF1bHRzIHRvICcvYXBpL2NoYXQnLlxuICAgKi9cbiAgYXBpPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY3JlZGVudGlhbHMgbW9kZSB0byBiZSB1c2VkIGZvciB0aGUgZmV0Y2ggcmVxdWVzdC5cbiAgICogUG9zc2libGUgdmFsdWVzIGFyZTogJ29taXQnLCAnc2FtZS1vcmlnaW4nLCAnaW5jbHVkZScuXG4gICAqIERlZmF1bHRzIHRvICdzYW1lLW9yaWdpbicuXG4gICAqL1xuICBjcmVkZW50aWFscz86IFJlc29sdmFibGU8UmVxdWVzdENyZWRlbnRpYWxzPjtcblxuICAvKipcbiAgICogSFRUUCBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgQVBJIHJlcXVlc3QuXG4gICAqL1xuICBoZWFkZXJzPzogUmVzb2x2YWJsZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgSGVhZGVycz47XG5cbiAgLyoqXG4gICAqIEV4dHJhIGJvZHkgb2JqZWN0IHRvIGJlIHNlbnQgd2l0aCB0aGUgQVBJIHJlcXVlc3QuXG4gICAqIEBleGFtcGxlXG4gICAqIFNlbmQgYSBgc2Vzc2lvbklkYCB0byB0aGUgQVBJIGFsb25nIHdpdGggdGhlIG1lc3NhZ2VzLlxuICAgKiBgYGBqc1xuICAgKiB1c2VDaGF0KHtcbiAgICogICBib2R5OiB7XG4gICAqICAgICBzZXNzaW9uSWQ6ICcxMjMnLFxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBib2R5PzogUmVzb2x2YWJsZTxvYmplY3Q+O1xuXG4gIC8qKlxuICBDdXN0b20gZmV0Y2ggaW1wbGVtZW50YXRpb24uIFlvdSBjYW4gdXNlIGl0IGFzIGEgbWlkZGxld2FyZSB0byBpbnRlcmNlcHQgcmVxdWVzdHMsXG4gIG9yIHRvIHByb3ZpZGUgYSBjdXN0b20gZmV0Y2ggaW1wbGVtZW50YXRpb24gZm9yIGUuZy4gdGVzdGluZy5cbiAgICAgICovXG4gIGZldGNoPzogRmV0Y2hGdW5jdGlvbjtcblxuICAvKipcbiAgICogV2hlbiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWRcbiAgICogdG8gcHJlcGFyZSB0aGUgcmVxdWVzdCBib2R5IGZvciB0aGUgY2hhdCBBUEkuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcbiAgICogY3VzdG9taXppbmcgdGhlIHJlcXVlc3QgYm9keSBiYXNlZCBvbiB0aGUgbWVzc2FnZXMgYW5kIGRhdGEgaW4gdGhlIGNoYXQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIGNoYXQuXG4gICAqIEBwYXJhbSBtZXNzYWdlcyBUaGUgY3VycmVudCBtZXNzYWdlcyBpbiB0aGUgY2hhdC5cbiAgICogQHBhcmFtIHJlcXVlc3RCb2R5IFRoZSByZXF1ZXN0IGJvZHkgb2JqZWN0IHBhc3NlZCBpbiB0aGUgY2hhdCByZXF1ZXN0LlxuICAgKi9cbiAgcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q/OiBQcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDxVSV9NRVNTQUdFPjtcblxuICAvKipcbiAgICogV2hlbiBhIGZ1bmN0aW9uIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWRcbiAgICogdG8gcHJlcGFyZSB0aGUgcmVxdWVzdCBib2R5IGZvciB0aGUgY2hhdCBBUEkuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcbiAgICogY3VzdG9taXppbmcgdGhlIHJlcXVlc3QgYm9keSBiYXNlZCBvbiB0aGUgbWVzc2FnZXMgYW5kIGRhdGEgaW4gdGhlIGNoYXQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCBUaGUgaWQgb2YgdGhlIGNoYXQuXG4gICAqIEBwYXJhbSBtZXNzYWdlcyBUaGUgY3VycmVudCBtZXNzYWdlcyBpbiB0aGUgY2hhdC5cbiAgICogQHBhcmFtIHJlcXVlc3RCb2R5IFRoZSByZXF1ZXN0IGJvZHkgb2JqZWN0IHBhc3NlZCBpbiB0aGUgY2hhdCByZXF1ZXN0LlxuICAgKi9cbiAgcHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdD86IFByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q7XG59O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSHR0cENoYXRUcmFuc3BvcnQ8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT5cbiAgaW1wbGVtZW50cyBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+XG57XG4gIHByb3RlY3RlZCBhcGk6IHN0cmluZztcbiAgcHJvdGVjdGVkIGNyZWRlbnRpYWxzOiBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zPFVJX01FU1NBR0U+WydjcmVkZW50aWFscyddO1xuICBwcm90ZWN0ZWQgaGVhZGVyczogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPlsnaGVhZGVycyddO1xuICBwcm90ZWN0ZWQgYm9keTogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPlsnYm9keSddO1xuICBwcm90ZWN0ZWQgZmV0Y2g/OiBGZXRjaEZ1bmN0aW9uO1xuICBwcm90ZWN0ZWQgcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q/OiBQcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDxVSV9NRVNTQUdFPjtcbiAgcHJvdGVjdGVkIHByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q/OiBQcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0O1xuXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBhcGkgPSAnL2FwaS9jaGF0JyxcbiAgICBjcmVkZW50aWFscyxcbiAgICBoZWFkZXJzLFxuICAgIGJvZHksXG4gICAgZmV0Y2gsXG4gICAgcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3QsXG4gICAgcHJlcGFyZVJlY29ubmVjdFRvU3RyZWFtUmVxdWVzdCxcbiAgfTogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPikge1xuICAgIHRoaXMuYXBpID0gYXBpO1xuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgdGhpcy5mZXRjaCA9IGZldGNoO1xuICAgIHRoaXMucHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3QgPSBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDtcbiAgICB0aGlzLnByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3QgPSBwcmVwYXJlUmVjb25uZWN0VG9TdHJlYW1SZXF1ZXN0O1xuICB9XG5cbiAgYXN5bmMgc2VuZE1lc3NhZ2VzKHtcbiAgICBhYm9ydFNpZ25hbCxcbiAgICAuLi5vcHRpb25zXG4gIH06IFBhcmFtZXRlcnM8Q2hhdFRyYW5zcG9ydDxVSV9NRVNTQUdFPlsnc2VuZE1lc3NhZ2VzJ10+WzBdKSB7XG4gICAgY29uc3QgcmVzb2x2ZWRCb2R5ID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmJvZHkpO1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5oZWFkZXJzKTtcbiAgICBjb25zdCByZXNvbHZlZENyZWRlbnRpYWxzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNyZWRlbnRpYWxzKTtcblxuICAgIGNvbnN0IGJhc2VIZWFkZXJzID0ge1xuICAgICAgLi4ubm9ybWFsaXplSGVhZGVycyhyZXNvbHZlZEhlYWRlcnMpLFxuICAgICAgLi4ubm9ybWFsaXplSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpLFxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlZFJlcXVlc3QgPSBhd2FpdCB0aGlzLnByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0Py4oe1xuICAgICAgYXBpOiB0aGlzLmFwaSxcbiAgICAgIGlkOiBvcHRpb25zLmNoYXRJZCxcbiAgICAgIG1lc3NhZ2VzOiBvcHRpb25zLm1lc3NhZ2VzLFxuICAgICAgYm9keTogeyAuLi5yZXNvbHZlZEJvZHksIC4uLm9wdGlvbnMuYm9keSB9LFxuICAgICAgaGVhZGVyczogYmFzZUhlYWRlcnMsXG4gICAgICBjcmVkZW50aWFsczogcmVzb2x2ZWRDcmVkZW50aWFscyxcbiAgICAgIHJlcXVlc3RNZXRhZGF0YTogb3B0aW9ucy5tZXRhZGF0YSxcbiAgICAgIHRyaWdnZXI6IG9wdGlvbnMudHJpZ2dlcixcbiAgICAgIG1lc3NhZ2VJZDogb3B0aW9ucy5tZXNzYWdlSWQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBhcGkgPSBwcmVwYXJlZFJlcXVlc3Q/LmFwaSA/PyB0aGlzLmFwaTtcbiAgICBjb25zdCBoZWFkZXJzID1cbiAgICAgIHByZXBhcmVkUmVxdWVzdD8uaGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbm9ybWFsaXplSGVhZGVycyhwcmVwYXJlZFJlcXVlc3QuaGVhZGVycylcbiAgICAgICAgOiBiYXNlSGVhZGVycztcbiAgICBjb25zdCBib2R5ID1cbiAgICAgIHByZXBhcmVkUmVxdWVzdD8uYm9keSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcHJlcGFyZWRSZXF1ZXN0LmJvZHlcbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5yZXNvbHZlZEJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLmJvZHksXG4gICAgICAgICAgICBpZDogb3B0aW9ucy5jaGF0SWQsXG4gICAgICAgICAgICBtZXNzYWdlczogb3B0aW9ucy5tZXNzYWdlcyxcbiAgICAgICAgICAgIHRyaWdnZXI6IG9wdGlvbnMudHJpZ2dlcixcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogb3B0aW9ucy5tZXNzYWdlSWQsXG4gICAgICAgICAgfTtcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IHByZXBhcmVkUmVxdWVzdD8uY3JlZGVudGlhbHMgPz8gcmVzb2x2ZWRDcmVkZW50aWFscztcblxuICAgIC8vIGF2b2lkIGNhY2hpbmcgZ2xvYmFsVGhpcy5mZXRjaCBpbiBjYXNlIGl0IGlzIHBhdGNoZWQgYnkgb3RoZXIgbGlicmFyaWVzXG4gICAgY29uc3QgZmV0Y2ggPSB0aGlzLmZldGNoID8/IGdsb2JhbFRoaXMuZmV0Y2g7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB3aXRoVXNlckFnZW50U3VmZml4KFxuICAgICAgICB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICB9LFxuICAgICAgICBgYWktc2RrLyR7VkVSU0lPTn1gLFxuICAgICAgICBnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQoKSxcbiAgICAgICksXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbCxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgKGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgPz8gJ0ZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKHJlc3BvbnNlLmJvZHkpO1xuICB9XG5cbiAgYXN5bmMgcmVjb25uZWN0VG9TdHJlYW0oXG4gICAgb3B0aW9uczogUGFyYW1ldGVyczxDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+WydyZWNvbm5lY3RUb1N0cmVhbSddPlswXSxcbiAgKTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz4gfCBudWxsPiB7XG4gICAgY29uc3QgcmVzb2x2ZWRCb2R5ID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmJvZHkpO1xuICAgIGNvbnN0IHJlc29sdmVkSGVhZGVycyA9IGF3YWl0IHJlc29sdmUodGhpcy5oZWFkZXJzKTtcbiAgICBjb25zdCByZXNvbHZlZENyZWRlbnRpYWxzID0gYXdhaXQgcmVzb2x2ZSh0aGlzLmNyZWRlbnRpYWxzKTtcblxuICAgIGNvbnN0IGJhc2VIZWFkZXJzID0ge1xuICAgICAgLi4ubm9ybWFsaXplSGVhZGVycyhyZXNvbHZlZEhlYWRlcnMpLFxuICAgICAgLi4ubm9ybWFsaXplSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpLFxuICAgIH07XG5cbiAgICBjb25zdCBwcmVwYXJlZFJlcXVlc3QgPSBhd2FpdCB0aGlzLnByZXBhcmVSZWNvbm5lY3RUb1N0cmVhbVJlcXVlc3Q/Lih7XG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgaWQ6IG9wdGlvbnMuY2hhdElkLFxuICAgICAgYm9keTogeyAuLi5yZXNvbHZlZEJvZHksIC4uLm9wdGlvbnMuYm9keSB9LFxuICAgICAgaGVhZGVyczogYmFzZUhlYWRlcnMsXG4gICAgICBjcmVkZW50aWFsczogcmVzb2x2ZWRDcmVkZW50aWFscyxcbiAgICAgIHJlcXVlc3RNZXRhZGF0YTogb3B0aW9ucy5tZXRhZGF0YSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGFwaSA9IHByZXBhcmVkUmVxdWVzdD8uYXBpID8/IGAke3RoaXMuYXBpfS8ke29wdGlvbnMuY2hhdElkfS9zdHJlYW1gO1xuICAgIGNvbnN0IGhlYWRlcnMgPVxuICAgICAgcHJlcGFyZWRSZXF1ZXN0Py5oZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBub3JtYWxpemVIZWFkZXJzKHByZXBhcmVkUmVxdWVzdC5oZWFkZXJzKVxuICAgICAgICA6IGJhc2VIZWFkZXJzO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gcHJlcGFyZWRSZXF1ZXN0Py5jcmVkZW50aWFscyA/PyByZXNvbHZlZENyZWRlbnRpYWxzO1xuXG4gICAgLy8gYXZvaWQgY2FjaGluZyBnbG9iYWxUaGlzLmZldGNoIGluIGNhc2UgaXQgaXMgcGF0Y2hlZCBieSBvdGhlciBsaWJyYXJpZXNcbiAgICBjb25zdCBmZXRjaCA9IHRoaXMuZmV0Y2ggPz8gZ2xvYmFsVGhpcy5mZXRjaDtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogd2l0aFVzZXJBZ2VudFN1ZmZpeChcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYGFpLXNkay8ke1ZFUlNJT059YCxcbiAgICAgICAgZ2V0UnVudGltZUVudmlyb25tZW50VXNlckFnZW50KCksXG4gICAgICApLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgfSk7XG5cbiAgICAvLyBubyBhY3RpdmUgc3RyZWFtIGZvdW5kLCBzbyB3ZSBkbyBub3QgcmVzdW1lXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIChhd2FpdCByZXNwb25zZS50ZXh0KCkpID8/ICdGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSZXNwb25zZVN0cmVhbShyZXNwb25zZS5ib2R5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBwcm9jZXNzUmVzcG9uc2VTdHJlYW0oXG4gICAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4+LFxuICApOiBSZWFkYWJsZVN0cmVhbTxVSU1lc3NhZ2VDaHVuaz47XG59XG4iLCAiaW1wb3J0IHsgaXNUb29sT3JEeW5hbWljVG9vbFVJUGFydCwgdHlwZSBVSU1lc3NhZ2UgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuLyoqXG5DaGVjayBpZiB0aGUgbWVzc2FnZSBpcyBhbiBhc3Npc3RhbnQgbWVzc2FnZSB3aXRoIGNvbXBsZXRlZCB0b29sIGNhbGxzLlxuVGhlIGxhc3Qgc3RlcCBvZiB0aGUgbWVzc2FnZSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHRvb2wgaW52b2NhdGlvbiBhbmRcbmFsbCB0b29sIGludm9jYXRpb25zIG11c3QgaGF2ZSBhIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RBc3Npc3RhbnRNZXNzYWdlSXNDb21wbGV0ZVdpdGhUb29sQ2FsbHMoe1xuICBtZXNzYWdlcyxcbn06IHtcbiAgbWVzc2FnZXM6IFVJTWVzc2FnZVtdO1xufSk6IGJvb2xlYW4ge1xuICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG5cbiAgaWYgKCFtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gJ2Fzc2lzdGFudCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBsYXN0U3RlcFN0YXJ0SW5kZXggPSBtZXNzYWdlLnBhcnRzLnJlZHVjZSgobGFzdEluZGV4LCBwYXJ0LCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBwYXJ0LnR5cGUgPT09ICdzdGVwLXN0YXJ0JyA/IGluZGV4IDogbGFzdEluZGV4O1xuICB9LCAtMSk7XG5cbiAgY29uc3QgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnBhcnRzXG4gICAgLnNsaWNlKGxhc3RTdGVwU3RhcnRJbmRleCArIDEpXG4gICAgLmZpbHRlcihpc1Rvb2xPckR5bmFtaWNUb29sVUlQYXJ0KVxuICAgIC5maWx0ZXIocGFydCA9PiAhcGFydC5wcm92aWRlckV4ZWN1dGVkKTtcblxuICByZXR1cm4gKFxuICAgIGxhc3RTdGVwVG9vbEludm9jYXRpb25zLmxlbmd0aCA+IDAgJiZcbiAgICBsYXN0U3RlcFRvb2xJbnZvY2F0aW9ucy5ldmVyeShcbiAgICAgIHBhcnQgPT5cbiAgICAgICAgcGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnIHx8IHBhcnQuc3RhdGUgPT09ICdvdXRwdXQtZXJyb3InLFxuICAgIClcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVRleHRUb1VpTWVzc2FnZVN0cmVhbSh7XG4gIHN0cmVhbSxcbn06IHtcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxzdHJpbmc+O1xufSkge1xuICByZXR1cm4gc3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW08c3RyaW5nLCBVSU1lc3NhZ2VDaHVuaz4oe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQnIH0pO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAnc3RhcnQtc3RlcCcgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICd0ZXh0LXN0YXJ0JywgaWQ6ICd0ZXh0LTEnIH0pO1xuICAgICAgfSxcblxuICAgICAgYXN5bmMgdHJhbnNmb3JtKHBhcnQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogJ3RleHQtZGVsdGEnLCBpZDogJ3RleHQtMScsIGRlbHRhOiBwYXJ0IH0pO1xuICAgICAgfSxcblxuICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiAndGV4dC1lbmQnLCBpZDogJ3RleHQtMScgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdmaW5pc2gtc3RlcCcgfSk7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6ICdmaW5pc2gnIH0pO1xuICAgICAgfSxcbiAgICB9KSxcbiAgKTtcbn1cbiIsICJpbXBvcnQgeyBVSU1lc3NhZ2VDaHVuayB9IGZyb20gJy4uL3VpLW1lc3NhZ2Utc3RyZWFtL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7XG4gIEh0dHBDaGF0VHJhbnNwb3J0LFxuICBIdHRwQ2hhdFRyYW5zcG9ydEluaXRPcHRpb25zLFxufSBmcm9tICcuL2h0dHAtY2hhdC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgdHJhbnNmb3JtVGV4dFRvVWlNZXNzYWdlU3RyZWFtIH0gZnJvbSAnLi90cmFuc2Zvcm0tdGV4dC10by11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQgeyBVSU1lc3NhZ2UgfSBmcm9tICcuL3VpLW1lc3NhZ2VzJztcblxuZXhwb3J0IGNsYXNzIFRleHRTdHJlYW1DaGF0VHJhbnNwb3J0PFxuICBVSV9NRVNTQUdFIGV4dGVuZHMgVUlNZXNzYWdlLFxuPiBleHRlbmRzIEh0dHBDaGF0VHJhbnNwb3J0PFVJX01FU1NBR0U+IHtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogSHR0cENoYXRUcmFuc3BvcnRJbml0T3B0aW9uczxVSV9NRVNTQUdFPiA9IHt9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJvY2Vzc1Jlc3BvbnNlU3RyZWFtKFxuICAgIHN0cmVhbTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+PixcbiAgKTogUmVhZGFibGVTdHJlYW08VUlNZXNzYWdlQ2h1bms+IHtcbiAgICByZXR1cm4gdHJhbnNmb3JtVGV4dFRvVWlNZXNzYWdlU3RyZWFtKHtcbiAgICAgIHN0cmVhbTogc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKSxcbiAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCB7IFR5cGVWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIGxhenlWYWxpZGF0b3IsXG4gIFN0YW5kYXJkU2NoZW1hVjEsXG4gIFRvb2wsXG4gIHZhbGlkYXRlVHlwZXMsXG4gIFZhbGlkYXRvcixcbiAgem9kU2NoZW1hLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgfSBmcm9tICcuLi9lcnJvcic7XG5pbXBvcnQgeyBwcm92aWRlck1ldGFkYXRhU2NoZW1hIH0gZnJvbSAnLi4vdHlwZXMvcHJvdmlkZXItbWV0YWRhdGEnO1xuaW1wb3J0IHtcbiAgRGF0YVVJUGFydCxcbiAgSW5mZXJVSU1lc3NhZ2VEYXRhLFxuICBJbmZlclVJTWVzc2FnZVRvb2xzLFxuICBUb29sVUlQYXJ0LFxuICBVSU1lc3NhZ2UsXG59IGZyb20gJy4vdWktbWVzc2FnZXMnO1xuXG5jb25zdCB1aU1lc3NhZ2VzU2NoZW1hID0gbGF6eVZhbGlkYXRvcigoKSA9PlxuICB6b2RTY2hlbWEoXG4gICAgelxuICAgICAgLmFycmF5KFxuICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgaWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgcm9sZTogei5lbnVtKFsnc3lzdGVtJywgJ3VzZXInLCAnYXNzaXN0YW50J10pLFxuICAgICAgICAgIG1ldGFkYXRhOiB6LnVua25vd24oKS5vcHRpb25hbCgpLFxuICAgICAgICAgIHBhcnRzOiB6XG4gICAgICAgICAgICAuYXJyYXkoXG4gICAgICAgICAgICAgIHoudW5pb24oW1xuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICAgICAgICAgICAgICAgICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB6LmVudW0oWydzdHJlYW1pbmcnLCAnZG9uZSddKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nJyksXG4gICAgICAgICAgICAgICAgICB0ZXh0OiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHouZW51bShbJ3N0cmVhbWluZycsICdkb25lJ10pLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtdXJsJyksXG4gICAgICAgICAgICAgICAgICBzb3VyY2VJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHVybDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdzb3VyY2UtZG9jdW1lbnQnKSxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUlkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZmlsZScpLFxuICAgICAgICAgICAgICAgICAgbWVkaWFUeXBlOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIHVybDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0ZXAtc3RhcnQnKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ2RhdGEtJyksXG4gICAgICAgICAgICAgICAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgZGF0YTogei51bmtub3duKCksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdkeW5hbWljLXRvb2wnKSxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2lucHV0LXN0cmVhbWluZycpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdkeW5hbWljLXRvb2wnKSxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2lucHV0LWF2YWlsYWJsZScpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2R5bmFtaWMtdG9vbCcpLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHoubGl0ZXJhbCgnb3V0cHV0LWF2YWlsYWJsZScpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogei51bmtub3duKCksXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZHluYW1pYy10b29sJyksXG4gICAgICAgICAgICAgICAgICB0b29sTmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtZXJyb3InKSxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHoubGl0ZXJhbCgnaW5wdXQtc3RyZWFtaW5nJyksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGFwcHJvdmFsOiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB6LnN0cmluZygpLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHoubGl0ZXJhbCgnaW5wdXQtYXZhaWxhYmxlJyksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgYXBwcm92YWw6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogei5saXRlcmFsKCdhcHByb3ZhbC1yZXF1ZXN0ZWQnKSxcbiAgICAgICAgICAgICAgICAgIGlucHV0OiB6LnVua25vd24oKSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBhcHByb3ZhbDogei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB6LmxpdGVyYWwoJ2FwcHJvdmFsLXJlc3BvbmRlZCcpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgICAgICAgICAgICAgICAgcHJvdmlkZXJFeGVjdXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBlcnJvclRleHQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGFwcHJvdmFsOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZDogei5ib29sZWFuKCksXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCd0b29sLScpLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiB6LmxpdGVyYWwoJ291dHB1dC1hdmFpbGFibGUnKSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHoudW5rbm93bigpLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGNhbGxQcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBwcmVsaW1pbmFyeTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGFwcHJvdmFsOiB6XG4gICAgICAgICAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkOiB6LmxpdGVyYWwodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtZXJyb3InKSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRXhlY3V0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBpbnB1dDogei51bmtub3duKCksXG4gICAgICAgICAgICAgICAgICBvdXRwdXQ6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgZXJyb3JUZXh0OiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgY2FsbFByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGFwcHJvdmFsOiB6XG4gICAgICAgICAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkOiB6LmxpdGVyYWwodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHouc3RyaW5nKCkuc3RhcnRzV2l0aCgndG9vbC0nKSxcbiAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogei5saXRlcmFsKCdvdXRwdXQtZGVuaWVkJyksXG4gICAgICAgICAgICAgICAgICBwcm92aWRlckV4ZWN1dGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgaW5wdXQ6IHoudW5rbm93bigpLFxuICAgICAgICAgICAgICAgICAgb3V0cHV0OiB6Lm5ldmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yVGV4dDogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICBjYWxsUHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgYXBwcm92YWw6IHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkOiB6LmxpdGVyYWwoZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5ub25lbXB0eSgnTWVzc2FnZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHBhcnQnKSxcbiAgICAgICAgfSksXG4gICAgICApXG4gICAgICAubm9uZW1wdHkoJ01lc3NhZ2VzIGFycmF5IG11c3Qgbm90IGJlIGVtcHR5JyksXG4gICksXG4pO1xuXG5leHBvcnQgdHlwZSBTYWZlVmFsaWRhdGVVSU1lc3NhZ2VzUmVzdWx0PFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+ID1cbiAgfCB7XG4gICAgICBzdWNjZXNzOiB0cnVlO1xuICAgICAgZGF0YTogQXJyYXk8VUlfTUVTU0FHRT47XG4gICAgfVxuICB8IHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlO1xuICAgICAgZXJyb3I6IEVycm9yO1xuICAgIH07XG5cbi8qKlxuICogVmFsaWRhdGVzIGEgbGlzdCBvZiBVSSBtZXNzYWdlcyBsaWtlIGB2YWxpZGF0ZVVJTWVzc2FnZXNgLFxuICogYnV0IGluc3RlYWQgb2YgdGhyb3dpbmcgaXQgcmV0dXJucyBgeyBzdWNjZXNzOiB0cnVlLCBkYXRhIH1gXG4gKiBvciBgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfWAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlVmFsaWRhdGVVSU1lc3NhZ2VzPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgbWVzc2FnZXMsXG4gIG1ldGFkYXRhU2NoZW1hLFxuICBkYXRhU2NoZW1hcyxcbiAgdG9vbHMsXG59OiB7XG4gIG1lc3NhZ2VzOiB1bmtub3duO1xuICBtZXRhZGF0YVNjaGVtYT86XG4gICAgfCBWYWxpZGF0b3I8VUlNZXNzYWdlWydtZXRhZGF0YSddPlxuICAgIHwgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBVSV9NRVNTQUdFWydtZXRhZGF0YSddPjtcbiAgZGF0YVNjaGVtYXM/OiB7XG4gICAgW05BTUUgaW4ga2V5b2YgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+ICYgc3RyaW5nXT86XG4gICAgICB8IFZhbGlkYXRvcjxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5bTkFNRV0+XG4gICAgICB8IFN0YW5kYXJkU2NoZW1hVjE8dW5rbm93biwgSW5mZXJVSU1lc3NhZ2VEYXRhPFVJX01FU1NBR0U+W05BTUVdPjtcbiAgfTtcbiAgdG9vbHM/OiB7XG4gICAgW05BTUUgaW4ga2V5b2YgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPiAmIHN0cmluZ10/OiBUb29sPFxuICAgICAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltOQU1FXVsnaW5wdXQnXSxcbiAgICAgIEluZmVyVUlNZXNzYWdlVG9vbHM8VUlfTUVTU0FHRT5bTkFNRV1bJ291dHB1dCddXG4gICAgPjtcbiAgfTtcbn0pOiBQcm9taXNlPFNhZmVWYWxpZGF0ZVVJTWVzc2FnZXNSZXN1bHQ8VUlfTUVTU0FHRT4+IHtcbiAgdHJ5IHtcbiAgICBpZiAobWVzc2FnZXMgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICAgIHBhcmFtZXRlcjogJ21lc3NhZ2VzJyxcbiAgICAgICAgICB2YWx1ZTogbWVzc2FnZXMsXG4gICAgICAgICAgbWVzc2FnZTogJ21lc3NhZ2VzIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkYXRlZE1lc3NhZ2VzID0gYXdhaXQgdmFsaWRhdGVUeXBlcyh7XG4gICAgICB2YWx1ZTogbWVzc2FnZXMsXG4gICAgICBzY2hlbWE6IHVpTWVzc2FnZXNTY2hlbWEsXG4gICAgfSk7XG5cbiAgICBpZiAobWV0YWRhdGFTY2hlbWEpIHtcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB2YWxpZGF0ZWRNZXNzYWdlcykge1xuICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICB2YWx1ZTogbWVzc2FnZS5tZXRhZGF0YSxcbiAgICAgICAgICBzY2hlbWE6IG1ldGFkYXRhU2NoZW1hLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YVNjaGVtYXMpIHtcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB2YWxpZGF0ZWRNZXNzYWdlcykge1xuICAgICAgICBjb25zdCBkYXRhUGFydHMgPSBtZXNzYWdlLnBhcnRzLmZpbHRlcihwYXJ0ID0+XG4gICAgICAgICAgcGFydC50eXBlLnN0YXJ0c1dpdGgoJ2RhdGEtJyksXG4gICAgICAgICkgYXMgRGF0YVVJUGFydDxJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4+W107XG5cbiAgICAgICAgZm9yIChjb25zdCBkYXRhUGFydCBvZiBkYXRhUGFydHMpIHtcbiAgICAgICAgICBjb25zdCBkYXRhTmFtZSA9IGRhdGFQYXJ0LnR5cGUuc2xpY2UoNSk7XG4gICAgICAgICAgY29uc3QgZGF0YVNjaGVtYSA9IGRhdGFTY2hlbWFzW2RhdGFOYW1lXTtcblxuICAgICAgICAgIGlmICghZGF0YVNjaGVtYSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgIGVycm9yOiBuZXcgVHlwZVZhbGlkYXRpb25FcnJvcih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhdGFQYXJ0LmRhdGEsXG4gICAgICAgICAgICAgICAgY2F1c2U6IGBObyBkYXRhIHNjaGVtYSBmb3VuZCBmb3IgZGF0YSBwYXJ0ICR7ZGF0YU5hbWV9YCxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgdmFsdWU6IGRhdGFQYXJ0LmRhdGEsXG4gICAgICAgICAgICBzY2hlbWE6IGRhdGFTY2hlbWEsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodG9vbHMpIHtcbiAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiB2YWxpZGF0ZWRNZXNzYWdlcykge1xuICAgICAgICBjb25zdCB0b29sUGFydHMgPSBtZXNzYWdlLnBhcnRzLmZpbHRlcihwYXJ0ID0+XG4gICAgICAgICAgcGFydC50eXBlLnN0YXJ0c1dpdGgoJ3Rvb2wtJyksXG4gICAgICAgICkgYXMgVG9vbFVJUGFydDxJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+PltdO1xuXG4gICAgICAgIGZvciAoY29uc3QgdG9vbFBhcnQgb2YgdG9vbFBhcnRzKSB7XG4gICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSB0b29sUGFydC50eXBlLnNsaWNlKDUpO1xuICAgICAgICAgIGNvbnN0IHRvb2wgPSB0b29sc1t0b29sTmFtZV07XG5cbiAgICAgICAgICBpZiAoIXRvb2wpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0b29sUGFydC5pbnB1dCxcbiAgICAgICAgICAgICAgICBjYXVzZTogYE5vIHRvb2wgc2NoZW1hIGZvdW5kIGZvciB0b29sIHBhcnQgJHt0b29sTmFtZX1gLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdG9vbFBhcnQuc3RhdGUgPT09ICdpbnB1dC1hdmFpbGFibGUnIHx8XG4gICAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnIHx8XG4gICAgICAgICAgICB0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1lcnJvcidcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlVHlwZXMoe1xuICAgICAgICAgICAgICB2YWx1ZTogdG9vbFBhcnQuaW5wdXQsXG4gICAgICAgICAgICAgIHNjaGVtYTogdG9vbC5pbnB1dFNjaGVtYSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0b29sUGFydC5zdGF0ZSA9PT0gJ291dHB1dC1hdmFpbGFibGUnICYmIHRvb2wub3V0cHV0U2NoZW1hKSB7XG4gICAgICAgICAgICBhd2FpdCB2YWxpZGF0ZVR5cGVzKHtcbiAgICAgICAgICAgICAgdmFsdWU6IHRvb2xQYXJ0Lm91dHB1dCxcbiAgICAgICAgICAgICAgc2NoZW1hOiB0b29sLm91dHB1dFNjaGVtYSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogdmFsaWRhdGVkTWVzc2FnZXMgYXMgQXJyYXk8VUlfTUVTU0FHRT4sXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBlcnIgPSBlcnJvciBhcyBFcnJvcjtcblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnIsXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhIGxpc3Qgb2YgVUkgbWVzc2FnZXMuXG4gKlxuICogTWV0YWRhdGEsIGRhdGEgcGFydHMsIGFuZCBnZW5lcmljIHRvb2wgY2FsbCBzdHJ1Y3R1cmVzIGFyZSBvbmx5IHZhbGlkYXRlZCBpZlxuICogdGhlIGNvcnJlc3BvbmRpbmcgc2NoZW1hcyBhcmUgcHJvdmlkZWQuIE90aGVyd2lzZSwgdGhleSBhcmUgYXNzdW1lZCB0byBiZVxuICogdmFsaWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVVJTWVzc2FnZXM8VUlfTUVTU0FHRSBleHRlbmRzIFVJTWVzc2FnZT4oe1xuICBtZXNzYWdlcyxcbiAgbWV0YWRhdGFTY2hlbWEsXG4gIGRhdGFTY2hlbWFzLFxuICB0b29scyxcbn06IHtcbiAgbWVzc2FnZXM6IHVua25vd247XG4gIG1ldGFkYXRhU2NoZW1hPzpcbiAgICB8IFZhbGlkYXRvcjxVSU1lc3NhZ2VbJ21ldGFkYXRhJ10+XG4gICAgfCBTdGFuZGFyZFNjaGVtYVYxPHVua25vd24sIFVJX01FU1NBR0VbJ21ldGFkYXRhJ10+O1xuICBkYXRhU2NoZW1hcz86IHtcbiAgICBbTkFNRSBpbiBrZXlvZiBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT4gJiBzdHJpbmddPzpcbiAgICAgIHwgVmFsaWRhdG9yPEluZmVyVUlNZXNzYWdlRGF0YTxVSV9NRVNTQUdFPltOQU1FXT5cbiAgICAgIHwgU3RhbmRhcmRTY2hlbWFWMTx1bmtub3duLCBJbmZlclVJTWVzc2FnZURhdGE8VUlfTUVTU0FHRT5bTkFNRV0+O1xuICB9O1xuICB0b29scz86IHtcbiAgICBbTkFNRSBpbiBrZXlvZiBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+ICYgc3RyaW5nXT86IFRvb2w8XG4gICAgICBJbmZlclVJTWVzc2FnZVRvb2xzPFVJX01FU1NBR0U+W05BTUVdWydpbnB1dCddLFxuICAgICAgSW5mZXJVSU1lc3NhZ2VUb29sczxVSV9NRVNTQUdFPltOQU1FXVsnb3V0cHV0J11cbiAgICA+O1xuICB9O1xufSk6IFByb21pc2U8QXJyYXk8VUlfTUVTU0FHRT4+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzYWZlVmFsaWRhdGVVSU1lc3NhZ2VzKHtcbiAgICBtZXNzYWdlcyxcbiAgICBtZXRhZGF0YVNjaGVtYSxcbiAgICBkYXRhU2NoZW1hcyxcbiAgICB0b29scyxcbiAgfSk7XG5cbiAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB0aHJvdyByZXNwb25zZS5lcnJvcjtcblxuICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbn1cbiIsICJpbXBvcnQge1xuICBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jLFxuICBnZXRFcnJvck1lc3NhZ2UsXG4gIElkR2VuZXJhdG9yLFxufSBmcm9tICdAYWktc2RrL3Byb3ZpZGVyLXV0aWxzJztcbmltcG9ydCB7IFVJTWVzc2FnZSB9IGZyb20gJy4uL3VpL3VpLW1lc3NhZ2VzJztcbmltcG9ydCB7IGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaCB9IGZyb20gJy4vaGFuZGxlLXVpLW1lc3NhZ2Utc3RyZWFtLWZpbmlzaCc7XG5pbXBvcnQgeyBJbmZlclVJTWVzc2FnZUNodW5rIH0gZnJvbSAnLi91aS1tZXNzYWdlLWNodW5rcyc7XG5pbXBvcnQgeyBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS1vbi1maW5pc2gtY2FsbGJhY2snO1xuaW1wb3J0IHsgVUlNZXNzYWdlU3RyZWFtV3JpdGVyIH0gZnJvbSAnLi91aS1tZXNzYWdlLXN0cmVhbS13cml0ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgZXhlY3V0ZSxcbiAgb25FcnJvciA9IGdldEVycm9yTWVzc2FnZSxcbiAgb3JpZ2luYWxNZXNzYWdlcyxcbiAgb25GaW5pc2gsXG4gIGdlbmVyYXRlSWQgPSBnZW5lcmF0ZUlkRnVuYyxcbn06IHtcbiAgZXhlY3V0ZTogKG9wdGlvbnM6IHtcbiAgICB3cml0ZXI6IFVJTWVzc2FnZVN0cmVhbVdyaXRlcjxVSV9NRVNTQUdFPjtcbiAgfSkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG4gIG9uRXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9yaWdpbmFsIG1lc3NhZ2VzLiBJZiB0aGV5IGFyZSBwcm92aWRlZCwgcGVyc2lzdGVuY2UgbW9kZSBpcyBhc3N1bWVkLFxuICAgKiBhbmQgYSBtZXNzYWdlIElEIGlzIHByb3ZpZGVkIGZvciB0aGUgcmVzcG9uc2UgbWVzc2FnZS5cbiAgICovXG4gIG9yaWdpbmFsTWVzc2FnZXM/OiBVSV9NRVNTQUdFW107XG5cbiAgb25GaW5pc2g/OiBVSU1lc3NhZ2VTdHJlYW1PbkZpbmlzaENhbGxiYWNrPFVJX01FU1NBR0U+O1xuXG4gIGdlbmVyYXRlSWQ/OiBJZEdlbmVyYXRvcjtcbn0pOiBSZWFkYWJsZVN0cmVhbTxJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+PiB7XG4gIGxldCBjb250cm9sbGVyITogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxcbiAgICBJbmZlclVJTWVzc2FnZUNodW5rPFVJX01FU1NBR0U+XG4gID47XG5cbiAgY29uc3Qgb25nb2luZ1N0cmVhbVByb21pc2VzOiBQcm9taXNlPHZvaWQ+W10gPSBbXTtcblxuICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIHN0YXJ0KGNvbnRyb2xsZXJBcmcpIHtcbiAgICAgIGNvbnRyb2xsZXIgPSBjb250cm9sbGVyQXJnO1xuICAgIH0sXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNhZmVFbnF1ZXVlKGRhdGE6IEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pIHtcbiAgICB0cnkge1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBzdXBwcmVzcyBlcnJvcnMgd2hlbiB0aGUgc3RyZWFtIGhhcyBiZWVuIGNsb3NlZFxuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZXhlY3V0ZSh7XG4gICAgICB3cml0ZXI6IHtcbiAgICAgICAgd3JpdGUocGFydDogSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPikge1xuICAgICAgICAgIHNhZmVFbnF1ZXVlKHBhcnQpO1xuICAgICAgICB9LFxuICAgICAgICBtZXJnZShzdHJlYW1BcmcpIHtcbiAgICAgICAgICBvbmdvaW5nU3RyZWFtUHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbUFyZy5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKSBicmVhaztcbiAgICAgICAgICAgICAgICBzYWZlRW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICBzYWZlRW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvclRleHQ6IG9uRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgICB9IGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBvbmdvaW5nU3RyZWFtUHJvbWlzZXMucHVzaChcbiAgICAgICAgcmVzdWx0LmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBzYWZlRW5xdWV1ZSh7XG4gICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgZXJyb3JUZXh0OiBvbkVycm9yKGVycm9yKSxcbiAgICAgICAgICB9IGFzIEluZmVyVUlNZXNzYWdlQ2h1bms8VUlfTUVTU0FHRT4pO1xuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNhZmVFbnF1ZXVlKHtcbiAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICBlcnJvclRleHQ6IG9uRXJyb3IoZXJyb3IpLFxuICAgIH0gYXMgSW5mZXJVSU1lc3NhZ2VDaHVuazxVSV9NRVNTQUdFPik7XG4gIH1cblxuICAvLyBXYWl0IHVudGlsIGFsbCBvbmdvaW5nIHN0cmVhbXMgYXJlIGRvbmUuIFRoaXMgYXBwcm9hY2ggZW5hYmxlcyBtZXJnaW5nXG4gIC8vIHN0cmVhbXMgZXZlbiBhZnRlciBleGVjdXRlIGhhcyByZXR1cm5lZCwgYXMgbG9uZyBhcyB0aGVyZSBpcyBzdGlsbCBhblxuICAvLyBvcGVuIG1lcmdlZCBzdHJlYW0uIFRoaXMgaXMgaW1wb3J0YW50IHRvIGUuZy4gZm9yd2FyZCBuZXcgc3RyZWFtcyBhbmRcbiAgLy8gZnJvbSBjYWxsYmFja3MuXG4gIGNvbnN0IHdhaXRGb3JTdHJlYW1zOiBQcm9taXNlPHZvaWQ+ID0gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgd2hpbGUgKG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBvbmdvaW5nU3RyZWFtUHJvbWlzZXMuc2hpZnQoKTtcbiAgICB9XG4gICAgcmVzb2x2ZSgpO1xuICB9KTtcblxuICB3YWl0Rm9yU3RyZWFtcy5maW5hbGx5KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBzdXBwcmVzcyBlcnJvcnMgd2hlbiB0aGUgc3RyZWFtIGhhcyBiZWVuIGNsb3NlZFxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGhhbmRsZVVJTWVzc2FnZVN0cmVhbUZpbmlzaDxVSV9NRVNTQUdFPih7XG4gICAgc3RyZWFtLFxuICAgIG1lc3NhZ2VJZDogZ2VuZXJhdGVJZCgpLFxuICAgIG9yaWdpbmFsTWVzc2FnZXMsXG4gICAgb25GaW5pc2gsXG4gICAgb25FcnJvcixcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgVUlNZXNzYWdlIH0gZnJvbSAnLi4vdWkvdWktbWVzc2FnZXMnO1xuaW1wb3J0IHsgVUlNZXNzYWdlQ2h1bmsgfSBmcm9tICcuL3VpLW1lc3NhZ2UtY2h1bmtzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVN0cmVhbWluZ1VJTWVzc2FnZVN0YXRlLFxuICBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtLFxuICBTdHJlYW1pbmdVSU1lc3NhZ2VTdGF0ZSxcbn0gZnJvbSAnLi4vdWkvcHJvY2Vzcy11aS1tZXNzYWdlLXN0cmVhbSc7XG5pbXBvcnQge1xuICBBc3luY0l0ZXJhYmxlU3RyZWFtLFxuICBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtLFxufSBmcm9tICcuLi91dGlsL2FzeW5jLWl0ZXJhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBjb25zdW1lU3RyZWFtIH0gZnJvbSAnLi4vdXRpbC9jb25zdW1lLXN0cmVhbSc7XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhIHN0cmVhbSBvZiBgVUlNZXNzYWdlQ2h1bmtgcyBpbnRvIGFuIGBBc3luY0l0ZXJhYmxlU3RyZWFtYCBvZiBgVUlNZXNzYWdlYHMuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMubWVzc2FnZSAtIFRoZSBsYXN0IGFzc2lzdGFudCBtZXNzYWdlIHRvIHVzZSBhcyBhIHN0YXJ0aW5nIHBvaW50IHdoZW4gdGhlIGNvbnZlcnNhdGlvbiBpcyByZXN1bWVkLiBPdGhlcndpc2UgdW5kZWZpbmVkLlxuICogQHBhcmFtIG9wdGlvbnMuc3RyZWFtIC0gVGhlIHN0cmVhbSBvZiBgVUlNZXNzYWdlQ2h1bmtgcyB0byByZWFkLlxuICogQHBhcmFtIG9wdGlvbnMudGVybWluYXRlT25FcnJvciAtIFdoZXRoZXIgdG8gdGVybWluYXRlIHRoZSBzdHJlYW0gaWYgYW4gZXJyb3Igb2NjdXJzLlxuICogQHBhcmFtIG9wdGlvbnMub25FcnJvciAtIEEgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gKlxuICogQHJldHVybnMgQW4gYEFzeW5jSXRlcmFibGVTdHJlYW1gIG9mIGBVSU1lc3NhZ2Vgcy4gRWFjaCBzdHJlYW0gcGFydCBpcyBhIGRpZmZlcmVudCBzdGF0ZSBvZiB0aGUgc2FtZSBtZXNzYWdlXG4gKiBhcyBpdCBpcyBiZWluZyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkVUlNZXNzYWdlU3RyZWFtPFVJX01FU1NBR0UgZXh0ZW5kcyBVSU1lc3NhZ2U+KHtcbiAgbWVzc2FnZSxcbiAgc3RyZWFtLFxuICBvbkVycm9yLFxuICB0ZXJtaW5hdGVPbkVycm9yID0gZmFsc2UsXG59OiB7XG4gIG1lc3NhZ2U/OiBVSV9NRVNTQUdFO1xuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFVJTWVzc2FnZUNodW5rPjtcbiAgb25FcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbiAgdGVybWluYXRlT25FcnJvcj86IGJvb2xlYW47XG59KTogQXN5bmNJdGVyYWJsZVN0cmVhbTxVSV9NRVNTQUdFPiB7XG4gIGxldCBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFVJX01FU1NBR0U+IHwgdW5kZWZpbmVkO1xuICBsZXQgaGFzRXJyb3JlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IG91dHB1dFN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxVSV9NRVNTQUdFPih7XG4gICAgc3RhcnQoY29udHJvbGxlclBhcmFtKSB7XG4gICAgICBjb250cm9sbGVyID0gY29udHJvbGxlclBhcmFtO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHN0YXRlID0gY3JlYXRlU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT4oe1xuICAgIG1lc3NhZ2VJZDogbWVzc2FnZT8uaWQgPz8gJycsXG4gICAgbGFzdE1lc3NhZ2U6IG1lc3NhZ2UsXG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUVycm9yID0gKGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgb25FcnJvcj8uKGVycm9yKTtcblxuICAgIGlmICghaGFzRXJyb3JlZCAmJiB0ZXJtaW5hdGVPbkVycm9yKSB7XG4gICAgICBoYXNFcnJvcmVkID0gdHJ1ZTtcbiAgICAgIGNvbnRyb2xsZXI/LmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3VtZVN0cmVhbSh7XG4gICAgc3RyZWFtOiBwcm9jZXNzVUlNZXNzYWdlU3RyZWFtKHtcbiAgICAgIHN0cmVhbSxcbiAgICAgIHJ1blVwZGF0ZU1lc3NhZ2VKb2IoXG4gICAgICAgIGpvYjogKG9wdGlvbnM6IHtcbiAgICAgICAgICBzdGF0ZTogU3RyZWFtaW5nVUlNZXNzYWdlU3RhdGU8VUlfTUVTU0FHRT47XG4gICAgICAgICAgd3JpdGU6ICgpID0+IHZvaWQ7XG4gICAgICAgIH0pID0+IFByb21pc2U8dm9pZD4sXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGpvYih7XG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgd3JpdGU6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI/LmVucXVldWUoc3RydWN0dXJlZENsb25lKHN0YXRlLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgICB9KSxcbiAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgLy8gT25seSBjbG9zZSBpZiBubyBlcnJvciBvY2N1cnJlZC4gQ2FsbGluZyBjbG9zZSgpIG9uIGFuIGVycm9yZWQgY29udHJvbGxlclxuICAgIC8vIHRocm93cyBcIkludmFsaWQgc3RhdGU6IENvbnRyb2xsZXIgaXMgYWxyZWFkeSBjbG9zZWRcIiBUeXBlRXJyb3IuXG4gICAgaWYgKCFoYXNFcnJvcmVkKSB7XG4gICAgICBjb250cm9sbGVyPy5jbG9zZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbn1cbiIsICIvKipfX2ludGVybmFsX3dvcmtmbG93c3tcIndvcmtmbG93c1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzXCI6e1wibm9TdGVwc1dvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzLy9ub1N0ZXBzV29ya2Zsb3dcIn0sXCJvbmVTdGVwV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMvL29uZVN0ZXBXb3JrZmxvd1wifSxcInN0cmVhbVdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzLy9zdHJlYW1Xb3JrZmxvd1wifSxcInRlblBhcmFsbGVsU3RlcHNXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85N19iZW5jaC50cy8vdGVuUGFyYWxsZWxTdGVwc1dvcmtmbG93XCJ9LFwidGVuU2VxdWVudGlhbFN0ZXBzV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMvL3RlblNlcXVlbnRpYWxTdGVwc1dvcmtmbG93XCJ9fX0sXCJzdGVwc1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzXCI6e1wiZG9Xb3JrXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85N19iZW5jaC50cy8vZG9Xb3JrXCJ9LFwiZG91YmxlTnVtYmVyc1wiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMvL2RvdWJsZU51bWJlcnNcIn0sXCJnZW5CZW5jaFN0cmVhbVwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMvL2dlbkJlbmNoU3RyZWFtXCJ9fX19Ki87XG4vLyBCZW5jaG1hcmsgd29ya2Zsb3dzIGZvciBwZXJmb3JtYW5jZSB0ZXN0aW5nXG52YXIgZG9Xb3JrID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMvL2RvV29ya1wiKTtcbi8vIFdvcmtmbG93IHdpdGggbm8gc3RlcHMgLSBwdXJlIG9yY2hlc3RyYXRpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub1N0ZXBzV29ya2Zsb3coaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgKiAyO1xufVxuLy8gV29ya2Zsb3cgd2l0aCAxIHN0ZXBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvbmVTdGVwV29ya2Zsb3coaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkb1dvcmsoKTtcbiAgICByZXR1cm4gcmVzdWx0ICsgaW5wdXQ7XG59XG4vLyBXb3JrZmxvdyB3aXRoIDEwIHNlcXVlbnRpYWwgc3RlcHNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZW5TZXF1ZW50aWFsU3RlcHNXb3JrZmxvdygpIHtcbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKyl7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGRvV29yaygpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gV29ya2Zsb3cgd2l0aCAxMCBwYXJhbGxlbCBzdGVwc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRlblBhcmFsbGVsU3RlcHNXb3JrZmxvdygpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKXtcbiAgICAgICAgcHJvbWlzZXMucHVzaChkb1dvcmsoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKChzdW0sIHZhbCk9PnN1bSArIHZhbCwgMCk7XG59XG4vLyBTdGVwIHRoYXQgZ2VuZXJhdGVzIGEgc3RyZWFtIHdpdGggMTAgY2h1bmtzXG52YXIgZ2VuQmVuY2hTdHJlYW0gPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85N19iZW5jaC50cy8vZ2VuQmVuY2hTdHJlYW1cIik7XG4vLyBTdGVwIHRoYXQgdHJhbnNmb3JtcyBhIHN0cmVhbSBieSBkb3VibGluZyBlYWNoIG51bWJlclxudmFyIGRvdWJsZU51bWJlcnMgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85N19iZW5jaC50cy8vZG91YmxlTnVtYmVyc1wiKTtcbi8vIFdvcmtmbG93IHRoYXQgZ2VuZXJhdGVzIGFuZCB0cmFuc2Zvcm1zIGEgc3RyZWFtXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RyZWFtV29ya2Zsb3coKSB7XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgZ2VuQmVuY2hTdHJlYW0oKTtcbiAgICBjb25zdCBkb3VibGVkID0gYXdhaXQgZG91YmxlTnVtYmVycyhzdHJlYW0pO1xuICAgIHJldHVybiBkb3VibGVkO1xufVxubm9TdGVwc1dvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85N19iZW5jaC50cy8vbm9TdGVwc1dvcmtmbG93XCI7XG5vbmVTdGVwV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzLy9vbmVTdGVwV29ya2Zsb3dcIjtcbnRlblNlcXVlbnRpYWxTdGVwc1dvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85N19iZW5jaC50cy8vdGVuU2VxdWVudGlhbFN0ZXBzV29ya2Zsb3dcIjtcbnRlblBhcmFsbGVsU3RlcHNXb3JrZmxvdy53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTdfYmVuY2gudHMvL3RlblBhcmFsbGVsU3RlcHNXb3JrZmxvd1wiO1xuc3RyZWFtV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzLy9zdHJlYW1Xb3JrZmxvd1wiO1xuIiwgIi8qKl9faW50ZXJuYWxfd29ya2Zsb3dze1wid29ya2Zsb3dzXCI6e1wiZXhhbXBsZS93b3JrZmxvd3MvOThfZHVwbGljYXRlX2Nhc2UudHNcIjp7XCJhZGRUZW5Xb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OF9kdXBsaWNhdGVfY2FzZS50cy8vYWRkVGVuV29ya2Zsb3dcIn19fSxcInN0ZXBzXCI6e1wiZXhhbXBsZS93b3JrZmxvd3MvOThfZHVwbGljYXRlX2Nhc2UudHNcIjp7XCJhZGRcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk4X2R1cGxpY2F0ZV9jYXNlLnRzLy9hZGRcIn19fX0qLztcbi8vIER1cGxpY2F0ZSB3b3JrZmxvdyBmcm9tIDk5X2UyZS50cyB0byBlbnN1cmUgd2UgaGFuZGxlIHVuaXF1ZSBJRHNcbi8vIGFuZCB0aGUgZnVuY3Rpb24gaXNuJ3QgZHJvcHBlZCBmcm9tIGNvbGxpZGluZyBleHBvcnQgbmFtZXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRUZW5Xb3JrZmxvdyhpbnB1dCkge1xuICAgIGNvbnN0IGEgPSBhd2FpdCBhZGQoaW5wdXQsIDIpO1xuICAgIGNvbnN0IGIgPSBhd2FpdCBhZGQoYSwgMyk7XG4gICAgY29uc3QgYyA9IGF3YWl0IGFkZChiLCA1KTtcbiAgICByZXR1cm4gYztcbn1cbi8vIER1cGxpY2F0ZSBzdGVwIGZyb20gOTlfZTJlLnRzIHRvIGVuc3VyZSB3ZSBoYW5kbGUgdW5pcXVlIElEc1xuLy8gYW5kIHRoZSBmdW5jdGlvbiBpc24ndCBkcm9wcGVkIGZyb20gY29sbGlkaW5nIGV4cG9ydCBuYW1lc1xuZXhwb3J0IHZhciBhZGQgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OF9kdXBsaWNhdGVfY2FzZS50cy8vYWRkXCIpO1xuYWRkVGVuV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk4X2R1cGxpY2F0ZV9jYXNlLnRzLy9hZGRUZW5Xb3JrZmxvd1wiO1xuIiwgImltcG9ydCB7IGNyZWF0ZUhvb2ssIGNyZWF0ZVdlYmhvb2ssIEZhdGFsRXJyb3IsIGZldGNoLCBnZXRXb3JrZmxvd01ldGFkYXRhLCBnZXRXcml0YWJsZSwgc2xlZXAgfSBmcm9tIFwid29ya2Zsb3dcIjtcbmltcG9ydCB7IGNhbGxUaHJvd2VyIH0gZnJvbSBcIi4vaGVscGVycy5qc1wiO1xuLyoqX19pbnRlcm5hbF93b3JrZmxvd3N7XCJ3b3JrZmxvd3NcIjp7XCJleGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHNcIjp7XCJhZGRUZW5Xb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2FkZFRlbldvcmtmbG93XCJ9LFwiY2hpbGRXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2NoaWxkV29ya2Zsb3dcIn0sXCJjbG9zdXJlVmFyaWFibGVXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2Nsb3N1cmVWYXJpYWJsZVdvcmtmbG93XCJ9LFwiY3Jvc3NGaWxlRXJyb3JXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2Nyb3NzRmlsZUVycm9yV29ya2Zsb3dcIn0sXCJmZXRjaFdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vZmV0Y2hXb3JrZmxvd1wifSxcImhvb2tDbGVhbnVwVGVzdFdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vaG9va0NsZWFudXBUZXN0V29ya2Zsb3dcIn0sXCJob29rV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9ob29rV29ya2Zsb3dcIn0sXCJuZXN0ZWRFcnJvcldvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vbmVzdGVkRXJyb3JXb3JrZmxvd1wifSxcIm51bGxCeXRlV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9udWxsQnl0ZVdvcmtmbG93XCJ9LFwib3V0cHV0U3RyZWFtSW5zaWRlU3RlcFdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vb3V0cHV0U3RyZWFtSW5zaWRlU3RlcFdvcmtmbG93XCJ9LFwib3V0cHV0U3RyZWFtV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9vdXRwdXRTdHJlYW1Xb3JrZmxvd1wifSxcInByb21pc2VBbGxXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3Byb21pc2VBbGxXb3JrZmxvd1wifSxcInByb21pc2VBbnlXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3Byb21pc2VBbnlXb3JrZmxvd1wifSxcInByb21pc2VSYWNlU3RyZXNzVGVzdFdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcHJvbWlzZVJhY2VTdHJlc3NUZXN0V29ya2Zsb3dcIn0sXCJwcm9taXNlUmFjZVdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcHJvbWlzZVJhY2VXb3JrZmxvd1wifSxcInJlYWRhYmxlU3RyZWFtV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9yZWFkYWJsZVN0cmVhbVdvcmtmbG93XCJ9LFwicmV0cnlBdHRlbXB0Q291bnRlcldvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcmV0cnlBdHRlbXB0Q291bnRlcldvcmtmbG93XCJ9LFwicmV0cnlhYmxlQW5kRmF0YWxFcnJvcldvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcmV0cnlhYmxlQW5kRmF0YWxFcnJvcldvcmtmbG93XCJ9LFwic2xlZXBpbmdXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3NsZWVwaW5nV29ya2Zsb3dcIn0sXCJzcGF3bldvcmtmbG93RnJvbVN0ZXBXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3NwYXduV29ya2Zsb3dGcm9tU3RlcFdvcmtmbG93XCJ9LFwic3RlcEZ1bmN0aW9uUGFzc2luZ1dvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcEZ1bmN0aW9uUGFzc2luZ1dvcmtmbG93XCJ9LFwic3RlcEZ1bmN0aW9uV2l0aENsb3N1cmVXb3JrZmxvd1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBGdW5jdGlvbldpdGhDbG9zdXJlV29ya2Zsb3dcIn0sXCJ3ZWJob29rV29ya2Zsb3dcIjp7XCJ3b3JrZmxvd0lkXCI6XCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy93ZWJob29rV29ya2Zsb3dcIn0sXCJ3b3JrZmxvd0FuZFN0ZXBNZXRhZGF0YVdvcmtmbG93XCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vd29ya2Zsb3dBbmRTdGVwTWV0YWRhdGFXb3JrZmxvd1wifX19LFwic3RlcHNcIjp7XCJleGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHNcIjp7XCJhZGRcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vYWRkXCJ9LFwiYXdhaXRXb3JrZmxvd1Jlc3VsdFwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9hd2FpdFdvcmtmbG93UmVzdWx0XCJ9LFwiY2FsY3VsYXRlXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2NhbGN1bGF0ZVwifSxcImRvdWJsZU51bWJlclwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9kb3VibGVOdW1iZXJcIn0sXCJkb3VibGVWYWx1ZVwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9kb3VibGVWYWx1ZVwifSxcImdlblJlYWRhYmxlU3RyZWFtXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2dlblJlYWRhYmxlU3RyZWFtXCJ9LFwibnVsbEJ5dGVTdGVwXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL251bGxCeXRlU3RlcFwifSxcInByb21pc2VSYWNlU3RyZXNzVGVzdERlbGF5U3RlcFwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9wcm9taXNlUmFjZVN0cmVzc1Rlc3REZWxheVN0ZXBcIn0sXCJyYW5kb21EZWxheVwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9yYW5kb21EZWxheVwifSxcInNlbmRXZWJob29rUmVzcG9uc2VcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc2VuZFdlYmhvb2tSZXNwb25zZVwifSxcInNwYXduQ2hpbGRXb3JrZmxvd1wiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zcGF3bkNoaWxkV29ya2Zsb3dcIn0sXCJzcGVjaWZpY0RlbGF5XCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3NwZWNpZmljRGVsYXlcIn0sXCJzdGVwQ2xvc2VPdXRwdXRTdHJlYW1cIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcENsb3NlT3V0cHV0U3RyZWFtXCJ9LFwic3RlcENsb3NlT3V0cHV0U3RyZWFtSW5zaWRlU3RlcFwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwQ2xvc2VPdXRwdXRTdHJlYW1JbnNpZGVTdGVwXCJ9LFwic3RlcFRoYXRDYWxsc1N0ZXBGblwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwVGhhdENhbGxzU3RlcEZuXCJ9LFwic3RlcFRoYXRGYWlsc1wiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwVGhhdEZhaWxzXCJ9LFwic3RlcFRoYXRSZXRyaWVzQW5kU3VjY2VlZHNcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFRoYXRSZXRyaWVzQW5kU3VjY2VlZHNcIn0sXCJzdGVwVGhhdFRocm93c1JldHJ5YWJsZUVycm9yXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBUaGF0VGhyb3dzUmV0cnlhYmxlRXJyb3JcIn0sXCJzdGVwV2l0aE1ldGFkYXRhXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBXaXRoTWV0YWRhdGFcIn0sXCJzdGVwV2l0aE5hbWVkT3V0cHV0U3RyZWFtSW5zaWRlU3RlcFwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwV2l0aE5hbWVkT3V0cHV0U3RyZWFtSW5zaWRlU3RlcFwifSxcInN0ZXBXaXRoT3V0cHV0U3RyZWFtQmluYXJ5XCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBXaXRoT3V0cHV0U3RyZWFtQmluYXJ5XCJ9LFwic3RlcFdpdGhPdXRwdXRTdHJlYW1JbnNpZGVTdGVwXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBXaXRoT3V0cHV0U3RyZWFtSW5zaWRlU3RlcFwifSxcInN0ZXBXaXRoT3V0cHV0U3RyZWFtT2JqZWN0XCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBXaXRoT3V0cHV0U3RyZWFtT2JqZWN0XCJ9LFwic3RlcFdpdGhTdGVwRnVuY3Rpb25BcmdcIjp7XCJzdGVwSWRcIjpcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFdpdGhTdGVwRnVuY3Rpb25BcmdcIn19fX0qLztcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCB2YXIgYWRkID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9hZGRcIik7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkVGVuV29ya2Zsb3coaW5wdXQpIHtcbiAgICBjb25zdCBhID0gYXdhaXQgYWRkKGlucHV0LCAyKTtcbiAgICBjb25zdCBiID0gYXdhaXQgYWRkKGEsIDMpO1xuICAgIGNvbnN0IGMgPSBhd2FpdCBhZGQoYiwgNSk7XG4gICAgcmV0dXJuIGM7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBIZWxwZXIgZnVuY3Rpb25zIHRvIHRlc3QgbmVzdGVkIHN0YWNrIHRyYWNlc1xuZnVuY3Rpb24gZGVlcEZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZnJvbSBkZWVwbHkgbmVzdGVkIGZ1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBtaWRkbGVGdW5jdGlvbigpIHtcbiAgICBkZWVwRnVuY3Rpb24oKTtcbn1cbmZ1bmN0aW9uIHRvcExldmVsSGVscGVyKCkge1xuICAgIG1pZGRsZUZ1bmN0aW9uKCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbmVzdGVkRXJyb3JXb3JrZmxvdygpIHtcbiAgICB0b3BMZXZlbEhlbHBlcigpO1xuICAgIHJldHVybiAnbmV2ZXIgcmVhY2hlZCc7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgcmFuZG9tRGVsYXkgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3JhbmRvbURlbGF5XCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb21pc2VBbGxXb3JrZmxvdygpIHtcbiAgICBjb25zdCBbYSwgYiwgY10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHJhbmRvbURlbGF5KCdhJyksXG4gICAgICAgIHJhbmRvbURlbGF5KCdiJyksXG4gICAgICAgIHJhbmRvbURlbGF5KCdjJylcbiAgICBdKTtcbiAgICByZXR1cm4gYSArIGIgKyBjO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIHNwZWNpZmljRGVsYXkgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3NwZWNpZmljRGVsYXlcIik7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvbWlzZVJhY2VXb3JrZmxvdygpIHtcbiAgICBjb25zdCB3aW5uZXIgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICBzcGVjaWZpY0RlbGF5KDEwMDAwLCAnYScpLFxuICAgICAgICBzcGVjaWZpY0RlbGF5KDEwMCwgJ2InKSxcbiAgICAgICAgc3BlY2lmaWNEZWxheSgyMDAwMCwgJ2MnKVxuICAgIF0pO1xuICAgIHJldHVybiB3aW5uZXI7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgc3RlcFRoYXRGYWlscyA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFRoYXRGYWlsc1wiKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9taXNlQW55V29ya2Zsb3coKSB7XG4gICAgY29uc3Qgd2lubmVyID0gYXdhaXQgUHJvbWlzZS5hbnkoW1xuICAgICAgICBzdGVwVGhhdEZhaWxzKCksXG4gICAgICAgIHNwZWNpZmljRGVsYXkoMTAwMCwgJ2InKSxcbiAgICAgICAgc3BlY2lmaWNEZWxheSgzMDAwLCAnYycpXG4gICAgXSk7XG4gICAgcmV0dXJuIHdpbm5lcjtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE5hbWUgc2hvdWxkIG5vdCBjb25mbGljdCB3aXRoIGdlblN0cmVhbSBpbiAzX3N0cmVhbXMudHNcbi8vIFRPRE86IHN3YyB0cmFuc2Zvcm0gc2hvdWxkIG1hbmdsZSBuYW1lcyB0byBhdm9pZCBjb25mbGljdHNcbnZhciBnZW5SZWFkYWJsZVN0cmVhbSA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vZ2VuUmVhZGFibGVTdHJlYW1cIik7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1Xb3JrZmxvdygpIHtcbiAgICBjb25zb2xlLmxvZygnY2FsbGluZyBnZW5SZWFkYWJsZVN0cmVhbScpO1xuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGdlblJlYWRhYmxlU3RyZWFtKCk7XG4gICAgY29uc29sZS5sb2coJ2dlblJlYWRhYmxlU3RyZWFtIHJldHVybmVkJywgc3RyZWFtKTtcbiAgICByZXR1cm4gc3RyZWFtO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhvb2tXb3JrZmxvdyh0b2tlbiwgY3VzdG9tRGF0YSkge1xuICAgIGNvbnN0IGhvb2sgPSBjcmVhdGVIb29rKHtcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBjdXN0b21EYXRhXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBwYXlsb2FkcyA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgcGF5bG9hZCBvZiBob29rKXtcbiAgICAgICAgcGF5bG9hZHMucHVzaChwYXlsb2FkKTtcbiAgICAgICAgaWYgKHBheWxvYWQuZG9uZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWRzO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIHNlbmRXZWJob29rUmVzcG9uc2UgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3NlbmRXZWJob29rUmVzcG9uc2VcIik7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2ViaG9va1dvcmtmbG93KHRva2VuLCB0b2tlbjIsIHRva2VuMykge1xuICAgIGNvbnN0IHBheWxvYWRzID0gW107XG4gICAgY29uc3Qgd2ViaG9va1dpdGhEZWZhdWx0UmVzcG9uc2UgPSBjcmVhdGVXZWJob29rKHtcbiAgICAgICAgdG9rZW5cbiAgICB9KTtcbiAgICBjb25zdCByZXMgPSBuZXcgUmVzcG9uc2UoJ0hlbGxvIGZyb20gc3RhdGljIHJlc3BvbnNlIScsIHtcbiAgICAgICAgc3RhdHVzOiA0MDJcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygncmVzJywgcmVzKTtcbiAgICBjb25zdCB3ZWJob29rV2l0aFN0YXRpY1Jlc3BvbnNlID0gY3JlYXRlV2ViaG9vayh7XG4gICAgICAgIHRva2VuOiB0b2tlbjIsXG4gICAgICAgIHJlc3BvbmRXaXRoOiByZXNcbiAgICB9KTtcbiAgICBjb25zdCB3ZWJob29rV2l0aE1hbnVhbFJlc3BvbnNlID0gY3JlYXRlV2ViaG9vayh7XG4gICAgICAgIHRva2VuOiB0b2tlbjMsXG4gICAgICAgIHJlc3BvbmRXaXRoOiAnbWFudWFsJ1xuICAgIH0pO1xuICAgIC8vIFdlYmhvb2sgd2l0aCBkZWZhdWx0IHJlc3BvbnNlXG4gICAge1xuICAgICAgICBjb25zdCByZXEgPSBhd2FpdCB3ZWJob29rV2l0aERlZmF1bHRSZXNwb25zZTtcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS50ZXh0KCk7XG4gICAgICAgIHBheWxvYWRzLnB1c2goe1xuICAgICAgICAgICAgdXJsOiByZXEudXJsLFxuICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgYm9keVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gV2ViaG9vayB3aXRoIHN0YXRpYyByZXNwb25zZVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVxID0gYXdhaXQgd2ViaG9va1dpdGhTdGF0aWNSZXNwb25zZTtcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS50ZXh0KCk7XG4gICAgICAgIHBheWxvYWRzLnB1c2goe1xuICAgICAgICAgICAgdXJsOiByZXEudXJsLFxuICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgYm9keVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gV2ViaG9vayB3aXRoIG1hbnVhbCByZXNwb25zZVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVxID0gYXdhaXQgd2ViaG9va1dpdGhNYW51YWxSZXNwb25zZTtcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHNlbmRXZWJob29rUmVzcG9uc2UocmVxKTtcbiAgICAgICAgcGF5bG9hZHMucHVzaCh7XG4gICAgICAgICAgICB1cmw6IHJlcS51cmwsXG4gICAgICAgICAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgICAgICAgICBib2R5XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZHM7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXBpbmdXb3JrZmxvdygpIHtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGF3YWl0IHNsZWVwKCcxMHMnKTtcbiAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgIGVuZFRpbWVcbiAgICB9O1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIG51bGxCeXRlU3RlcCA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vbnVsbEJ5dGVTdGVwXCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG51bGxCeXRlV29ya2Zsb3coKSB7XG4gICAgY29uc3QgYSA9IGF3YWl0IG51bGxCeXRlU3RlcCgpO1xuICAgIHJldHVybiBhO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIHN0ZXBXaXRoTWV0YWRhdGEgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBXaXRoTWV0YWRhdGFcIik7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd29ya2Zsb3dBbmRTdGVwTWV0YWRhdGFXb3JrZmxvdygpIHtcbiAgICBjb25zdCB3b3JrZmxvd01ldGFkYXRhID0gZ2V0V29ya2Zsb3dNZXRhZGF0YSgpO1xuICAgIGNvbnN0IHsgc3RlcE1ldGFkYXRhLCB3b3JrZmxvd01ldGFkYXRhOiBpbm5lcldvcmtmbG93TWV0YWRhdGEgfSA9IGF3YWl0IHN0ZXBXaXRoTWV0YWRhdGEoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB3b3JrZmxvd01ldGFkYXRhOiB7XG4gICAgICAgICAgICB3b3JrZmxvd1J1bklkOiB3b3JrZmxvd01ldGFkYXRhLndvcmtmbG93UnVuSWQsXG4gICAgICAgICAgICB3b3JrZmxvd1N0YXJ0ZWRBdDogd29ya2Zsb3dNZXRhZGF0YS53b3JrZmxvd1N0YXJ0ZWRBdCxcbiAgICAgICAgICAgIHVybDogd29ya2Zsb3dNZXRhZGF0YS51cmxcbiAgICAgICAgfSxcbiAgICAgICAgc3RlcE1ldGFkYXRhLFxuICAgICAgICBpbm5lcldvcmtmbG93TWV0YWRhdGFcbiAgICB9O1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIHN0ZXBXaXRoT3V0cHV0U3RyZWFtQmluYXJ5ID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwV2l0aE91dHB1dFN0cmVhbUJpbmFyeVwiKTtcbnZhciBzdGVwV2l0aE91dHB1dFN0cmVhbU9iamVjdCA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFdpdGhPdXRwdXRTdHJlYW1PYmplY3RcIik7XG52YXIgc3RlcENsb3NlT3V0cHV0U3RyZWFtID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwQ2xvc2VPdXRwdXRTdHJlYW1cIik7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3V0cHV0U3RyZWFtV29ya2Zsb3coKSB7XG4gICAgY29uc3Qgd3JpdGFibGUgPSBnZXRXcml0YWJsZSgpO1xuICAgIGNvbnN0IG5hbWVkV3JpdGFibGUgPSBnZXRXcml0YWJsZSh7XG4gICAgICAgIG5hbWVzcGFjZTogJ3Rlc3QnXG4gICAgfSk7XG4gICAgYXdhaXQgc2xlZXAoJzFzJyk7XG4gICAgYXdhaXQgc3RlcFdpdGhPdXRwdXRTdHJlYW1CaW5hcnkod3JpdGFibGUsICdIZWxsbywgd29ybGQhJyk7XG4gICAgYXdhaXQgc2xlZXAoJzFzJyk7XG4gICAgYXdhaXQgc3RlcFdpdGhPdXRwdXRTdHJlYW1CaW5hcnkobmFtZWRXcml0YWJsZSwgJ0hlbGxvLCBuYW1lZCBzdHJlYW0hJyk7XG4gICAgYXdhaXQgc2xlZXAoJzFzJyk7XG4gICAgYXdhaXQgc3RlcFdpdGhPdXRwdXRTdHJlYW1PYmplY3Qod3JpdGFibGUsIHtcbiAgICAgICAgZm9vOiAndGVzdCdcbiAgICB9KTtcbiAgICBhd2FpdCBzbGVlcCgnMXMnKTtcbiAgICBhd2FpdCBzdGVwV2l0aE91dHB1dFN0cmVhbU9iamVjdChuYW1lZFdyaXRhYmxlLCB7XG4gICAgICAgIGZvbzogJ2JhcidcbiAgICB9KTtcbiAgICBhd2FpdCBzbGVlcCgnMXMnKTtcbiAgICBhd2FpdCBzdGVwQ2xvc2VPdXRwdXRTdHJlYW0od3JpdGFibGUpO1xuICAgIGF3YWl0IHN0ZXBDbG9zZU91dHB1dFN0cmVhbShuYW1lZFdyaXRhYmxlKTtcbiAgICByZXR1cm4gJ2RvbmUnO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIHN0ZXBXaXRoT3V0cHV0U3RyZWFtSW5zaWRlU3RlcCA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFdpdGhPdXRwdXRTdHJlYW1JbnNpZGVTdGVwXCIpO1xudmFyIHN0ZXBXaXRoTmFtZWRPdXRwdXRTdHJlYW1JbnNpZGVTdGVwID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwV2l0aE5hbWVkT3V0cHV0U3RyZWFtSW5zaWRlU3RlcFwiKTtcbnZhciBzdGVwQ2xvc2VPdXRwdXRTdHJlYW1JbnNpZGVTdGVwID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwQ2xvc2VPdXRwdXRTdHJlYW1JbnNpZGVTdGVwXCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG91dHB1dFN0cmVhbUluc2lkZVN0ZXBXb3JrZmxvdygpIHtcbiAgICBhd2FpdCBzbGVlcCgnMXMnKTtcbiAgICBhd2FpdCBzdGVwV2l0aE91dHB1dFN0cmVhbUluc2lkZVN0ZXAoJ0hlbGxvIGZyb20gc3RlcCEnKTtcbiAgICBhd2FpdCBzbGVlcCgnMXMnKTtcbiAgICBhd2FpdCBzdGVwV2l0aE5hbWVkT3V0cHV0U3RyZWFtSW5zaWRlU3RlcCgnc3RlcC1ucycsIHtcbiAgICAgICAgbWVzc2FnZTogJ0hlbGxvIGZyb20gbmFtZWQgc3RyZWFtIGluIHN0ZXAhJ1xuICAgIH0pO1xuICAgIGF3YWl0IHNsZWVwKCcxcycpO1xuICAgIGF3YWl0IHN0ZXBXaXRoT3V0cHV0U3RyZWFtSW5zaWRlU3RlcCgnU2Vjb25kIG1lc3NhZ2UnKTtcbiAgICBhd2FpdCBzbGVlcCgnMXMnKTtcbiAgICBhd2FpdCBzdGVwV2l0aE5hbWVkT3V0cHV0U3RyZWFtSW5zaWRlU3RlcCgnc3RlcC1ucycsIHtcbiAgICAgICAgY291bnRlcjogNDJcbiAgICB9KTtcbiAgICBhd2FpdCBzbGVlcCgnMXMnKTtcbiAgICBhd2FpdCBzdGVwQ2xvc2VPdXRwdXRTdHJlYW1JbnNpZGVTdGVwKCk7XG4gICAgYXdhaXQgc3RlcENsb3NlT3V0cHV0U3RyZWFtSW5zaWRlU3RlcCgnc3RlcC1ucycpO1xuICAgIHJldHVybiAnZG9uZSc7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hXb3JrZmxvdygpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vdG9kb3MvMScpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgdmFyIHByb21pc2VSYWNlU3RyZXNzVGVzdERlbGF5U3RlcCA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcHJvbWlzZVJhY2VTdHJlc3NUZXN0RGVsYXlTdGVwXCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb21pc2VSYWNlU3RyZXNzVGVzdFdvcmtmbG93KCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRvbmUgPSBbXTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgICAgICAgY29uc3QgcmVzcCA9IGk7XG4gICAgICAgIGNvbnN0IGR1ciA9IDEwMDAgKiA1ICogaTsgLy8gNSBzZWNvbmRzIGFwYXJ0XG4gICAgICAgIGNvbnNvbGUubG9nKGBzY2hlZGAsIHJlc3AsIGAvYCwgZHVyKTtcbiAgICAgICAgcHJvbWlzZXMuc2V0KGksIHByb21pc2VSYWNlU3RyZXNzVGVzdERlbGF5U3RlcChkdXIsIHJlc3ApKTtcbiAgICB9XG4gICAgd2hpbGUocHJvbWlzZXMuc2l6ZSA+IDApe1xuICAgICAgICBjb25zb2xlLmxvZyhgcHJvbWlzZXMuc2l6ZWAsIHByb21pc2VzLnNpemUpO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBQcm9taXNlLnJhY2UocHJvbWlzZXMudmFsdWVzKCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICBkb25lLnB1c2gocmVzKTtcbiAgICAgICAgcHJvbWlzZXMuZGVsZXRlKHJlcyk7XG4gICAgfVxuICAgIHJldHVybiBkb25lO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIHN0ZXBUaGF0UmV0cmllc0FuZFN1Y2NlZWRzID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zdGVwVGhhdFJldHJpZXNBbmRTdWNjZWVkc1wiKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyeUF0dGVtcHRDb3VudGVyV29ya2Zsb3coKSB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIHJldHJ5IGF0dGVtcHQgY291bnRlciB3b3JrZmxvdycpO1xuICAgIC8vIFRoaXMgc3RlcCBzaG91bGQgZmFpbCB0d2ljZSBhbmQgc3VjY2VlZCBvbiB0aGUgdGhpcmQgYXR0ZW1wdFxuICAgIGNvbnN0IGZpbmFsQXR0ZW1wdCA9IGF3YWl0IHN0ZXBUaGF0UmV0cmllc0FuZFN1Y2NlZWRzKCk7XG4gICAgY29uc29sZS5sb2coYFdvcmtmbG93IGNvbXBsZXRlZCB3aXRoIGZpbmFsIGF0dGVtcHQ6ICR7ZmluYWxBdHRlbXB0fWApO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpbmFsQXR0ZW1wdFxuICAgIH07XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgc3RlcFRoYXRUaHJvd3NSZXRyeWFibGVFcnJvciA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFRoYXRUaHJvd3NSZXRyeWFibGVFcnJvclwiKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcm9zc0ZpbGVFcnJvcldvcmtmbG93KCkge1xuICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvciBmcm9tIHRoZSBpbXBvcnRlZCBoZWxwZXJzLnRzIGZpbGVcbiAgICBjYWxsVGhyb3dlcigpO1xuICAgIHJldHVybiAnbmV2ZXIgcmVhY2hlZCc7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cnlhYmxlQW5kRmF0YWxFcnJvcldvcmtmbG93KCkge1xuICAgIGNvbnN0IHJldHJ5YWJsZVJlc3VsdCA9IGF3YWl0IHN0ZXBUaGF0VGhyb3dzUmV0cnlhYmxlRXJyb3IoKTtcbiAgICBsZXQgZ290RmF0YWxFcnJvciA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHN0ZXBUaGF0RmFpbHMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoRmF0YWxFcnJvci5pcyhlcnJvcikpIHtcbiAgICAgICAgICAgIGdvdEZhdGFsRXJyb3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJldHJ5YWJsZVJlc3VsdCxcbiAgICAgICAgZ290RmF0YWxFcnJvclxuICAgIH07XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaG9va0NsZWFudXBUZXN0V29ya2Zsb3codG9rZW4sIGN1c3RvbURhdGEpIHtcbiAgICBjb25zdCBob29rID0gY3JlYXRlSG9vayh7XG4gICAgICAgIHRva2VuLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgY3VzdG9tRGF0YVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gV2FpdCBmb3IgZXhhY3RseSBvbmUgcGF5bG9hZFxuICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBob29rO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IHBheWxvYWQubWVzc2FnZSxcbiAgICAgICAgY3VzdG9tRGF0YTogcGF5bG9hZC5jdXN0b21EYXRhLFxuICAgICAgICBob29rQ2xlYW51cFRlc3REYXRhOiAnd29ya2Zsb3dfY29tcGxldGVkJ1xuICAgIH07XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RlcEZ1bmN0aW9uUGFzc2luZ1dvcmtmbG93KCkge1xuICAgIC8vIFBhc3MgYSBzdGVwIGZ1bmN0aW9uIHJlZmVyZW5jZSB0byBhbm90aGVyIHN0ZXAgKHdpdGhvdXQgY2xvc3VyZSB2YXJzKVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0ZXBXaXRoU3RlcEZ1bmN0aW9uQXJnKGRvdWJsZU51bWJlcik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbnZhciBzdGVwV2l0aFN0ZXBGdW5jdGlvbkFyZyA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFdpdGhTdGVwRnVuY3Rpb25BcmdcIik7XG52YXIgZG91YmxlTnVtYmVyID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9kb3VibGVOdW1iZXJcIik7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RlcEZ1bmN0aW9uV2l0aENsb3N1cmVXb3JrZmxvdygpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gMztcbiAgICBjb25zdCBwcmVmaXggPSAnUmVzdWx0OiAnO1xuICAgIC8vIENyZWF0ZSBhIHN0ZXAgZnVuY3Rpb24gdGhhdCBjYXB0dXJlcyBjbG9zdXJlIHZhcmlhYmxlc1xuICAgIGNvbnN0IGNhbGN1bGF0ZSA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcEZ1bmN0aW9uV2l0aENsb3N1cmVXb3JrZmxvdy9jYWxjdWxhdGVcIiwgKCk9Pih7XG4gICAgICAgICAgICBtdWx0aXBsaWVyLFxuICAgICAgICAgICAgcHJlZml4XG4gICAgICAgIH0pKTtcbiAgICAvLyBQYXNzIHRoZSBzdGVwIGZ1bmN0aW9uICh3aXRoIGNsb3N1cmUgdmFycykgdG8gYW5vdGhlciBzdGVwXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RlcFRoYXRDYWxsc1N0ZXBGbihjYWxjdWxhdGUsIDcpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG52YXIgc3RlcFRoYXRDYWxsc1N0ZXBGbiA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcFRoYXRDYWxsc1N0ZXBGblwiKTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zdXJlVmFyaWFibGVXb3JrZmxvdyhiYXNlVmFsdWUpIHtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdHlsZS91c2VDb25zdDogSW50ZW50aW9uYWxseSB1c2luZyBgbGV0YCBpbnN0ZWFkIG9mIGBjb25zdGBcbiAgICBsZXQgbXVsdGlwbGllciA9IDM7XG4gICAgY29uc3QgcHJlZml4ID0gJ1Jlc3VsdDogJztcbiAgICAvLyBOZXN0ZWQgc3RlcCBmdW5jdGlvbiB0aGF0IHVzZXMgY2xvc3VyZSB2YXJpYWJsZXNcbiAgICBjb25zdCBjYWxjdWxhdGUgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2Nsb3N1cmVWYXJpYWJsZVdvcmtmbG93L2NhbGN1bGF0ZVwiLCAoKT0+KHtcbiAgICAgICAgICAgIGJhc2VWYWx1ZSxcbiAgICAgICAgICAgIG11bHRpcGxpZXIsXG4gICAgICAgICAgICBwcmVmaXhcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IGNhbGN1bGF0ZSgpO1xuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBDaGlsZCB3b3JrZmxvdyB0aGF0IHdpbGwgYmUgc3Bhd25lZCBmcm9tIGFub3RoZXIgd29ya2Zsb3dcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGlsZFdvcmtmbG93KHZhbHVlKSB7XG4gICAgLy8gRG8gc29tZSBwcm9jZXNzaW5nXG4gICAgY29uc3QgZG91YmxlZCA9IGF3YWl0IGRvdWJsZVZhbHVlKHZhbHVlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaGlsZFJlc3VsdDogZG91YmxlZCxcbiAgICAgICAgb3JpZ2luYWxWYWx1ZTogdmFsdWVcbiAgICB9O1xufVxudmFyIGRvdWJsZVZhbHVlID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9kb3VibGVWYWx1ZVwiKTtcbi8vIFN0ZXAgZnVuY3Rpb24gdGhhdCBzcGF3bnMgYW5vdGhlciB3b3JrZmxvdyB1c2luZyBzdGFydCgpXG52YXIgc3Bhd25DaGlsZFdvcmtmbG93ID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9zcGF3bkNoaWxkV29ya2Zsb3dcIik7XG4vLyBTdGVwIGZ1bmN0aW9uIHRoYXQgd2FpdHMgZm9yIGEgd29ya2Zsb3cgcnVuIHRvIGNvbXBsZXRlIGFuZCByZXR1cm5zIGl0cyByZXN1bHRcbnZhciBhd2FpdFdvcmtmbG93UmVzdWx0ID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9hd2FpdFdvcmtmbG93UmVzdWx0XCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNwYXduV29ya2Zsb3dGcm9tU3RlcFdvcmtmbG93KGlucHV0VmFsdWUpIHtcbiAgICAvLyBTcGF3biB0aGUgY2hpbGQgd29ya2Zsb3cgZnJvbSBpbnNpZGUgYSBzdGVwIGZ1bmN0aW9uXG4gICAgY29uc3QgY2hpbGRSdW5JZCA9IGF3YWl0IHNwYXduQ2hpbGRXb3JrZmxvdyhpbnB1dFZhbHVlKTtcbiAgICAvLyBXYWl0IGZvciB0aGUgY2hpbGQgd29ya2Zsb3cgdG8gY29tcGxldGUgKGFsc28gaW4gYSBzdGVwKVxuICAgIGNvbnN0IGNoaWxkUmVzdWx0ID0gYXdhaXQgYXdhaXRXb3JrZmxvd1Jlc3VsdChjaGlsZFJ1bklkKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXJlbnRJbnB1dDogaW5wdXRWYWx1ZSxcbiAgICAgICAgY2hpbGRSdW5JZCxcbiAgICAgICAgY2hpbGRSZXN1bHRcbiAgICB9O1xufVxuYWRkVGVuV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vYWRkVGVuV29ya2Zsb3dcIjtcbm5lc3RlZEVycm9yV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vbmVzdGVkRXJyb3JXb3JrZmxvd1wiO1xucHJvbWlzZUFsbFdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3Byb21pc2VBbGxXb3JrZmxvd1wiO1xucHJvbWlzZVJhY2VXb3JrZmxvdy53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9wcm9taXNlUmFjZVdvcmtmbG93XCI7XG5wcm9taXNlQW55V29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcHJvbWlzZUFueVdvcmtmbG93XCI7XG5yZWFkYWJsZVN0cmVhbVdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3JlYWRhYmxlU3RyZWFtV29ya2Zsb3dcIjtcbmhvb2tXb3JrZmxvdy53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9ob29rV29ya2Zsb3dcIjtcbndlYmhvb2tXb3JrZmxvdy53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy93ZWJob29rV29ya2Zsb3dcIjtcbnNsZWVwaW5nV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc2xlZXBpbmdXb3JrZmxvd1wiO1xubnVsbEJ5dGVXb3JrZmxvdy53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9udWxsQnl0ZVdvcmtmbG93XCI7XG53b3JrZmxvd0FuZFN0ZXBNZXRhZGF0YVdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3dvcmtmbG93QW5kU3RlcE1ldGFkYXRhV29ya2Zsb3dcIjtcbm91dHB1dFN0cmVhbVdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL291dHB1dFN0cmVhbVdvcmtmbG93XCI7XG5vdXRwdXRTdHJlYW1JbnNpZGVTdGVwV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vb3V0cHV0U3RyZWFtSW5zaWRlU3RlcFdvcmtmbG93XCI7XG5mZXRjaFdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2ZldGNoV29ya2Zsb3dcIjtcbnByb21pc2VSYWNlU3RyZXNzVGVzdFdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3Byb21pc2VSYWNlU3RyZXNzVGVzdFdvcmtmbG93XCI7XG5yZXRyeUF0dGVtcHRDb3VudGVyV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vcmV0cnlBdHRlbXB0Q291bnRlcldvcmtmbG93XCI7XG5jcm9zc0ZpbGVFcnJvcldvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2Nyb3NzRmlsZUVycm9yV29ya2Zsb3dcIjtcbnJldHJ5YWJsZUFuZEZhdGFsRXJyb3JXb3JrZmxvdy53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvOTlfZTJlLnRzLy9yZXRyeWFibGVBbmRGYXRhbEVycm9yV29ya2Zsb3dcIjtcbmhvb2tDbGVhbnVwVGVzdFdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2hvb2tDbGVhbnVwVGVzdFdvcmtmbG93XCI7XG5zdGVwRnVuY3Rpb25QYXNzaW5nV29ya2Zsb3cud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cy8vc3RlcEZ1bmN0aW9uUGFzc2luZ1dvcmtmbG93XCI7XG5zdGVwRnVuY3Rpb25XaXRoQ2xvc3VyZVdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3N0ZXBGdW5jdGlvbldpdGhDbG9zdXJlV29ya2Zsb3dcIjtcbmNsb3N1cmVWYXJpYWJsZVdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2Nsb3N1cmVWYXJpYWJsZVdvcmtmbG93XCI7XG5jaGlsZFdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL2NoaWxkV29ya2Zsb3dcIjtcbnNwYXduV29ya2Zsb3dGcm9tU3RlcFdvcmtmbG93LndvcmtmbG93SWQgPSBcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy85OV9lMmUudHMvL3NwYXduV29ya2Zsb3dGcm9tU3RlcFdvcmtmbG93XCI7XG4iLCAiLy8gU2hhcmVkIGhlbHBlciBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgaW1wb3J0ZWQgYnkgd29ya2Zsb3dzXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGZyb20gaW1wb3J0ZWQgaGVscGVyIG1vZHVsZScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxUaHJvd2VyKCkge1xuICAgIHRocm93RXJyb3IoKTtcbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVIb29rLCBnZXRXb3JrZmxvd01ldGFkYXRhIH0gZnJvbSBcIndvcmtmbG93XCI7XG4vKipfX2ludGVybmFsX3dvcmtmbG93c3tcIndvcmtmbG93c1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzVfaG9va3MudHNcIjp7XCJ3aXRoQ3JlYXRlSG9va1wiOntcIndvcmtmbG93SWRcIjpcIndvcmtmbG93Ly9leGFtcGxlL3dvcmtmbG93cy81X2hvb2tzLnRzLy93aXRoQ3JlYXRlSG9va1wifSxcIndpdGhXb3JrZmxvd01ldGFkYXRhXCI6e1wid29ya2Zsb3dJZFwiOlwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzVfaG9va3MudHMvL3dpdGhXb3JrZmxvd01ldGFkYXRhXCJ9fX0sXCJzdGVwc1wiOntcImV4YW1wbGUvd29ya2Zsb3dzLzVfaG9va3MudHNcIjp7XCJnZXRPcGVuQUlSZXNwb25zZVwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvNV9ob29rcy50cy8vZ2V0T3BlbkFJUmVzcG9uc2VcIn0sXCJpbml0aWF0ZU9wZW5BSVJlc3BvbnNlXCI6e1wic3RlcElkXCI6XCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy81X2hvb2tzLnRzLy9pbml0aWF0ZU9wZW5BSVJlc3BvbnNlXCJ9LFwic3RlcFdpdGhHZXRNZXRhZGF0YVwiOntcInN0ZXBJZFwiOlwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvNV9ob29rcy50cy8vc3RlcFdpdGhHZXRNZXRhZGF0YVwifX19fSovO1xuLyoqXG4gKiBgZ2V0U3RlcE1ldGFkYXRhKClgIGlzIGEgaG9vayB0aGF0IGFsbG93cyB5b3UgdG8gYWNjZXNzIHRoZSBzdGVwJ3MgY29udGV4dFxuICogb2YgdGhlIGN1cnJlbnQgd29ya2Zsb3cgcnVuLlxuICpcbiAqIEl0IGlzIHVzZWZ1bCBmb3IgYWNjZXNzaW5nIHRoZSBjb250ZXh0IG9mIHRoZSBjdXJyZW50IHdvcmtmbG93IHJ1biwgc3VjaCBhc1xuICogdGhlIHdvcmtmbG93IHJ1biBJRCwgdGhlIHdvcmtmbG93IHN0YXJ0ZWQgYXQsIGFuZCB0aGUgYXR0ZW1wdCBudW1iZXIuXG4gKi8gdmFyIHN0ZXBXaXRoR2V0TWV0YWRhdGEgPSBnbG9iYWxUaGlzW1N5bWJvbC5mb3IoXCJXT1JLRkxPV19VU0VfU1RFUFwiKV0oXCJzdGVwLy9leGFtcGxlL3dvcmtmbG93cy81X2hvb2tzLnRzLy9zdGVwV2l0aEdldE1ldGFkYXRhXCIpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpdGhXb3JrZmxvd01ldGFkYXRhKCkge1xuICAgIGNvbnN0IGN0eCA9IGdldFdvcmtmbG93TWV0YWRhdGEoKTtcbiAgICBjb25zb2xlLmxvZygnd29ya2Zsb3cgY29udGV4dCcsIGN0eCk7XG4gICAgY29uc3Qgc3RlcEN0eCA9IGF3YWl0IHN0ZXBXaXRoR2V0TWV0YWRhdGEoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB3b3JrZmxvd0N0eDogY3R4LFxuICAgICAgICBzdGVwQ3R4XG4gICAgfTtcbn1cbnZhciBpbml0aWF0ZU9wZW5BSVJlc3BvbnNlID0gZ2xvYmFsVGhpc1tTeW1ib2wuZm9yKFwiV09SS0ZMT1dfVVNFX1NURVBcIildKFwic3RlcC8vZXhhbXBsZS93b3JrZmxvd3MvNV9ob29rcy50cy8vaW5pdGlhdGVPcGVuQUlSZXNwb25zZVwiKTtcbnZhciBnZXRPcGVuQUlSZXNwb25zZSA9IGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIldPUktGTE9XX1VTRV9TVEVQXCIpXShcInN0ZXAvL2V4YW1wbGUvd29ya2Zsb3dzLzVfaG9va3MudHMvL2dldE9wZW5BSVJlc3BvbnNlXCIpO1xuLyoqXG4gKiBgY3JlYXRlSG9vaygpYCByZWdpc3RlcnMgYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlc3VtZSB0aGUgd29ya2Zsb3cgcnVuLlxuICogVGhlIHRva2VuIGNhbiBiZSBwYXNzZWQgdG8gZXh0ZXJuYWwgc2VydmljZXMgYXMgYSBjYWxsYmFjayBVUkwsIG9yIHVzZWRcbiAqIGZvciBodW1hbi1pbi10aGUtbG9vcCB3b3JrZmxvd3MgYnksIGZvciBleGFtcGxlLCBpbmNsdWRpbmcgaW4gYW4gZW1haWwuXG4gKlxuICogVGhlIHdvcmtmbG93IHJ1biB3aWxsIGJlIHN1c3BlbmRlZCB1bnRpbCB0aGUgaG9vayBpcyBpbnZva2VkLlxuICovIGV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoQ3JlYXRlSG9vaygpIHtcbiAgICAvLyBJbml0aWF0ZSBhIGJhY2tncm91bmQgXCJSZXNwb25zZVwiIHJlcXVlc3QgdG8gT3BlbkFJLFxuICAgIC8vIHdoaWNoIHdpbGwgaW52b2tlIHRoZSBob29rIHdoZW4gaXQncyBkb25lLlxuICAgIGNvbnN0IHJlc3BJZCA9IGF3YWl0IGluaXRpYXRlT3BlbkFJUmVzcG9uc2UoKTtcbiAgICAvLyBSZWdpc3RlciB0aGUgaG9vayB3aXRoIHRoZSB0b2tlbiB0aGF0IGlzIHNwZWNpZmljXG4gICAgLy8gdG8gdGhlIHJlc3BvbnNlIElEIHRoYXQgd2UgYXJlIGludGVyZXN0ZWQgaW4uXG4gICAgY29uc3QgaG9vayA9IGNyZWF0ZUhvb2soe1xuICAgICAgICB0b2tlbjogYG9wZW5haToke3Jlc3BJZH1gXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyZWQgaG9vazonLCBob29rLnRva2VuKTtcbiAgICAvLyBXYWl0IGZvciB0aGUgaG9vayB0byBiZSBjYWxsZWQuXG4gICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IGhvb2s7XG4gICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIGhvb2sgcGF5bG9hZDonLCBwYXlsb2FkKTtcbiAgICBpZiAocGF5bG9hZC50eXBlID09PSAncmVzcG9uc2UuY29tcGxldGVkJykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZ2V0T3BlbkFJUmVzcG9uc2UocGF5bG9hZC5kYXRhLmlkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ09wZW5BSSByZXNwb25zZSB0ZXh0OicsIHRleHQpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnSG9vayBkZW1vIHdvcmtmbG93IGNvbXBsZXRlZCcpO1xufVxud2l0aFdvcmtmbG93TWV0YWRhdGEud29ya2Zsb3dJZCA9IFwid29ya2Zsb3cvL2V4YW1wbGUvd29ya2Zsb3dzLzVfaG9va3MudHMvL3dpdGhXb3JrZmxvd01ldGFkYXRhXCI7XG53aXRoQ3JlYXRlSG9vay53b3JrZmxvd0lkID0gXCJ3b3JrZmxvdy8vZXhhbXBsZS93b3JrZmxvd3MvNV9ob29rcy50cy8vd2l0aENyZWF0ZUhvb2tcIjtcbiIsICJnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3MgPSBuZXcgTWFwKCk7XG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGUwIGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzJfY29udHJvbF9mbG93LnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlMCkubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpXG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGUxIGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzFfc2ltcGxlLnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlMSkubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpXG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGUyIGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzZfYmF0Y2hpbmcudHMnO1xuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh3b3JrZmxvd0ZpbGUyKS5tYXAoaXRlbSA9PiBpdGVtPy53b3JrZmxvd0lkICYmIGdsb2JhbFRoaXMuX19wcml2YXRlX3dvcmtmbG93cy5zZXQoaXRlbS53b3JrZmxvd0lkLCBpdGVtKSlcbmltcG9ydCAqIGFzIHdvcmtmbG93RmlsZTMgZnJvbSAnLi4vZXhhbXBsZS93b3JrZmxvd3MvN19mdWxsLnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlMykubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpXG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGU0IGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzNfc3RyZWFtcy50cyc7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHdvcmtmbG93RmlsZTQpLm1hcChpdGVtID0+IGl0ZW0/LndvcmtmbG93SWQgJiYgZ2xvYmFsVGhpcy5fX3ByaXZhdGVfd29ya2Zsb3dzLnNldChpdGVtLndvcmtmbG93SWQsIGl0ZW0pKVxuaW1wb3J0ICogYXMgd29ya2Zsb3dGaWxlNSBmcm9tICcuLi9leGFtcGxlL3dvcmtmbG93cy80X2FpLnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlNSkubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpXG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGU2IGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzk3X2JlbmNoLnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlNikubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpXG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGU3IGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzk4X2R1cGxpY2F0ZV9jYXNlLnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlNykubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpXG5pbXBvcnQgKiBhcyB3b3JrZmxvd0ZpbGU4IGZyb20gJy4uL2V4YW1wbGUvd29ya2Zsb3dzLzk5X2UyZS50cyc7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHdvcmtmbG93RmlsZTgpLm1hcChpdGVtID0+IGl0ZW0/LndvcmtmbG93SWQgJiYgZ2xvYmFsVGhpcy5fX3ByaXZhdGVfd29ya2Zsb3dzLnNldChpdGVtLndvcmtmbG93SWQsIGl0ZW0pKVxuaW1wb3J0ICogYXMgd29ya2Zsb3dGaWxlOSBmcm9tICcuLi9leGFtcGxlL3dvcmtmbG93cy81X2hvb2tzLnRzJztcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMod29ya2Zsb3dGaWxlOSkubWFwKGl0ZW0gPT4gaXRlbT8ud29ya2Zsb3dJZCAmJiBnbG9iYWxUaGlzLl9fcHJpdmF0ZV93b3JrZmxvd3Muc2V0KGl0ZW0ud29ya2Zsb3dJZCwgaXRlbSkpIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLDRGQUFBQSxTQUFBO0FBTzhELFFBQUksV0FBVyxJQUFJO0FBQW5CLFFBQXNCLG1CQUFtQjtB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QSxjQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUE7QUFBQSxhQUFBQztBQUFBLEVBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQSxZQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxlQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBO0FBQUEsaUJBQUFDO0FBQUEsRUFBQSxjQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUEsZUFBQUM7QUFBQSxFQUFBLGtCQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG9CQUFBQztBQUFBLEVBQUEsdUJBQUFDO0FBQUEsRUFBQSxrQkFBQUM7QUFBQSxFQUFBLHVCQUFBQztBQUFBLEVBQUEsaUJBQUFDO0FBQUEsRUFBQSxzQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBQUFDO0FBQUEsRUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBQUFDO0FBQUEsRUFBQSxpQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUFBQztBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUEsY0FBQUM7QUFBQSxFQUFBLFdBQUFDO0FBQUE7OztBQ0FBLElBQUFDLGdCQUFBO0FBQUEsU0FBQUEsZUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFBQUM7QUFBQSxFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FB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QUMsU0FBQTtBQVNULFNBQVMsUUFBUUQsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsS0FBS0EsUUFBTyxRQUFRO0FBQ2hDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsT0FBT0EsUUFBTyxRQUFRO0FBQ2xDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsTUFBTUEsUUFBTyxRQUFRO0FBQ2pDLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMsUUFBUUEsUUFBTyxRQUFRO0FBQ25DLFNBQU8sSUFBSUEsT0FBTTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sUUFBUTtBQUFBLElBQ1IsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsR0FBUSxnQkFBZ0IsTUFBTTtBQUFBLEVBQ2xDLENBQUM7QUFDTDtBQVJnQjtBQVNULFNBQVMs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U0FBUyxDQUFDLFdBQVMsS0FBSyxNQUFXLFFBQVEsU0FBUyxNQUFNLENBQUM7QUFDaEUsT0FBSyxTQUFTLENBQUMsV0FBUyxLQUFLLE1BQVcsUUFBUSxTQUFTLE1BQU0sQ0FBQztBQUNoRSxPQUFLLFNBQVMsQ0FBQyxXQUFTLEtBQUssTUFBVyxRQUFRLFdBQVcsTUFBTSxDQUFDO0FBQ2xFLE9BQUssT0FBTyxDQUFDLFdBQVMsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDNUQsT0FBSyxPQUFPLENBQUMsV0FBUyxLQUFLLE1BQVcsTUFBTSxTQUFTLE1BQU0sQ0FBQztBQUM1RCxPQUFLLFFBQVEsQ0FBQyxXQUFTLEtBQUssTUFBVyxPQUFPLFVBQVUsTUFBTSxDQUFDO0FBQy9ELE9BQUssT0FBTyxDQUFDLFdBQVMsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDNUQsT0FBSyxTQUFTLENBQUMsV0FBUyxLQUFLLE1BQVcsUUFBUSxXQUFXLE1BQU0sQ0FBQztBQUNsRSxPQUFLLFlBQVksQ0FBQyxXQUFTLEtBQUssTUFBVyxXQUFXLGNBQWMsTUFBTSxDQUFDO0FBQzNFLE9BQUssTUFBTSxDQUFDLFdBQVMsS0FBSyxNQUFXLEtBQUssUUFBUSxNQUFNLENBQUM7QUFDekQsT0FBSyxRQUFRLENBQUMsV0FBUyxLQUFLLE1BQVcsT0FBTyxVQUFVLE1BQU0sQ0FBQztBQUMvRCxPQUFLLE9BQU8sQ0FBQyxXQUFTLEtBQUssTUFBVyxNQUFNLFNBQVMsTUFBTSxDQUFDO0FBQzVELE9BQUssT0FBTyxDQUFDLFdBQVMsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFDNUQsT0FBSyxTQUFTLENBQUMsV0FBUyxLQUFLLE1BQVcsUUFBUSxXQUFXLE1BQU0sQ0FBQztBQUNsRSxPQUFLLFNBQVMsQ0FBQyxXQUFTLEtBQUssTUFBVyxRQUFRLFdBQVcsTUFBTSxDQUFDO0FBQ2xFLE9BQUssT0FBTyxDQUFDLFdBQVMsS0FBSyxNQUFXLE1BQU0sU0FBUyxNQUFNLENBQUM7QUFFNUQsT0FBSyxXQUFX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UyxNQUFNO0FBQUEsRUFDM0Q7QUFBQSxFQUNBLElBQUksYUFBYTtBQUNiLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxVQUFVO0FBQUEsRUFDL0Q7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxPQUFPO0FBQUEsRUFDNUQ7QUFBQSxFQUNBLElBQUksUUFBUTtBQUNSLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxLQUFLO0FBQUEsRUFDMUQ7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxPQUFPO0FBQUEsRUFDNUQ7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDM0Q7QUFBQSxFQUNBLElBQUksV0FBVztBQUNYLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxRQUFRO0FBQUEsRUFDN0Q7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDM0Q7QUFBQSxFQUNBLElBQUksVUFBVTtBQUNWLFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxPQUFPO0FBQUEsRUFDNUQ7QUFBQSxFQUNBLElBQUksU0FBUztBQUNULFdBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFLLEdBQUcsU0FBUyxNQUFNO0FBQUEsRUFDM0Q7QUFBQSxFQUNBLElBQUksT0FB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LFlBQVksSUFBSSxDQUFDO0FBRXRILE9BQU8sT0FBTyxlQUFhLEVBQUUsSUFBSSxVQUFRLE1BQU0sY0FBYyxXQUFXLG9CQUFvQixJQUFJLEtBQUssWUFBWSxJQUFJLENBQUM7QUFFdEgsT0FBTyxPQUFPLFVBQWEsRUFBRSxJQUFJLFVBQVEsTUFBTSxjQUFjLFdBQVcsb0JBQW9CLElBQUksS0FBSyxZQUFZLElBQUksQ0FBQztBQUV0SCxPQUFPLE9BQU8sYUFBYSxFQUFFLElBQUksVUFBUSxNQUFNLGNBQWMsV0FBVyxvQkFBb0IsSUFBSSxLQUFLLFlBQVksSUFBSSxDQUFDO0FBRXRILE9BQU8sT0FBTyxzQkFBYSxFQUFFLElBQUksVUFBUSxNQUFNLGNBQWMsV0FBVyxvQkFBb0IsSUFBSSxLQUFLLFlBQVksSUFBSSxDQUFDO0FBRXRILE9BQU8sT0FBTyxXQUFhLEVBQUUsSUFBSSxVQUFRLE1BQU0sY0FBYyxXQUFXLG9CQUFvQixJQUFJLEtBQUssWUFBWSxJQUFJLENBQUM7QUFFdEgsT0FBTyxPQUFPLGFBQWEsRUFBRSxJQUFJLFVBQVEsTUFBTSxjQUFjLFdBQVcsb0JBQW9CLElBQUksS0FBSyxZQUFZLElBQUksQ0FBQzsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgImFycmF5IiwgIm9iamVjdCIsICJpc09iamVjdCIsICJjaHVuayIsICJtb2R1bGUiLCAicGFyc2UiLCAibXMiLCAibmFtZSIsICJtb2R1bGUiLCAiX19kZWZQcm9wIiwgIl9fZ2V0T3duUHJvcERlc2MiLCAiX19nZXRPd25Qcm9wTmFtZXMiLCAiX19oYXNPd25Qcm9wIiwgIl9fZXhwb3J0IiwgIm5hbWUiLCAiX19jb3B5UHJvcHMiLCAiZ2V0Q29udGV4dCIsICJtb2R1bGUiLCAiX19kZWZQcm9wIiwgIl9fZ2V0T3duUHJvcERlc2MiLCAiX19nZXRPd25Qcm9wTmFtZXMiLCAiX19oYXNPd25Qcm9wIiwgIl9fZXhwb3J0IiwgIm5hbWUiLCAiX19jb3B5UHJvcHMiLCAiZ2V0VmVyY2VsT2lkY1Rva2VuIiwgIl9hIiwgIl9iIiwgIkRpYWdMb2dMZXZlbCIsICJfYSIsICJfYiIsICJWYWx1ZVR5cGUiLCAiVHJhY2VGbGFncyIsICJfYSIsICJuYW1lIiwgIm5hbWUiLCAidmVyc2lvbiIsICJuYW1lIiwgInZlcnNpb24iLCAiX2EiLCAiU2FtcGxpbmdEZWNpc2lvbiIsICJTcGFuS2luZCIsICJTcGFuU3RhdHVzQ29kZSIsICJuYW1lIiwgInZlcnNpb24iLCAic3VjY2VzcyIsICJuYW1lIiwgInZlcnNpb24iLCAiZXJyb3IiLCAiYWRkIiwgImNodW5rIiwgIm5hbWUiLCAiZmV0Y2giLCAiZW1haWwiLCAiX0FJU0RLRXJyb3IiLCAibmFtZTE0IiwgIm5hbWUiLCAiZXJyb3IiLCAibWFya2VyMTUiLCAibWFya2VyIiwgInN5bWJvbCIsICJfYSIsICJ1cmwiLCAic3ltYm9sIiwgIm5hbWUiLCAiX2EiLCAidGV4dCIsICJlcnJvciIsICJtYXJrZXIiLCAibmFtZSIsICJzeW1ib2wiLCAiX2EiLCAic3ltYm9sIiwgIm5hbWUiLCAiX1R5cGVWYWxpZGF0aW9uRXJyb3IiLCAiX2EiLCAiY2h1bmsiLCAiZXJyb3IiLCAiY2h1bmsiLCAiX2RlZmF1bHQiLCAiYmFzZTY0IiwgImJhc2U2NHVybCIsICJiaWdpbnQiLCAiYm9vbGVhbiIsICJfY2F0Y2giLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJjb3JlX2V4cG9ydHMiLCAiY3VpZCIsICJjdWlkMiIsICJkYXRlIiwgImRlY29kZSIsICJkZWNvZGVBc3luYyIsICJlMTY0IiwgImVtYWlsIiwgImVtb2ppIiwgImVuY29kZSIsICJlbmNvZGVBc3luYyIsICJfZW51bSIsICJndWlkIiwgImhleCIsICJob3N0bmFtZSIsICJpcHY0IiwgImlwdjYiLCAia3N1aWQiLCAibmFub2lkIiwgIl9udWxsIiwgIm51bGxpc2giLCAibnVtYmVyIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZURlY29kZSIsICJzYWZlRGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRW5jb2RlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgInN0cmluZyIsICJzeW1ib2wiLCAidWxpZCIsICJfdW5kZWZpbmVkIiwgInV1aWQiLCAiX3ZvaWQiLCAieGlkIiwgImNvcmVfZXhwb3J0cyIsICJfZW1vamkiLCAiX251bGwiLCAiX3VuZGVmaW5lZCIsICJuYW1lIiwgImluaXRpYWxpemVyIiwgIl9hIiwgImFycmF5IiwgInNldCIsICJvYmplY3QiLCAiQ2xhc3MiLCAiX2EiLCAiY29uZmlnIiwgImJhc2U2NCIsICJiYXNlNjR1cmwiLCAiaGV4IiwgImVycm9yIiwgImlzc3VlIiwgIl9hIiwgIl9iIiwgInZlcnNpb24iLCAidGltZSIsICJ0aW1lUmVnZXgiLCAiX2EiLCAiaW5zdCIsICJfYiIsICJyZXN1bHQiLCAiX2EiLCAiY2hlY2tzIiwgImlzQWJvcnRlZCIsICJjaGVja1Jlc3VsdCIsICJjYW5hcnkiLCAicmVzdWx0IiwgIl8iLCAidXJsIiwgImluc3QiLCAiYmFzZTY0IiwgInIiLCAiaXNPYmplY3QiLCAiYWxsb3dzRXZhbCIsICJyZXN1bHRzIiwgIm1hcCIsICJsZWZ0IiwgInJpZ2h0IiwgImtleVJlc3VsdCIsICJ2YWx1ZVJlc3VsdCIsICJvdXRwdXQiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgImVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgImVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgImVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJwYXJzZWRUeXBlIiwgInRleHQiLCAibnVtYmVyIiwgImVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAicGFyc2VkVHlwZSIsICJlcnJvciIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJlcnJvciIsICJwYXJzZWRUeXBlIiwgImlzc3VlIiwgImVycm9yIiwgInBhcnNlZFR5cGUiLCAiaXNzdWUiLCAiZXJyb3IiLCAicGFyc2VkVHlwZSIsICJpc3N1ZSIsICJDbGFzcyIsICJfZW1vamkiLCAiX3VuZGVmaW5lZCIsICJfbnVsbCIsICJDbGFzcyIsICJpc3N1ZSIsICJjb2RlYyIsICJfYSIsICJqc29uIiwgImZpbGUiLCAiaWQiLCAic2NoZW1hIiwgInpvZFNjaGVtYSIsICJwYXJhbXMiLCAiZ2VuIiwgImRhdGUiLCAiZGF0ZXRpbWUiLCAiZHVyYXRpb24iLCAidGltZSIsICJkYXRldGltZSIsICJkYXRlIiwgInRpbWUiLCAiZHVyYXRpb24iLCAiaW5pdGlhbGl6ZXIiLCAiaXNzdWUiLCAiaXNzdWVzIiwgInBhcnNlIiwgInBhcnNlQXN5bmMiLCAic2FmZVBhcnNlIiwgInNhZmVQYXJzZUFzeW5jIiwgImVuY29kZSIsICJkZWNvZGUiLCAiZW5jb2RlQXN5bmMiLCAiZGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRGVjb2RlIiwgInNhZmVFbmNvZGVBc3luYyIsICJzYWZlRGVjb2RlQXN5bmMiLCAiZGVmIiwgInBhcnNlIiwgInNhZmVQYXJzZSIsICJwYXJzZUFzeW5jIiwgInNhZmVQYXJzZUFzeW5jIiwgImVuY29kZSIsICJkZWNvZGUiLCAiZW5jb2RlQXN5bmMiLCAiZGVjb2RlQXN5bmMiLCAic2FmZUVuY29kZSIsICJzYWZlRGVjb2RlIiwgInNhZmVFbmNvZGVBc3luYyIsICJzYWZlRGVjb2RlQXN5bmMiLCAiY2hlY2siLCAiX2RlZmF1bHQiLCAiX2NhdGNoIiwgIl9lbW9qaSIsICJkYXRldGltZSIsICJkYXRlIiwgInRpbWUiLCAiZHVyYXRpb24iLCAic3RyaW5nIiwgImVtYWlsIiwgImd1aWQiLCAidXVpZCIsICJlbW9qaSIsICJuYW5vaWQiLCAiY3VpZCIsICJjdWlkMiIsICJ1bGlkIiwgInhpZCIsICJrc3VpZCIsICJpcHY0IiwgImlwdjYiLCAiY2lkcnY0IiwgImNpZHJ2NiIsICJiYXNlNjQiLCAiYmFzZTY0dXJsIiwgImUxNjQiLCAiaG9zdG5hbWUiLCAiaGV4IiwgIm51bWJlciIsICJib29sZWFuIiwgImJpZ2ludCIsICJzeW1ib2wiLCAiX3VuZGVmaW5lZCIsICJfbnVsbCIsICJfdm9pZCIsICJkYXRlIiwgIl9lbnVtIiwgImlzc3VlIiwgIm91dHB1dCIsICJudWxsaXNoIiwgIl9kZWZhdWx0IiwgIl9jYXRjaCIsICJqc29uU2NoZW1hIiwgInN0cmluZyIsICJudW1iZXIiLCAiYm9vbGVhbiIsICJfbnVsbCIsICJtYXAiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgImJpZ2ludCIsICJib29sZWFuIiwgImRhdGUiLCAibnVtYmVyIiwgInN0cmluZyIsICJzdHJpbmciLCAibnVtYmVyIiwgImJvb2xlYW4iLCAiYmlnaW50IiwgImRhdGUiLCAidXRpbCIsICJhc3NlcnRJcyIsICJhc3NlcnROZXZlciIsICJvYmplY3QiLCAiam9pblZhbHVlcyIsICJhcnJheSIsICJvYmplY3RVdGlsIiwgImdldFBhcnNlZFR5cGUiLCAiWm9kSXNzdWVDb2RlIiwgIlpvZEVycm9yIiwgImlzc3VlIiwgImVycm9yIiwgImlzc3VlIiwgIlpvZElzc3VlQ29kZSIsICJlbl9kZWZhdWx0IiwgImVuX2RlZmF1bHQiLCAiZ2V0RXJyb3JNYXAiLCAibWFwIiwgImdldEVycm9yTWFwIiwgImlzc3VlIiwgImVuX2RlZmF1bHQiLCAiZXJyb3JVdGlsIiwgImVycm9yIiwgIlpvZEVycm9yIiwgImVycm9yTWFwIiwgIlpvZFR5cGUiLCAiZ2V0UGFyc2VkVHlwZSIsICJjaGVjayIsICJab2RJc3N1ZUNvZGUiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgIlpvZE9wdGlvbmFsIiwgIlpvZE51bGxhYmxlIiwgIlpvZEFycmF5IiwgIlpvZFByb21pc2UiLCAiWm9kVW5pb24iLCAiWm9kSW50ZXJzZWN0aW9uIiwgInRyYW5zZm9ybSIsICJab2REZWZhdWx0IiwgIlpvZENhdGNoIiwgIlpvZFJlYWRvbmx5IiwgInZlcnNpb24iLCAiaXNWYWxpZEpXVCIsICJqd3QiLCAiYmFzZTY0IiwgIlpvZFN0cmluZyIsICJfWm9kU3RyaW5nIiwgInBhcnNlZFR5cGUiLCAiY3R4IiwgImZsb2F0U2FmZVJlbWFpbmRlciIsICJab2ROdW1iZXIiLCAiWm9kQmlnSW50IiwgIlpvZEJvb2xlYW4iLCAiWm9kRGF0ZSIsICJab2RTeW1ib2wiLCAiWm9kVW5kZWZpbmVkIiwgIlpvZE51bGwiLCAiWm9kQW55IiwgIlpvZFVua25vd24iLCAiWm9kTmV2ZXIiLCAiWm9kVm9pZCIsICJyZXN1bHQiLCAiWm9kT2JqZWN0IiwgIlpvZFR1cGxlIiwgImlzc3VlIiwgImlzc3VlcyIsICJab2RMYXp5IiwgIlpvZExpdGVyYWwiLCAiWm9kRW51bSIsICJab2REaXNjcmltaW5hdGVkVW5pb24iLCAibWVyZ2VWYWx1ZXMiLCAiWm9kUmVjb3JkIiwgIlpvZE1hcCIsICJab2RTZXQiLCAiZWxlbWVudHMiLCAiWm9kRnVuY3Rpb24iLCAiZ2V0RXJyb3JNYXAiLCAiZW5fZGVmYXVsdCIsICJwcm9jZXNzZWQiLCAicHJlcHJvY2VzcyIsICJab2RPcHRpb25hbCIsICJab2RUeXBlIiwgInBhcnNlZFR5cGUiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgIlpvZE51bGxhYmxlIiwgIlpvZERlZmF1bHQiLCAiWm9kQ2F0Y2giLCAicmVzdWx0IiwgIlpvZEVycm9yIiwgIlpvZE5hTiIsICJab2RJc3N1ZUNvZGUiLCAiWm9kUmVhZG9ubHkiLCAiWm9kT2JqZWN0IiwgIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsICJab2RTdHJpbmciLCAiWm9kTnVtYmVyIiwgIlpvZE5hTiIsICJab2RCaWdJbnQiLCAiWm9kQm9vbGVhbiIsICJab2REYXRlIiwgIlpvZFN5bWJvbCIsICJab2RVbmRlZmluZWQiLCAiWm9kTnVsbCIsICJab2RBbnkiLCAiWm9kVW5rbm93biIsICJab2ROZXZlciIsICJab2RWb2lkIiwgIlpvZEFycmF5IiwgIlpvZE9iamVjdCIsICJab2RVbmlvbiIsICJab2REaXNjcmltaW5hdGVkVW5pb24iLCAiWm9kSW50ZXJzZWN0aW9uIiwgIlpvZFR1cGxlIiwgIlpvZFJlY29yZCIsICJab2RNYXAiLCAiWm9kU2V0IiwgIlpvZEZ1bmN0aW9uIiwgIlpvZExhenkiLCAiWm9kTGl0ZXJhbCIsICJab2RFbnVtIiwgIlpvZFByb21pc2UiLCAiWm9kT3B0aW9uYWwiLCAiWm9kTnVsbGFibGUiLCAicmVzb2x2ZSIsICJnZXRFcnJvck1lc3NhZ2UiLCAiZXJyb3IiLCAidXJsIiwgIl9hIiwgIl9iIiwgImZldGNoIiwgIkFQSUNhbGxFcnJvciIsICJ1cmwiLCAiX3BhcnNlIiwgInRleHQiLCAidmFsaWRhdG9yIiwgImVycm9yIiwgIlR5cGVWYWxpZGF0aW9uRXJyb3IiLCAidXJsIiwgImZldGNoIiwgInVybCIsICJmZXRjaCIsICJnZXRPcmlnaW5hbEZldGNoIiwgImVycm9yIiwgIkFQSUNhbGxFcnJvciIsICJ1cmwiLCAidG9vbCIsICJBUElDYWxsRXJyb3IiLCAidXJsIiwgIkFQSUNhbGxFcnJvciIsICJfYSIsICJfYiIsICJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCAiY2hlY2siLCAicGFyc2VkVHlwZSIsICJlbW9qaVJlZ2V4IiwgImxpdGVyYWwiLCAib2JqZWN0IiwgInJlcXVpcmVkIiwgIm5hbWUiLCAianNvblNjaGVtYSIsICJuYW1lMiIsICJfYTIiLCAic2FmZVBhcnNlQXN5bmMiLCAiem9kU2NoZW1hIiwgImJ0b2EiLCAiYXRvYiIsICJhcnJheSIsICJ1cmwiLCAianNvblNjaGVtYSIsICJpbXBvcnRfb2lkYyIsICJtYXJrZXIiLCAieiIsICJfYSIsICJzeW1ib2wiLCAiZXJyb3IiLCAibmFtZSIsICJtYXJrZXIyIiwgInN5bWJvbDIiLCAiX2EyIiwgIm5hbWUyIiwgIm1hcmtlcjMiLCAic3ltYm9sMyIsICJfYTMiLCAibmFtZTMiLCAiX2IiLCAiX2E0IiwgInN5bWJvbDQiLCAic3ltYm9sNSIsICJtYXJrZXI1IiwgIl9hNSIsICJuYW1lNCIsICJuYW1lNSIsICJtYXJrZXI2IiwgInN5bWJvbDYiLCAiX2E2IiwgIm5hbWU2IiwgIm1hcmtlcjciLCAic3ltYm9sNyIsICJfYTciLCAibGF6eVZhbGlkYXRvciIsICJ6b2RTY2hlbWEiLCAiX2E4IiwgImNvbmZpZyIsICJyZXNvbHZlIiwgImNodW5rIiwgImNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIiLCAiY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyIiwgImNvbWJpbmVIZWFkZXJzIiwgInBvc3RKc29uVG9BcGkiLCAiVkVSU0lPTiIsICJfYTkiLCAiaW1wb3J0X2FwaSIsICJuYW1lIiwgIm1hcmtlciIsICJzeW1ib2wiLCAiem9kU2NoZW1hIiwgIl9hIiwgImVycm9yIiwgIm5hbWUyIiwgIm1hcmtlcjIiLCAic3ltYm9sMiIsICJfYTIiLCAibmFtZTMiLCAibWFya2VyMyIsICJfYTMiLCAic3ltYm9sMyIsICJuYW1lNCIsICJtYXJrZXI0IiwgInN5bWJvbDQiLCAiX2E0IiwgIm1hcmtlciIsICJzeW1ib2wiLCAibmFtZSIsICJfYSIsICJlcnJvciIsICJuYW1lNSIsICJtYXJrZXI1IiwgInN5bWJvbDUiLCAiX2E1IiwgIl9hNSIsICJzeW1ib2w1IiwgIm5hbWU2IiwgIm1hcmtlcjYiLCAiX2EiLCAic3ltYm9sNiIsICJfYTYiLCAiQUlTREtFcnJvciIsICJzeW1ib2wiLCAibmFtZSIsICJtYXJrZXIiLCAiZXJyb3IiLCAibmFtZTciLCAibWFya2VyNyIsICJzeW1ib2w3IiwgIl9hNyIsICJfYTciLCAic3ltYm9sNyIsICJuYW1lOCIsICJBSVNES0Vycm9yIiwgIm1hcmtlcjgiLCAic3ltYm9sOCIsICJfYSIsICJtYXJrZXIiLCAic3ltYm9sIiwgImVycm9yIiwgIl9hOCIsICJuYW1lOSIsICJtYXJrZXI5IiwgInN5bWJvbDkiLCAiX2E5IiwgIm5hbWUiLCAibmFtZTEwIiwgIm1hcmtlcjEwIiwgInN5bWJvbDEwIiwgIl9hMTAiLCAiX2ExMCIsICJzeW1ib2wxMCIsICJuYW1lMTEiLCAibWFya2VyMTEiLCAic3ltYm9sMTEiLCAiQUlTREtFcnJvciIsICJfYTExIiwgIl9hIiwgInN5bWJvbCIsICJlcnJvciIsICJzeW1ib2wxMiIsICJuYW1lIiwgIl9hMTIiLCAic3ltYm9sMTIiLCAibmFtZTEzIiwgIl9hIiwgInN5bWJvbCIsICJBSVNES0Vycm9yIiwgIm5hbWUiLCAidXJsIiwgIm1hcmtlciIsICJfYTEzIiwgImVycm9yIiwgIm1hcmtlcjEzIiwgInN5bWJvbDEzIiwgInN5bWJvbDE0IiwgIm5hbWUxNCIsICJfYTE0IiwgIm1hcmtlcjE0IiwgIl9hMTYiLCAic3ltYm9sIiwgIl9hIiwgInVybCIsICJfYTE2IiwgIlZFUlNJT04iLCAiX2EiLCAiZXJyb3IiLCAiZG93bmxvYWQiLCAiX2IiLCAiZG93bmxvYWQiLCAiX2ExNiIsICJfYSIsICJmaWxlIiwgIkludmFsaWRBcmd1bWVudEVycm9yIiwgIm9iamVjdDIiLCAib2JqZWN0IiwgIm5hbWUiLCAidG9vbCIsICJ6IiwgInoiLCAieiIsICJ6IiwgIkludmFsaWRQcm9tcHRFcnJvciIsICJlcnJvciIsICJfYTE2IiwgIl9hIiwgIm5hbWUiLCAiYXR0cmlidXRlcyIsICJtcyIsICJnZXRFcnJvck1lc3NhZ2UiLCAiSW52YWxpZEFyZ3VtZW50RXJyb3IiLCAiQVBJQ2FsbEVycm9yIiwgImVycm9yIiwgImNvbnRlbnQiLCAiY29udmVydEJhc2U2NFRvVWludDhBcnJheSIsICJhc1NjaGVtYSIsICJzYWZlVmFsaWRhdGVUeXBlcyIsICJ0b29sIiwgInRvb2wiLCAiZ2V0RXJyb3JNZXNzYWdlIiwgIlZFUlNJT04iLCAiX2ExNiIsICJfYiIsICJkb3dubG9hZCIsICJfYjIiLCAid2l0aFVzZXJBZ2VudFN1ZmZpeCIsICJfYSIsICJzcGFuIiwgImNhbGxTZXR0aW5ncyIsICJfZiIsICJfZyIsICJlcnJvciIsICJ0b29sQ2FsbCIsICJnZXRFcnJvck1lc3NhZ2UiLCAiY3JlYXRlSWRHZW5lcmF0b3IiLCAiaXNBYm9ydEVycm9yIiwgInoiLCAic2FmZVBhcnNlSlNPTiIsICJfX2V4cG9ydCIsICJvYmplY3QiLCAiX2EiLCAibmFtZTE1IiwgIm1hcmtlcjE1IiwgInN5bWJvbDE1IiwgIl9hMTUiLCAiX2ExNSIsICJzeW1ib2wxNSIsICJmZXRjaCIsICJnZXRSdW50aW1lRW52aXJvbm1lbnRVc2VyQWdlbnQiLCAicGFyc2VKc29uRXZlbnRTdHJlYW0iLCAiZ2VuZXJhdGVJZCIsICJfYSIsICJ0b29sIiwgInRleHQiLCAiYWRkIiwgImFkZCIsICJhZGQiLCAiYWRkVGVuV29ya2Zsb3ciLCAiYWRkIiwgImFkZFRlbldvcmtmbG93IiwgImZldGNoIiwgImVycm9yIiwgInRleHQiXQp9Cg==
`;
const handleRequest = workflowEntrypoint(workflowCode);
export {
  handleRequest
};
